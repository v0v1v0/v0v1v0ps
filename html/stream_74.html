<div class="container">

<table style="width: 100%;"><tr>
<td>DSF_dplyr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Apply a dplyr Transformation to a Data Stream</h2>

<h3>Description</h3>

<p>Applies dplyr transformations to a data stream.
</p>


<h3>Usage</h3>

<pre><code class="language-R">DSF_dplyr(dsd = NULL, func = NULL, info = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dsd</code></td>
<td>
<p>A object of class DSD.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>func</code></td>
<td>
<p>a dplyr expression.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>info</code></td>
<td>
<p>logical; does the function also receive and modify the info columns?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><span class="pkg">dplyr</span> needs to be installed and loaded with <code>library(dplyr)</code> before <code>DSF_dplyr</code> can be used.
</p>
<p>Since streams are processed one point or block at a time, only dplyr::dplyr operations that work on individual
rows are allowed on streams. Examples are:
</p>

<ul>
<li> <p><code>dplyr::select()</code>
</p>
</li>
<li> <p><code>dplyr::mutate()</code>
</p>
</li>
<li> <p><code>dplyr::rename()</code>
</p>
</li>
<li> <p><code>dplyr::transmute()</code>
</p>
</li>
<li> <p><code>dplyr::filter()</code>
</p>
</li>
</ul>
<p>Summary functions can be used, but will only be applied to the requested part of the stream of length <code>n</code>.
</p>
<p><code>DSF_dplyr()</code> calls the function using <code style="white-space: pre;">⁠points %&gt;% &lt;func&gt;⁠</code> and multiple <code>dplyr</code> functions can be applied by
using <code style="white-space: pre;">⁠%&gt;%⁠</code> between them.
</p>


<h3>Value</h3>

<p>An object of class <code>DSF_dplyr</code> (subclass of DSF and DSD).
</p>


<h3>Author(s)</h3>

<p>Michael Hahsler
</p>


<h3>See Also</h3>

<p>Other DSF: 
<code>DSF()</code>,
<code>DSF_Convolve()</code>,
<code>DSF_Downsample()</code>,
<code>DSF_ExponentialMA()</code>,
<code>DSF_FeatureSelection()</code>,
<code>DSF_Func()</code>,
<code>DSF_Scale()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (require(dplyr)) {

library(dplyr)

stream &lt;- DSD_Gaussians(k = 3, d = 3)
plot(stream, xlim = c(0, 1), ylim = c(0, 1))

# 1. Select only columns X1 and X2
# 2. filter points by X1 &gt; .5 (Note that the info columns also need to be filtered!)
# 3. Add a sum columns

stream2 &lt;- stream %&gt;%
  DSF_dplyr(select(X1, X2)) %&gt;%
  DSF_dplyr(filter(X1 &gt; .5), info = TRUE) %&gt;%
  DSF_dplyr(mutate(Xsum = X1 + X2))
stream2

# Note: you get fewer points because of the filter operation.
get_points(stream2, n = 10)
plot(stream2, xlim = c(0, 1), ylim = c(0, 1))

}
</code></pre>


</div>