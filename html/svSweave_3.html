<div class="container">

<table style="width: 100%;"><tr>
<td>clean_lyx</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Clean up, weave or tangle Sweave files produced by LyX with the SciViews Sweave module</h2>

<h3>Description</h3>

<p>These functions process <code style="white-space: pre;">⁠.Rnw`` files produced by LyX and the SciViews Sweave module (not the standard Sweave module provided with LyX &lt;= 2.0.0!). The SciViews-LyX extension defines ⁠</code>rchunk' commands to contain R chunks
(embedded R code processed by Sweave). Unfortunately, LyX use to write two
lines feeds for each line of code, introducing extra lines in the R chunks.
Moreover, tabulations are interpreted as 8 spaces, while R code use to
consider a tabulation as equivalent to 4 spaces. <code>clean_lyx()</code> corrects
these little problems, and it should not affect R noweb files produced by a
different software.
</p>


<h3>Usage</h3>

<pre><code class="language-R">clean_lyx(RnwCon, RnwCon2 = RnwCon, encoding = "UTF-8")

cleanLyxRnw(RnwCon, RnwCon2 = RnwCon, encoding = "UTF-8")

tangle_lyx(
  file,
  driver = Rtangle(),
  syntax = getOption("SweaveSyntax"),
  encoding = "UTF-8",
  width = 80,
  useFancyQuotes = TRUE,
  annotate = TRUE,
  logFile = file.path(tempdir(), ".lyxSweave.log"),
  ...
)

tangleLyxRnw(
  file,
  driver = Rtangle(),
  syntax = getOption("SweaveSyntax"),
  encoding = "UTF-8",
  width = 80,
  useFancyQuotes = TRUE,
  annotate = TRUE,
  logFile = file.path(tempdir(), ".lyxSweave.log"),
  ...
)

purl_lyx(
  file,
  encoding = "UTF-8",
  width = 80,
  useFancyQuotes = TRUE,
  logFile = file.path(tempdir(), ".lyxSweave.log"),
  ...
)

purlLyxRnw(
  file,
  encoding = "UTF-8",
  width = 80,
  useFancyQuotes = TRUE,
  logFile = file.path(tempdir(), ".lyxSweave.log"),
  ...
)

weave_lyx(
  file,
  driver = RweaveLatex(),
  syntax = getOption("SweaveSyntax"),
  encoding = "UTF-8",
  width = 80,
  useFancyQuotes = TRUE,
  logFile = file.path(tempdir(), ".lyxSweave.log"),
  ...
)

weaveLyxRnw(
  file,
  driver = RweaveLatex(),
  syntax = getOption("SweaveSyntax"),
  encoding = "UTF-8",
  width = 80,
  useFancyQuotes = TRUE,
  logFile = file.path(tempdir(), ".lyxSweave.log"),
  ...
)

knit_lyx(
  file,
  encoding = "UTF-8",
  width = 80,
  useFancyQuotes = TRUE,
  logFile = file.path(tempdir(), ".lyxSweave.log"),
  ...
)

knitLyxRnw(
  file,
  encoding = "UTF-8",
  width = 80,
  useFancyQuotes = TRUE,
  logFile = file.path(tempdir(), ".lyxSweave.log"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>RnwCon</code></td>
<td>
<p>A connection object or a character string corresponding to the
path to a R noweb file to be read.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RnwCon2</code></td>
<td>
<p>Idem, but where the cleaned up R noweb file should be written
(by default, on the same file or connection).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encoding</code></td>
<td>
<p>The encoding of the <code>.Rnw</code> file. It is UTF-8 by default, but
you can change it here.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>The Sweave source file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>driver</code></td>
<td>
<p>The actual function to do the process, see <code>Sweave()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>syntax</code></td>
<td>
<p><code>NULL</code> or an object of class 'SweaveSyntax' or a character
string with its name,  see <code>Sweave()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>The width used for outputs, 80 characters by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useFancyQuotes</code></td>
<td>
<p>Do we use fancy quotes in R outputs?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>annotate</code></td>
<td>
<p>Is the R code extracted from the <code>.Rnw</code> file annotated?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logFile</code></td>
<td>
<p>The file to use to log results of weaving/tangling the
document.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to the driver's setup function of
<code>Sweave()</code> or <code>Stangle()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>For <code>clean_lyx()</code>, a list for Sweave options found in the document; <code>NULL</code>
for the other functions: these functions are invoked for their side effects.
The function <code>weave_lyx()</code> uses the standard Sweave driver (but it uses knitr
for LyX documents that use the SciViews Knitr module), while <code>knit_lyx()</code>
does the same, but using the knitr driver. Similarly, <code>purl_lyx()</code> is the
knitr counterpart of <code>tangle_lyx()</code> standard tangling function.
</p>


<h3>Author(s)</h3>

<p>Philippe Grosjean
</p>


<h3>See Also</h3>

<p><code>knitr::knit()</code>, <code>utils::Sweave()</code>
</p>


</div>