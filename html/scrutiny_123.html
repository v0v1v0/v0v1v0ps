<div class="container">

<table style="width: 100%;"><tr>
<td>split_by_parens</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Split columns by parentheses, brackets, braces, or similar</h2>

<h3>Description</h3>

<p>Summary statistics are often presented like <code>"2.65 (0.27)"</code>.
When working with tables copied into R, it can be tedious to separate
values before and inside parentheses. <code>split_by_parens()</code> does this
automatically.
</p>
<p>By default, it operates on all columns. Output can optionally be pivoted
into a longer format by setting <code>transform</code> to <code>TRUE</code>.
</p>
<p>Choose separators other than parentheses with the <code>sep</code> argument.
</p>


<h3>Usage</h3>

<pre><code class="language-R">split_by_parens(
  data,
  cols = everything(),
  check_sep = TRUE,
  keep = FALSE,
  transform = FALSE,
  sep = "parens",
  end1 = "x",
  end2 = "sd",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>
<p>Select columns from <code>data</code> using
<a href="https://tidyselect.r-lib.org/reference/language.html">tidyselect</a>.
Default is <code>everything()</code>, which selects all columns that pass <code>check_sep</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_sep</code></td>
<td>
<p>Logical. If <code>TRUE</code> (the default), columns are excluded if
they don't contain the <code>sep</code> elements.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep</code></td>
<td>
<p>Logical. If set to <code>TRUE</code>, the originally selected columns that
were split by the function also appear in the output. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transform</code></td>
<td>
<p>Logical. If set to <code>TRUE</code>, the output will be pivoted to be
better suitable for typical follow-up tasks. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>String. What to split by. Either <code>"parens"</code>, <code>"brackets"</code>, or
<code>"braces"</code>; or a length-2 vector of custom separators (see Examples).
Default is <code>"parens"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end1, end2</code></td>
<td>
<p>Strings. Endings of the two column names that result from
splitting a column. Default is <code>"x"</code> for <code>end1</code> and <code>"sd"</code> for <code>end2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>These dots must be empty.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Data frame.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code>before_parens()</code> and <code>inside_parens()</code> take a string vector and
extract values from the respective position.
</p>
</li>
<li> <p><code>dplyr::across()</code> powers the application of the two above functions
within <code>split_by_parens()</code>, including the creation of new columns.
</p>
</li>
<li> <p><code>tidyr::separate_wider_delim()</code> is a more general function, but it does
not recognize closing elements such as closed parentheses.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R"># Call `split_by_parens()` on data like these:
df1 &lt;- tibble::tribble(
  ~drone,           ~selfpilot,
  "0.09 (0.21)",    "0.19 (0.13)",
  "0.19 (0.28)",    "0.53 (0.10)",
  "0.62 (0.16)",    "0.50 (0.11)",
  "0.15 (0.35)",    "0.57 (0.16)",
)

# Basic usage:
df1 %&gt;%
  split_by_parens()

# Name specific columns with `cols` to only split those:
df1 %&gt;%
  split_by_parens(cols = drone)

# Pivot the data into a longer format
# by setting `transform` to `TRUE`:
df1 %&gt;%
  split_by_parens(transform = TRUE)

# Choose different column names or
# name suffixes with `end1` and `end2`:
df1 %&gt;%
  split_by_parens(end1 = "beta", end2 = "se")

df1 %&gt;%
  split_by_parens(
    transform = TRUE,
    end1 = "beta", end2 = "se"
  )

# With a different separator...
df2 &lt;- tibble::tribble(
  ~drone,           ~selfpilot,
  "0.09 [0.21]",    "0.19 [0.13]",
  "0.19 [0.28]",    "0.53 [0.10]",
  "0.62 [0.16]",    "0.50 [0.11]",
  "0.15 [0.35]",    "0.57 [0.16]",
)

# ... specify `sep`:
df2 %&gt;%
  split_by_parens(sep = "brackets")

# (Accordingly with `{}` and `"braces"`.)

# If the separator is yet a different one...
df3 &lt;- tibble::tribble(
  ~drone,           ~selfpilot,
  "0.09 &lt;0.21&gt;",    "0.19 &lt;0.13&gt;",
  "0.19 &lt;0.28&gt;",    "0.53 &lt;0.10&gt;",
  "0.62 &lt;0.16&gt;",    "0.50 &lt;0.11&gt;",
  "0.15 &lt;0.35&gt;",    "0.57 &lt;0.16&gt;",
)

# ... `sep` should be a length-2 vector
# that contains the separating elements:
df3 %&gt;%
  split_by_parens(sep = c("&lt;", "&gt;"))
</code></pre>


</div>