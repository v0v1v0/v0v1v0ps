<div class="container">

<table style="width: 100%;"><tr>
<td>MCGeneric</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Monte Carlo Confidence Intervals (Generic)</h2>

<h3>Description</h3>

<p>Calculates Monte Carlo confidence intervals
for defined parameters
for any fitted model object with <code>coef</code> and <code>vcov</code> methods.
</p>


<h3>Usage</h3>

<pre><code class="language-R">MCGeneric(
  object,
  def,
  R = 20000L,
  alpha = c(0.001, 0.01, 0.05),
  decomposition = "eigen",
  pd = TRUE,
  tol = 1e-06,
  seed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>R object.
Fitted model object with <code>coef</code> and <code>vcov</code> methods
that return a named vector of
estimated parameters and sampling variance-covariance matrix,
respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>def</code></td>
<td>
<p>List of character strings.
A list of defined functions of parameters.
The string should be a valid R expression when parsed
and should result a single value when evaluated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>Positive integer.
Number of Monte Carlo replications.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Numeric vector.
Significance level <code class="reqn">\alpha</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decomposition</code></td>
<td>
<p>Character string.
Matrix decomposition of the sampling variance-covariance matrix
for the data generation.
If <code>decomposition = "chol"</code>, use Cholesky decomposition.
If <code>decomposition = "eigen"</code>, use eigenvalue decomposition.
If <code>decomposition = "svd"</code>, use singular value decomposition.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pd</code></td>
<td>
<p>Logical.
If <code>pd = TRUE</code>,
check if the sampling variance-covariance matrix
is positive definite using <code>tol</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>Numeric.
Tolerance used for <code>pd</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Integer.
Random seed for reproducibility.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A sampling distribution of parameter estimates is generated
from the multivariate normal distribution
using the parameter estimates and the sampling variance-covariance matrix.
Confidence intervals for defined parameters
are generated using the simulated sampling distribution.
Parameters are defined using the <code>def</code> argument.
</p>


<h3>Value</h3>

<p>Returns an object of class <code>semmcci</code> which is
a list with the following elements:
</p>

<dl>
<dt>call</dt>
<dd>
<p>Function call.</p>
</dd>
<dt>args</dt>
<dd>
<p>List of function arguments.</p>
</dd>
<dt>thetahat</dt>
<dd>
<p>Parameter estimates <code class="reqn">\hat{\theta}</code>.</p>
</dd>
<dt>thetahatstar</dt>
<dd>
<p>Sampling distribution of parameter estimates
<code class="reqn">\hat{\theta}^{\ast}</code>.</p>
</dd>
<dt>fun</dt>
<dd>
<p>Function used ("MCGeneric").</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Ivan Jacob Agaloos Pesigan
</p>


<h3>References</h3>

<p>MacKinnon, D. P., Lockwood, C. M., &amp; Williams, J. (2004).
Confidence limits for the indirect effect:
Distribution of the product and resampling methods.
<em>Multivariate Behavioral Research</em>, <em>39</em>(1), 99-128.
<a href="https://doi.org/10.1207/s15327906mbr3901_4">doi:10.1207/s15327906mbr3901_4</a>
</p>
<p>Pesigan, I. J. A., &amp; Cheung, S. F. (2023).
Monte Carlo confidence intervals for the indirect effect with missing data.
<em>Behavior Research Methods</em>.
<a href="https://doi.org/10.3758/s13428-023-02114-4">doi:10.3758/s13428-023-02114-4</a>
</p>
<p>Preacher, K. J., &amp; Selig, J. P. (2012).
Advantages of Monte Carlo confidence intervals for indirect effects.
<em>Communication Methods and Measures</em>, <em>6</em>(2), 77â€“98.
<a href="https://doi.org/10.1080/19312458.2012.679848">doi:10.1080/19312458.2012.679848</a>
</p>


<h3>See Also</h3>

<p>Other Monte Carlo in Structural Equation Modeling Functions: 
<code>Func()</code>,
<code>MC()</code>,
<code>MCFunc()</code>,
<code>MCMI()</code>,
<code>MCStd()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(semmcci)
library(lavaan)

# Data ---------------------------------------------------------------------
data("Tal.Or", package = "psych")
df &lt;- mice::ampute(Tal.Or)$amp

# Monte Carlo --------------------------------------------------------------
## Fit Model in lavaan -----------------------------------------------------
model &lt;- "
  reaction ~ cp * cond + b * pmi
  pmi ~ a * cond
  cond ~~ cond
"
fit &lt;- sem(data = df, model = model, missing = "fiml")

## MCGeneric() -------------------------------------------------------------
MCGeneric(
  fit,
  R = 5L, # use a large value e.g., 20000L for actual research
  alpha = 0.05,
  def = list(
    "a * b",
    "cp + (a * b)"
  )
)

</code></pre>


</div>