<div class="container">

<table style="width: 100%;"><tr>
<td>A6_calcShd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Shadows on PV systems.</h2>

<h3>Description</h3>

<p> Compute the irradiance and irradiation including shadows
for two-axis and horizontal N-S axis trackers and fixed surfaces.  It
makes use of the function <code>fSombra</code> for the shadows factor
calculation. It is used by the function <code>calcGef</code>.  </p>


<h3>Usage</h3>

<pre><code class="language-R">
calcShd(radEf, modeTrk = 'fixed', modeShd = '',
        struct = list(),
        distances = data.frame())
</code></pre>


<h3>Arguments</h3>

 <table>
<tr style="vertical-align: top;">
<td><code>radEf</code></td>
<td>
<p>A
<code>Gef</code> object. It may be the result of the
<code>calcGef</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modeTrk</code></td>
<td>
<p>character, to be chosen from <code>'fixed'</code>,
<code>'two'</code> or <code>'horiz'</code>. When <code>modeTrk = 'fixed'</code> the
surface is fixed (inclination and azimuth angles are constant). The
performance of a two-axis tracker is calculated with
<code>modeTrk = 'two'</code>, and <code>modeTrk = 'horiz'</code> is the option for
an horizontal N-S tracker. Its default value is
<code>modeTrk = 'fixed'</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modeShd</code></td>
<td>
<p>character, defines the type of shadow calculation. In
this version of the package the effect of the shadow is calculated
as a proportional reduction of the circumsolar diffuse and direct
irradiances. This type of approach is selected with
<code>modeShd = 'area'</code>. In future versions other approaches which
relate the geometric shadow and the electrical connections of the PV
generator will be available. If <code>modeTrk = 'horiz'</code> it is
possible to calculate the effect of backtracking with
<code>modeShd = 'bt'</code>. If <code>modeShd = c('area','bt')</code> the
backtracking method will be carried out and therefore no shadows
will appear. Finally, for two-axis trackers it is possible to select
<code>modeShd = 'prom'</code> in order to calculate the effect of shadows on
an average tracker (see <code>fSombra6</code>).  The result will
include three variables (Gef0, Def0 and Bef0) with the
irradiance/irradiation without shadows as a reference.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>struct</code></td>
<td>
<p><code>list</code>.
</p>
<p>When <code>modeTrk = 'fixed'</code> or <code>modeTrk = 'horiz'</code> only a
component named <code>L</code>, which is the height (meters) of the
tracker, is needed.
</p>
<p>For two-axis trackers (<code>modeTrk = 'two'</code>), an additional
component named <code>W</code>, the width of the tracker, is
required. Moreover, only when <code>modeTrk = 'two'</code> two components named
<code>Nrow</code> and <code>Ncol</code> are included under this list. These
components define, respectively, the number of rows and columns of
the whole set of two-axis trackers in the PV plant.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distances</code></td>
<td>
<p><code>data.frame</code>.
</p>
<p>When <code>modeTrk = 'fixed'</code> it includes a component named <code>D</code>
for the distance between fixed surfaces. An additional component
named <code>H</code> can be included with the relative height between
surfaces.
</p>
<p>When <code>modeTrk = 'horiz'</code> it only includes a component named
<code>Lew</code>, being the distance between horizontal NS trackers along
the East-West direction.
</p>
<p>When <code>modeTrk = 'two'</code> it includes a component named <code>Lns</code>
being the distance between trackers along the North-South direction,
a component named <code>Lew</code>, being the distance between trackers
along the East-West direction and a (optional) component named
<code>H</code> with the relative height between surfaces.
</p>
<p>The distances, in meters, are defined between axis of the trackers.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>Gef</code> object including three additional variables
(<code>Gef0</code>, <code>Def0</code> and <code>Bef0</code>) in the slots <code>GefI</code>,
<code>GefD</code>, <code>Gefdm</code> and <code>Gefy</code> with the
irradiance/irradiation without shadows as a reference.</p>


<h3>Author(s)</h3>

<p>Oscar Perpiñán Lamigueiro.</p>


<h3>References</h3>


<ul>
<li>
<p> Perpiñán, O, Energía Solar Fotovoltaica, 2015.
(<a href="https://oscarperpinan.github.io/esf/">https://oscarperpinan.github.io/esf/</a>)
</p>
</li>
<li>
<p> Perpiñán, O. (2012), "solaR: Solar Radiation and Photovoltaic
Systems with R", Journal of Statistical Software, 50(9), 1-32,
doi: <a href="https://doi.org/10.18637/jss.v050.i09">10.18637/jss.v050.i09</a>
</p>
</li>
</ul>
<h3>See Also</h3>

 <p><code>calcG0</code>, <code>fTheta</code>,
<code>fInclin</code>, <code>calcShd</code>.  </p>


</div>