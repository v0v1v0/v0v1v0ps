<div class="container">

<table style="width: 100%;"><tr>
<td>dltNearestPointOnEpipolar</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Returns the closest point on a epipolar line to a point or points</h2>

<h3>Description</h3>

<p>Given the same point in two camera views, this function finds the nearest point on the epipolar line of the point in the first view to a point or points in the second view.</p>


<h3>Usage</h3>

<pre><code class="language-R">dltNearestPointOnEpipolar(p1, p2, cal.coeff)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>p1</code></td>
<td>
<p>vector of x,y pixel coordinates for a point in the camera view corresponding to the first column of <code>cal.coeff</code>. This point will be used to generate an epipolar line in the second view.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p2</code></td>
<td>
<p>an x,y vector or two-column matrix of a point or points in a second camera view, corresponding to the second column of <code>cal.coeff</code>. The nearest point on the epipolar line will be an orthogonal projection from a point in <code>p2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cal.coeff</code></td>
<td>
<p>a two-column matrix of DLT calibration coefficients, where each column corresponds to the views from which <code>p1</code> and <code>p2</code> were taken, respectively.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In a stereo camera setup, a point in one camera view must fall somewhere along a line in a second camera view. This line is called its epipolar line. Due to error in manually selecting the same point in two camera views and error in the calibration, the epipolar line of the point in the first view will not intersect exactly with the same point in the second view. The nearest point on the epipolar line is a point at a minimum distance from the point in the second view. This is equivalent to the orthogonal projection (<code>orthogonalProjectionToLine</code>) of the point in the second view onto the epipolar line of the point in the first view. The length of this line is the epipolar distance (<code>dltEpipolarDistance</code>).
</p>
<p><code>dltNearestPointOnEpipolar()</code> first finds the epipolar line of <code>p1</code>, a point in the first camera view, and then finds the point on this epipolar line nearest to point(s) <code>p2</code> in the second camera view. If <code>p2</code> is a single point, <code>dltNearestPointOnEpipolar()</code> finds the point on the epipolar line closest to <code>p2</code>. If <code>p2</code> is a matrix of points, the point in <code>p2</code> closest to the epipolar line is first identified and then the point on the epipolar line closest to this point is determined.
</p>


<h3>Value</h3>

<p>a list with the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>matching.pt</code></td>
<td>
<p>an x,y vector of the point on the epipolar line of <code>p1</code> closest to point(s) <code>p2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.idx</code></td>
<td>
<p>the index in <code>p2</code> of the nearest point to the epipolar line of <code>p1</code>. If <code>p2</code> is a single point (vector), <code>min.idx</code> will be 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p2.dist</code></td>
<td>
<p>the epipolar distance between <code>matching.pt</code> and the point in <code>p2</code> at the <code>min.idx</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Aaron Olsen</p>


<h3>References</h3>

<p>For a general overview of DLT: <a href="http://kwon3d.com/theory/dlt/dlt.html">http://kwon3d.com/theory/dlt/dlt.html</a>
</p>


<h3>See Also</h3>

<p><code>dltCalibrateCameras</code>, <code>dltEpipolarDistance</code>, <code>dltEpipolarLine</code>, <code>dltMatchCurvePoints</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## FIND THE FILE DIRECTORY FOR EXTRA R PACKAGE FILES
fdir &lt;- paste0(path.package("StereoMorph"), "/extdata/")

## SET FILE PATH TO CALIBRATION COEFFICIENTS IN TWO CAMERA STEREO SETUP
cc_file &lt;- paste0(fdir, "cal_coeffs.txt")

## LOAD COEFFICIENTS
cal.coeff &lt;- as.matrix(read.table(file=cc_file))

## GET LANDMARKS IN FIRST CAMERA VIEW
lm_files &lt;- paste0(fdir, c("lm_2d_a1_v1.txt", "lm_2d_a1_v2.txt"))

## READ LANDMARKS INTO MATRIX
lm.array &lt;- readLandmarksToArray(file=lm_files, row.names=1)

## FIND THE NEAREST POINT ON THE EPIPOLAR LINE OF P1
dltNearestPointOnEpipolar(p1=lm.array[3, , 1], p2=lm.array[3, , 2], cal.coeff=cal.coeff)

## FIND THE NEAREST POINT ON THE EPIPOLAR LINE OF P1
## THIS TIME USING ALL LANDMARKS IN THAT VIEW
## FUNCTION IDENTIFIES THE CORRECT LANDMARK IN THE SECOND VIEW AS THE SAME LANDMARK
dltNearestPointOnEpipolar(p1=lm.array[3, , 1], p2=lm.array[, , 2], cal.coeff=cal.coeff)

</code></pre>


</div>