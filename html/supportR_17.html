<div class="container">

<table style="width: 100%;"><tr>
<td>ordination</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create an Ordination with Ellipses for Groups</h2>

<h3>Description</h3>

<p>Produces a Nonmetric Multidimensional Scaling (NMS) or Principal Coordinate Analysis (PCoA) for up to 10 groups. Draws an ellipse around the standard deviation of the points in each group. By default, assigns a unique color (colorblind-safe) and point shape for each group. If the user supplies colors/shapes then the function can support more than 10 groups. For NMS ordinations, includes the stress as the legend title (see <code>?vegan::metaMDS</code> for explanation of "stress"). For PCoA ordinations includes the percent variation explained parenthetically in the axis labels.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ordination(mod = NULL, grps = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mod</code></td>
<td>
<p>(pcoa | monoMDS/metaMDS) object returned by <code>ape::pcoa</code> or <code>vegan::metaMDS</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grps</code></td>
<td>
<p>(vector) vector of categorical groups for data. Must be same length as number of rows in original data object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed to <code>graphics::plot</code>, <code>graphics::points</code>, <code>scales::alpha</code>, <code>vegan::ordiellipse</code>, or <code>graphics::legend</code>. Open a GitHub Issue if function must support additional arguments</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>(plot) base R ordination with an ellipse for each group
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Use data from the vegan package
utils::data("varespec", package = 'vegan')

# Make some columns of known number of groups
treatment &lt;- c(rep.int("Trt1", (nrow(varespec)/4)),
               rep.int("Trt2", (nrow(varespec)/4)),
               rep.int("Trt3", (nrow(varespec)/4)),
               rep.int("Trt4", (nrow(varespec)/4)))

# And combine them into a single data object
data &lt;- cbind(treatment, varespec)

# Get a distance matrix from the data
dist &lt;- vegan::vegdist(varespec, method = 'kulczynski')

# Perform PCoA / NMS
pcoa_mod &lt;- ape::pcoa(dist)
nms_mod &lt;- vegan::metaMDS(data[-1], autotransform = FALSE, expand = FALSE, k = 2, try = 50)

# Create PCoA ordination (with optional agruments)
ordination(mod = pcoa_mod, grps = data$treatment, 
           bg = c("red", "blue", "purple", "orange"),
           lty = 2, col = "black")

# Create NMS ordination
ordination(mod = nms_mod, grps = data$treatment, alpha = 0.3, 
           x = "topright", legend = LETTERS[1:4])


</code></pre>


</div>