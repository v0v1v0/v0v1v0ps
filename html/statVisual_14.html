<div class="container">

<table style="width: 100%;"><tr>
<td>ImpPlot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Plot of Variable Importance
</h2>

<h3>Description</h3>

<p>Plot of variable importance based on results from <code>randomForest</code> or <code>gbm</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ImpPlot(model, 
	theme_classic = TRUE, 
	n.trees = NULL, 
	addThemeFlag = TRUE,
	...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>

<p>An object returned by <code>randomForest</code> or <code>gbm</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theme_classic</code></td>
<td>

<p>logical. Use classic background without grids (default: TRUE).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.trees</code></td>
<td>

<p>integer. The number of trees used to generate the plot
used in the function <code>summary.gbm</code> in the R library <code>gbm</code>. 
Only the first n.trees trees will be used.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addThemeFlag</code></td>
<td>

<p>logical. Indicates if light blue background and white grid should be added to the figure.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>other input parameters for facet &amp; theme
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with 9 elements.
<code>data</code>, <code>layers</code>, <code>scales</code>, <code>mapping</code>,
<code>theme</code>, <code>coordinates</code>,
<code>facet</code>       <code>plot_env</code>, and <code>labels</code>.
</p>


<h3>Author(s)</h3>

<p>Wenfei Zhang &lt;Wenfei.Zhang@sanofi.com&gt;,
Weiliang Qiu &lt;Weiliang.Qiu@sanofi.com&gt;,
Xuan Lin &lt;Xuan.Lin@sanofi.com&gt;,
Donghui Zhang &lt;Donghui.Zhang@sanofi.com&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(dplyr)
library(randomForest)
library(tibble)


data(esSim)
print(esSim)

# expression data
dat = exprs(esSim)
print(dim(dat))
print(dat[1:2,])

# phenotype data
pDat = pData(esSim)
print(dim(pDat))
print(pDat[1:2,])

# feature data
fDat = fData(esSim)
print(dim(fDat))
print(fDat[1:2,])

# choose the first 6 probes (3 OE probes, 2 UE probes, and 1 NE probe)
pDat$probe1 = dat[1,]
pDat$probe2 = dat[2,]
pDat$probe3 = dat[3,]
pDat$probe4 = dat[4,]
pDat$probe5 = dat[5,]
pDat$probe6 = dat[6,]

print(pDat[1:2, ])

# check histograms of probe 1 expression in cases and controls
print(table(pDat$grp, useNA = "ifany"))

pDat$grp = factor(pDat$grp)


rf_m = randomForest(
  x = pDat[, c(3:8)], 
  y = pDat$grp, 
  importance = TRUE, proximity = TRUE
)


statVisual(type = 'ImpPlot', model = rf_m)

ImpPlot(model = rf_m)

</code></pre>


</div>