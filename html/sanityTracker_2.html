<div class="container">

<table style="width: 100%;"><tr>
<td>add_sanity_check</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Adds a sanity check to the list of already performed sanity checks</h2>

<h3>Description</h3>

<p>Adds a sanity check to the list of already performed sanity checks
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_sanity_check(
  fail_vec,
  description = "-",
  counter_meas = "-",
  data,
  data_name = checkmate::vname(x = data),
  example_size = 3,
  param_name = "-",
  call = h_deparsed_sys_call(which = -3),
  fail_callback
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fail_vec</code></td>
<td>
<p>logical vector where <code>TRUE</code> indicates that a
fail has happend</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>description</code></td>
<td>
<p>(optional) of the sanity check. default is "-".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>counter_meas</code></td>
<td>
<p>(optional) description of the counter measures that
were applied to correct the problems. default is "-".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>(optional) where the fails were found. Is used to
store examples of failures. default is "-".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data_name</code></td>
<td>
<p>(optional) name of the data set that was used. defaults is
the name of the object passed to data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>example_size</code></td>
<td>
<p>(optional) number failures to be extracted from the
object passed to <code>data</code>. By default 3 random examples are extracted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param_name</code></td>
<td>
<p>(optional) name of the parameter(s) that is used. This may
be helpful for filtering the table of all performed sanity checks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>(optional) by default tracks the function that called
add_sanity_check.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fail_callback</code></td>
<td>
<p>(optional) user-defined function that is called if
any element of <code>fail_vec</code> is <code>TRUE</code>. This is helpful if an
additional warning or error should be thrown or maybe a log-entry
should be created.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list with three elements
</p>

<dl>
<dt>entry_sanity_table</dt>
<dd>
<p>invisibly the sanity check that is stored
internally with the other sanity checks</p>
</dd>
<dt>fail_vec</dt>
<dd>
<p><code>fail_vec</code> as passed over to this function</p>
</dd>
<dt>fail</dt>
<dd>
<p>TRUE if any element of fail is TRUE. Otherwise FALSE.</p>
</dd>
</dl>
<p>All performed sanity checks can be fetched via get_sanity_checks
</p>


<h3>Examples</h3>

<pre><code class="language-R">d &lt;- data.frame(person_id = 1:4, bmi = c(18,23,-1,35), age = 31:34)
dummy_call &lt;- function(x) {
  add_sanity_check(
    x$bmi &lt; 15,
    description = "bmi above 15",
    counter_meas = "none",
    data = x,
    param_name = "bmi")
  add_sanity_check(
    x$bmi &gt; 30,
    description = "bmi below 30",
    counter_meas = "none")
}
dummy_call(x = d)
get_sanity_checks()
add_sanity_check(
   d$bmi &lt; 15,
   description = "bmi above 15",
   fail_callback = warning)
</code></pre>


</div>