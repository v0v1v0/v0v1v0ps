<div class="container">

<table style="width: 100%;"><tr>
<td>threshold_identification</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tabulate Threshold Exceedances</h2>

<h3>Description</h3>

<p>Tabulate user-specified threshold exceedances
</p>


<h3>Usage</h3>

<pre><code class="language-R">threshold_identification(swmpr_in, ...)

## S3 method for class 'swmpr'
threshold_identification(
  swmpr_in,
  param,
  parameter_threshold,
  threshold_type,
  time_threshold = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>swmpr_in</code></td>
<td>
<p>input swmpr object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to other methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param</code></td>
<td>
<p>vector of parameters to evaluate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameter_threshold</code></td>
<td>
<p>vector of numerical thresholds to evaluate parameters against</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold_type</code></td>
<td>
<p>vector of logical operators ('&lt;', '&gt;', '&lt;=', '&gt;=', '==', '!=')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_threshold</code></td>
<td>
<p>The amount of time an event must last to be counted (in hours)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function creates tabular summary of events when a user-specified threshold is exceeded.
</p>
<p>Before using this function, the user must apply <code>setstep</code> to normalize the <code>datetimestamp</code> time step.
</p>
<p>For MET and WQ data, the user must specify <code>time_threshold</code>. This argument is the minimum duration that an event must last in order to be counted. For example, if <code>time_threshold = 2</code>, <code>param = "do_mgl"</code>, <code>parameter_threshold = 2</code>, and <code>threshold_type = "&lt;"</code> then dissolved oxygen must be lower than 2 mg/L for more than two hours or the event will not be summarized in the final table. For NUT parameters, all exceedances are included in the tabular summary.
</p>
<p>Recommended thresholds for chlorophyll-a, dissolved inorganic nitrogen, dissolved inorganic phosphorus, and dissolved oxygen can be found in the National Coastal Condition Assessment 2010 (USEPA 2016)
</p>


<h3>Value</h3>

<p>Returns a data frame of threshold exceedances by parameter
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>References</h3>

<p>United States Environmental Protection Agency (USEPA). 2015. "National Coastal Condition Assessment 2010". EPA 841-R-15-006.
https://cfpub.epa.gov/si/si_public_record_Report.cfm?Lab=OWOW&amp;dirEntryId=327030
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("apacpwq")
wq &lt;- apacpwq

dat_wq &lt;- qaqc(wq, qaqc_keep = c(0, 3, 5))
dat_wq &lt;- setstep(dat_wq)

wq_pars&lt;- threshold_identification(dat_wq, param = c('do_mgl', 'ph', 'temp')
                          , parameter_threshold = c(2, 5, 30)
                          , threshold_type = c('&lt;', '&lt;', '&gt;'), time_threshold = 2)


wq_par&lt;- threshold_identification(dat_wq, param = c('do_mgl')
                          , parameter_threshold = c(2)
                          , threshold_type = c('&lt;'), time_threshold = 2)


## time_threshold and setstep are not necessary for monthly parameters
data("apacpnut")
nut &lt;- apacpnut

dat_nut &lt;- qaqc(nut, qaqc_keep = c(0, 3, 5))

nut_pars &lt;- threshold_identification(dat_nut, param = c('chla_n', 'po4f')
                          , parameter_threshold = c(10, 0.01)
                          , threshold_type = c('&gt;', '&gt;'))

nut_par &lt;- threshold_identification(dat_nut, param = c('chla_n')
                          , parameter_threshold = c(10)
                          , threshold_type = c('&gt;'))

nut_err &lt;- threshold_identification(dat_nut, param = c('chla_n')
                          , parameter_threshold = c(30)
                          , threshold_type = c('&gt;'))


</code></pre>


</div>