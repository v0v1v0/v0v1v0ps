<div class="container">

<table style="width: 100%;"><tr>
<td>WeibullDiag</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Diagnostic Plot of Adequacy of Weibull Distribution</h2>

<h3>Description</h3>

<p>This function constructs a diagnostic plot of the adequacy of the Weibull distribution for survival 
data with respect to one categorical covariate. If the Weibull distribution fits the data well, then the 
lines produced should be linear and parallel.
</p>


<h3>Usage</h3>

<pre><code class="language-R">WeibullDiag(formula, data = parent.frame(), labels = names(m$strata))</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A formula containing a <code>Surv</code> object, should only contain one categorical 
predictor, or a set of indicators describing only one predictor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>A vector containing labels for the plotted lines.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>As discussed in Klein and Moeschberger (2003), one method for checking the adequacy of the Weibull model with a 
categorical covariate is to produce stratified Kaplan-Meier estimates (KM), which can be transformed to estimate 
the log cumulative hazard for each stratum. Then in a plot of <code class="reqn">\log(t)</code> versus <code class="reqn">\log(-\log(KM))</code>, the 
lines should be linear and parallel. This can be seen as the log cumulative hazard for the Weibull distribution 
is 
</p>
<p style="text-align: center;"><code class="reqn">\log H(t) = \log \lambda + \alpha \log t.</code>
</p>



<h3>Value</h3>

<p>Produces a plot of log Time vs. log Estimated Cumulative Hazard for each level of the predictor 
(similarly to what can be obtained using <code>plot.survfit</code> and the <code>fun = "cloglog"</code> option), 
as well as a data set containing that information.</p>


<h3>Author(s)</h3>

<p>Sarah R. Haile, Epidemiology, Biostatistics and Prevention Institute (EBPI), University of Zurich, <a href="mailto:sarah.haile@uzh.ch">sarah.haile@uzh.ch</a></p>


<h3>References</h3>

<p>Klein, J. and Moeschberger, M. (2003). 
<em>Survival analysis: techniques for censored and truncated data</em>. 
2nd edition, Springer.
</p>


<h3>See Also</h3>

<p>Requires <span class="pkg">survival</span>. A similar plot can be produced using <code>plot.survfit</code> and the option <code>fun = "cloglog"</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(larynx)
WeibullDiag(Surv(time, death) ~ stage, data = larynx)
</code></pre>


</div>