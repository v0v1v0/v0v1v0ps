<div class="container">

<table style="width: 100%;"><tr>
<td>si_predict</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Predict spatial interaction based on pre-trained model</h2>

<h3>Description</h3>

<p>Predict spatial interaction based on pre-trained model
</p>


<h3>Usage</h3>

<pre><code class="language-R">si_predict(
  od,
  model,
  constraint_production,
  constraint_attraction,
  constraint_total,
  output_col = "interaction",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>od</code></td>
<td>
<p>A data frame representing origin-destination data, e.g. as created by
<code>si_to_od()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A model object, e.g. from <code>lm()</code> or <code>glm()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constraint_production</code></td>
<td>
<p>Character representing column in <code>od</code>.
This argument, when set, ensures that the outputs are 'production constrained':
the total 'interaction' (e.g. n. trips) for all OD pairs is set such that
the total for each zone of origin cannot go above this value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constraint_attraction</code></td>
<td>
<p>Character representing column in <code>od</code>.
This argument, when set, ensures that the outputs are 'attraction constrained':
the total 'interaction' (e.g. n. trips) for all OD pairs is set such that
the sum of trips to destination is equal to the mean value per destination.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constraint_total</code></td>
<td>
<p>Single number representing the total interaction.
This argument, when set, ensures that the sum of the interaction
calculated will equal the value given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_col</code></td>
<td>
<p>Character string containing the name of the new output
column. <code>"interaction"</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to <code>fun</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An sf data frame
</p>


<h3>See Also</h3>

<p>si_calculate
</p>


<h3>Examples</h3>

<pre><code class="language-R">od = si_to_od(si_zones, si_zones, max_dist = 4000)
m = lm(od$origin_all ~ od$origin_bicycle)
od_updated = si_predict(od, m)
</code></pre>


</div>