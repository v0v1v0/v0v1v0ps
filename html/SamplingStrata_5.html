<div class="container">

<table style="width: 100%;"><tr>
<td>bethel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Multivariate optimal allocation
</h2>

<h3>Description</h3>

<p>Multivariate optimal allocation for different domains of interest in stratified sample design under a given stratification of the sampling frame
</p>


<h3>Usage</h3>

<pre><code class="language-R">bethel  (
          stratif,
          errors, 
          minnumstrat=2,          
          maxiter=200,
          maxiter1=25,
          printa=FALSE,
		  realAllocation=FALSE,
          epsilon=1e-11
          ) 
		  </code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>errors</code></td>
<td>

<p>Data frame of coefficients of variation for each domain
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stratif</code></td>
<td>

<p>Data frame of survey strata
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minnumstrat</code></td>
<td>

<p>Minimum number of units per strata (default=2) 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxiter</code></td>
<td>

<p>Maximum number of iterations of the algorithm (default=200)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxiter1</code></td>
<td>

<p>Maximum number of iterations (default=25) of the general procedure. 
This kind of iteration may be required by the fact that when in a stratum the number 
of allocated units is greater or equal to its population, that stratum is set as "census stratum", 
and the whole procedure is re-initialised 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>printa</code></td>
<td>

<p>If TRUE then two attributes are added to the resulting vector.
The first ('confr') is a comparison between results obtained with 3 different allocation methods: Bethel, proportional and equal.
The second ('outcv') is a table reporting planned and actual CV, together with a sensitivity analysis
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>realAllocation</code></td>
<td>

<p>If FALSE, the allocation is based on INTEGER values; if TRUE, the allocation is based on REAL values
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epsilon</code></td>
<td>

<p>Epsilon (default=1e-11)): this value is used to compare the difference in results from one iteration to the other; 
if it it is lower than "epsilon", then the procedure stops 
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector containing the computed optimal allocation
</p>


<h3>Author(s)</h3>

<p>Daniela Pagliuca with contributions from Teresa Buglielli and Giulio Barcaroli
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(SamplingStrata)
data(strata)
data(errors)
n &lt;- bethel(strata, errors, printa=TRUE)
sum(n)
attributes(n)$confr
attributes(n)$outcv

## End(Not run)
</code></pre>


</div>