<div class="container">

<table style="width: 100%;"><tr>
<td>STSDF-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class "STSDF"</h2>

<h3>Description</h3>

<p> A class for spatio-temporal data with partial
space-time grids; for n spatial locations and m times, an index
table is kept for which nodes observations are available </p>


<h3>Usage</h3>

<pre><code class="language-R">  STS(sp, time, index, endTime = delta(time))
  STSDF(sp, time, data, index, endTime = delta(time))
  ## S4 method for signature 'STSDF'
x[i, j, ..., drop = is(x, "STSDF")]
  ## S4 method for signature 'STSDF,STFDF'
coerce(from, to, strict=TRUE)
  ## S4 method for signature 'STSDF,STIDF'
coerce(from, to, strict=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sp</code></td>
<td>
<p>object of class Spatial</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>object holding time information; see ST-class</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data frame with rows corresponding to the observations
(spatial index moving faster than temporal)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>two-column matrix: rows corresponding to the nodes for
which observations are available, first column giving spatial index,
second column giving temporal index</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endTime</code></td>
<td>
<p> vector of class <code>POSIXct</code> with end points of time
intervals for the observations </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class STFDF</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>
<p>selection of spatial entities</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>j</code></td>
<td>
<p>selection of temporal entities (see syntax in package xts) </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>selection of attribute(s)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>if TRUE and a single spatial entity is selected, an object
of class xts is returned; if TRUE and a single temporal entity is
selected, and object of the appropriate <code>Spatial</code> class is returned;
if FALSE, no coercion to reduced classes takes place</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>object of class STFDF</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to</code></td>
<td>
<p>target class</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>
<p>ignored</p>
</td>
</tr>
</table>
<h3>Objects from the Class</h3>

<p>Objects of this class carry sparse space/time grid data </p>


<h3>Slots</h3>


<dl>
<dt>
<code>sp</code>:</dt>
<dd>
<p>Object of class <code>"Spatial"</code></p>
</dd>
<dt>
<code>time</code>:</dt>
<dd>
<p>Object holding time information; see ST-class
for permitted types </p>
</dd>
<dt>
<code>index</code>:</dt>
<dd>
<p>matrix of dimension n x 2, where n matches the number of rows
in slot data </p>
</dd>
<dt>
<code>data</code>:</dt>
<dd>
<p>Object of class <code>data.frame</code>, which holds
the measured values</p>
</dd>
</dl>
<h3>Methods</h3>


<dl>
<dt>[</dt>
<dd>
<p><code>signature(x = "STSDF")</code>: selects spatial entities,        temporal entities, and attributes </p>
</dd> 
<dt>plot</dt>
<dd>
<p><code>signature(x = "STS", y = "missing")</code>: plots
space-time layout </p>
</dd>
<dt>plot</dt>
<dd>
<p><code>signature(x = "STSDF", y = "missing")</code>: plots
space-time layout, indicating records partially NA </p>
</dd>
</dl>
<h3>Author(s)</h3>

<p> Edzer Pebesma, <a href="mailto:edzer.pebesma@uni-muenster.de">edzer.pebesma@uni-muenster.de</a> </p>


<h3>References</h3>

<p> https://www.jstatsoft.org/v51/i07/ </p>


<h3>See Also</h3>

 <p>delta </p>


<h3>Examples</h3>

<pre><code class="language-R">sp = cbind(x = c(0,0,1), y = c(0,1,1))
row.names(sp) = paste("point", 1:nrow(sp), sep="")
library(sp)
sp = SpatialPoints(sp)
library(xts)
time = xts(1:4, as.POSIXct("2010-08-05")+3600*(10:13))
m = c(10,20,30) # means for each of the 3 point locations
mydata = rnorm(length(sp)*length(time),mean=rep(m, 4))
IDs = paste("ID",1:length(mydata))
mydata = data.frame(values = signif(mydata,3), ID=IDs)
stfdf = STFDF(sp, time, mydata)
stfdf
stsdf = as(stfdf, "STSDF")
stsdf[1:2,]
stsdf[,1:2]
stsdf[,,2]
stsdf[,,"values"]
stsdf[1,]
stsdf[,2]
# examples for [[, [[&lt;-, $ and $&lt;- 
stsdf[[1]]
stsdf[["values"]]
stsdf[["newVal"]] &lt;- rnorm(12)
stsdf$ID
stsdf$ID = paste("OldIDs", 1:12, sep="")
stsdf$NewID = paste("NewIDs", 12:1, sep="")
stsdf
x = stsdf[stsdf,]
x = stsdf[stsdf[1:2,],]
all.equal(x, stsdf[1:2,])
</code></pre>


</div>