<div class="container">

<table style="width: 100%;"><tr>
<td>prepareShuffle</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Prerprocess for the shuffle estimator
</h2>

<h3>Description</h3>

<p>prepareShuffle computes the averaging matrices and normalizing constants for the shuffle estimator. 
It can be run once for all data vectors sharing the design. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">prepareShuffle(des, perm)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>des</code></td>
<td>
<p>A design vector or matrix
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perm</code></td>
<td>

<p>The shuffling permutation
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>The number of treatments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ns</code></td>
<td>
<p>An m-length vector with the number of repeats for each treatment. For balanced designs with n repeats, ns=rep(n,m)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>The averaging matrix according to the design</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>G</code></td>
<td>
<p>1/T for T the number of measurements</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>norm</code></td>
<td>
<p>The value by which to correct the difference of variances [1/(facA-facB)]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facA</code></td>
<td>
<p>The signal coefficient of the original design</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facB</code></td>
<td>
<p>The signal variance coefficient of the permuted design</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Yuval Benjamini
</p>


<h3>References</h3>

<p>Benjamini and Yu (2013)
</p>


<h3>See Also</h3>

<p>getAverage
getNormalizer
</p>


</div>