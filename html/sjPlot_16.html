<div class="container">

<table style="width: 100%;"><tr>
<td>plot_kfold_cv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot model fit from k-fold cross-validation</h2>

<h3>Description</h3>

<p>This function plots the aggregated residuals of k-fold cross-validated
models against the outcome. This allows to evaluate how the model performs
according over- or underestimation of the outcome.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_kfold_cv(data, formula, k = 5, fit)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame, used to split the data into <code>k</code> training-test-pairs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A model formula, used to fit linear models (<code>lm</code>)
over all <code>k</code> training data sets. Use <code>fit</code> to specify a
fitted model (also other models than linear models), which will be used
to compute cross validation. If <code>fit</code> is not missing, <code>formula</code>
will be ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Number of folds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>Model object, which will be used to compute cross validation. If
<code>fit</code> is not missing, <code>formula</code> will be ignored. Currently,
only linear, poisson and negative binomial regression models are supported.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function, first, generates <code>k</code> cross-validated test-training
pairs and
fits the same model, specified in the <code>formula</code>- or <code>fit</code>-
argument, over all training data sets. <br><br>
Then, the test data is used to predict the outcome from all
models that have been fit on the training data, and the residuals
from all test data is plotted against the observed values (outcome)
from the test data (note: for poisson or negative binomial models, the
deviance residuals are calculated). This plot can be used to validate the model
and see, whether it over- (residuals &gt; 0) or underestimates
(residuals &lt; 0) the model's outcome.
</p>


<h3>Note</h3>

<p>Currently, only linear, poisson and negative binomial regression models are supported.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(efc)

plot_kfold_cv(efc, neg_c_7 ~ e42dep + c172code + c12hour)
plot_kfold_cv(mtcars, mpg ~.)

# for poisson models. need to fit a model and use 'fit'-argument
fit &lt;- glm(tot_sc_e ~ neg_c_7 + c172code, data = efc, family = poisson)
plot_kfold_cv(efc, fit = fit)

# and for negative binomial models
fit &lt;- MASS::glm.nb(tot_sc_e ~ neg_c_7 + c172code, data = efc)
plot_kfold_cv(efc, fit = fit)

</code></pre>


</div>