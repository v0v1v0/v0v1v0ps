<div class="container">

<table style="width: 100%;"><tr>
<td>get_SDA_coecoclass</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get mapunit ecological sites from Soil Data Access</h2>

<h3>Description</h3>

<p>Get mapunit ecological sites from Soil Data Access
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_SDA_coecoclass(
  method = "None",
  areasymbols = NULL,
  mukeys = NULL,
  WHERE = NULL,
  query_string = FALSE,
  ecoclasstypename = c("NRCS Rangeland Site", "NRCS Forestland Site"),
  ecoclassref = "Ecological Site Description Database",
  not_rated_value = "Not assigned",
  miscellaneous_areas = TRUE,
  include_minors = TRUE,
  threshold = 0,
  dsn = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>aggregation method. One of: <code>"Dominant Component"</code>, <code>"Dominant Condition"</code>, <code>"All"</code> or <code>"None"</code> (default). If <code>method="all"</code> multiple numbered columns represent site composition within each map unit e.g. <code>site1...</code>, <code>site2...</code>. If <code>method="none"</code> is selected one row will be returned per <em>component</em>; in all other cases one row will be returned per <em>map unit</em>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>areasymbols</code></td>
<td>
<p>vector of soil survey area symbols</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mukeys</code></td>
<td>
<p>vector of map unit keys</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>WHERE</code></td>
<td>
<p>character containing SQL WHERE clause specified in terms of fields in <code>legend</code>, <code>mapunit</code>, <code>component</code> or <code>coecosite</code> tables, used in lieu of <code>mukeys</code> or <code>areasymbols</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>query_string</code></td>
<td>
<p>Default: <code>FALSE</code>; if <code>TRUE</code> return a character string containing query that would be sent to SDA via <code>SDA_query</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ecoclasstypename</code></td>
<td>
<p>Default: <code>c("NRCS Rangeland Site", "NRCS Forestland Site")</code>. If <code>NULL</code> no constraint on <code>ecoclasstypename</code> is used in the query.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ecoclassref</code></td>
<td>
<p>Default: <code>"Ecological Site Description Database"</code>. If <code>NULL</code> no constraint on <code>ecoclassref</code> is used in the query.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>not_rated_value</code></td>
<td>
<p>Default: <code>"Not assigned"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>miscellaneous_areas</code></td>
<td>
<p>logical. Include miscellaneous areas (non-soil components)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_minors</code></td>
<td>
<p>logical. Include minor components? Default: <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>integer. Default: <code>0</code>. Minimum combined component percentage (RV) for inclusion of a mapunit's ecological site in wide-format tabular summary. Used only for <code>method="all"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dsn</code></td>
<td>
<p>Path to local SQLite database or a DBIConnection object. If <code>NULL</code> (default) use Soil Data Access API via <code>SDA_query()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When <code>method="Dominant Condition"</code> an additional field <code>ecoclasspct_r</code> is returned in the result
with the sum of <code>comppct_r</code> that have the dominant condition <code>ecoclassid</code>. The component with the greatest
<code>comppct_r</code> is returned for the <code>component</code> and <code>coecosite</code> level information.
</p>
<p>Note that if there are multiple <code>coecoclasskey</code> per <code>ecoclassid</code> there may be more than one record per component.
</p>


</div>