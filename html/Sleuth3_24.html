<div class="container">

<table style="width: 100%;"><tr>
<td>case1201</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>State Average SAT Scores</h2>

<h3>Description</h3>

<p>Data on the average SAT scores for US states in 1982 and possible
associated factors.
</p>


<h3>Usage</h3>

<pre><code class="language-R">case1201</code></pre>


<h3>Format</h3>

<p>A data frame with 50 observations on the following 8 variables.
</p>

<dl>
<dt>State</dt>
<dd>
<p>US state</p>
</dd>
<dt>SAT</dt>
<dd>
<p>state averages of the total SAT (verbal + quantitative)
scores</p>
</dd>
<dt>Takers</dt>
<dd>
<p>the percentage of the total eligible students (high
school seniors) in the state who took the exam</p>
</dd>
<dt>Income</dt>
<dd>
<p>the median income of families of test–takers (in
hundreds of dollars)</p>
</dd>
<dt>Years</dt>
<dd>
<p>the average number of years that the test–takers had
formal studies in social sciences, natural sciences and humanities</p>
</dd>
<dt>Public</dt>
<dd>
<p>the percentage of the test–takers who attended public
secondary schools</p>
</dd>
<dt>Expend</dt>
<dd>
<p>the total state expenditure on secondary schools (in
hundreds of dollars per student)</p>
</dd>
<dt>Rank</dt>
<dd>
<p>the median percentile ranking of the test–takers within
their secondary school classes</p>
</dd>
</dl>
<h3>Source</h3>

<p>Ramsey, F.L. and Schafer, D.W. (2013). <em>The Statistical Sleuth: A
Course in Methods of Data Analysis (3rd ed)</em>, Cengage Learning.
</p>


<h3>Examples</h3>

<pre><code class="language-R">str(case1201)
attach(case1201)

## EXPLORATION
logTakers  &lt;- log(Takers)
myMatrix   &lt;- cbind(SAT, logTakers,Income, Years, Public, Expend, Rank)
if(require(car)){   # Use the car library   
scatterplotMatrix(myMatrix, diagonal="histogram", smooth=FALSE)  
  }                  
State[Public &lt; 50] # Identify state with low Public (Louisiana)
State[Expend &gt; 40] # Alaska
myLm1    &lt;- lm(SAT ~ logTakers + Income+ Years + Public + Expend + Rank)
plot(myLm1,which=1)         
plot(myLm1,which=4)  # Cook's Distance       
State[29] # Identify State number 29?  ([1] Alaska) 
plot(myLm1,which=5)        
if(require(car)){   # Use the car library   
  crPlots(myLm1)  # Partial residual plot
}
myLm2 &lt;- update(myLm1, ~ . ,subset=(State != "Alaska"))  
plot(myLm2,which=1)
plot(myLm2,which=4)
if(require(car)){   # Use the car library   
  crPlots(myLm2) # Partial residual plot
}
## RANK STATES ON SAT SCORES, ADJUSTED FOR Takers AND Rank
myLm3        &lt;- lm(SAT ~ logTakers + Rank) 
myResiduals  &lt;- myLm3$res 
myOrder      &lt;- order(myResiduals)  
State[myOrder] 

## DISPLAY FOR PRESENTATION
dotchart(myResiduals[myOrder], labels=State[myOrder],
  xlab="SAT Scores, Adjusted for Percent Takers and HS Ranks (Deviation From Average)",
  main="States Ranked by Adjusted SAT Scores",
  bg="green", cex=.8)
abline(v=0, col="gray")

## VARIABLE SELECTION (FOR RANKING STATES AFTER ACCOUNTING FOR ALL VARIABLES)
expendSquared &lt;- Expend^2   
if(require(leaps)){   # Use the leaps library   
  mySubsets   &lt;- regsubsets(SAT ~ logTakers + Income+ Years + Public + Expend + 
    Rank + expendSquared, nvmax=8, data=case1201, subset=(State != "Alaska")) 
  mySummary &lt;- summary(mySubsets) 
  p &lt;- apply(mySummary$which, 1, sum) 
  plot(p, mySummary$bic, ylab = "BIC")  
  cbind(p,mySummary$bic) 
  mySummary$which[4,]  
  myLm4 &lt;- lm(SAT ~ logTakers + Years + Expend + Rank, subset=(State != "Alaska"))
  summary(myLm4)

## DISPLAY FOR PRESENTATION
  myResiduals2 &lt;- myLm4$res
  myOrder2 &lt;- order(myResiduals2)
  newState &lt;- State[State != "Alaska"]
  newState[myOrder2] 
  dotchart(myResiduals2[myOrder2], labels=State[myOrder2],
    xlab="Adjusted SAT Scores (Deviation From Average Adjusted Value)",
    main=paste("States Ranked by SAT Scores Adjusted for Demographics",
               "of Takers and Education Expenditure", sep = " "),
    bg="green", cex = .8)
  abline(v=0, col="gray")
}

detach(case1201)
</code></pre>


</div>