<div class="container">

<table style="width: 100%;"><tr>
<td>read_stars</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>read raster/array dataset from file or connection</h2>

<h3>Description</h3>

<p>read raster/array dataset from file or connection
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_stars(
  .x,
  sub = TRUE,
  ...,
  options = character(0),
  driver = character(0),
  quiet = FALSE,
  NA_value = NA_real_,
  along = NA_integer_,
  RasterIO = list(),
  proxy = getOption("stars.n_proxy") %||% 1e+08,
  curvilinear = character(0),
  normalize_path = TRUE,
  RAT = character(0),
  tolerance = 1e-10,
  exclude = "",
  shorten = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.x</code></td>
<td>
<p>character vector with name(s) of file(s) or data source(s) to be read, or a function that returns such a vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub</code></td>
<td>
<p>character, integer or logical; name, index or indicator of sub-dataset(s) to be read</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>passed on to st_as_stars if <code>curvilinear</code> was set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>
<p>character; opening options</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>driver</code></td>
<td>
<p>character; driver to use for opening file. To override fixing for subdatasets and autodetect them as well, use <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>logical; print progress output?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NA_value</code></td>
<td>
<p>numeric value to be used for conversion into NA values; by default this is read from the input file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>along</code></td>
<td>
<p>length-one character or integer, or list; determines how several arrays are combined, see Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RasterIO</code></td>
<td>
<p>list with named parameters for GDAL's RasterIO, to further control the extent, resolution and bands to be read from the data source; see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proxy</code></td>
<td>
<p>logical; if <code>TRUE</code>, an object of class <code>stars_proxy</code> is read which contains array
metadata only; if <code>FALSE</code> the full array data is read in memory. Always <code>FALSE</code> for curvilinear girds.
If set to a number, defaults to <code>TRUE</code> when the number of cells to be read is larger than that number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>curvilinear</code></td>
<td>
<p>length two character vector with names of subdatasets holding longitude and latitude values for all raster cells, or named length 2 list holding longitude and latitude matrices; the names of this list should correspond to raster dimensions referred to</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalize_path</code></td>
<td>
<p>logical; if <code>FALSE</code>, suppress a call to normalizePath on <code>.x</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RAT</code></td>
<td>
<p>character; raster attribute table column name to use as factor levels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tolerance</code></td>
<td>
<p>numeric; passed on to all.equal for comparing dimension parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude</code></td>
<td>
<p>character; vector with category value(s) to exclude</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shorten</code></td>
<td>
<p>logical or character; if <code>TRUE</code> and <code>length(.x) &gt; 1</code>, remove common start and end parts of array names; if character a new prefix</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In case <code>.x</code> contains multiple files, they will all be read and combined with c.stars. Along which dimension, or how should objects be merged? If <code>along</code> is set to <code>NA</code> it will merge arrays as new attributes if all objects have identical dimensions, or else try to merge along time if a dimension called <code>time</code> indicates different time stamps. A single name (or positive value) for <code>along</code> will merge along that dimension, or create a new one if it does not already exist. If the arrays should be arranged along one of more dimensions with values (e.g. time stamps), a named list can passed to <code>along</code> to specify them; see example.
</p>
<p><code>RasterIO</code> is a list with zero or more of the following named arguments:
<code>nXOff</code>, <code>nYOff</code> (both 1-based: the first row/col has offset value 1),
<code>nXSize</code>, <code>nYSize</code>, <code>nBufXSize</code>, <code>nBufYSize</code>, <code>bands</code>, <code>resample</code>.
See <a href="https://gdal.org/doxygen/classGDALDataset.html">https://gdal.org/doxygen/classGDALDataset.html</a> for their meaning;
<code>bands</code> is an integer vector containing the band numbers to be read (1-based: first band is 1).
Note that if <code>nBufXSize</code> or <code>nBufYSize</code> are specified for downsampling an image,
resulting in an adjusted geotransform. <code>resample</code> reflects the resampling method and
has to be one of: "nearest_neighbour" (the default),
"bilinear", "cubic", "cubic_spline", "lanczos", "average", "mode", or "Gauss".
</p>
<p>Data that are read into memory (<code>proxy=FALSE</code>) are read into a numeric (double) array, except for categorical variables which are read into an numeric (integer) array of class <code>factor</code>.
</p>


<h3>Value</h3>

<p>object of class <code>stars</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">tif = system.file("tif/L7_ETMs.tif", package = "stars")
(x1 = read_stars(tif))
(x2 = read_stars(c(tif, tif)))
(x3 = read_stars(c(tif, tif), along = "band"))
(x4 = read_stars(c(tif, tif), along = "new_dimensions")) # create 4-dimensional array
x1o = read_stars(tif, options = "OVERVIEW_LEVEL=1")
t1 = as.Date("2018-07-31")
# along is a named list indicating two dimensions:
read_stars(c(tif, tif, tif, tif), along = list(foo = c("bar1", "bar2"), time = c(t1, t1+2)))

m = matrix(1:120, nrow = 12, ncol = 10)
dim(m) = c(x = 10, y = 12) # named dim
st = st_as_stars(m)
attr(st, "dimensions")$y$delta = -1
attr(st, "dimensions")$y$offset = 12
st
tmp = tempfile(fileext = ".tif")
write_stars(st, tmp)
(red &lt;- read_stars(tmp))
read_stars(tmp, RasterIO = list(nXOff = 1, nYOff = 1, nXSize = 10, nYSize = 12,
   nBufXSize = 2, nBufYSize = 2))[[1]]
(red &lt;- read_stars(tmp, RasterIO = list(nXOff = 1, nYOff = 1, nXSize = 10, nYSize = 12,
   nBufXSize = 2, nBufYSize = 2)))
red[[1]] # cell values of subsample grid:
## Not run: 
  plot(st, reset = FALSE, axes = TRUE, ylim = c(-.1,12.1), xlim = c(-.1,10.1),
    main = "nBufXSize &amp; nBufYSize demo", text_values = TRUE)
  plot(st_as_sfc(red, as_points = TRUE), add = TRUE, col = 'red', pch = 16)
  plot(st_as_sfc(st_as_stars(st), as_points = FALSE), add = TRUE, border = 'grey')
  plot(st_as_sfc(red, as_points = FALSE), add = TRUE, border = 'green', lwd = 2)

## End(Not run)
file.remove(tmp)
</code></pre>


</div>