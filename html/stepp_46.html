<div class="container">

<table style="width: 100%;"><tr>
<td>stmodelCI-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class <code>"stmodelCI"</code>
</h2>

<h3>Description</h3>

<p>This is the stepp model of survival data with competing risks.
</p>


<h3>Value</h3>

<p>The new method returns the stmodelCI object.
</p>
<p>The estimate method returns a list with the following fields:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>the stepp model - "CIe"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sObs1</code></td>
<td>
<p>a vector of effect estimates of all subpopulations based on the 1st treatment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sSE1</code></td>
<td>
<p>a vector of standard errors of effect estimates of all subpopulations based on the 1st treatment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>oObs1</code></td>
<td>
<p>effect estimate of the entire population based on the 1st treatment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>oSE1</code></td>
<td>
<p>the standard error of the effect estimate of the entire population based on the 1st treatment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sObs2</code></td>
<td>
<p>a vector of effect estimates of all subpopulations based on the 1st treatment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sSE2</code></td>
<td>
<p>a vector of standard errors of effect estimates of all subpopulations based on the 1st treatment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>oObs2</code></td>
<td>
<p>effect estimate of the entire population based on the 1st treatment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>oSE2</code></td>
<td>
<p>the standard error of the effect estimate of the entire population based on the 1st treatment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skmw</code></td>
<td>
<p>Wald's statistics for the effect estimate differences between the two treatments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logHR</code></td>
<td>
<p>a vector of log hazard ratio estimate of the subpopulations comparing 1st and 2nd treatments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logHRSE</code></td>
<td>
<p>a vector of standard error of the log hazard ratio estimate of the subpopulations comparing 1st and 2nd treatments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ologHR</code></td>
<td>
<p>the log hazard ratio estimate of the entire population comparing 1st and 2nd treatments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ologHRSE</code></td>
<td>
<p>the standard error of the log hazard ratio estimate of the entire population comparing 1st and 2nd treatments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logHRw</code></td>
<td>
<p>Wald's statistics for the log hazard ratio between the two treatments</p>
</td>
</tr>
</table>
<p>The test method returns a list with the following fields:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>the stepp model - "CIt"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma</code></td>
<td>
<p>the covariance matrix for subpopulations based on effect differences</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hasigma</code></td>
<td>
<p>the homogeneous association covariance matrix for subpopulations based on effect differences</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>HRsigma</code></td>
<td>
<p>the covariance matrix for the subpopulations based on hazard ratio</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>haHRsigma</code></td>
<td>
<p>the homogeneous association covariance matrix for subpopulations based on hazard ratio</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pvalue</code></td>
<td>
<p>the supremum pvalue based on effect difference</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chi2pvalue</code></td>
<td>
<p>the chisquare pvalue based on effect difference</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hapvalue</code></td>
<td>
<p>the homogeneous association pvalue based on effect difference</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>HRpvalue</code></td>
<td>
<p>the supremum pvalue based on hazard ratio</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>haHRpvalue</code></td>
<td>
<p>the homogeneous association pvalue based on hazard ratio</p>
</td>
</tr>
</table>
<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>new("stmodelCI", ...)</code> or by <br>
the constructor function stepp.CI.

</p>


<h3>Slots</h3>


<dl>
<dt>
<code>coltrt</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code> <br>
the treatment variable</p>
</dd>
<dt>
<code>coltime</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code> <br>
the time to event variable</p>
</dd>
<dt>
<code>coltype</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code> <br>
variable with distinct codes for different causes of failure where coltype=0 for censored observations; coltype=1 for event of interest; coltype=2 for other causes of failure</p>
</dd>
<dt>
<code>trts</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code> <br>
a vector containing the codes for the 2 treatment groups, 1st and 2nd treatment groups, respectively</p>
</dd>
<dt>
<code>timePoint</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code> <br>
timepoint to estimate survival</p>
</dd>
</dl>
<h3>Extends</h3>

<p>Class <code>"stmodel"</code>, directly.
</p>


<h3>Methods</h3>


<dl>
<dt>estimate</dt>
<dd>
<p><code>signature(.Object = "stmodelCI")</code>: <br>
estimate the effect in absolute and relative scale of the overall and each subpopulation </p>
</dd>
<dt>print</dt>
<dd>
<p><code>signature(.Object = "stmodelCI")</code>: <br>
print the estimate, covariance matrices and statistics </p>
</dd>
<dt>test</dt>
<dd>
<p><code>signature(.Object = "stmodelCI")</code>: <br>
perform the permutation tests or GEE and obtain various statistics </p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Wai-Ki Yip
</p>


<h3>See Also</h3>

<p><code>stwin</code>,     <code>stsubpop</code>,  <code>stmodelKM</code>, 
<code>stmodelCI</code>, <code>stmodelGLM</code>, 
<code>steppes</code>,   <code>stmodel</code>, 
<code>stepp.win</code>,        <code>stepp.subpop</code>,     <code>stepp.KM</code>,
<code>stepp.GLM</code>,
<code>stepp.test</code>,       <code>estimate</code>,         <code>generate</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">showClass("stmodelCI")

##
n &lt;- 1000		# set the sample size
mu &lt;- 0			# set the mean and sd of the covariate
sigma &lt;- 1

beta0 &lt;- log(-log(0.5)) # set the intercept for the log hazard
beta1 &lt;- -0.2		# set the slope on the covariate
beta2 &lt;- 0.5		# set the slope on the treatment indicator
beta3 &lt;- 0.7		# set the slope on the interaction

prob2 &lt;- 0.2		# set the proportion type 2 events
cprob &lt;- 0.3		# set the proportion censored

set.seed(7775432) 	# set the random number seed
covariate &lt;- rnorm(n,mean=mu,sd=sigma)	# generate the covariate values
Txassign &lt;- rbinom(n,1,0.5)		# generate the treatment indicator
x3 &lt;- covariate*Txassign		# compute interaction term
					# compute the hazard for type 1 event
lambda1 &lt;- exp(beta0+beta1*covariate+beta2*Txassign+beta3*x3)
lambda2 &lt;- prob2*lambda1/(1-prob2)	# compute the hazard for the type 2 event
					# compute the hazard for censoring time
lambda0 &lt;- cprob*(lambda1+lambda2)/(1-cprob)
t1 &lt;- rexp(n,rate=lambda1)		# generate the survival time for type 1 event
t2 &lt;- rexp(n,rate=lambda2)		# generate the survival time for type 2 event
t0 &lt;- rexp(n,rate=lambda0)		# generate the censoring time
time &lt;- pmin(t0,t1,t2)			# compute the observed survival time
type &lt;- rep(0,n)
type[(t1 &lt; t0)&amp;(t1 &lt; t2)] &lt;- 1
type[(t2 &lt; t0)&amp;(t2 &lt; t1)] &lt;- 2

# create the stepp model object to analyze the data using Cumulative Incidence approach
x &lt;- new ("stmodelCI", coltrt=Txassign, trts=c(0,1), coltime=time, coltype=type, timePoint=1.0)

</code></pre>


</div>