<div class="container">

<table style="width: 100%;"><tr>
<td>binning</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Construct frequency table from raw data in 1, 2 or 3 dimensions.
</h2>

<h3>Description</h3>

<p>Given a vector, or a matrix with 1, 2 or 3 columns, this function constructs a frequency table
associated with appropriate intervals covering the range of <code>x</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">binning(x, y, breaks, nbins)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>a vector or a matrix with either one, two or three columns, containing the original data. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>

<p>a vector of data, for example response data, associated with the data in <code>x</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>

<p>either a vector or a matrix with two columns (depending on the dimension of <code>x</code>),
assigning the division points of the axis, or the axes in the matrix case.
It must not include <code>Inf</code>,<code>-Inf</code> or <code>NA</code>s, and it must span the whole range of 
the <code>x</code> points.
If <code>breaks</code> is not given, it is computed by dividing the range of <code>x</code>
into <code>nbins</code> intervals for each of the axes.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nbins</code></td>
<td>

<p>the number of intervals on each axis. If <code>nbins</code> is not supplied, a value is computed as <code>round(log(n)/log(2) + 1)</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is called automatically (under the default settings)
by some of the functions of the <code>sm</code> library when the sample size is
large, to allow handling of datasets of essentially unlimited size.
Specifically, it is used by <code>sm.density</code>, <code>sm.regression</code>, <code>sm.ancova</code>,
<code>sm.binomial</code> and <code>sm.poisson</code>.
</p>


<h3>Value</h3>

<p>In the vector case, a list is returned containing the following elements:
a vector <code>x</code> of the midpoints of the bins excluding those with 0 frequecies, 
its associated matrix <code>x.freq</code> of frequencies, the co-ordinates of the 
<code>midpoints</code>, the division points, and the complete vector of observed 
frequencies <code>freq.table</code> (including the 0 frequencies), and the vector
<code>breaks</code> of division points.
In the matrix case, the returned value is a list with the following 
elements: a two-dimensional matrix <code>x</code> with the coordinates of the
midpoints of the two-dimensional bins excluding those with 0 frequencies, 
its associated matrix <code>x.freq</code> of frequencies, the coordinates of the 
<code>midpoints</code>, the matrix <code>breaks</code> of division points, and the observed 
frequencies <code>freq.table</code> in full tabular form.
</p>


<h3>References</h3>

<p>Bowman, A.W. and Azzalini, A. (1997). 
<em>Applied Smoothing Techniques for Data Analysis:
the Kernel Approach with S-Plus Illustrations.</em>
Oxford University Press, Oxford.
</p>


<h3>See Also</h3>

<p><code>sm</code>, <code>sm.density</code>, <code>sm.regression</code>, <code>sm.binomial</code>, <code>sm.poisson</code>, <code>cut</code>, <code>table</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># example of 1-d use
x  &lt;- rnorm(1000)
xb &lt;- binning(x)
xb &lt;- binning(x, breaks=seq(-4,4,by=0.5))
# example of 2-d use
x &lt;- rnorm(1000)
y &lt;- 2*x + 0.5*rnorm(1000)
x &lt;- cbind(x, y)
xb&lt;- binning(x, nbins=12)
</code></pre>


</div>