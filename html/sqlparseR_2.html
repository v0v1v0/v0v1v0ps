<div class="container">

<table style="width: 100%;"><tr>
<td>sql_format</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Format SQL Statements
</h2>

<h3>Description</h3>

<p>Beautifies SQL statements according to numerous formatting settings.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sql_format(sql, keyword_case = NULL, identifier_case = NULL,
           strip_comments = TRUE, reindent = FALSE, indent_width = 2,
           indent_tabs = FALSE, indent_after_first = FALSE,
           indent_columns = FALSE, reindent_aligned = FALSE,
           use_space_around_operators = FALSE, wrap_after = NULL,
           comma_first = FALSE, truncate_strings = NULL,
           truncate_char = "[...]", encoding = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sql</code></td>
<td>

<p>Character string containing one or more SQL statements to be formatted.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keyword_case</code></td>
<td>

<p>Character string specifying how keywords are formatted. Options: <code>"upper"</code>, <code>"lower"</code>", and <code>"capitalize"</code>. Default: <code>NULL</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>identifier_case</code></td>
<td>

<p>Character string specifying how identifiers are formatted. Options: <code>"upper"</code>, <code>"lower"</code>", and <code>"capitalize"</code>. Default: <code>NULL</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strip_comments</code></td>
<td>

<p>Boolean; if <code>TRUE</code> comments are removed from the SQL statements. Default: <code>TRUE</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reindent</code></td>
<td>

<p>Boolean; if <code>TRUE</code> the indentations of the statements are changed. Default: <code>FALSE</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indent_width</code></td>
<td>

<p>Positive integer specifying the width of the indentation. Default: <code>2</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indent_tabs</code></td>
<td>

<p>Boolean; if <code>TRUE</code> tabs instead of spaces are used for indentation. Default: <code>FALSE</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indent_after_first</code></td>
<td>

<p>Boolean; if <code>TRUE</code> second line of statement is indented (e.g. after SELECT). Default: <code>FALSE</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indent_columns</code></td>
<td>

<p>Boolean; if <code>TRUE</code> all columns are indented by <code>indent_width</code> instead of keyword length. Default: <code>FALSE</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reindent_aligned</code></td>
<td>

<p>Boolean; if <code>TRUE</code> the statements are reindented to aligned format. Default: <code>FALSE</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_space_around_operators</code></td>
<td>

<p>Boolean; if <code>TRUE</code> spaces are placed around mathematical operators. Default: <code>FALSE</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wrap_after</code></td>
<td>

<p>Positive integer specifying the column limit (in characters) for wrapping comma-separated lists. If <code>NULL</code>, every item is put on its own line. Default: <code>NULL</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comma_first</code></td>
<td>

<p>Boolean; if <code>TRUE</code> a linebreak is inserted before comma. Default: <code>FALSE</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>truncate_strings</code></td>
<td>

<p>Positive integer; string literals longer than the given value are truncated. Default: <code>NULL</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>truncate_char</code></td>
<td>

<p>Character string appended if long string literals are truncated. Default: <code>"[...]"</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encoding</code></td>
<td>

<p>Character string specifying the input encoding. Default: <code>NULL</code> (assumes UTF-8 or latin-1)
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is a wrapper to the <em>sqlparse.format()</em> function from the <em><a href="https://github.com/andialbrecht/sqlparse">sqlparse</a></em> Python module, which is a non-validating SQL parser.
</p>


<h3>Value</h3>

<p>Character string containing the formatted SQL statements.
</p>


<h3>See Also</h3>

<p><code>sql_split</code>, <code>sql_parse</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  if (reticulate::py_module_available("sqlparse")) {

    library("sqlparseR")

    raw &lt;- "SELECT * FROM FOO WHERE BAR &gt; 4500;"

    formatted &lt;- sql_format(raw,
                            keyword_case = "capitalize",
                            identifier_case = "lower",
                            reindent = TRUE,
                            indent_after_first = TRUE)
    cat(formatted)
  }
</code></pre>


</div>