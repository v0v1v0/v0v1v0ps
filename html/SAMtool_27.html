<div class="container">

<table style="width: 100%;"><tr>
<td>HCR_ramp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Linearly ramped harvest control rules</h2>

<h3>Description</h3>

<p>An output control rule with a ramp that reduces the target F (used for the TAC recommendation) linearly
as a function of an operational control point (OCP) such as spawning depletion or spawning biomass. The reduction in F is linear when the OCP
is between the target OCP (TOCP) and the limit OCP (LOCP). The target F is maximized at or above the TOCP. Below the LOCP,
the target F is minimized. For example, the TOCP and LOCP for 40% and 10% spawning depletion, respectively, in the 40-10 control rule.
Ftarget is FMSY above the TOCP and zero below the LOCP. This type of control rule can generalized with more control points (&gt;2) in HCR_segment.
Class HCR objects are typically used with function make_MP.
</p>


<h3>Usage</h3>

<pre><code class="language-R">HCR_ramp(
  Assessment,
  reps = 1,
  OCP_type = c("SSB_SSB0", "SSB_SSBMSY", "SSB_dSSB0", "F_FMSY", "F_F01", "F_FSPR"),
  Ftarget_type = c("FMSY", "F01", "Fmax", "FSPR", "abs"),
  LOCP = 0.1,
  TOCP = 0.4,
  relF_min = 0,
  relF_max = 1,
  SPR_OCP = 0.4,
  SPR_targ = 0.4,
  ...
)

HCR40_10(Assessment, reps = 1, Ftarget_type = "FMSY", SPR_targ = 0.4, ...)

HCR60_20(Assessment, reps = 1, Ftarget_type = "FMSY", SPR_targ = 0.4, ...)

HCR80_40MSY(Assessment, reps = 1, Ftarget_type = "FMSY", SPR_targ = 0.4, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Assessment</code></td>
<td>
<p>An object of class Assessment with estimates of
FMSY or UMSY, vulnerable biomass, and spawning biomass depletion in terminal year.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reps</code></td>
<td>
<p>The number of stochastic samples of the TAC recommendation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OCP_type</code></td>
<td>
<p>The type of operational control points (OCPs) for the harvest control rule used to determine the reduction in F.
See below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ftarget_type</code></td>
<td>
<p>The type of F used for the target fishing mortality rate. See below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LOCP</code></td>
<td>
<p>Numeric, the limit value for the OCP in the HCR.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TOCP</code></td>
<td>
<p>Numeric, the target value for the OCP in the HCR.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relF_min</code></td>
<td>
<p>The relative value of Ftarget (i.e., as a proportion) if <code>OCP &lt; LOCP</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relF_max</code></td>
<td>
<p>The relative value of Ftarget if <code>OCP &gt; TOCP</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SPR_OCP</code></td>
<td>
<p>The value of spawning potential ratio for the OCP if <code>OCP_type = "F_FSPR"</code>. By default, 0.4 (F40%).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SPR_targ</code></td>
<td>
<p>The target value of spawning potential ratio if <code>Ftarget_type = "FSPR"</code>. By default, 0.4 (F40%).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Miscellaneous arguments.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The catch advice is calculated using the catch equation of the corresponding
assessment. See <code>Assessment@forecast$catch_eq</code>, a function that returns the catch advice for a specified <code>Ftarget</code>.
</p>
<p><em>Operational control points (OCP_type)</em>
</p>
<p>The following are the available options for harvest control rule inputs, and the source of those values
in the Assessment object:
</p>

<ul>
<li> <p><strong>Default</strong> <code>"SSB_SSB0"</code>: Spawning depletion. Uses the last value in  <code>Assessment@SSB_SSB0</code> vector.
</p>
</li>
<li> <p><code>"SSB_SSBMSY"</code>: Spawning biomass relative to MSY. Uses the last value in <code>Assessment@SSB_SSBMSY</code> vector.
</p>
</li>
<li> <p><code>"SSB_dSSB0"</code>: Dynamic depletion (SSB relative to the historical reconstructed biomass with F = 0). Uses the last value in
<code>Assessment@SSB/Assessment@TMB_report$dynamic_SSB0</code>.
</p>
</li>
<li> <p><code>"F_FMSY"</code>: Fishing mortality relative to MSY. Uses the last value in <code>Assessment@F_FMSY</code>.
</p>
</li>
<li> <p><code>"F_F01"</code>: Fishing mortality relative to F_0.1 (yield per recruit), calculated from the data frame in
<code>Assessment@forecast[["per_recruit"]]</code>.
</p>
</li>
<li> <p><code>"F_FSPR"</code>: Fishing mortality relative to F_SPR% (the F that produces the spawning potential ratio specified in
<code>"SPR_OCP"</code>, calculated from the data frame in <code>Assessment@forecast[["per_recruit"]]</code>.
</p>
</li>
</ul>
<p><em>Fishing mortality target (Ftarget_type)</em>
</p>
<p>The type of F for which the corresponding catch is calculated in the HCR is specified here. The source of those values
in the Assessment object is specified:
</p>

<ul>
<li> <p><strong>Default</strong> <code>"FMSY"</code>: Fishing mortality relative to MSY. Uses the value in <code>Assessment@FMSY</code>.
</p>
</li>
<li> <p><code>"F01"</code>: Fishing mortality relative to F_0.1 (yield per recruit), calculated from the data frame in
<code>Assessment@forecast[["per_recruit"]]</code>.
</p>
</li>
<li> <p><code>"Fmax"</code>: Fishing mortality relative to F_max (maximizing yield per recruit), calculated from the data frame in
<code>Assessment@forecast[["per_recruit"]]</code>.
</p>
</li>
<li> <p><code>"FSPR"</code>: Fishing mortality relative to F_SPR% (the F that produces the spawning potential ratio specified in
<code>"SPR_targ"</code>, calculated from data frame in <code>Assessment@forecast[["per_recruit"]]</code>.
</p>
</li>
<li> <p><code>"abs"</code>: Fishing mortality is independent of any model output and is explicitly specified in <code>relF</code>.
</p>
</li>
</ul>
<h3>Value</h3>

<p>An object of class MSEtool::Rec with the TAC recommendation.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>HCR_ramp()</code>: Generic ramped-HCR function where user specifies OCP and corresponding limit and target
points, as well as minimum and maximum relative F target.
</p>
</li>
<li> <p><code>HCR40_10()</code>: Common U.S. west coast control rule (LOCP and TOCP of 0.1 and 0.4 spawning depletion,
respectively)
</p>
</li>
<li> <p><code>HCR60_20()</code>: More conservative than <code>HCR40_10</code>, with LOCP and TOCP of 0.2 and 0.6
spawning depletion, respectively).
</p>
</li>
<li> <p><code>HCR80_40MSY()</code>: 0.8 and 0.4 SSBMSY as the LOCP and TOCP, respectively.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Q. Huynh &amp; T. Carruthers
</p>


<h3>References</h3>

<p>Deroba, J.J. and Bence, J.R. 2008. A review of harvest policies: Understanding relative
performance of control rules. Fisheries Research 94:210-223.
</p>
<p>Edwards, C.T.T. and Dankel, D.J. (eds.). 2016. Management Science in Fisheries: an introduction
to simulation methods. Routledge, New York, NY. 460 pp.
</p>
<p>Punt, A. E, Dorn, M. W., and Haltuch, M. A. 2008. Evaluation of threshold management strategies
for groundfish off the U.S. West Coast. Fisheries Research 94:251-266.
</p>
<p>Restrepo, V.R. and Power, J.E. 1999. Precautionary control rules in US fisheries
management: specification and performance. ICES Journal of Marine Science 56:846-852.
</p>


<h3>See Also</h3>

<p>HCR_segment HCR_MSY HCRlin make_MP
</p>


<h3>Examples</h3>

<pre><code class="language-R"># 40-10 linear ramp
Brel &lt;- seq(0, 1, length.out = 200)
plot(Brel, HCRlin(Brel, 0.1, 0.4), 
    xlab = expression("Operational control point: Estimated"~SSB/SSB[0]),
    ylab = expression(F[target]~~": proportion of"~~F[MSY]), 
    main = "40-10 harvest control rule", type = "l")
abline(v = c(0.1, 0.4), col = "red", lty = 2)

# create a 40-10 MP to run in closed-loop MSE
DD_40_10 &lt;- make_MP(DD_TMB, HCR40_10)

# Alternatively,
DD_40_10 &lt;- make_MP(DD_TMB, HCR_ramp, OCP_type = "SSB_SSB0", LOCP = 0.1, TOCP = 0.4)

# An SCA with LOCP and TOCP at 0.4 and 0.8, respectively, of SSB/SSBMSY
SCA_80_40 &lt;- make_MP(SCA, HCR_ramp, OCP_type = "SSB_SSBMSY", LOCP = 0.4, TOCP = 0.8)

# A conservative HCR that fishes at 75% of FMSY at B &gt; 80% BMSY but only reduces F
# to 10% of FMSY if B &lt; 40% BMSY.
SCA_conservative &lt;- make_MP(SCA, HCR_ramp, OCP_type = "SSB_SSBMSY", LOCP = 0.4, TOCP = 0.8, 
relF_min = 0.1, relF_max = 0.75)

# Figure of this conservative HCR
Brel &lt;- seq(0, 1, length.out = 200)
Frel &lt;- HCRlin(Brel, 0.4, 0.8, 0.1, 0.75)
plot(Brel, Frel, 
    xlab = expression("Operational control point: Estimated"~SSB/SSB[MSY]),
    ylab = expression(F[target]~":"~~F/F[MSY]), 
    ylim = c(0, 1), type = "l")
abline(v = c(0.4, 0.8), col = "red", lty = 2)

# A harvest control rule as a function of BMSY, with F independent of model output, 
# i.e., specify F in relF argument (here maximum F of 0.1)
SCA_80_40 &lt;- make_MP(SCA, HCR_ramp, OCP_type = "SSB_SSBMSY", LOCP = 0.4, TOCP = 0.8, 
                     relF_min = 0, relF_max = 0.1)

</code></pre>


</div>