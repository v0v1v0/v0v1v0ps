<div class="container">

<table style="width: 100%;"><tr>
<td>getDiag</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract posterior summaries of random effects</h2>

<h3>Description</h3>

<p>Extract posterior summaries of random effects
</p>


<h3>Usage</h3>

<pre><code class="language-R">getDiag(
  inla_mod,
  field = c("space", "time", "spacetime")[1],
  CI = 0.95,
  draws = NULL,
  nsim = 1000,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>inla_mod</code></td>
<td>
<p>output from <code>smoothDirect</code> or <code>smoothCluster</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>field</code></td>
<td>
<p>which random effects to plot. It can be one of the following: space, time, and spacetime.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CI</code></td>
<td>
<p>Desired level of credible intervals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draws</code></td>
<td>
<p>Posterior samples drawn from the fitted model. This argument allows the previously sampled draws (by setting save.draws to be TRUE) be used in new aggregation tasks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>number of simulations, only applicable for the cluster-level model space-time interaction terms when random slopes are included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Unused arguments, for users with fitted object from the package before v1.0.0, arguments including Amat, year_label, and year_range can still be specified manually.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>List of diagnostic plots
</p>


<h3>Author(s)</h3>

<p>Zehang Richard Li
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
  data(DemoMap)
  years &lt;- levels(DemoData[[1]]$time)
  
  # obtain direct estimates
  data &lt;- getDirectList(births = DemoData, 
  years = years,  
  regionVar = "region", timeVar = "time", 
  clusterVar = "~clustid+id", 
  ageVar = "age", weightsVar = "weights", 
  geo.recode = NULL)
  # obtain direct estimates
  data_multi &lt;- getDirectList(births = DemoData, years = years,
    regionVar = "region",  timeVar = "time", clusterVar = "~clustid+id",
    ageVar = "age", weightsVar = "weights", geo.recode = NULL)
  data &lt;- aggregateSurvey(data_multi)
  
  #  national model
  years.all &lt;- c(years, "15-19")
  fit1 &lt;- smoothDirect(data = data, geo = DemoMap$geo, Amat = DemoMap$Amat, 
    year_label = years.all, year_range = c(1985, 2019), 
    rw = 2, is.yearly=FALSE, m = 5)
random.time &lt;- getDiag(fit1, field = "time")
  random.space &lt;- getDiag(fit1, field = "space")
  random.spacetime &lt;- getDiag(fit1, field = "spacetime")

## End(Not run)

</code></pre>


</div>