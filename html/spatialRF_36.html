<div class="container">

<table style="width: 100%;"><tr>
<td>plot_response_curves</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plots the response curves of a model.</h2>

<h3>Description</h3>

<p>Plots the response curves of models fitted with <code>rf()</code>, <code>rf_repeat()</code>, or  <code>rf_spatial()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_response_curves(
  model = NULL,
  variables = NULL,
  quantiles = c(0.1, 0.5, 0.9),
  grid.resolution = 200,
  line.color = viridis::viridis(length(quantiles), option = "F", end = 0.9),
  ncol = 2,
  show.data = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A model fitted with <code>rf()</code>, <code>rf_repeat()</code>, or <code>rf_spatial()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variables</code></td>
<td>
<p>Character vector, names of predictors to plot. If <code>NULL</code>, the most important variables (importance higher than the median) in <code>x</code> are selected. Default: <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantiles</code></td>
<td>
<p>Numeric vector with values between 0 and 1, argument <code>probs</code> of quantile. Quantiles to set the other variables to. Default: <code>c(0.1, 0.5, 0.9)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid.resolution</code></td>
<td>
<p>Integer between 20 and 500. Resolution of the plotted curve Default: <code>100</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line.color</code></td>
<td>
<p>Character vector with colors, or function to generate colors for the lines representing <code>quantiles</code>. Must have the same number of colors as <code>quantiles</code> are defined. Default: <code>viridis::viridis(length(quantiles), option = "F", end = 0.9)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncol</code></td>
<td>
<p>Integer, argument of wrap_plots. Defaults to the rounded squared root of the number of plots. Default: <code>2</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.data</code></td>
<td>
<p>Logical, if <code>TRUE</code>, the observed data is plotted along with the response curves. Default: <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical, if TRUE the plot is printed. Default: <code>TRUE</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>All variables that are not plotted in a particular response curve are set to the values of their respective quantiles, and the response curve for each one of these quantiles is shown in the plot. When the input model was fitted with <code>rf_repeat()</code> with <code>keep.models = TRUE</code>, then the plot shows the median of all model runs, and each model run separately as a thinner line. The output list can be plotted all at once with <code>patchwork::wrap_plots(p)</code> or <code>cowplot::plot_grid(plotlist = p)</code>, or one by one by extracting each plot from the list.
</p>


<h3>Value</h3>

<p>A list with slots named after the selected <code>variables</code>, with one ggplot each.
</p>


<h3>See Also</h3>

<p><code>plot_response_surface()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(interactive()){

#loading example data
data(plant_richness_df)

#fitting a random forest model
m &lt;- rf(
 data = plant_richness_df,
 dependent.variable.name = "richness_species_vascular",
 predictor.variable.names = colnames(plant_richness_df)[5:21],
 n.cores = 1,
 verbose = FALSE
)

#response curves of most important predictors
plot_response_curves(model = m)

}
</code></pre>


</div>