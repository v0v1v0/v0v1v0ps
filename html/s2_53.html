<div class="container">

<table style="width: 100%;"><tr>
<td>s2_cell</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create S2 Cell vectors</h2>

<h3>Description</h3>

<p>The S2 cell indexing system forms the basis for spatial indexing
in the S2 library. On their own, S2 cells can represent points
or areas. As a union, a vector of S2 cells can approximate a
line or polygon. These functions allow direct access to the
S2 cell indexing system and are designed to have minimal overhead
such that looping and recursion have acceptable performance
when used within R code.
</p>


<h3>Usage</h3>

<pre><code class="language-R">s2_cell(x = character())

s2_cell_sentinel()

s2_cell_invalid()

as_s2_cell(x, ...)

## S3 method for class 's2_cell'
as_s2_cell(x, ...)

## S3 method for class 'character'
as_s2_cell(x, ...)

## S3 method for class 's2_geography'
as_s2_cell(x, ...)

## S3 method for class 'wk_xy'
as_s2_cell(x, ...)

## S3 method for class 'integer64'
as_s2_cell(x, ...)

new_s2_cell(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The canonical S2 cell identifier as a character vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Passed to methods</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Under the hood, S2 cell vectors are represented in R as vectors
of type <code>double()</code>. This works because S2 cell identifiers are
64 bits wide, as are <code>double</code>s on all systems where R runs (The
same trick is used by the bit64 package to represent signed
64-bit integers). As a happy accident, <code>NA_real_</code> is not a valid
or meaningful cell identifier, so missing value support in the
way R users might expect is preserved. It is worth noting that
the underlying value of <code>s2_cell_sentinel()</code> would normally be
considered <code>NA</code>; however, as it is meaningful and useful when
programming with S2 cells, custom <code>is.na()</code> and comparison methods
are implemented such that <code>s2_cell_sentinel()</code> is greater than
all valid S2 cells and not considered missing. Users can and should
implement compiled code that uses the underlying bytes of the
vector, ensuring that the class of any returned object that should
be interpreted in this way is constructed with <code>new_s2_cell()</code>.
</p>


<h3>Value</h3>

<p>An object of class s2_cell
</p>


<h3>Examples</h3>

<pre><code class="language-R">s2_cell("4b59a0cd83b5de49")
as_s2_cell(s2_lnglat(-64, 45))
as_s2_cell(s2_data_cities("Ottawa"))

</code></pre>


</div>