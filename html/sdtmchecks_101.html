<div class="container">

<table style="width: 100%;"><tr>
<td>check_tr_trdtc_across_visit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Check TR Longest Diameter Records where the same date occurs across multiple visits</h2>

<h3>Description</h3>

<p>This check identifies records where the same date TRDTC occurs
across multiple visits for Longest Diameter measurements (TRTESTCD is "LDIAM").
Only applies to assessments by investigator, selected based on uppercased
TREVAL = "INVESTIGATOR" or missing or TREVAL variable does not exist.
</p>


<h3>Usage</h3>

<pre><code class="language-R">check_tr_trdtc_across_visit(TR, preproc = identity, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>TR</code></td>
<td>
<p>Tumor Result SDTM dataset with variables USUBJID, TRDTC, TRTESTCD, VISIT,
TREVAL (optional)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preproc</code></td>
<td>
<p>An optional company specific preprocessing script</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed to methods</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>boolean value if check failed or passed with 'msg' attribute if the
test failed
</p>


<h3>Author(s)</h3>

<p>Will Harris
</p>


<h3>Examples</h3>

<pre><code class="language-R">
TR &lt;- data.frame(
USUBJID = 1,
TRDTC = c(rep("2016-01-01",3), rep("2016-06-01",5), rep("2016-06-24",2)),
VISIT = c(rep("C1D1",3), rep("C1D2",3), rep("C2D1",4)),
TRTESTCD = c(rep("LDIAM",7),rep("SAXIS",3)),
TRSPID = "FORMNAME-R:13/L:13XXXX",
stringsAsFactors=FALSE)

check_tr_trdtc_across_visit(TR)
check_tr_trdtc_across_visit(TR, preproc=roche_derive_rave_row)

TR2 &lt;- TR
TR2$TRSPID[4:5] &lt;- c("FORMNAME2-R:5/L:13XXXX", "FORMNAME3-R:0/L:13XXXX")

check_tr_trdtc_across_visit(TR2)
check_tr_trdtc_across_visit(TR2, preproc=roche_derive_rave_row)

# missing optional variable
TR3 &lt;- TR
TR3$TRSPID &lt;- NULL

check_tr_trdtc_across_visit(TR3)
check_tr_trdtc_across_visit(TR3, preproc=roche_derive_rave_row)

# missing required variable
TR4 &lt;- TR
TR4$TRTESTCD &lt;- NULL

check_tr_trdtc_across_visit(TR4)
check_tr_trdtc_across_visit(TR4, preproc=roche_derive_rave_row)

</code></pre>


</div>