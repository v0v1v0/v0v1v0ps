<div class="container">

<table style="width: 100%;"><tr>
<td>recode_to</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Recode variable categories into new values</h2>

<h3>Description</h3>

<p>Recodes (or "renumbers") the categories of variables into new
category values, beginning with the lowest value specified by <code>lowest</code>.
Useful when recoding dummy variables with 1/2 values to 0/1 values,  or
recoding scales from 1-4 to 0-3 etc.
<code>recode_to_if()</code> is a scoped variant of <code>recode_to()</code>, where
recoding will be applied only to those variables that match the
logical condition of <code>predicate</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">recode_to(x, ..., lowest = 0, highest = -1, append = TRUE, suffix = "_r0")

recode_to_if(
  x,
  predicate,
  lowest = 0,
  highest = -1,
  append = TRUE,
  suffix = "_r0"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector or data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Optional, unquoted names of variables that should be selected for
further processing. Required, if <code>x</code> is a data frame (and no
vector) and only selected variables from <code>x</code> should be processed.
You may also use functions like <code>:</code> or tidyselect's
select-helpers.
See 'Examples' or <a href="../doc/design_philosophy.html">package-vignette</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lowest</code></td>
<td>
<p>Indicating the lowest category value for recoding. Default is 0, so the new
variable starts with value 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>highest</code></td>
<td>
<p>If specified and greater than <code>lowest</code>, all category values larger than
<code>highest</code> will be set to <code>NA</code>. Default is <code>-1</code>, i.e. this argument is ignored
and no NA's will be produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>Logical, if <code>TRUE</code> (the default) and <code>x</code> is a data frame,
<code>x</code> including the new variables as additional columns is returned;
if <code>FALSE</code>, only the new variables are returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>suffix</code></td>
<td>
<p>Indicates which suffix will be added to each dummy variable.
Use <code>"numeric"</code> to number dummy variables, e.g. <em>x_1</em>,
<em>x_2</em>, <em>x_3</em> etc. Use <code>"label"</code> to add value label,
e.g. <em>x_low</em>, <em>x_mid</em>, <em>x_high</em>. May be abbreviated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predicate</code></td>
<td>
<p>A predicate function to be applied to the columns. The
variables for which <code>predicate</code> returns <code>TRUE</code> are selected.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>x</code> with recoded category values, where <code>lowest</code> indicates
the lowest value;  If <code>x</code> is a data frame, for <code>append = TRUE</code>,
<code>x</code> including the recoded variables as new columns is returned; if
<code>append = FALSE</code>, only the recoded variables will be returned. If
<code>append = TRUE</code> and <code>suffix = ""</code>, recoded variables will replace
(overwrite) existing variables.
</p>


<h3>Note</h3>

<p>Value and variable label attributes are preserved.
</p>


<h3>See Also</h3>

<p><code>rec</code> for general recoding of variables and <code>set_na</code>
for setting <code>NA</code> values.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># recode 1-4 to 0-3
dummy &lt;- sample(1:4, 10, replace = TRUE)
recode_to(dummy)

# recode 3-6 to 0-3
# note that numeric type is returned
dummy &lt;- as.factor(3:6)
recode_to(dummy)

# lowest value starting with 1
dummy &lt;- sample(11:15, 10, replace = TRUE)
recode_to(dummy, lowest = 1)

# lowest value starting with 1, highest with 3
# all others set to NA
dummy &lt;- sample(11:15, 10, replace = TRUE)
recode_to(dummy, lowest = 1, highest = 3)

# recode multiple variables at once
data(efc)
recode_to(efc, c82cop1, c83cop2, c84cop3, append = FALSE)

library(dplyr)
efc %&gt;%
  select(c82cop1, c83cop2, c84cop3) %&gt;%
  mutate(
    c82new = recode_to(c83cop2, lowest = 5),
    c83new = recode_to(c84cop3, lowest = 3)
  ) %&gt;%
  head()


</code></pre>


</div>