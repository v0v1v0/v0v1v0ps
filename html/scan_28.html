<div class="container">

<table style="width: 100%;"><tr>
<td>design</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate a single-case design matrix</h2>

<h3>Description</h3>

<p>Generates a parameter list used for generating multiple random single-cases.
This is used within the <code>random_scdf</code> function and the <code>power_test</code> function
and for other Monte-Carlo tasks.
</p>


<h3>Usage</h3>

<pre><code class="language-R">design(
  n = 1,
  phase_design = list(A = 5, B = 15),
  trend = 0,
  level = list(0),
  slope = list(0),
  start_value = 50,
  s = 10,
  rtt = 0.8,
  extreme_prop = list(0),
  extreme_range = c(-4, -3),
  missing_prop = 0,
  distribution = c("normal", "gaussian", "poisson", "binomial"),
  n_trials = NULL,
  mt = NULL,
  B_start = NULL,
  m,
  phase.design,
  MT,
  B.start,
  extreme.p,
  extreme.d,
  missing.p
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Number of cases to be designed (Default is <code>n = 1</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phase_design, phase.design</code></td>
<td>
<p>A list defining the length and label of each
phase. E.g., <code>phase.length = list(A1 = 10, B1 = 10, A2 = 10, B2 = 10)</code>. Use
vectors if you want to define different values for each case <code style="white-space: pre;">⁠phase.length = list(A = c(10, 15), B = c(10, 15)⁠</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trend</code></td>
<td>
<p>Defines the effect size of a trend added incrementally to each
measurement across the whole data-set. To assign different trends to
several single-cases, use a vector of values (e.g. <code>trend = c(.1, .3, .5)</code>). If the number of cases exceeds the length of the vector, values are
recycled. When using a 'gaussian' distribution, the <code>trend</code> parameters
indicate effect size
<em>d</em> changes.  When using a binomial or poisson distribution, <code>trend</code>
indicates an increase in points / counts per measurement.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>A list that defines the level increase (effect size <em>d</em>) at the
beginning of each phase relative to the previous phase (e.g. <code>list(A = 0, B = 1)</code>). The first element must be zero as the first phase of a single-case
has no level effect (if you have one less list element than the number of
phases, scan will add a leading element with 0 values). Use vectors to
define variable level effects for each case (e.g. <code>list(A = c(0, 0), B = c(1, 2))</code>). When using a 'gaussian' distribution, the <code>level</code> parameters
indicate effect size <em>d</em> changes. When using a binomial or poisson
distribution, <code>level</code> indicates an increase in points / counts with the
onset of each phase.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slope</code></td>
<td>
<p>A list that defines the increase per measurement for each phase
compared to the previous phase. <code>slope = list(A = 0, B = .1)</code> generates an
incremental increase of 0.1 per measurement starting at the B phase. The
first list element must be zero as the first phase of a single-case has no
slope effect (if you have one less list element than the number of phases,
scan will add a leading element with 0 values). Use vectors to define
variable slope effects for each case (e.g. <code>list(A = c(0, 0), B = c(0.1, 0.2))</code>). If the number of cases exceeds the length of the vector, values
are recycled. When using a 'gaussian' distribution, the <code>slope</code> parameters
indicate effect size <em>d</em> changes per measurement. When using a binomial or
poisson distribution, <code>slope</code> indicates an increase in points / counts per
measurement.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_value, m</code></td>
<td>
<p>Starting value at the first measurement. Default is
<code>50</code>. When <code>distribution = "poission"</code> the start_value represents
frequency. When <code>distribution = "binomial"</code> start_value must range between
0 and 1 and they represent the probability of on event. To assign different
start values to several single-cases, use a vector of values (e.g. <code>c(50, 42, 56)</code>). If the number of cases exceeds the length of the vector, values
are recycled. The <code>m</code> argument is deprecated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>
<p>Standard deviation used to calculate absolute values from level,
slope, trend effects and to calculate and error distribution from the <code>rtt</code>
values. Set to <code>10</code> by default. To assign different variances to several
single-cases, use a vector of values (e.g. <code>s = c(5, 10, 15)</code>). If the
number of cases exceeds the length of the vector, values are recycled. if
the distribution is 'poisson' or 'binomial' s is not applied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rtt</code></td>
<td>
<p>Reliability of the underlying simulated measurements. Set <code>rtt = .8</code> by default. To assign different reliabilities to several single-cases,
use a vector of values (e.g. <code>rtt = c(.6, .7, .8)</code>). If the number of cases
exceeds the length of the vector, values are repeated. <code>rtt</code> has no effect
when you're using binomial or poisson distributions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extreme_prop, extreme.p</code></td>
<td>
<p>Probability of extreme values. <code>extreme.p = .05</code> gives a five percent probability of an extreme value. A vector of
values assigns different probabilities to multiple cases. If the number of
cases exceeds the length of the vector, values are recycled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extreme_range, extreme.d</code></td>
<td>
<p>Range for extreme values. <code>extreme_range = c(-7,-6)</code> uses extreme values within a range of -7 and -6 . In case of a
binomial or poisson distribution, <code>extreme_range</code> indicates frequencies. In
case of a gaussian (or normal) distribution it indicates effect size d.
Caution: the first value must be smaller than the second, otherwise the
procedure will fail.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missing_prop, missing.p</code></td>
<td>
<p>Portion of missing values. <code>missing_prop = 0.1</code>
creates 10\
different probabilities to multiple cases. If the number of cases exceeds
the length of the vector, values are repeated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distribution</code></td>
<td>
<p>Distribution of the criteria varible. Default is
<code>"normal"</code>. Possible values are <code>"normal"</code>, <code>"binomial"</code>, and <code>"poisson"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_trials</code></td>
<td>
<p>If <code>distribution</code> (see below) is <code>"binomial"</code>, <code>n_trials</code> is
the number of trials/observations/items.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mt, MT</code></td>
<td>
<p>Number of measurements (in each study). Default is <code>mt = 20</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B_start, B.start</code></td>
<td>
<p>Phase B starting point. The default setting <code>B_start = 6</code> would assign the first five scores (of each case) to phase A, and all
following scores to phase B. To assign different starting points for a set
of multiple single-cases, use a vector of starting values (e.g., <code>B_start = c(6, 7, 8)</code>). If the number of cases exceeds the length of the vector,
values will be recycled.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class sc_design.
</p>


<h3>Author(s)</h3>

<p>Juergen Wibert
</p>


<h3>Examples</h3>

<pre><code class="language-R"> ## Create random single-case data and inspect it
 design &lt;- design(
   n = 3, rtt = 0.75, slope = 0.1, extreme_prop = 0.1,
   missing_prop = 0.1
 )
 dat &lt;- random_scdf(design, round = 1, random.names = TRUE, seed = 123)
 describe(dat)

 ## And now have a look at poisson-distributed data
 design &lt;- design(
   n = 3, B_start = c(6, 10, 14), mt = c(12, 20, 22), start_value = 10,
   distribution = "poisson", level = -5, missing_prop = 0.1
 )
 dat &lt;- random_scdf(design, seed = 1234)
 pand(dat, decreasing = TRUE)
</code></pre>


</div>