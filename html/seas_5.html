<div class="container">

<table style="width: 100%;"><tr>
<td>A1128551.DLY</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>MSC daily climate data file (DLY archive format) and instructions
for Canadian Daily Climate Data CD-ROMs for analysis</h2>

<h3>Description</h3>

<p>Meteorological Service of Canada daily climate data (DLY archive
format) from Vernon. This document also describes how to obtain data
from the Canadian Daily Climate Data CD-ROMs for analysis in
<span class="pkg">seas</span>.
</p>


<h3>Format</h3>

<p>MSC DLY archive format (4-digit year).
</p>


<h3>Details</h3>

<p>The sample file name is ‘<span class="file">A1128551.DLY</span>’, which contains daily
climate data from Vernon, British Columbia. Load this file using
<code>read.msc</code>.
</p>
<p>This file was created using the instructions below, with the addition
of renaming the file extension from ‘<span class="file">*.ALL</span>’ to ‘<span class="file">*.DLY</span>’.
</p>


<h3>How to obtain Canadian Daily Climate Data</h3>

<p>Two CDCD CD-ROMs are currently available for free download, which have
data from 11,216 locations throughout Canada.
</p>
<p>This procedure shows how to extract the data using ‘<span class="file">CDEX.EXE</span>’,
which requires a DOS environment. There is, however, an alternative
Python module, which can batch extract data from the CD-ROMs.  If you
are using a non-Microsoft platform, you could try ‘DOSBox’ to
emulate the DOS environment (tested on Debian and Mac OS X; hint:
mount the CD-ROM drive by using <code>-t cdrom</code> option).
</p>
<p>To extract data from the CD-ROM:
</p>

<ol>
<li>
<p> Insert CD-ROM, and run ‘<span class="file">CDEX.EXE</span>’ (or double-click it)
</p>
</li>
<li>
<p> Select a ‘district’; press ‘enter’
</p>
</li>
<li>
<p> Select a ‘station’; press ‘enter’
</p>
</li>
<li>
<p> Select ‘Elements to Convert’, and select the desired
fields using the ‘space bar’; press ‘enter’
</p>
</li>
<li>
<p> Change ‘Drive/directory of output files’ to a
convenient location, for example ‘<span class="file">C:\TEMP</span>’
</p>
</li>
<li>
<p> Press ‘F10’ to extract the data (the name of the file
is the 7-digit alphanumeric station number, followed by a
‘.ALL’ extension)
</p>
</li>
<li>
<p> Repeat these steps for each meteorological station desired (if
there are more).
</p>
</li>
</ol>
<p>Multiple stations can be imported and combined before or after
importing into <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>. Multiple files can be concatenated into one from
the system shell (e.g. DOS: <code>COPY *.ALL new.dly</code>, or UNIX:
<code>cat *.ALL &gt; new.dly</code>). This cleans up the <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> workspace by only
using one object to refer to several stations. Stations can be
referred to functions in <span class="pkg">seas</span> using their IDs.
</p>
<p>To import the archive file into <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>:
</p>

<ol>
<li>
<p> Start <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>; type <code>library(seas)</code>
</p>
</li>
<li>
<p> Import using <code>dat &lt;- read.msc("/temp/C1161661.ALL")</code>
(note that <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> uses forward slashes for directories, but you could
alternatively type "C:\\TEMP\\C1161661.ALL" on a Microsoft-based
platform to ‘escape’ the back slash characters)
</p>
</li>
</ol>
<p>To export the data from <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> in a more convenient format for other programs,
use <code>write.csv(dat,"out.csv")</code>; MS Excel users may want to turn
<code>NA</code> values into the format recognized by Excel, so modify the
expression to <code>write.csv(dat,"out.csv",na="#N/A")</code>.
</p>


<h3>Author(s)</h3>

<p>Mike Toews</p>


<h3>Source</h3>

<p>Data provided by the Meteorological Service of Canada, with permission.
</p>
<p>This data may only be reproduced for personal use; any other
reproduction is permitted only with the written consent of Environment
Canada (<a href="https://weather.gc.ca/mainmenu/contact_us_e.html">https://weather.gc.ca/mainmenu/contact_us_e.html</a>).
</p>


<h3>References</h3>

<p><a href="https://web.archive.org/web/20130625230337/http://climate.weatheroffice.gc.ca/prods_servs/documentation_index_e.html">https://web.archive.org/web/20130625230337/http://climate.weatheroffice.gc.ca/prods_servs/documentation_index_e.html</a> (archived) Technical Documentation - Documentation for the Digital Archive of Canadian Climatological Data (Surface) Identified By Element
</p>
<p><code style="white-space: pre;">⁠http://climate.weatheroffice.gc.ca/prods_servs/index_e.html#cdcd⁠</code> (dead link) CDCD CD-ROM download location
</p>
<p><a href="https://www.dosbox.com">https://www.dosbox.com</a> for emulating DOS on non-Microsoft
platforms
</p>
<p><a href="https://www.intevation.de/~bernhard/archiv/uwm/canadian_climate_cdformat/">https://www.intevation.de/~bernhard/archiv/uwm/canadian_climate_cdformat/</a> an alternative method of extracting data from the CDCD CD-ROMs using a Python module by Bernhard Reiter
</p>


<h3>See Also</h3>

<p><code>read.msc</code></p>


<h3>Examples</h3>

<pre><code class="language-R">fname &lt;- system.file("extdata", "A1128551.DLY", package="seas")
print(fname)
dat &lt;- read.msc(fname)
head(dat)
str(dat)

seas.temp.plot(dat)
year.plot(dat)
</code></pre>


</div>