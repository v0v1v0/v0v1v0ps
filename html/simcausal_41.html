<div class="container">

<table style="width: 100%;"><tr>
<td>simcausal</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulating Longitudinal Data with Causal Inference Applications</h2>

<h3>Description</h3>

<p>The <span class="pkg">simcausal</span> R package is a tool for specification and simulation of complex longitudinal data structures that are
based on structural equation models. The package provides a flexible tool for conducting transparent and reproducible
simulation studies, with a particular emphasis on the types of data and interventions frequently encountered in typical
causal inference problems, such as, observational data with time-dependent confounding, selection bias, and random monitoring processes.
The package interface allows for concise expression of complex functional dependencies between a large number of nodes,
where each node may represent a time-varying random variable.
The package allows for specification and simulation of counterfactual data under various user-specified interventions
(e.g., static, dynamic, deterministic, or stochastic).
In particular, the interventions may represent exposures to treatment regimens, the occurrence or non-occurrence of right-censoring
events, or of clinical monitoring events. <span class="pkg">simcausal</span> enables the computation of a selected set of user-specified
features of the distribution of the counterfactual data that represent common causal quantities of interest,
such as, treatment-specific means, the average treatment effects and coefficients from working marginal structural models.
For additional details and examples please see the package vignette and the function-specific documentation.
</p>


<h3>Documentation</h3>


<ul>
<li>
<p> To see the package vignette use: <code>vignette("simcausal_vignette", package="simcausal")</code>
</p>
</li>
<li>
<p> To see all available package documentation use: <code>help(package = 'simcausal')</code>
</p>
</li>
</ul>
<h3>Routines</h3>

<p>The following routines will be generally invoked by a user, in the same order as presented below.
</p>

<dl>
<dt><code>DAG.empty</code></dt>
<dd>
<p>Initiates an empty <code>DAG</code> object that contains no nodes.</p>
</dd>
<dt><code>node</code></dt>
<dd>
<p>Defines node(s) in the structural equation model and its conditional distribution(s) using a language of vector-like R expressions. A call to <code>node</code> can specify either a single node or multiple nodes at once.</p>
</dd>
<dt>
<code>add.nodes</code> or <code>+node</code>
</dt>
<dd>
<p>Provide two equivalent ways of growing the structural equation model by adding new nodes and their conditional distributions.
Sequentially define nodes in the <code>DAG</code> object, with each node representing the outcomes of one or more structural equation(s), altogether making-up the causal model of interest.</p>
</dd>
<dt><code>set.DAG</code></dt>
<dd>
<p>Performs consistency checks and locks the <code>DAG</code> object so that no additional nodes can be subsequently added to the structural equation model.</p>
</dd>
<dt>
<code>sim</code> or <code>simobs</code>
</dt>
<dd>
<p>Simulates iid observations of the complete node sequence defined by the <code>DAG</code> object. The output dataset is stored as a <code>data.frame</code> and is referred to as the <em>observed data</em>.</p>
</dd>
<dt>
<code>add.action</code> or <code>+action</code>
</dt>
<dd>
<p>Provide two equivalent ways to define one or more actions.
Each action modifies the conditional distribution for a subset of nodes in the original <code>DAG</code> object. The resulting data generating distribution is referred to as the post-intervention distribution.
It is saved in the <code>DAG</code> object alongside the original structural equation model (<code>DAG</code> object).</p>
</dd>
<dt>
<code>sim</code> or <code>simfull</code>
</dt>
<dd>
<p>Simulates independent observations from one or more post-intervention distribution(s).
Produces a named list of <code>data.frame</code>s, collectively referred to as the <em>full data</em>.
The number of output <code>data.frame</code>s is equal to the number of post-intervention distributions specified in the <code>actions</code> argument, where each <code>data.frame</code> object is an iid sample from a particular post-intervention distribution.</p>
</dd>
<dt>
<code>set.targetE</code> and <code>set.targetMSM</code>
</dt>
<dd>
<p>Define two distinct types of target causal parameters.
The function <code>set.targetE</code> defines causal parameters as the expected value(s) of <code>DAG</code> node(s) under one post-intervention distribution or the contrast of such expected value(s) from two post-intervention distributions.
The function <code>set.targetMSM</code> defines causal parameters based on a user-specified <b>working</b> marginal structural model.</p>
</dd>
<dt><code>eval.target</code></dt>
<dd>
<p>Evaluates the previously defined causal parameter using simulated full data</p>
</dd>
</dl>
<h3>Data structures</h3>

<p>The following most common types of output are produced by the package:
</p>

<ul>
<li> <p><em>parameterized causal <code>DAG</code> model</em> - object that specifies the structural equation model, along with interventions and the causal target parameter of interest.
</p>
</li>
<li> <p><em>observed data</em> - data simulated from the (pre-intervention) distribution specified by the structural equation model.
</p>
</li>
<li> <p><em>full data</em> - data simulated from one or more post-intervention distributions defined by actions on the structural equation model.
</p>
</li>
<li> <p><em>causal target parameter</em> - the true value of the causal target parameter evaluated with full data.
</p>
</li>
</ul>
<h3>Updates</h3>

<p>Check for updates and report bugs at <a href="https://github.com/osofr/simcausal">https://github.com/osofr/simcausal</a>.
</p>


<h3>References</h3>

<p>Sofrygin O, van der Laan MJ, Neugebauer R (2017).
"simcausal R Package: Conducting Transparent and Reproducible Simulation Studies of Causal Effect Estimation with Complex Longitudinal Data."
Journal of Statistical Software, 81(2), 1-47. doi: 10.18637/jss.v081.i02.
</p>


</div>