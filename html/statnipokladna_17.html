<div class="container">

<table style="width: 100%;"><tr>
<td>sp_get_table</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get a statnipokladna table</h2>

<h3>Description</h3>

<p>Cleans and loads a table. If needed, a dataset containing the table is downloaded.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sp_get_table(
  table_id,
  year,
  month = 12,
  ico = NULL,
  redownload = FALSE,
  dest_dir = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>table_id</code></td>
<td>
<p>A table ID. See <code>id</code> column in <code>sp_tables</code> for a list of available tables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year</code></td>
<td>
<p>year, numeric, 2015-2019 for some datasets, 2010-2020 for others.
Can be a vector of length &gt; 1 (see Details for how to work with data across time periods.).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>month</code></td>
<td>
<p>month, numeric. Must be 3, 6, 9 or 12. Can be a vector of length &gt; 1 (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ico</code></td>
<td>
<p>ID(s) of org to return, character of length one or more. If unset, returns all orgs. ID not checked for correctness/existence. See <a href="https://monitor.statnipokladna.cz/datovy-katalog/prohlizec-ciselniku/ucjed">https://monitor.statnipokladna.cz/datovy-katalog/prohlizec-ciselniku/ucjed</a> to look up ID of any org in the dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>redownload</code></td>
<td>
<p>Redownload even if recent file present? Defaults to FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dest_dir</code></td>
<td>
<p>character. Directory in which downloaded files will be stored.
If left unset, will use the <code>statnipokladna.dest_dir</code> option if the option is set, and <code>tempdir()</code> otherwise. Will be created if it does not exist.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The data is loaded from files downloaded automatically by <code>sp_get_dataset()</code>;
files persist in a temporary directory per session.
</p>
<p>How data for different time periods is exported differs by dataset.
This has significant implications for how you get to usable full-year numbers or time series in different tables.
See <code>vignette("statnipokladna")</code> for details on this.
</p>
<p>Data is processed in the following way:
</p>

<ul>
<li>
<p> all columns are given names that are human-readable and facilitato add codelists
</p>
</li>
<li>
<p> ICO (org. IDs) are normalised as in some datasets they are padded with leading zeros
</p>
</li>
<li>
<p> a vykaz_date, vykaz_year and vykaz_month columns are created to identify the time period
</p>
</li>
<li>
<p> value columns are transformed into numeric
</p>
</li>
<li>
<p> other columns are left as character to avoid losing information
</p>
</li>
</ul>
<h4>Correspondence between input and output columns</h4>

<p><strong>Shared/multiple tables</strong></p>

<table>
<tr>
<td style="text-align: left;">
   Original </td>
<td style="text-align: left;"> Output </td>
<td style="text-align: left;"> English </td>
<td style="text-align: left;"> Czech </td>
<td style="text-align: left;"> Note </td>
</tr>
<tr>
<td style="text-align: left;">
   ZC_VTAB </td>
<td style="text-align: left;"> vtab </td>
<td style="text-align: left;"> table number </td>
<td style="text-align: left;"> tabulka </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZC_UCJED </td>
<td style="text-align: left;"> ucjed </td>
<td style="text-align: left;"> accounting unit </td>
<td style="text-align: left;"> účetní jednotka </td>
<td style="text-align: left;"> NB: ucjed != ico; the two codes are different; ICO is universal, ucjed is specific to SP, and both denote an organisation. </td>
</tr>
<tr>
<td style="text-align: left;">
   ZC_VYKAZ </td>
<td style="text-align: left;"> vykaz </td>
<td style="text-align: left;"> report number </td>
<td style="text-align: left;"> výkaz </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZFUNDS_CT </td>
<td style="text-align: left;"> finmisto </td>
<td style="text-align: left;"> accounting centre </td>
<td style="text-align: left;"> finanční místo </td>
<td style="text-align: left;"> either kapitola or "organizační složka státu" (core state org) </td>
</tr>
<tr>
<td style="text-align: left;">
   ZC_ICO </td>
<td style="text-align: left;"> ico </td>
<td style="text-align: left;"> org ID </td>
<td style="text-align: left;"> IČO </td>
<td style="text-align: left;"> see ucjed </td>
</tr>
<tr>
<td style="text-align: left;">
   ZC_FUND </td>
<td style="text-align: left;"> zdroj </td>
<td style="text-align: left;"> funding source </td>
<td style="text-align: left;"> zdroj </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZC_KRAJ </td>
<td style="text-align: left;"> kraj </td>
<td style="text-align: left;"> region </td>
<td style="text-align: left;"> kraj </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZC_NUTS </td>
<td style="text-align: left;"> nuts </td>
<td style="text-align: left;"> NUTS code </td>
<td style="text-align: left;"> NUTS kód </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZC_LAU </td>
<td style="text-align: left;"> okres </td>
<td style="text-align: left;"> NUTS code of LAU1 unit </td>
<td style="text-align: left;"> LAU1 kód </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p><strong>Tables <code style="white-space: pre;">⁠budget-*⁠</code></strong></p>

<table>
<tr>
<td style="text-align: left;">
   Original </td>
<td style="text-align: left;"> Output </td>
<td style="text-align: left;"> English </td>
<td style="text-align: left;"> Czech </td>
<td style="text-align: left;"> Note </td>
</tr>
<tr>
<td style="text-align: left;">
   ZCMMT_ITM </td>
<td style="text-align: left;"> polozka </td>
<td style="text-align: left;"> item/line </td>
<td style="text-align: left;"> položka (druhové členění) </td>
<td style="text-align: left;"> NB: polozka != polvyk </td>
</tr>
<tr>
<td style="text-align: left;">
   0FM_AREA </td>
<td style="text-align: left;"> kapitola </td>
<td style="text-align: left;"> chapter </td>
<td style="text-align: left;"> kapitola </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   0CI_TYPE </td>
<td style="text-align: left;"> polozka_type </td>
<td style="text-align: left;"> item/line type </td>
<td style="text-align: left;"> typ položky </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   FUNC0AREA </td>
<td style="text-align: left;"> paragraf </td>
<td style="text-align: left;"> sector line </td>
<td style="text-align: left;"> paragraf (odvětvové členění) </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZC_PVS </td>
<td style="text-align: left;"> pvs </td>
<td style="text-align: left;"> programme code </td>
<td style="text-align: left;"> programové výdaje státu </td>
<td style="text-align: left;"> post-2014 </td>
</tr>
<tr>
<td style="text-align: left;">
   ZC_EDS </td>
<td style="text-align: left;"> eds </td>
<td style="text-align: left;"> subsidy and proprty evidence </td>
<td style="text-align: left;"> Evidenční dotační systém / správa majetku ve vlastnictví státu </td>
<td style="text-align: left;"> post-2014, No codelist - perhaps external via https://www.edssmvs.cz/DocumentsList.aspx?Agenda=CEIS </td>
</tr>
<tr>
<td style="text-align: left;">
   ZC_UCRIS </td>
<td style="text-align: left;"> ucris </td>
<td style="text-align: left;"> purpose </td>
<td style="text-align: left;"> Účel </td>
<td style="text-align: left;"> post-2014, no codelist found </td>
</tr>
<tr>
<td style="text-align: left;">
   0FUNC_AREA </td>
<td style="text-align: left;"> paragraf </td>
<td style="text-align: left;"> sector line </td>
<td style="text-align: left;"> paragraf (odvětvové členění) </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZU_ROZSCH </td>
<td style="text-align: left;"> budget_adopted </td>
<td style="text-align: left;"> budget as originally adopted </td>
<td style="text-align: left;"> schválený rozpočet </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZU_ROZPZM </td>
<td style="text-align: left;"> budget_amended </td>
<td style="text-align: left;"> budget as amended throughout the year </td>
<td style="text-align: left;"> rozpočet po změnách </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZU_KROZP </td>
<td style="text-align: left;"> budget_final </td>
<td style="text-align: left;"> final budget </td>
<td style="text-align: left;"> konečný rozpočet </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZU_OBLIG </td>
<td style="text-align: left;"> budget_oblig </td>
<td style="text-align: left;"> ? </td>
<td style="text-align: left;"> obligo </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZU_ROZKZ </td>
<td style="text-align: left;"> budget_spending </td>
<td style="text-align: left;"> actual spending </td>
<td style="text-align: left;"> skutečnost </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p><strong>Table <code>budget-indicators</code></strong>
</p>
<p>| Original | Output | English | Czech | Note |
| ZC_PSUK | psuk | budgetary indicator | Závazný a průřezový indikátor | Use <code>psuk</code> codelist |
</p>
<p>**Table <code>budget-central-old-subsidies</code> **
</p>
<p>| Original | Output | English | Czech | Note |
| ZC_ZREUZ | ucelznak | Purpose identifier | Účelový znak | - |
</p>
<p>**Table <code>budget-central-old-purpose-grants</code> **
</p>
<p>| Original | Output | English | Czech | Note |
| 0PU_MEASURE | rozprog | Budgetary programme | Rozpočtový program | - |
</p>
<p><strong>Tables <code style="white-space: pre;">⁠balance-sheet*⁠</code></strong></p>

<table>
<tr>
<td style="text-align: left;">
   Original </td>
<td style="text-align: left;"> Output </td>
<td style="text-align: left;"> English </td>
<td style="text-align: left;"> Czech </td>
<td style="text-align: left;"> Note </td>
</tr>
<tr>
<td style="text-align: left;">
   ZC_POLVYK </td>
<td style="text-align: left;"> polvyk </td>
<td style="text-align: left;"> item/line </td>
<td style="text-align: left;"> položka výkazu </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZC_SYNUC </td>
<td style="text-align: left;"> synuc </td>
<td style="text-align: left;"> synthetic account </td>
<td style="text-align: left;"> syntetický účet </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZU_MONET </td>
<td style="text-align: left;"> previous_net </td>
<td style="text-align: left;"> net, previous period </td>
<td style="text-align: left;"> netto minulé období </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZU_AOBTTO </td>
<td style="text-align: left;"> current_gross </td>
<td style="text-align: left;"> gross, current period </td>
<td style="text-align: left;"> brutto běžné období </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZU_AONET </td>
<td style="text-align: left;"> current_net </td>
<td style="text-align: left;"> net, current period </td>
<td style="text-align: left;"> netto běžné období </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZU_AOKORR </td>
<td style="text-align: left;"> current_correction </td>
<td style="text-align: left;"> correction, current period </td>
<td style="text-align: left;"> korekce běžné období </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p><strong>Tables <code style="white-space: pre;">⁠profit-and-loss-*⁠</code></strong></p>

<table>
<tr>
<td style="text-align: left;">
   Original </td>
<td style="text-align: left;"> Output </td>
<td style="text-align: left;"> English </td>
<td style="text-align: left;"> Czech </td>
<td style="text-align: left;"> Note </td>
</tr>
<tr>
<td style="text-align: left;">
   ZU_HLCIN </td>
<td style="text-align: left;"> previous_core </td>
<td style="text-align: left;"> core activity, previous period </td>
<td style="text-align: left;"> hlavní činnost, minulé období </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZU_HOSCIN </td>
<td style="text-align: left;"> previous_economic </td>
<td style="text-align: left;"> economic activity, previous period </td>
<td style="text-align: left;"> hospodářská činnost, minulé období </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZU_HLCIBO </td>
<td style="text-align: left;"> current_core </td>
<td style="text-align: left;"> core activity, current period </td>
<td style="text-align: left;"> hlavní činnost, běžné období </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZU_HCINBO </td>
<td style="text-align: left;"> current_economic </td>
<td style="text-align: left;"> economic activity, current period </td>
<td style="text-align: left;"> hospodářská činnost, běžné období </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p><strong>Table <code style="white-space: pre;">⁠changes-in-equity⁠</code></strong></p>

<table>
<tr>
<td style="text-align: left;">
   Original </td>
<td style="text-align: left;"> Output </td>
<td style="text-align: left;"> English </td>
<td style="text-align: left;"> Czech </td>
<td style="text-align: left;"> Note </td>
</tr>
<tr>
<td style="text-align: left;">
   ZU_STAVP </td>
<td style="text-align: left;"> before </td>
<td style="text-align: left;"> previous period </td>
<td style="text-align: left;"> stav minulé období </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZU_STAVPO </td>
<td style="text-align: left;"> after </td>
<td style="text-align: left;"> current period </td>
<td style="text-align: left;"> stav běžné období </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZU_ZVYS </td>
<td style="text-align: left;"> increase </td>
<td style="text-align: left;"> increase </td>
<td style="text-align: left;"> zvýšení stavu </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
   ZU_SNIZ </td>
<td style="text-align: left;"> decrease </td>
<td style="text-align: left;"> decrease </td>
<td style="text-align: left;"> snížení stavu </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p><strong>Table <code>cash-flow</code></strong></p>

<table>
<tr>
<td style="text-align: left;">
   Original </td>
<td style="text-align: left;"> Output </td>
<td style="text-align: left;"> English </td>
<td style="text-align: left;"> Czech </td>
<td style="text-align: left;"> Note </td>
</tr>
<tr>
<td style="text-align: left;">
   ZU_BEZUO </td>
<td style="text-align: left;"> current </td>
<td style="text-align: left;"> current period </td>
<td style="text-align: left;"> běžné účetní období </td>
<td style="text-align: left;"> - </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>Value</h3>

<p>a tibble; see Details for key to the columns
</p>


<h3>See Also</h3>

<p>Other Core workflow: 
<code>add_codelist()</code>,
<code>get_codelist()</code>,
<code>sp_add_codelist()</code>,
<code>sp_get_codelist()</code>,
<code>sp_get_dataset()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
allorgs_2018 &lt;- sp_get_table("budget-central", 2018)
allorgs_mid2018 &lt;- sp_get_table("budget-central", 2018, 6)
oneorg_multiyear &lt;- sp_get_table("budget-central", 2017:2018, 12, ico = "00064581")
oneorg_multihalfyears &lt;- sp_get_table("budget-central", 2017:2018, c(6, 12), ico = "00064581")

## End(Not run)
</code></pre>


</div>