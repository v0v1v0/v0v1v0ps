<div class="container">

<table style="width: 100%;"><tr>
<td>seq-predicates</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Is a vector a certain kind of sequence?</h2>

<h3>Description</h3>

<p>Predicate functions that test whether <code>x</code> is a numeric vector
(or coercible to numeric) with some special properties:
</p>

<ul>
<li> <p><code>is_seq_linear()</code> tests whether every two consecutive elements of <code>x</code>
differ by some constant amount.
</p>
</li>
<li> <p><code>is_seq_ascending()</code> and <code>is_seq_descending()</code> test whether the
difference between every two consecutive values is positive or negative,
respectively. <code>is_seq_dispersed()</code> tests whether <code>x</code> values are grouped
around a specific central value, <code>from</code>, with the same distance to both
sides per value pair. By default (<code>test_linear = TRUE</code>), these functions
also test for linearity, like <code>is_seq_linear()</code>.
</p>
</li>
</ul>
<p><code>NA</code> elements of <code>x</code> are handled in a nuanced way. See <em>Value</em> section below
and the examples in <code>vignette("devtools")</code>, section <em>NA handling</em>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">is_seq_linear(x, tolerance = .Machine$double.eps^0.5)

is_seq_ascending(x, test_linear = TRUE, tolerance = .Machine$double.eps^0.5)

is_seq_descending(x, test_linear = TRUE, tolerance = .Machine$double.eps^0.5)

is_seq_dispersed(
  x,
  from,
  test_linear = TRUE,
  tolerance = .Machine$double.eps^0.5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Numeric or coercible to numeric, as determined by
<code>is_numeric_like()</code>. Vector to be tested.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tolerance</code></td>
<td>
<p>Numeric. Tolerance of comparison between numbers when
testing. Default is circa 0.000000015 (1.490116e-08), as in
<code>dplyr::near()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test_linear</code></td>
<td>
<p>Logical. In functions other than <code>is_seq_linear()</code>, should
<code>x</code> also be tested for linearity? Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>Numeric or coercible to numeric. Only in <code>is_seq_dispersed()</code>. It
will test whether <code>from</code> is at the center of <code>x</code>, and if every pair of
other values is equidistant to it.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A single logical value. If <code>x</code> contains at least one <code>NA</code> element,
the functions return either <code>NA</code> or <code>FALSE</code>:
</p>

<ul>
<li>
<p> If all elements of <code>x</code> are <code>NA</code>, the functions return <code>NA</code>.
</p>
</li>
<li>
<p> If some but not all elements are <code>NA</code>, they check if <code>x</code> <em>might</em> be a
sequence of the kind in question: Is it a linear (and / or ascending, etc.)
sequence after the <code>NA</code>s were replaced by appropriate values? If so, they
return <code>NA</code>; otherwise, they return <code>FALSE</code>.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>validate::is_linear_sequence()</code>, which is much like
<code>is_seq_linear()</code> but more permissive with <code>NA</code> values. It comes with some
additional features, such as support for date-times.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># These are linear sequences...
is_seq_linear(x = 3:7)
is_seq_linear(x = c(3:7, 8))

# ...but these aren't:
is_seq_linear(x = c(3:7, 9))
is_seq_linear(x = c(10, 3:7))

# All other `is_seq_*()` functions
# also test for linearity by default:
is_seq_ascending(x = c(2, 7, 9))
is_seq_ascending(x = c(2, 7, 9), test_linear = FALSE)

is_seq_descending(x = c(9, 7, 2))
is_seq_descending(x = c(9, 7, 2), test_linear = FALSE)

is_seq_dispersed(x = c(2, 3, 5, 7, 8), from = 5)
is_seq_dispersed(x = c(2, 3, 5, 7, 8), from = 5, test_linear = FALSE)

# These fail their respective
# individual test even
# without linearity testing:
is_seq_ascending(x = c(1, 7, 4), test_linear = FALSE)
is_seq_descending(x = c(9, 15, 3), test_linear = FALSE)
is_seq_dispersed(1:10, from = 5, test_linear = FALSE)
</code></pre>


</div>