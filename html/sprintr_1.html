<div class="container">

<table style="width: 100%;"><tr>
<td>cv.sprinter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Running sprinter with cross-validation</h2>

<h3>Description</h3>

<p>The main cross-validation function to select the best sprinter fit for a path of tuning parameters.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cv.sprinter(x, y, num_keep = NULL, square = FALSE, lambda = NULL,
  nlam = 100, lam_min_ratio = ifelse(nrow(x) &lt; ncol(x), 0.01, 1e-04),
  nfold = 5, foldid = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An <code>n</code> by <code>p</code> design matrix of main effects. Each row is an observation of <code>p</code> main effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A response vector of size <code>n</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_keep</code></td>
<td>
<p>Number of candidate interactions to keep in Step 2. If <code>num_keep</code> is not specified (as default), it will be set to <code>[n / log n]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>square</code></td>
<td>
<p>Indicator of whether squared effects should be fitted in Step 1. Default to be FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>A user specified list of tuning parameter. Default to be NULL, and the program will compute its own <code>lambda</code> path based on <code>nlam</code> and <code>lam_min_ratio</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nlam</code></td>
<td>
<p>The number of <code>lambda</code> values. Default value is <code>100</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lam_min_ratio</code></td>
<td>
<p>The ratio of the smallest and the largest values in <code>lambda</code>. The largest value in <code>lambda</code> is usually the smallest value for which all coefficients are set to zero. Default to be <code>1e-2</code> in the <code>n</code> &lt; <code>p</code> setting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfold</code></td>
<td>
<p>Number of folds in cross-validation. Default value is 5. If each fold gets too view observation, a warning is thrown and the minimal <code>nfold = 3</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>foldid</code></td>
<td>
<p>A vector of length <code>n</code> representing which fold each observation belongs to. Default to be <code>NULL</code>, and the program will generate its own randomly.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of S3 class "<code>sprinter</code>".
</p>

<dl>
<dt><code>n</code></dt>
<dd>
<p>The sample size.</p>
</dd>
<dt><code>p</code></dt>
<dd>
<p>The number of main effects.</p>
</dd>
<dt><code>a0</code></dt>
<dd>
<p>estimate of intercept corresponding to the CV-selected model.</p>
</dd>
<dt><code>compact</code></dt>
<dd>
<p>A compact representation of the selected variables. <code>compact</code> has three columns, with the first two columns representing the indices of a selected variable (main effects with first index = 0), and the last column representing the estimate of coefficients.</p>
</dd>
<dt><code>fit</code></dt>
<dd>
<p>The whole <code>glmnet</code> fit object in Step 3.</p>
</dd>
<dt><code>fitted</code></dt>
<dd>
<p>fitted value of response corresponding to the CV-selected model.</p>
</dd>
<dt><code>lambda</code></dt>
<dd>
<p>The sequence of <code>lambda</code> values used.</p>
</dd>
<dt><code>cvm</code></dt>
<dd>
<p>The averaged estimated prediction error on the test sets over K folds.</p>
</dd>
<dt><code>cvsd</code></dt>
<dd>
<p>The standard error of the estimated prediction error on the test sets over K folds.</p>
</dd>
<dt><code>foldid</code></dt>
<dd>
<p>Fold assignment. A vector of length <code>n</code>.</p>
</dd>
<dt><code>ibest</code></dt>
<dd>
<p>The index in <code>lambda</code> that is chosen by CV.</p>
</dd>
<dt><code>call</code></dt>
<dd>
<p>Function call.</p>
</dd>
</dl>
<h3>See Also</h3>

<p><code>predict.cv.sprinter</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">n &lt;- 100
p &lt;- 200
x &lt;- matrix(rnorm(n * p), n, p)
y &lt;- x[, 1] - 2 * x[, 2] + 3 * x[, 1] * x[, 3] - 4 * x[, 4] * x[, 5] + rnorm(n)
mod &lt;- cv.sprinter(x = x, y = y)

</code></pre>


</div>