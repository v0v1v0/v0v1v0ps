<div class="container">

<table style="width: 100%;"><tr>
<td>mksub</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Make a subset of seasonal data</h2>

<h3>Description</h3>

<p>Creates a subset of a <code>data.frame</code> with temporal observations,
using IDs and start and ending dates or years.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  mksub(x, start, end, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a data frame with temporal observations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>either a starting <code>Date</code> or
<code>integer</code> year; if omitted minimum will be used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>
<p>either an ending <code>Date</code> or year; if omitted will use
same year as <code>start</code>, and if <code>start</code> is omitted, will use
maximum year</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>unique station identifier (if present), which is assumed to
be a column of <code>x</code> as <code>x$id</code>; it is used to extract a
subset of data from a single ID</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This utility function is useful for creating temporal subsets of
seasonal data and for extracting a single station out of a
<code>data.frame</code> with multiple stations or sets. The <code>x</code>
object can have many columns, representing measured variables for each
day, which will be returned with their original attributes.
</p>
<p>If <code>id</code> is used, that station will be extracted from
<code>x</code>. If <code>id</code> is not provided, but there are more than one
unique IDs in <code>x$id</code>, the first unique ID will be extracted, with
a warning.
</p>


<h3>Value</h3>

<p>Returns a subset of a <code>data.frame</code> with the same columns
and attributes as <code>x</code>, except <code>id</code>, which will be retained
as an attribute (e.g., <code>attr(x,"id")</code>).
</p>


<h3>Author(s)</h3>

<p>Mike Toews</p>


<h3>See Also</h3>

<p><code>read.msc</code>, <code>mscdata</code></p>


<h3>Examples</h3>

<pre><code class="language-R">data(mscdata)

# All available data from one station
summary(mksub(mscdata, id=1108447))

# One year
str(mksub(mscdata, id=1108447, start=1980))

# A range of years
str(mksub(mscdata, id=1108447, start=1980, end=1989))

# A range of dates
summary(mksub(mscdata, id=1108447,
              start=as.Date("1975-08-01"),
              end=as.Date("2000-07-31")))
</code></pre>


</div>