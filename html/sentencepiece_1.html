<div class="container">

<table style="width: 100%;"><tr>
<td>BPEembed</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tokenise and embed text alongside a Sentencepiece and Word2vec model</h2>

<h3>Description</h3>

<p>Use a sentencepiece model to tokenise text and get the embeddings of these
</p>


<h3>Usage</h3>

<pre><code class="language-R">BPEembed(
  file_sentencepiece = x$file_model,
  file_word2vec = x$glove.bin$file_model,
  x,
  normalize = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file_sentencepiece</code></td>
<td>
<p>the path to the file containing the sentencepiece model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file_word2vec</code></td>
<td>
<p>the path to the file containing the word2vec embeddings</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>the result of a call to <code>sentencepiece_download_model</code>. 
If this is provided, arguments <code>file_sentencepiece</code> and <code>file_word2vec</code> will not be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalize</code></td>
<td>
<p>passed on to <code>read.wordvectors</code> to read in <code>file_word2vec</code>. Defaults to <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>an object of class BPEembed which is a list with elements 
</p>

<ul>
<li>
<p>model: a sentencepiece model as loaded with <code>sentencepiece_load_model</code>
</p>
</li>
<li>
<p>embedding: a matrix with embeddings as loaded with <code>read.wordvectors</code>
</p>
</li>
<li>
<p>dim: the dimension of the embedding
</p>
</li>
<li>
<p>n: the number of elements in the vocabulary
</p>
</li>
<li>
<p>file_sentencepiece: the sentencepiece model file
</p>
</li>
<li>
<p>file_word2vec: the word2vec embedding file
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>predict.BPEembed</code>, <code>sentencepiece_load_model</code>, <code>sentencepiece_download_model</code>, <code>read.wordvectors</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">##
## Example loading model from disk
##
folder    &lt;- system.file(package = "sentencepiece", "models")
embedding &lt;- file.path(folder, "nl.wiki.bpe.vs1000.d25.w2v.bin")
model     &lt;- file.path(folder, "nl.wiki.bpe.vs1000.model")
encoder   &lt;- BPEembed(model, embedding)  

## Do tokenisation with the sentencepiece model + embed these
txt    &lt;- c("De eigendomsoverdracht aan de deelstaten is ingewikkeld.",
            "On est d'accord sur le prix de la biere?")
values &lt;- predict(encoder, txt, type = "encode")  
str(values) 
values

txt &lt;- rownames(values[[1]])
predict(encoder, txt, type = "decode") 
txt &lt;- lapply(values, FUN = rownames) 
predict(encoder, txt, type = "decode") 
</code></pre>


</div>