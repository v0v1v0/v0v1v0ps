<div class="container">

<table style="width: 100%;"><tr>
<td>D.designdata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Construct Density Design Data </h2>

<h3>Description</h3>

<p>Internal function used by <code>secr.fit</code>,
<code>confint.secr</code>, and <code>score.test</code>. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">D.designdata (mask, Dmodel, grouplevels, sessionlevels, sessioncov =
NULL, meanSD = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mask</code></td>
<td>
 <p><code>mask</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Dmodel</code></td>
<td>
<p> formula for density model </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grouplevels</code></td>
<td>
<p> vector of group names </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sessionlevels</code></td>
<td>
<p> vector of character values for session names </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sessioncov</code></td>
<td>
<p> optional dataframe of values of session-specific
covariate(s). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meanSD</code></td>
<td>
<p>optional external values for scaling x- and
y- coordinates</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is an internal <span class="pkg">secr</span> function that you are unlikely ever to
use. Unlike <code>secr.design.MS</code>, this function does <em>not</em>
call <code>model.matrix</code>.
</p>


<h3>Value</h3>

<p>Dataframe with one row for each combination of mask point, group and
session. Conceptually, we use a 3-D rectangular array with enough rows
to accommodate the largest mask, so some rows in the output may merely
hold space to enable easy indexing. The dataframe has an attribute
‘dimD’ that gives the relevant dimensions: <code> attr(dframe, "dimD") =
c(nmask, ngrp, R)</code>, where <code>nmask</code> is the number of mask points,
<code>ngrp</code> is the number of groups, and <code>R</code> is the number of
sessions. Columns correspond to predictor variables in Dmodel.
</p>
<p>The number of valid rows (points in each session-specific mask) is
stored in the attribute ‘validMaskRows’.
</p>
<p>For a single-session mask, <code>meanSD</code> is a 2 x 2 matrix of mean and
SD (rows) for x- and y-coordinates. For a multi-session mask, a list of
such objects. Ordinarily these values are from the meanSD attribute of
the mask, but they must be specified when applying a new mask to an
existing model.
</p>


<h3>See Also</h3>

 <p><code>secr.design.MS</code> </p>


</div>