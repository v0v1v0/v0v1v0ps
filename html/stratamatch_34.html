<div class="container">

<table style="width: 100%;"><tr>
<td>plot.auto_strata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot method for <code>auto_strata</code> object</h2>

<h3>Description</h3>

<p>Generates diagnostic plots for the product of a stratification by
<code>auto_stratify</code>.  There are four plot types: </p>
 <ol>
<li>
<p><code>"SR"</code> (default) - produces a scatter plot of strata by size and
treat:control ratio </p>
</li>
<li> <p><code>"hist"</code> - produces a histogram of propensity
scores within a stratum </p>
</li>
<li> <p><code>"AC"</code> - produces a Assignment-Control
plot of individuals within a stratum </p>
</li>
<li> <p><code>"residual"</code> - produces a
residual plot for the prognostic model</p>
</li>
</ol>
<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'auto_strata'
plot(
  x,
  type = "SR",
  label = FALSE,
  stratum = "all",
  strata_lines = TRUE,
  jitter_prognosis,
  jitter_propensity,
  propensity,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an <code>auto_strata</code> object returned by <code>auto_stratify</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>string giving the plot type (default = <code>"SR"</code>).  Other
options are <code>"hist"</code>, <code>"AC"</code> and <code>"residual"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>ignored unless <code>type = "SR"</code>. If <code>TRUE</code>, a clickable
plot is produced. The user may click on any number of strata and press
finish to have those strata labeled.  Note: uses <code>identify</code>,
which may not be supported on some devices</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stratum</code></td>
<td>
<p>ignored unless <code>type = "hist"</code> or <code>type = "AC"</code>. A
number specifying which stratum to plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata_lines</code></td>
<td>
<p>default = <code>TRUE</code>. Ignored unless <code>type = "AC"</code>.
If TRUE, lines on the plot indicate strata cut points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jitter_prognosis</code></td>
<td>
<p>ignored unless <code>type = "AC"</code>.  Amount of uniform
random noise to add to prognostic scores in plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jitter_propensity</code></td>
<td>
<p>ignored unless <code>type = "AC"</code>.  Amount of
uniform random noise to add to propensity scores in plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>propensity</code></td>
<td>
<p>ignored unless <code>type = "hist"</code> or <code>type = "AC"</code>.
Specifies propensity score information for plots where this is required.
Accepts either a vector of propensity scores, a <code>glm</code> model for
propensity scores, or a formula for fitting a propensity score model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>Aikens, Greaves, and Baiocchi (2020) in Statistics in Medicine,
Section 3.2 for an explaination of Assignment-Control plots (formerly
"Fisher-Mill" plots).
</p>
<p><code>plot.manual_strata</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">dat &lt;- make_sample_data()
a.strat &lt;- auto_stratify(dat, "treat", outcome ~ X1 + X2)
plot(a.strat) # makes size-ratio scatter plot
plot(a.strat, type = "hist", propensity = treat ~ X1, stratum = 1)
plot(a.strat, type = "AC", propensity = treat ~ X1, stratum = 1)
plot(a.strat, type = "residual")
</code></pre>


</div>