<div class="container">

<table style="width: 100%;"><tr>
<td>getMeta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get and set metadata for TD objects</h2>

<h3>Description</h3>

<p>Functions for extracting and adding metadata for objects of class TD.<br><br><code>getMeta</code> extracts a data.frame with location, date, design, latitude,
longitude, plot width and plot length for all trials in TD.<br><br><code>setMeta</code> adds metadata from a data.frame to an object of class TD. See
details for the specifications of the data.frame.<br><br>
The most common use case is extracting metadata from a TD object, modifying
the content and then adding it back to the TD object.<br>
Information in the metadata of a TD object is used in plotting functions
(e.g. latitude and longitude for a map plot) and when fitting models on the
data (the trial design).
</p>


<h3>Usage</h3>

<pre><code class="language-R">getMeta(TD)

setMeta(TD, meta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>TD</code></td>
<td>
<p>An object of class TD.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meta</code></td>
<td>
<p>A data.frame containing metadata.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When setting metadata, metadata has to be a data.frame with rownames
corresponding to the trials in <code>TD</code>. The data.frame should contain one
or more of the following columns:
</p>

<dl>
<dt>trLocation</dt>
<dd>
<p>The location of the trial. Used as default name when
creating plots and summaries.</p>
</dd>
<dt>trDate</dt>
<dd>
<p>The date of the trial.</p>
</dd>
<dt>trDesign</dt>
<dd>
<p>The design of the trial. One of "none" (no (known) design),
"ibd" (incomplete-block design), "res.ibd" (resolvable incomplete-block
design), "rcbd" (randomized complete block design),
"rowcol" (row-column design) or "res.rowcol" (resolvable row-column design).
Used when fitting models.</p>
</dd>
<dt>trLat</dt>
<dd>
<p>The latitude of the trial on a scale of -90 to 90. Used when
plotting the trials on a map.</p>
</dd>
<dt>trLong</dt>
<dd>
<p>The longitude of the trial on a scale of -180 to 180. Used
when plotting the trials on a map.</p>
</dd>
<dt>trPlWidth</dt>
<dd>
<p>The width of the plot. Used in combination with trPlLength
to determine the size of the plots in a layout plot of a trial.</p>
</dd>
<dt>trPlLength</dt>
<dd>
<p>The length of the plot. Used in combination with
trPlWidth to determine the size of the plots in a layout plot of a trial.</p>
</dd>
</dl>
<p>The values of the metadata of TD will be set to the values in the
corresponding column in <code>meta</code>. Existing values will be overwritten,
but <code>NA</code> will be ignored so setting a value to <code>NA</code> won't result
in accidentally removing it.
</p>


<h3>See Also</h3>

<p>Other functions for TD objects: 
<code>TD</code>,
<code>plot.TD()</code>,
<code>summary.TD()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("dropsRaw")

## Create a TD object.
dropsTD &lt;- createTD(data = dropsRaw[dropsRaw$year == 2012, ],
                    genotype = "Variety_ID",
                    trial = "Experiment",
                    loc = "Site",
                    repId = "Replicate",
                    subBlock = "block",
                    rowCoord = "Row",
                    colCoord = "Column",
                    trLat = "Lat",
                    trLong = "Long")

## Get meta data from dropsTD.
(dropsMeta &lt;- getMeta(dropsTD))

## Add trial date to meta data.
dropsMeta$trDate &lt;- as.Date(rep("010112", times = 5), "%d%m%y")

## Add back meta data to wheatTD.
dropsTD &lt;- setMeta(dropsTD,
                   dropsMeta)

</code></pre>


</div>