<div class="container">

<table style="width: 100%;"><tr>
<td>computeLinear</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Numerical weighting functions</h2>

<h3>Description</h3>

<p>Customize weight-updating within factor levels in case of numerical
calibration. The functions described here serve as inputs for ipf.
</p>


<h3>Usage</h3>

<pre><code class="language-R">computeLinear(curValue, target, x, w, boundLinear = 10)

computeLinearG1(curValue, target, x, w, boundLinear = 10)

computeFrac(curValue, target, x, w)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>curValue</code></td>
<td>
<p>Current summed up value. Same as <code>sum(x*w)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>Target value. An element of <code>conP</code> in ipf</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Vector of numeric values to be calibrated against</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>Vector of weights</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boundLinear</code></td>
<td>
<p>The output <code>f</code> will satisfy
<code style="white-space: pre;">⁠1/boundLinear &lt;= f &lt;= boundLinear⁠</code>. See <code>bound</code> in ipf</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>computeFrac</code> provides the "standard" IPU updating scheme given as
</p>
<p style="text-align: center;"><code class="reqn">f = target/curValue</code>
</p>

<p>which means that each weight inside the level will be multtiplied by the same
factor when doing the actual update step (<code>w := f*w</code>). <code>computeLinear</code> on the
other hand calculates <code>f</code> as
</p>

<div style="text-align: center;"> f<sub>i</sub> = a  · x<sub>i</sub> + b </div>

<p>where <code>a</code> and <code>b</code> are chosen, so f satisfies the following two equations.
</p>

<div style="text-align: center;">∑ f<sub>i</sub> w<sub>i</sub>
       x<sub>i</sub> = target</div>


<div style="text-align: center;">∑ f<sub>i</sub>
       w<sub>i</sub> = ∑ w<sub>i</sub>
</div>

<p><code>computeLinearG1</code> calculates <code>f</code> in the same way as <code>computeLinear</code>, but if
<code>f_i*w_i&lt;1</code> <code>f_i</code> will be set to <code>1/w_i</code>.
</p>


<h3>Value</h3>

<p>A weight multiplier <code>f</code>
</p>


</div>