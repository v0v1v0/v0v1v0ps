<div class="container">

<table style="width: 100%;"><tr>
<td>strata.data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Stratification of Univariate Survey Population Using the Data</h2>

<h3>Description</h3>

<p>This function takes in the univariate population data
(argument <code>data</code>) and a fixed sample size (n)
to compute the optimum stratum boundaries (OSB) for a
given number of strata (L), optimum sample sizes (nh),
etc. directly from the data. The main idea used is from
Khan et al (2008) whereby the problem of stratification
is formulated into a Mathematical Programming Problem (MPP)
using the best-fit frequency distribution and its parameters
estimated from the data. This MPP is then solved for the
OSB using a Dynamic Programming (DP) solution procedure.
</p>
<p>This function takes in the univariate population data
(argument <code>data</code>) and a fixed sample size (n)
to compute the optimum stratum boundaries (OSB) for a
given number of strata (L), optimum sample sizes (nh),
etc. directly from the data. The main idea used is from
Khan et al (2008) whereby the problem of stratification
is formulated into a Mathematical Programming Problem (MPP)
using the best-fit frequency distribution and its parameters
estimated from the data. This MPP is then solved for the
OSB using a Dynamic Programming (DP) solution procedure.
</p>


<h3>Usage</h3>

<pre><code class="language-R">strata.data(data, h, n, cost = FALSE, ch = NULL)

strata.data(data, h, n, cost = FALSE, ch = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A vector of values of the survey variable y for
which the OSB are determined</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p>A numeric: denotes the number of strata to be created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>A numeric: denotes a fixed total sample size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cost</code></td>
<td>
<p>A logical: has default cost=FALSE. If it is a stratum-cost problem,
cost=TRUE, with which, one must provide the Ch parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ch</code></td>
<td>
<p>A numeric: denotes a vector of stratum costs. When cost=FALSE, it 
has a default of NULL.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>strata.data</code> returns Optimum Strata Boundaries (OSB),
stratum weights (Wh), stratum variances (Vh), Optimum Sample Sizes
(nh), stratum population sizes (Nh) and sampling fraction (fh).
</p>
<p><code>strata.data</code> returns Optimum Strata Boundaries (OSB),
stratum weights (Wh), stratum variances (Vh), Optimum Sample Sizes
(nh), stratum population sizes (Nh) and sampling fraction (fh).
</p>


<h3>Author(s)</h3>

<p>Karuna Reddy &lt;karuna.reddy@usp.ac.fj&gt;<br> MGM Khan &lt;khan_mg@usp.ac.fj&gt;
</p>
<p>Karuna Reddy &lt;karuna.reddy@usp.ac.fj&gt;<br> MGM Khan &lt;khan_mg@usp.ac.fj&gt;
</p>


<h3>See Also</h3>

<p><code>strata.distr</code>
</p>
<p><code>strata.distr</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data &lt;- rweibull(1000, shape=2, scale = 1.5)
hist(data)
obj &lt;- strata.data(data, h = 2, n=300)
summary(obj)
#-------------------------------------------------------------
data(anaemia)
Iron &lt;- anaemia$Iron
res &lt;- strata.data(Iron, h = 2, n=350)
summary(res)
#-------------------------------------------------------------
data(SHS) #Household Spending data from stratification package
weight &lt;- SHS$WEIGHT
hist(weight); length(weight)
res &lt;- strata.data(weight, h = 2, n=500)
summary(res)
#-------------------------------------------------------------
data(sugarcane)
Production &lt;- sugarcane$Production
hist(Production)
res &lt;- strata.data(Production, h = 2, n=1000)
summary(res)
#-------------------------------------------------------------
#The function be dynamically used to visualize the the strata boundaries, 
#for 2 strata, over the density (or observations) of the "mag" variable 
#from the quakes data (with purrr and ggplot2 packages loaded).
output &lt;- quakes %&gt;%
          pluck("mag") %&gt;%
          strata.data(h = 2, n = 300)
quakes %&gt;% 
      ggplot(aes(x = mag)) +
      geom_density(fill = "blue", colour = "black", alpha = 0.3) +
      geom_vline(xintercept = output$OSB, linetype = "dotted", color = "red")
#-------------------------------------------------------------

## End(Not run)

## Not run: 
data &lt;- rweibull(1000, shape=2, scale = 1.5)
hist(data)
obj &lt;- strata.data(data, h = 2, n=300)
summary(obj)
#-------------------------------------------------------------
data(anaemia)
Iron &lt;- anaemia$Iron
res &lt;- strata.data(Iron, h = 2, n=350)
summary(res)
#-------------------------------------------------------------
data(SHS) #Household Spending data from stratification package
weight &lt;- SHS$WEIGHT
hist(weight); length(weight)
res &lt;- strata.data(weight, h = 2, n=500)
summary(res)
#-------------------------------------------------------------
data(sugarcane)
Production &lt;- sugarcane$Production
hist(Production)
res &lt;- strata.data(Production, h = 2, n=1000)
summary(res)
#-------------------------------------------------------------
#The function be dynamically used to visualize the the strata boundaries, 
#for 2 strata, over the density (or observations) of the "mag" variable 
#from the quakes data (with purrr and ggplot2 packages loaded).
output &lt;- quakes %&gt;%
          pluck("mag") %&gt;%
          strata.data(h = 2, n = 300)
quakes %&gt;% 
      ggplot(aes(x = mag)) +
      geom_density(fill = "blue", colour = "black", alpha = 0.3) +
      geom_vline(xintercept = output$OSB, linetype = "dotted", color = "red")
#-------------------------------------------------------------

## End(Not run)

</code></pre>


</div>