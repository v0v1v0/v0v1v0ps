<div class="container">

<table style="width: 100%;"><tr>
<td>warpWindowSP</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Restrict the DTW warping window for snow profiles alignment</h2>

<h3>Description</h3>

<p>Given a matrix, this function sets all elements of the matrix that are outside the so-called warping
window to <code>NA</code>. The warping window is a slanted band of constant width around the main diagonal
(i.e., <em>Sakoe-Chiba</em>-band), and it's size can be controlled with function arguments.
</p>


<h3>Usage</h3>

<pre><code class="language-R">warpWindowSP(
  iw,
  jw,
  iheight,
  jheight,
  iddate,
  jddate,
  profile.size,
  profile.height,
  window.size = 0.3,
  window.size.abs = NA,
  ddate.window.size = Inf,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>iw</code></td>
<td>
<p>matrix of integers indicating their row number (cf., <code>?row</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jw</code></td>
<td>
<p>matrix of integers indicating their column number (cf., <code>?col</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iheight</code></td>
<td>
<p>matrix of query height filled into the columns of the matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jheight</code></td>
<td>
<p>matrix of ref height filled into the rows of the matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iddate</code></td>
<td>
<p>same as iheight, but containing deposition date information (i.e., POSIXct data converted to numeric through matrix call!)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jddate</code></td>
<td>
<p>same as jheight, but containing deposition date information (i.e., POSIXct data converted to numeric through matrix call!)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>profile.size</code></td>
<td>
<p>number of layers in the longer one of the two profiles (scalar)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>profile.height</code></td>
<td>
<p>snow height of the deeper one of the two profiles (scalar)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window.size</code></td>
<td>
<p>percentage of profile.size or profile.height defining the size of the warping window
(i.e., the most restrictive of the two will be applied)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window.size.abs</code></td>
<td>
<p>Instead of a <code>window.size</code> percentage, an absolute value (in <em>cm</em>!) can be provided</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ddate.window.size</code></td>
<td>
<p>number of days that exclude layers from the warping window if their deposition dates
differ by more than these days</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>unusedâ€”but important to be able to provide other warping functions to distanceSPlayers</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>dtw::dtwWindowingFunctions
</p>


</div>