<div class="container">

<table style="width: 100%;"><tr>
<td>check_tr_dup</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Check for duplicate TR records</h2>

<h3>Description</h3>

<p>This check looks for duplicate TR records and returns a data frame.
Only applies to assessments by Investigator, selected based on uppercased
TREVAL = "INVESTIGATOR" or missing or TREVAL variable does not exist.
</p>


<h3>Usage</h3>

<pre><code class="language-R">check_tr_dup(TR)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>TR</code></td>
<td>
<p>dataframe with variables USUBJID, TRCAT, TRLINKID/TRLNKID, TRTESTCD, TRSTRESC,
TRDTC, TRSPID (if it exists)</p>
</td>
</tr></table>
<h3>Value</h3>

<p>boolean value if check failed or passed with 'msg' attribute if the test failed
</p>


<h3>Author(s)</h3>

<p>Joel Laxamana
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# example with an error
TR &lt;- data.frame(
 USUBJID  = c(1,1,2,2),
 TRCAT    = c(1,1,2,2),
 TRTESTCD = c(1,1,2,2),
 TRLINKID = c(1,1,2,2),
 TRDTC = c(rep("2016-01-01",2), rep("2016-06-01",2)),
 TRSTRESC = c(1,1,2,2),
 TRSPID = "FORMNAME-R:19/L:19XXXX",
 TREVAL = "INVESTIGATOR",
 stringsAsFactors = FALSE
)

check_tr_dup(TR)

TR1 &lt;- TR
TR1$TRSPID &lt;- NULL

check_tr_dup(TR1)

TR2 &lt;- TR
TR2$TREVAL &lt;- NULL

check_tr_dup(TR2)

# example with no records flagged because issues only among IRF records
TR3 &lt;- TR
TR3$TREVAL &lt;- "INDEPENDENT ASSESSOR"
check_tr_dup(TR3)

# example with required variable missing
TR4 &lt;- TR
TR4$TRLINKID &lt;- NULL
check_tr_dup(TR4)


</code></pre>


</div>