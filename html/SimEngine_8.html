<div class="container">

<table style="width: 100%;"><tr>
<td>set_config</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Modify the simulation configuration</h2>

<h3>Description</h3>

<p>This function sets configuration options for the simulation. If
the 'packages' argument is specified, all packages will be loaded and
attached via <code>library</code> when <code>set_config</code> is called. Multiple
calls to <code>set_config</code> will only overwrite configuration options that
are specified in the subsequent calls, leaving others in place. You can
see the current configuration via <code>print(sim)</code>, where <code>sim</code> is
your simulation object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">set_config(
  sim,
  num_sim = 1000,
  parallel = FALSE,
  n_cores = NA,
  packages = NULL,
  stop_at_error = FALSE,
  progress_bar = TRUE,
  seed = as.integer(1e+09 * runif(1)),
  batch_levels = NA,
  return_batch_id = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sim</code></td>
<td>
<p>A simulation object of class <code>sim_obj</code>, usually created by
<code>new_sim</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_sim</code></td>
<td>
<p>An integer; the number of simulations to conduct for each
level combination</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>Boolean; if set to TRUE, <span class="pkg">SimEngine</span> will run one
simulation per core. if set to FALSE, code will not be parallelized. See
the <a href="https://avi-kenny.github.io/SimEngine/articles/parallelization.html">Parallelization</a>
vignette for an overview of how parallelization works in <span class="pkg">SimEngine</span>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_cores</code></td>
<td>
<p>An integer; determines the number of cores on which the
simulation will run if using parallelization. Defaults to one fewer than
the number of available cores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>packages</code></td>
<td>
<p>A character vector of packages to load and attach</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stop_at_error</code></td>
<td>
<p>Boolean; if set to TRUE, the simulation will stop if it
encounters an error in any single replicate Useful for debugging.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress_bar</code></td>
<td>
<p>Boolean; if set to FALSE, the progress bar that is
normally displayed while the simulation is running is suppressed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>An integer; seeds allow for reproducible simulation results. If a
seed is specified, then consecutive runs of the same simulation with the
same seed will lead to identical results (under normal circumstances). If
a seed was not set in advance by the user, <span class="pkg">SimEngine</span> will set a
random seed, which can later be retrieved using the <code>vars</code>
function. See details for further info.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>batch_levels</code></td>
<td>
<p>Either NULL or a character vector. If the
<code>batch</code> function is being used within the simulation script,
this should contain the names of the simulation levels that are used
within the <code>batch</code> function code block. If no simulation
levels are used within the <code>batch</code> function code block,
specify NULL. See the documentation for the <code>batch</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_batch_id</code></td>
<td>
<p>Boolean. If set to TRUE, the batch_id will be included
as part of the simulation results</p>
</td>
</tr>
</table>
<h3>Details</h3>


<ul>
<li>
<p>If a user specifies, for example, <code>set_config(seed=4)</code>, this
seed is used twice by <span class="pkg">SimEngine</span>. First, <span class="pkg">SimEngine</span> executes
<code>set.seed(4)</code> at the end of the <code>set_config</code> call. Second, this
seed is used to generate a new set of seeds, one for each simulation
replicate. Each of these seeds is set in turn (or in parallel) when
<code>run</code> is called.
</p>
</li>
<li>
<p>Even if seeds are used, not all code will be reproducible. For
example, a simulation that involves getting the current date/time with
<code>Sys.time</code> or dynamically retrieving external data may produce
different results on different runs.
</p>
</li>
</ul>
<h3>Value</h3>

<p>The original simulation object with a modified configuration
</p>


<h3>Examples</h3>

<pre><code class="language-R">sim &lt;- new_sim()
sim %&lt;&gt;% set_config(
  num_sim = 10,
  seed = 2112
)
print(sim)
</code></pre>


</div>