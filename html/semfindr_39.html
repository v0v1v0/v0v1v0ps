<div class="container">

<table style="width: 100%;"><tr>
<td>user_change_raw</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Case Influence on User-Defined Statistics</h2>

<h3>Description</h3>

<p>Gets a <code>lavaan_rerun()</code> output and computes the
changes in user-defined statistics for each case if included.
</p>


<h3>Usage</h3>

<pre><code class="language-R">user_change_raw(rerun_out, user_function = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rerun_out</code></td>
<td>
<p>The output from <code>lavaan_rerun()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>user_function</code></td>
<td>
<p>A function that accepts a
<code>lavaan</code>-class object. This function is for computing
user-defined statistics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Optional arguments to be
passed to <code>user_function</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For each case, <code>user_change_raw()</code> computes the differences
in user-defined statistics with and without this
case:
</p>
<p>(User statistics with all case) - (User statistics without this case).
</p>
<p>The
change is the raw change. The change is <em>not</em> divided by standard
error.
This is a measure of the influence of a case on the use-defined
statistics if it is included.
</p>
<p>If the value of a case is positive, including
the case increases a statistic.
</p>
<p>If the value of a case is negative, including
the case decreases a statistic.
</p>
<p>The user-defined statistics are computed by a user-supplied
function, <code>user_function</code>. It must return a named
vector-like object (which can have only one value).
The output needs to be named, even if it has only one
value.
</p>


<h3>Value</h3>

<p>An <code>est_change</code>-class object, which is
matrix with the number of columns equals to the number of
values returned by <code>user_function</code> when computed in one
<code>lavaan</code>-class object, and the number of rows equals to
the number of cases. The row names are the case
identification values used in
<code>lavaan_rerun()</code>. The elements are the raw differences.
A print method is available for user-friendly output.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>.
</p>


<h3>References</h3>

<p>Pek, J., &amp; MacCallum, R. (2011). Sensitivity analysis
in structural equation models: Cases and their influence.
<em>Multivariate Behavioral Research, 46</em>(2), 202-228.
doi:10.1080/00273171.2011.561068
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# A path model

library(lavaan)
dat &lt;- pa_dat
mod &lt;-
"
m1 ~ a1 * iv1 + a2 * iv2
dv ~ b * m1
a1b := a1 * b
a2b := a2 * b
"
# Fit the model
fit &lt;- sem(mod, dat)
summary(fit)
# Fit the model several times. Each time with one case removed.
# For illustration, do this only for four selected cases
fit_rerun &lt;- lavaan_rerun(fit, parallel = FALSE,
                          to_rerun = c(2, 4, 7, 9))
# Get the R-squares
lavInspect(fit, what = "rsquare")
out &lt;- user_change_raw(fit_rerun,
                       user_function = lavInspect,
                       what = "rsquare")
out

# Index plot
p &lt;- index_plot(out,
                column = "dv",
                plot_title = "R-square: dv")
p


</code></pre>


</div>