<div class="container">

<table style="width: 100%;"><tr>
<td>plot_response_surface</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plots the response surfaces of a random forest model</h2>

<h3>Description</h3>

<p>Plots response surfaces for any given pair of predictors in a <code>rf()</code>, <code>rf_repeat()</code>, or <code>rf_spatial()</code> model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_response_surface(
  model = NULL,
  a = NULL,
  b = NULL,
  quantiles = 0.5,
  grid.resolution = 100,
  point.size.range = c(0.5, 2.5),
  point.alpha = 1,
  fill.color = viridis::viridis(100, option = "F", direction = -1, alpha = 0.9),
  point.color = "gray30",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A model fitted with <code>rf()</code>, <code>rf_repeat()</code>, or <code>rf_spatial()</code>. Default <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>Character string, name of a model predictor. If <code>NULL</code>, the most important variable in <code>model</code> is selected. Default: <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>Character string, name of a model predictor. If <code>NULL</code>, the second most important variable in <code>model</code> is selected. Default: <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantiles</code></td>
<td>
<p>Numeric vector between 0 and 1. Argument <code>probs</code> of the function quantile. Quantiles to set the other variables to. Default: <code>0.5</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid.resolution</code></td>
<td>
<p>Integer between 20 and 500. Resolution of the plotted surface Default: <code>100</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point.size.range</code></td>
<td>
<p>Numeric vector of length 2 with the range of point sizes used by geom_point. Using <code>c(-1, -1)</code> removes the points. Default: <code>c(0.5, 2.5)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point.alpha</code></td>
<td>
<p>Numeric between 0 and 1, transparency of the points. Setting it to <code>0</code> removes all points. Default: <code>1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill.color</code></td>
<td>
<p>Character vector with hexadecimal codes (e.g. "#440154FF" "#21908CFF" "#FDE725FF"), or function generating a palette (e.g. <code>viridis::viridis(100)</code>). Default: <code>viridis::viridis(100, option = "F", direction = -1, alpha = 0.9)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point.color</code></td>
<td>
<p>Character vector with a color name (e.g. "red4"). Default: <code>gray30</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical, if TRUE the plot is printed. Default: <code>TRUE</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>All variables that are not <code>a</code> or <code>b</code> in a response curve are set to the values of their respective quantiles to plot the response surfaces. The output list can be plotted all at once with <code>patchwork::wrap_plots(p)</code> or <code>cowplot::plot_grid(plotlist = p)</code>, or one by one by extracting each plot from the list.
</p>


<h3>Value</h3>

<p>A list with slots named after the selected <code>quantiles</code>, each one with a ggplot.
</p>


<h3>See Also</h3>

<p><code>plot_response_curves()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(interactive()){

#load example data
data(plant_richness_df)

#fit random forest model
out &lt;- rf(
 data = plant_richness_df,
 dependent.variable.name = "richness_species_vascular",
 predictor.variable.names = colnames(plant_richness_df)[5:21],
 n.cores = 1,
 verbose = FALSE
)

#plot interactions between most important predictors
plot_response_surfaces(x = out)


}
</code></pre>


</div>