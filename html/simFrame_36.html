<div class="container">

<table style="width: 100%;"><tr>
<td>contaminate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Contaminate data</h2>

<h3>Description</h3>

<p>Generic function for contaminating data.</p>


<h3>Usage</h3>

<pre><code class="language-R">contaminate(x, control, ...)

## S4 method for signature 'data.frame,ContControl'
contaminate(x, control, i)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>the data to be contaminated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>a control object of a class inheriting from the virtual class
<code>"VirtualContControl"</code> or a character string specifying such a control
class (the default being <code>"DCARContControl"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>
<p>an integer giving the element of the slot <code>epsilon</code> of
<code>control</code> to be used as contamination level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>if <code>control</code> is a character string or missing, the slots of
the control object may be supplied as additional arguments.  See
<code>"DCARContControl"</code> and
<code>"DARContControl"</code> for details on the slots.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>With the control classes implemented in <span class="pkg">simFrame</span>, contamination is
modeled as a two-step process.  The first step is to select observations to
be contaminated, the second is to model the distribution of the outliers.
</p>
<p>In order to extend the framework by a user-defined control class
<code>"MyContControl"</code> (which must extend
<code>"VirtualContControl"</code>), a method
<code>contaminate(x, control, i)</code> with signature
<code>'data.frame, MyContControl'</code> needs to be implemented.  In case the
contaminated observations need to be identified at a later stage of the
simulation, e.g., if conflicts with inserting missing values should be
avoided, a logical indicator variable <code>".contaminated"</code> should be added
to the returned data set.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> containing the contaminated data.  In addition, the
column <code>".contaminated"</code>, which consists of logicals indicating the
contaminated observations, is added to the <code>data.frame</code>.
</p>


<h3>Methods</h3>


<dl>
<dt><code>x = "data.frame", control = "character"</code></dt>
<dd>
<p>contaminate data using
a control class specified by the character string <code>control</code>.  The
slots of the control object may be supplied as additional arguments.</p>
</dd>
<dt><code>x = "data.frame", control = "ContControl"</code></dt>
<dd>
<p>contaminate data as
defined by the control object <code>control</code>.</p>
</dd>
<dt><code>x = "data.frame", control = "missing"</code></dt>
<dd>
<p>contaminate data using a
control object of class <code>"ContControl"</code>.  Its slots may be supplied as
additional arguments.</p>
</dd>
</dl>
<h3>Note</h3>

<p>Since version 0.3, <code>contaminate</code> no longer checks if the auxiliary
variable with probability weights are numeric and contain only finite positive
values (<code>sample</code> still throws an error in these cases).  This has
been removed to improve computational performance in simulation studies.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1–36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>
<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) Contamination Models in the <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>
Package <span class="pkg">simFrame</span> for Statistical Simulation. In Aivazian, S., Filzmoser,
P. and Kharin, Y. (editors) <em>Computer Data Analysis and Modeling: Complex
Stochastic Data and Systems</em>, volume 2, 178–181. Minsk. ISBN 978-985-476-848-9.
</p>
<p>Béguin, C. and Hulliger, B. (2008) The BACON-EEM Algorithm for
Multivariate Outlier Detection in Incomplete Survey Data. <em>Survey
Methodology</em>, <b>34</b>(1), 91–103.
</p>
<p>Hulliger, B. and Schoch, T. (2009) Robust Multivariate Imputation with Survey
Data. <em>57th Session of the International Statistical Institute</em>, Durban.
</p>


<h3>See Also</h3>

<p><code>"DCARContControl"</code>, <code>"DARContControl"</code>,
<code>"ContControl"</code>, <code>"VirtualContControl"</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## distributed completely at random
data(eusilcP)
sam &lt;- draw(eusilcP[, c("id", "eqIncome")], size = 20)

# using a control object
dcarc &lt;- ContControl(target = "eqIncome", epsilon = 0.05,
    dots = list(mean = 5e+05, sd = 10000), type = "DCAR")
contaminate(sam, dcarc)

# supply slots of control object as arguments
contaminate(sam, target = "eqIncome", epsilon = 0.05,
    dots = list(mean = 5e+05, sd = 10000))


## distributed at random
foo &lt;- generate(size = 10, distribution = rnorm,
    dots = list(mean = 0, sd = 2))

# using a control object
darc &lt;- DARContControl(target = "V1",
    epsilon = 0.2, fun = function(x) x * 100)
contaminate(foo, darc)

# supply slots of control object as arguments
contaminate(foo, "DARContControl", target = "V1",
    epsilon = 0.2, fun = function(x) x * 100)
</code></pre>


</div>