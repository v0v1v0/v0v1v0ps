<div class="container">

<table style="width: 100%;"><tr>
<td>svycox.nomogram</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Builds a nomogram for a survey-weighted Cox model</h2>

<h3>Description</h3>

<p>Builds a nomogram for a survey-weighted Cox model.</p>


<h3>Usage</h3>

<pre><code class="language-R">svycox.nomogram(.design, .model, .data, pred.at, fun.lab)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.design</code></td>
<td>
<p> represents a survey design object obtained with the package "survey" </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.model</code></td>
<td>
<p> indicates a Cox model specification </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p> contains the data on which the model is to be fit (can not contain NAs) </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pred.at</code></td>
<td>
<p> specifies the time point at which the nomogram prediction axis will be drawn </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun.lab</code></td>
<td>
<p> designate the label of the prediction axis </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In addition to the inputs, this function expects the following: 
1) the input dataset (.data) cannot contain NAs. You can accomplish this using the 
na.omit function. See example. 
2) datadist must be set. See examples and the documentation for the rms package.
3) survey design must have been saved in .design
All of these requirements are explained in Capanu &amp; Gonen (2015) in detail
</p>


<h3>Value</h3>

<p>A list including elements
</p>
<table>
<tr style="vertical-align: top;">
<td><code>nomog</code></td>
<td>
<p>A nomogram object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preds</code></td>
<td>
<p>predicted values from the model</p>
</td>
</tr>
</table>
<p>In addition to what is listed below, the design and the fitted survey weighted Cox model (svy.cox), 
as well as the timepoint at which the nomogram prediction axis will
be drawn (pred.at) are stored
</p>


<h3>Author(s)</h3>

<p>Mithat Gonen, Marinela Capanu
</p>


<h3>References</h3>

<p>Marinela Capanu, Mithat Gonen (2015). Building a Nomogram for Survey-Weighted Cox Models Using R. 
Journal of Statistical Software, Code Snippets, 64(1), 1-17. URL https://www.jstatsoft.org/v64/c01/.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(survey)
library(rms)
data(noNA)
dd=datadist(noNA)
options(datadist="dd")
dstr2=svydesign(id=~1, strata=~group, prob=~inv_weight, fpc=~ssize, data=noNA)
mynom=svycox.nomogram(.design=dstr2, .model=Surv(survival,surv_cens)~ECOG+liver_only+Alb+Hb+Age+
Differentiation+Gt_1_m1site+lymph_only, .data=noNA, pred.at=24, fun.lab="Prob of 2 Yr OS")
plot(mynom$nomog)
</code></pre>


</div>