<div class="container">

<table style="width: 100%;"><tr>
<td>DoTSA</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Trial sequential analysis.</h2>

<h3>Description</h3>

<p><strong>DoTSA()</strong> is a function for conducting trial sequential analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">DoTSA(
  data = NULL,
  source = NULL,
  time = NULL,
  n = NULL,
  es = NULL,
  se = NULL,
  r1 = NULL,
  m1 = NULL,
  sd1 = NULL,
  n1 = NULL,
  r2 = NULL,
  m2 = NULL,
  sd2 = NULL,
  n2 = NULL,
  group = c("Group 1", "Group 2"),
  ref = 2,
  prefer = "small",
  measure = "ES",
  model = "random",
  method = "DL",
  pooling = "IV",
  trnsfrm = "logit",
  poolProp = "IV",
  alpha = 0.05,
  beta = 0.2,
  PES = NULL,
  RRR = NULL,
  PV = "post-hoc",
  adjust = "D2",
  plot = FALSE,
  id = FALSE,
  invert = FALSE,
  smooth = FALSE,
  SAP = FALSE,
  BSB = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>DATAFRAME consists of relevant information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source</code></td>
<td>
<p>CHARACTER for labeling the included data sets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>NUMERIC values of time sequence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>INTEGER values of sample sizes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>es</code></td>
<td>
<p>NUMERIC values of effect sizes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se</code></td>
<td>
<p>NUMERIC values of standard errors for the effect sizes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r1</code></td>
<td>
<p>INTEGER values of observed events in group 1 in the included data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m1</code></td>
<td>
<p>NUMERIC values of estimated means in group 1 in the included data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd1</code></td>
<td>
<p>NUMERIC values of standard deviations in group 1 in the
included data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n1</code></td>
<td>
<p>INTEGER values of sample sizes in group 1 in the included data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r2</code></td>
<td>
<p>INTEGER values of observed events in group 2 in the included data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m2</code></td>
<td>
<p>NUMERIC values of estimated means in group 2 in the included data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd2</code></td>
<td>
<p>NUMERIC values of standard deviations in group 2 in the
included data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n2</code></td>
<td>
<p>INTEGER values of sample sizes in group 2 in the included data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>CHARACTER for labeling two groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref</code></td>
<td>
<p>NUMERIC values of 1 or 2 for indicating group 1 or 2 as reference.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefer</code></td>
<td>
<p>CHARACTER of "small" and "large" for indicating which direction
is beneficial effect in statistic test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measure</code></td>
<td>
<p>CHARACTER for indicating which statistic measure should be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>CHARACTER of "random" and "fixed" for indicating whether
to use random-effects model or fixed-effect model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>CHARACTER for indicating which estimator should be used in
random-effects model. In addition to the default "DL" method,
the current version also supports "REML" and "PM" methods for
calculating heterogeneity estimator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pooling</code></td>
<td>
<p>CHARACTER for indicating which method has to be used for pooling
binary data. Besides, current version also supports "MH" and
"Peto" for binary data pooling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trnsfrm</code></td>
<td>
<p>CHARACTER for indicating which method for transforming pooled
proportion. Current version supports "none", "logit", "log",
"arcsine", and "DAT" for the transformation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>poolProp</code></td>
<td>
<p>CHARACTER for indicating which method has to be used for pooling
proportion. Current version supports "IV" and "GLMM" for the
data pooling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>NUMERIC value between 0 to 1 for indicating the assumed type I
error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p>NUMERIC value between 0 to 1 for indicating the assumed type II
error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PES</code></td>
<td>
<p>NUMERIC value for indicating the presumed meaningful effect size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RRR</code></td>
<td>
<p>NUMERIC value between 0 and 1 for indicating the presumed relative
risk reduction. This parameter only works for dichotomous outcome
by replacing parameter <code>PES</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PV</code></td>
<td>
<p>NUMERIC value for indicating the presumed variance of the
meaningful effect size. Current version allows a numeric value,
"post-hoc", and "PES" based on different considerations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjust</code></td>
<td>
<p>CHARACTER for indicating how to adjust optimal information size.
Current version consists of "none", "D2", "I2", "CHL", "CHM", and
"CHH" for the adjustment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>LOGIC value for indicating whether to illustrate alpha-spending
monitoring plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>LOGIC value for indicating whether to label each data source.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>invert</code></td>
<td>
<p>LOGIC value for indicating whether to invert plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p>LOGIC value for indicating whether to smooth error boundaries.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SAP</code></td>
<td>
<p>LOGIC value for indicating whether to show sequential-adjusted
power.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BSB</code></td>
<td>
<p>LOGIC value for indicating whether to illustrate beta-spending
boundaries.</p>
</td>
</tr>
</table>
<h3>Details</h3>


<ol><li>
<p> Basic information for the function <strong>DoTSA()</strong>:
<strong>DoTSA()</strong> supports sequential analysis of aggregate data synthesis based on
head-to-head comparison using either binary or continuous data in each group.
Minimum information for the function <strong>DoTSA()</strong> encompasses a data set of
study-level data, and information for analysis settings in terms of time
sequence, presumed meaningful effect size, and presumed variance of the
meaningful effect size. Operative points of using function <strong>DoTSA()</strong> are listed
below:
</p>
</li></ol>
<p>1.1. Parameter <code>data</code> should be used for assigning a data set.
1.2. Study-level data have to be assigned according to outcome type:
1.2.1. <strong>For dichotomous outcome</strong>: Parameter <code>n1</code> and <code>n2</code> should be defined
with parameter <code>r1</code> and <code>r2</code>.
1.2.2. <strong>For continuous outcome</strong>: parameter <code>n1</code> and <code>n2</code> should be defined
with parameter <code>m1</code>, <code>sd1</code>, <code>m2</code>, <code>sd2</code>.
1.3. Parameter <code>source</code>, <code>time</code>, <code>PES</code>, and <code>PV</code> are required for conducting
sequential analysis. Other parameters are auxiliary.
</p>

<ol><li>
<p> Default in the function <strong>DoTSA()</strong>
Certain defaults have been elucidated in the introductory section about the
parameters, but some of them need to be elaborated upon due to their complexity.
</p>
</li></ol>
<p>2.1. Default on the parameter <code>measure</code> is <code>"ES"</code> that automatically uses risk
ratio ("RR") for binary outcome and mean difference ("MD") for continuous
outcome respectively. Argument <code>"OR"</code> and <code>"SMD"</code> can be used for the parameter
<code>measure</code> when original analysis pools data based on odds ratio or standardized
mean difference.
</p>
<p>2.2. Default on the parameter <code>method</code> is <code>"DL"</code> for applying DerSimonian-Laird
heterogeneity estimator in the original pooled analysis. Other eligible arguments
for the parameter are <code>"REML"</code> for restricted maximum-likelihood estimator,
<code>"PM"</code> for Paule-Mandel estimator, <code>"ML"</code> for maximum-likelihood estimator,
<code>"HS"</code> for Hunter-Schmidt estimator, <code>"SJ"</code> for Sidik-Jonkman estimator,
<code>"HE"</code> for Hedges estimator, and <code>"EB"</code> for empirical Bayes estimator.
</p>
<p>2.3. Default on the parameter <code>pooling</code> is <code>"IV"</code> for applying inverse variance
weighting method. Other commonly-used and eligible arguments for the parameter
are <code>"MH"</code> for Mantel-Haenszel method and <code>"Peto"</code> for pooling data using Peto
method. The arguments <code>"MH"</code> and <code>"Peto"</code> are exclusively available for binary
outcomes, while the argument <code>"IV"</code> will be automatically applied in the case
of continuous outcomes.
</p>
<p>2.4. Default on the parameter <code>adjust</code> is <code>"D2"</code> for adjusting required
information size (RIS) based on diversity (D-squared statistics). Other eligible
arguments for the parameter are <code>"None"</code> for the RIS without adjustment, <code>"I2"</code>
for adjusted RIS based on I-squared statistics, <code>"CHL"</code> for adjusted RIS based
on low heterogeneity by multiplying 1.33, <code>"CHM"</code> for adjusted RIS by multiplying
2 due to moderate heterogeneity, and <code>"CHL"</code> for adjusted RIS by multiplying
4 due to high heterogeneity.
</p>


<h3>Value</h3>

<p><strong>DoTSA()</strong> returns a summary on the result of sequential analysis, and can be
stored as an object in <code>DoTSA</code> class. Explanations of returned information are
listed as follows:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>studies</code></td>
<td>
<p>Numbers of studies included in the sequential analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AIS</code></td>
<td>
<p>Acquired information size refers to the total sample size in the
sequential analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>A numeric value of type I error for the sequential analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p>A numeric value of type II error for the sequential analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PES</code></td>
<td>
<p>A numeric value of presumed meaningful effect size for the
sequential analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RRR</code></td>
<td>
<p>A numeric value of relative risk reduction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variance</code></td>
<td>
<p>A numeric value of presumed variance of the meaningful effect
size for the sequential analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diversity</code></td>
<td>
<p>A numeric value to show diversity in the pooled analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AF</code></td>
<td>
<p>A numeric value of adjustment factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RIS.org</code></td>
<td>
<p>A numeric value for required information size without adjustment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RIS.adj</code></td>
<td>
<p>A numeric value for adjusted required information size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frctn</code></td>
<td>
<p>A vector of fraction of each study included in the sequential
analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>A vector of weight of each study included in the sequential
analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>es.cum</code></td>
<td>
<p>A vector of cumulative effect size in the sequential analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se.cum</code></td>
<td>
<p>A vector of standard error for the cumulative effect size in the
sequential analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zval.cum</code></td>
<td>
<p>A vector of cumulative z-value in the sequential analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>asb</code></td>
<td>
<p>A data frame of alpha-spending values for each study.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aslb</code></td>
<td>
<p>A numeric value for lower alpha-spending boundary.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>asub</code></td>
<td>
<p>A numeric value for upper alpha-spending boundary.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Enoch Kang
</p>


<h3>References</h3>

<p>Jennison, C., &amp; Turnbull, B. W. (2005). Meta-analyses and adaptive group
sequential designs in the clinical development process.
<strong>Journal of biopharmaceutical statistics</strong>, <em>15(4)</em>, 537–558.
https://doi.org/10.1081/BIP-200062273.
</p>
<p>Wetterslev, J., Jakobsen, J. C., &amp; Gluud, C. (2017). Trial sequential analysis
in systematic reviews with meta-analysis. <strong>BMC medical research methodology</strong>,
<em>17(1)</em>, 1-18.
</p>
<p>NCSS Statistical Software (2023). <strong>Group-sequential analysis for two proportions</strong>.
In <em>PASS Documentation</em>. Available online:
https://www.ncss.com/wp-content/themes/ncss/pdf/Procedures/NCSS/Group-Sequential_Analysis_for_Two_Proportions.pdf
</p>


<h3>See Also</h3>

<p><code>PlotCoRNET</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run:
# 1. Import a dataset of study by Fleiss (1993)
library(meta)
data("Fleiss1993bin")

# 2. Perform trial sequential analysis
DoTSA(Fleiss1993bin, study, year,
      r1 = d.asp, n1 = n.asp,
      r2 = d.plac, n2 = n.plac,
      measure = "RR", RRR = 0.2,
      group = c("Aspirin", "Control"))

## End(Not run)

</code></pre>


</div>