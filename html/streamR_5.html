<div class="container">

<table style="width: 100%;"><tr>
<td>parseTweets</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Converts tweets in JSON format to data frame.</h2>

<h3>Description</h3>

<p>This function parses tweets downloaded using <code>filterStream</code>, 
<code>sampleStream</code> or <code>userStream</code> and returns a data frame. If tweet contains
280-character text it will return the complete text and not only 140 characters.
</p>


<h3>Usage</h3>

<pre><code class="language-R">parseTweets(tweets, simplify = FALSE, verbose = TRUE, legacy = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tweets</code></td>
<td>
<p>A character string naming the file where tweets are stored or the
name of the object in memory where the tweets were saved as strings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simplify</code></td>
<td>
<p>If <code>TRUE</code> it will return a data frame with only tweet and user
fields (i.e., no geographic information or url entities).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical, default is <code>TRUE</code>, which will print in the console
the number of tweets that have been parsed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legacy</code></td>
<td>
<p>logical, default is <code>FALSE</code>. Read tweets using old method (reading lines into memory and parsing
line by line). Try using <code>legacy=TRUE</code> if getting errors with default options. Note that legacy mode will
only return up to 140 characters per tweet.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>parseTweets</code> parses tweets downloaded using the <code>filterStream</code>,
<code>sampleStream</code> or <code>userStream</code> functions
and returns a data frame where each row corresponds to one tweet and each column
represents a different field for each tweet (id, text, created_at, etc.).
</p>
<p>The total number of tweets that are parsed might be lower than the number of lines
in the file or object that contains the tweets because blank lines, deletion notices,
and incomplete tweets are ignored.
</p>
<p>To parse json to a twitter list, see <code>readTweets</code>. That function can be significantly
faster for large files, when only a few fields are required.
</p>
<p>Note also that the <code>retweet_count</code> field contains the number of times a given tweet
was retweeted at the time it was captured from the API, or for automatic retweets the number
of times the original tweet was retweeted.
</p>


<h3>Author(s)</h3>

<p>Pablo Barbera <a href="mailto:pablo.barbera@nyu.edu">pablo.barbera@nyu.edu</a>
</p>


<h3>See Also</h3>

<p><code>filterStream</code>, <code>sampleStream</code>, <code>userStream</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## The dataset example_tweets contains 10 public statuses published
## by @twitterapi in plain text format. The code below converts the object
## into a data frame that can be manipulated by other functions.

data(example_tweets)
tweets.df &lt;- parseTweets(example_tweets, simplify=TRUE, legacy=TRUE)

## Not run: 
## A more complete example, that shows how to capture a user's home timeline
## for one hour using authentication via OAuth, and then parsing the tweets
## into a data frame.

 library(ROAuth)
 reqURL &lt;- "https://api.twitter.com/oauth/request_token"
 accessURL &lt;- "https://api.twitter.com/oauth/access_token"
 authURL &lt;- "https://api.twitter.com/oauth/authorize"
 consumerKey &lt;- "xxxxxyyyyyzzzzzz"
 consumerSecret &lt;- "xxxxxxyyyyyzzzzzzz111111222222"
 my_oauth &lt;- OAuthFactory$new(consumerKey=consumerKey,
                              consumerSecret=consumerSecret,
                              requestURL=reqURL,
                              accessURL=accessURL,
                              authURL=authURL)
 my_oauth$handshake()
 userStream( file="my_timeline.json", with="followings",
         timeout=3600, oauth=my_oauth )
 tweets.df &lt;- parseTweets("my_timeline.json")

## End(Not run) 


</code></pre>


</div>