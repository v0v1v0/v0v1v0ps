<div class="container">

<table style="width: 100%;"><tr>
<td>samplingDistCalculation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>samplingDistCalculation</h2>

<h3>Description</h3>

<p>Internal function to set up subsampling distribution
to execute the stochastic version of a stagewise approach.
The subsampling is coducted at the cluster level, not the
individual observation level. Sampling probabilities are first
calculated or provided for each observation individually, and
then the sampling probability for each cluster is taken to be
the average probability across all observations in the cluster.
</p>


<h3>Usage</h3>

<pre><code class="language-R">samplingDistCalculation(sampleProb, y, x, clusterID, waves, beta, beta0, phi,
  alpha, offset, meanLinkInv, varianceLink, corstr, mu.eta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sampleProb</code></td>
<td>
<p>A user provided value for the probability associated
with each observation. <code>sampleProb</code> can be provided as 1) a vector of
fixed values of length equal to the resposne vector y, 2) a function
that takes in a list of values (full list of values given in details)
and returns a vector of length equal to the response vector y, or 3) the
default value of <code>NULL</code>, which results in a uniform distribution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>The vector of the response values provided to the original
stagewise function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The covariate matrix provided to the original stagewise function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clusterID</code></td>
<td>
<p>The vector of cluster ID numbers provided to the original
stagewise function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>waves</code></td>
<td>
<p>The waves parameter identifying the order of observations
within the clusters that is provided to the original stagewise function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p>The vector of the current estimates of the coefficients</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta0</code></td>
<td>
<p>The current estimate of the intercept</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phi</code></td>
<td>
<p>Current estimate of the scale parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Current estimate of the parameter affecting the within
cluster correlation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>offset in the linear predictor provided to the original
stagewise function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meanLinkInv</code></td>
<td>
<p>The link inverse function from the <code>family</code>
object provided to the original stagewise function indicating what family
of mean and variance structure is assumed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varianceLink</code></td>
<td>
<p>The variance link function from the <code>family</code>
object provided to the original stagewise function indicating what family
of mean and variance structure is assumed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>corstr</code></td>
<td>
<p>The structure of the working correlation matrix that was
provided to the original stagewise function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu.eta</code></td>
<td>
<p>Derivative function of mu, the conditional mean of the
response, with respect to eta, the linear predictor, from the <code>family</code>
object provided to the original stagewise function indicating what family
of mean and variance structure is assumed</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The sampling distribution probabilities to be used for the sub
sampling. distribution is provided as a vector with length equal to the
number of clusters.
</p>


<h3>Note</h3>

<p>Internal function.
</p>
<p>The function provided to <code>sampleProb</code> (through the
<code>sgee.control</code> function) needs to calculate
probabilities for each observation in the response vector <code>y</code>.
How these calculations are done is up to the user and the following
values are provided to the <code>sampleProb</code> function as a list called
<code>values</code>: <code>y</code>, <code>x</code>, <code>clusterID</code>, <code>waves</code>,
<code>beta</code>, <code>beta0</code>, <code>phi</code>, <code>alpha</code>, <code>offset</code>,
<code>meanLinkInv</code>, <code>varianceLink</code>, <code>corstr</code>, <code>mu.eta</code>.
additionally, all of the values produced by <code>sampleProb</code> need to be
non-negative.
</p>


<h3>Author(s)</h3>

<p>Gregory Vaughan
</p>


</div>