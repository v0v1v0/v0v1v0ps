<div class="container">

<table style="width: 100%;"><tr>
<td>MoosePopR_DomStrat_bootrep</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate a bootstrap replicate of data for call to MoosePopR_DomStrat()</h2>

<h3>Description</h3>

<p>This function takes the data from a classical/domain stratification and generates
a bootstrap replicate suitable for analysis using MoosePopR_DomStrat().
A sightability model is allowed which "adjusts" the input data for sightability.
This can also be used for SightabilityPopR() models by forcing block areas to 1 and
the total block area in stratum to the number of blocks to mimic a mean-per-unit estimator.
See the vignette for examples of usage.
</p>


<h3>Usage</h3>

<pre><code class="language-R">MoosePopR_DomStrat_bootrep(
  stratum.data,
  selected.unit.data,
  waypoint.data,
  density = NULL,
  abundance = NULL,
  numerator = NULL,
  denominator = NULL,
  sight.model = NULL,
  sight.beta = NULL,
  sight.beta.cov = NULL,
  stratum.var = "Stratum",
  domain.var = "Domain",
  stratum.total.blocks.var = "Total.Blocks",
  stratum.total.area.var = "Total.Area",
  block.id.var = "Block.ID",
  block.area.var = "Block.Area",
  conf.level = 0.9,
  survey.lonely.psu = "fail",
  check.args = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>stratum.data</code></td>
<td>
<p>A data frame containing for each combination of stratum and domain, the stratum id (see stratum.var), 
the domain id (see domain.var),
the total number of blocks in the stratum (see stratum.total.blocks.var) and 
the total area of the stratum (see stratum.total.area.var)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>selected.unit.data</code></td>
<td>
<p>A data frame containing information on the selected survey units. Required variables
are the stratum (see stratum.var), domain (see domain.var), block.id (see block.id.var), and the
area of the block (see block.area.var).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>waypoint.data</code></td>
<td>
<p>A data frame containing counts of moose in each group along with a variable identifying 
the stratum (see stratum.var), domain (see domain.var) and block (see block.id.var). Additional variables can
be included such as covariates for the sightability function (not currently used in MoosePopR)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>density, abundance, numerator, denominator</code></td>
<td>
<p>Right-handed formula identifying the variable(s) in the
waypoint data frame for which the density, abundance, or ratio (numerator/denominator) are to be estimated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sight.model</code></td>
<td>
<p>A formula that identifies the model used
to estimate sightability. For example <code>observed ~ VegCoverClass</code> would indicate
that sightability is a function of the <code>VegCoverClass</code> variable in the survey 
data. The left hand variable is arbitrary. The right hand variables must be present
in the survey.data data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sight.beta</code></td>
<td>
<p>The vector of estimated coefficients for the logistic regression sightability model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sight.beta.cov</code></td>
<td>
<p>The covariance matrix of <code>sight.beta</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stratum.var</code></td>
<td>
<p>Name of the variable in the data frames that identifies the classical stratum</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>domain.var</code></td>
<td>
<p>Name of the variable in the data frames that identifies the domain.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stratum.total.blocks.var</code></td>
<td>
<p>Name of the variable in the stratum.data data frame that contains the total number of
blocks in the stratum.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stratum.total.area.var</code></td>
<td>
<p>Name of the variable in the stratum.data data.frame that contains the total stratum area.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>block.id.var</code></td>
<td>
<p>Name of the variable in the data frames that identifies the block.id (the sampling unit)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>block.area.var</code></td>
<td>
<p>Name of the variable in data frames that contains the area of the blocks (area of sampling unit)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>Confidence level used to create confidence intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>survey.lonely.psu</code></td>
<td>
<p>How to deal with lonely PSU within strata. See <code>surveyoptions</code> in the <code>survey</code> package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check.args</code></td>
<td>
<p>Should arguments be checked. Turn off for extensive bootstrapping to save time.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing the input data (<code>input.data</code>), 
the bootstrap replicate (<code>boot.data</code>), and a data frame (<code>boot.res</code>) with the estimated density,
or abundance or ratio along with its estimated standard error and large-sample normal-based confidence interval.
The density/abundance/ratio over all strata is also given on the last line of the data.frame.
</p>


<h3>Author(s)</h3>

<p>Schwarz, C. J. <a href="mailto:cschwarz.stat.sfu.ca@gmail.com">cschwarz.stat.sfu.ca@gmail.com</a>.
</p>


<h3>References</h3>

<p>To Be Added.
</p>


<h3>Examples</h3>

<pre><code class="language-R"> 
##---- See the vignettes for examples on how to use this function

</code></pre>


</div>