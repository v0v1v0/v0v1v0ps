<div class="container">

<table style="width: 100%;"><tr>
<td>symmetry_test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform symmetry tests</h2>

<h3>Description</h3>

<p>This is a generic function used to perform symmetry tests on numeric vectors
or objects of class lm (linear models) and objects of class fGARCH (GARCH
mdels fitted with the fGarch package).
</p>


<h3>Usage</h3>

<pre><code class="language-R">symmetry_test(x, ...)

## Default S3 method:
symmetry_test(
  x,
  stat,
  mu = NULL,
  bootstrap = TRUE,
  B = 1000,
  boot_method = c("sign", "reflect"),
  trim = 0,
  k = 0,
  ...
)

## S3 method for class 'lm'
symmetry_test(
  x,
  stat,
  B = 1000,
  boot_method = c("sign", "reflect"),
  k = 0,
  ...
)

## S3 method for class 'fGARCH'
symmetry_test(
  x,
  stat,
  B = 1000,
  burn = 0,
  boot_method = c("sign", "reflect"),
  k = 0,
  approximate = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class numeric, lm or fGARCH</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>not used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stat</code></td>
<td>
<p>a character vector indicating the test statistic to be used (see
Available Test Statistics)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu</code></td>
<td>
<p>the centre parameter around which to test symmetry</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bootstrap</code></td>
<td>
<p>a logical indicating whether to use bootstrap</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>the number of bootstrap replications</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boot_method</code></td>
<td>
<p>the method of bootstrap sample generation (see Details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trim</code></td>
<td>
<p>the trim value used for estimating the centre (as used in "mean")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>the k parameter of the statistic, ignored if the test statistic
doesn't depend on a parameter (see Test Statistics)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>burn</code></td>
<td>
<p>the number of elements to remove from the beginning of the time
series for testing</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>approximate</code></td>
<td>
<p>a logical indicating whether to use the faster approximate
bootstrap method (see Details)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The tests are performed using bootstrap procedures or using asymptotic
results, where applicable. Currently, two methods of generating a bootstrap
sample from the null distribution are available. The "sign" method generates
the bootstrap sample by multiplying the existing sample by -1 or 1 at random
(with equal probabilities), essentially randomizing the sign of the data,
giving a symmetric distribution. The "reflect" method reflects the sample
around zero and samples length(x) elements with replacement. In practice, it
has been shown that the "sign" method is almost always better, thus is the
default.
</p>
<p>For numeric data, the tests can be performed around a known (parameter "mu")
or unknown centre. When the centre is known, the bootstrap method gives the
same results as a Monte Carlo simulation of the p value, for tests which are
distribution free. For unknown centre (when mu = NULL), bootstrap must be
used and the estimate of the centre used is the trimmed mean, with trim
parameter "trim". By default, the mean is taken (trim = 0).
</p>
<p>For linear models, the tests are based on a bootstrap procedure as in
(Allison and Pretorius 2017) and are used to test the symmetry of the
residuals around zero.
</p>
<p>For GARCH models (must be fitted with the 'fGarch' package), the tests are also
based on bootstrap and test for symmetry of the residuals around zero. An
approximation of the bootstrap procedure is available where the residuals are
treated as iid data, which is much faster and has been shown to give similar
results to the default bootstrap procedure (described in
(Klar et al. 2012)).
</p>
<p>For a comparison of the performance of various tests of symmetry around an
unknown centre, see (Milošević and Obradović 2019)).
</p>


<h3>Value</h3>

<p>An object of class "htest" containing the results of the testing.
</p>


<h3>References</h3>

<p>Allison JS, Pretorius C (2017).
“A Monte Carlo evaluation of the performance of two new tests for symmetry.”
<em>Computational Statistics</em>, <b>32</b>(4), 1323–1338.
<a href="https://doi.org/10.1007/s00180-016-0680-4">doi:10.1007/s00180-016-0680-4</a>.<br><br> Klar B, Lindner FL, Meintanis SG (2012).
“Specification tests for the error distribution in GARCH models.”
<em>Computational Statistics &amp; Data Analysis</em>, <b>56</b>(11), 3587–3598.
<a href="https://doi.org/10.1016/j.csda.2010.05.029">doi:10.1016/j.csda.2010.05.029</a>.<br><br> Milošević B, Obradović M (2019).
“Comparison of efficiencies of some symmetry tests around an unknown centre.”
<em>Statistics</em>, <b>53</b>(1), 43–57.
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(1)

# IID samples
x &lt;- rnorm(50)
symmetry_test(x, "MOI", bootstrap = FALSE, k = 3, mu = 0)
symmetry_test(x, "MOI", bootstrap = TRUE, k = 3, mu = 0)
symmetry_test(x, "MOI", bootstrap = TRUE, k = 3)
x &lt;- rsl(50, alpha = 1.5)
symmetry_test(x, "MOI", bootstrap = FALSE, k = 3, mu = 0)
symmetry_test(x, "MOI", bootstrap = TRUE, k = 3, mu = 0)
symmetry_test(x, "MOI", bootstrap = TRUE, k = 3)

# Linear models
lin_model &lt;- lm(dist ~ speed, cars)
symmetry_test(lin_model, "B1")

# Garch models
library(fGarch)
specskew19 = fGarch::garchSpec(model = list(omega = 0.1,
                                    alpha = 0.3,
                                    beta = 0.3,
                                    skew = 1.9),
                                    cond.dist = "snorm")

x &lt;- fGarch::garchSim(specskew19, n = 500)
g &lt;- fGarch::garchFit(~garch(1,1), x, cond.dist = "QMLE",
              include.mean = FALSE, trace = FALSE)
symmetry_test(g, "FM", B=400, burn = 100) # slower
symmetry_test(g, "FM", B=400, burn = 100, approximate = TRUE)

</code></pre>


</div>