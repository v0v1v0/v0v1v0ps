<div class="container">

<table style="width: 100%;"><tr>
<td>report_mig_char-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Migration report along with quantitative and
qualitative characteristics</h2>

<h3>Description</h3>

<p>Migration along with qualitative or quantitative characteristics or both
(e.g.) weight of eels according to the size class per period of time, weight
of fish according to gender, number of fish per age class. This class does not split migration evenly over 
time period. So, unlike calculations made in class report_mig and report_mig_mult
the whole time span of the migration operation is not considered, only  the date of beginning of 
the operation is used to perform calculations.
</p>


<h3>Slots</h3>


<dl>
<dt><code>calcdata</code></dt>
<dd>
<p>A 'list' of calculated data, filled in by the calcule method</p>
</dd>
<dt><code>data</code></dt>
<dd>
<p>A <code>data.frame</code> inherited from report_sample_char-class</p>
</dd>
<dt><code>dc</code></dt>
<dd>
<p>An object of class ref_dc-class inherited from report_sample_char-class</p>
</dd>
<dt><code>taxa</code></dt>
<dd>
<p>An object of class ref_taxa-class inherited from report_sample_char-class</p>
</dd>
<dt><code>stage</code></dt>
<dd>
<p>An object of class ref_stage-class inherited from report_sample_char-class</p>
</dd>
<dt><code>horodatedebut</code></dt>
<dd>
<p>An object of class ref_horodate-class inherited from report_sample_char-class</p>
</dd>
<dt><code>horodatefin</code></dt>
<dd>
<p>An object of class ref_horodate-class inherited from report_sample_char-class</p>
</dd>
<dt><code>par</code></dt>
<dd>
<p>An object of class ref_par-class inherited from report_sample_char-class</p>
</dd>
<dt><code>echantillon</code></dt>
<dd>
<p>An object of class ref_choice-class, vector of choice</p>
</dd>
<dt><code>parquan</code></dt>
<dd>
<p>An object of class ref_parquan-class, quantitative parameter</p>
</dd>
<dt><code>parqual</code></dt>
<dd>
<p>An object of class ref_parqual-class, qualitative parameter</p>
</dd>
</dl>
<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form
<code>new('report_mig_char', ...)</code>.  they are loaded by the interface
using interface_report_mig_char function.
</p>


<h3>Note</h3>

<p>The main difference between this class and report_sample_char-class is that this class allows to
select (or not) the samples, and that it handles quantitative and qualitative parameters separately.
</p>


<h3>Author(s)</h3>

<p>Cedric Briand <a href="mailto:cedric.briand@eptb-vilaine.fr">cedric.briand@eptb-vilaine.fr</a>
</p>


<h3>See Also</h3>

<p>Other report Objects: 
<code>report_annual-class</code>,
<code>report_dc-class</code>,
<code>report_df-class</code>,
<code>report_env-class</code>,
<code>report_ge_weight-class</code>,
<code>report_mig-class</code>,
<code>report_mig_env-class</code>,
<code>report_mig_interannual-class</code>,
<code>report_mig_mult-class</code>,
<code>report_sample_char-class</code>,
<code>report_sea_age-class</code>,
<code>report_silver_eel-class</code>,
<code>report_species-class</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">require(stacomiR)

stacomi(
	database_expected=FALSE, sch='logrami')
# this requires a database with the schema logrami
# prompt for user and password but you can set appropriate options for host, port and dbname
## Not run: 
	stacomi(database_expected=TRUE, sch='logrami')	
	if (interactive()){
		if (!exists("user")){
			user &lt;- readline(prompt="Enter user: ")
			password &lt;- readline(prompt="Enter password: ")	
		}	
	}
	options(					
			stacomiR.dbname = "bd_contmig_nat",
			stacomiR.host ="localhost",
			stacomiR.port = "5432",
			stacomiR.user = user,
			stacomiR.user = password						
	)	
  r_mig_char &lt;- new("report_mig_char")
  # here parqual is not in the list
  # so this is equivalent to parqual=NULL
  # default for echantillon is "with"
  r_mig_char &lt;- choice_c(r_mig_char,
	  dc=c(107,108,101),
	  taxa=c("Salmo salar"),
	  stage=c('5','11','BEC','BER','IND'),
	  parquan=c('C001','1786','1785'),
	  horodatedebut="2012-01-01",
	  horodatefin="2012-12-31",
	  silent=FALSE)
  # r_mig_char&lt;-charge(r_mig_char) not necessary there
  r_mig_char &lt;- connect(r_mig_char)
  

## End(Not run)	
# load the dataset generated by previous lines
data("r_mig_char")

r_mig_char&lt;-calcule(r_mig_char, silent=TRUE)
plot(r_mig_char,plot.type="quant", silent=TRUE)
# one quantitative parameter found, manual choice of color
plot(r_mig_char,plot.type="quant",color_parm=c("C001"="red"), silent=TRUE)
# age will be plotted as a qualitative variable
# here we split size data accoding to the limit known between different ages from
# scale reading in the Loire
r_mig_char &lt;- setasqualitative(r_mig_char,par='C001',
		breaks=c(0,675,850,2000),
		labels=c("age 1","age 2","age 3"))
r_mig_char&lt;-calcule(r_mig_char, silent=TRUE)
plot(r_mig_char, plot.type="qual", silent=TRUE)
plot(r_mig_char, plot.type="crossed")
plot(r_mig_char, plot.type="crossed",
    color_parm=c("age 1"="#379ec6","age 2"="#173957","age 3"="#b09953"))
xt&lt;-xtable(r_mig_char)
# use method print.xtable to get the output


</code></pre>


</div>