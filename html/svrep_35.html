<div class="container">

<table style="width: 100%;"><tr>
<td>redistribute_weights</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Redistribute weight from one group to another</h2>

<h3>Description</h3>

<p>Redistributes weight from one group to another: for example, from non-respondents to respondents.
Redistribution is conducted for the full-sample weights as well as each set of replicate weights.
This can be done separately for each combination of a set of grouping variables, for example to implement a nonresponse weighting class adjustment.
</p>


<h3>Usage</h3>

<pre><code class="language-R">redistribute_weights(design, reduce_if, increase_if, by)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>A survey design object, created with either the <code>survey</code> or <code>srvyr</code> packages.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reduce_if</code></td>
<td>
<p>An expression indicating which cases should have their weights set to zero.
Must evaluate to a logical vector with only values of TRUE or FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>increase_if</code></td>
<td>
<p>An expression indicating which cases should have their weights increased.
Must evaluate to a logical vector with only values of TRUE or FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>(Optional) A character vector with the names of variables used to group the redistribution of weights.
For example, if the data include variables named <code>"stratum"</code> and <code>"wt_class"</code>, one could specify <code>by = c("stratum", "wt_class")</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The survey design object, but with updated full-sample weights and updated replicate weights.
The resulting survey design object always has its value of <code>combined.weights</code> set to <code>TRUE</code>.
</p>


<h3>References</h3>

<p>See Chapter 2 of Heeringa, West, and Berglund (2017) or Chapter 13 of Valliant, Dever, and Kreuter (2018)
for an overview of nonresponse adjustment methods based on redistributing weights.
</p>
<p>- Heeringa, S., West, B., Berglund, P. (2017). Applied Survey Data Analysis, 2nd edition. Boca Raton, FL: CRC Press.
"Applied Survey Data Analysis, 2nd edition." Boca Raton, FL: CRC Press.
</p>
<p>- Valliant, R., Dever, J., Kreuter, F. (2018).
"Practical Tools for Designing and Weighting Survey Samples, 2nd edition." New York: Springer.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Load example data
suppressPackageStartupMessages(library(survey))
data(api)

dclus1 &lt;- svydesign(id=~dnum, weights=~pw, data=apiclus1, fpc=~fpc)
dclus1$variables$response_status &lt;- sample(x = c("Respondent", "Nonrespondent",
                                                 "Ineligible", "Unknown eligibility"),
                                           size = nrow(dclus1),
                                           replace = TRUE)
rep_design &lt;- as.svrepdesign(dclus1)

# Adjust weights for cases with unknown eligibility
ue_adjusted_design &lt;- redistribute_weights(
    design = rep_design,
    reduce_if = response_status %in% c("Unknown eligibility"),
    increase_if = !response_status %in% c("Unknown eligibility"),
    by = c("stype")
)

# Adjust weights for nonresponse
nr_adjusted_design &lt;- redistribute_weights(
    design = ue_adjusted_design,
    reduce_if = response_status %in% c("Nonrespondent"),
    increase_if = response_status == "Respondent",
    by = c("stype")
)
</code></pre>


</div>