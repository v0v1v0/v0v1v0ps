<div class="container">

<table style="width: 100%;"><tr>
<td>KeytipLayer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Keytips</h2>

<h3>Description</h3>

<p>For more details and examples visit the <a href="https://developer.microsoft.com/en-us/fluentui#/controls/web/Keytips">official docs</a>.
The R package cannot handle each and every case, so for advanced use cases
you need to work using the original docs to achieve the desired result.
</p>


<h3>Usage</h3>

<pre><code class="language-R">KeytipLayer(...)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Props to pass to the component.
The allowed props are listed below in the <b>Details</b> section.</p>
</td>
</tr></table>
<h3>Details</h3>


<ul>
<li> <p><b> componentRef </b> <code style="white-space: pre;">⁠IRefObject&lt;IKeytipLayer&gt;⁠</code> <br> Optional callback to access the KeytipLayer component. Use this instead of ref for accessing the public methods and properties of the component.
</p>
</li>
<li> <p><b> content </b> <code>string</code> <br> String to put inside the layer to be used for the aria-describedby for the component with the keytip Should be one of the starting sequences
</p>
</li>
<li> <p><b> keytipExitSequences </b> <code>IKeytipTransitionKey[]</code> <br> List of key sequences that will exit keytips mode
</p>
</li>
<li> <p><b> keytipReturnSequences </b> <code>IKeytipTransitionKey[]</code> <br> List of key sequences that execute the return functionality in keytips (going back to the previous level of keytips)
</p>
</li>
<li> <p><b> keytipStartSequences </b> <code>IKeytipTransitionKey[]</code> <br> List of key sequences that will start keytips mode
</p>
</li>
<li> <p><b> onEnterKeytipMode </b> <code style="white-space: pre;">⁠() =&gt; void⁠</code> <br> Callback function triggered when keytip mode is entered
</p>
</li>
<li> <p><b> onExitKeytipMode </b> <code style="white-space: pre;">⁠(ev?: React.KeyboardEvent&lt;HTMLElement&gt; | React.MouseEvent&lt;HTMLElement&gt;) =&gt; void⁠</code> <br> Callback function triggered when keytip mode is exited. ev is the Mouse or Keyboard Event that triggered the exit, if any.
</p>
</li>
<li> <p><b> styles </b> <code style="white-space: pre;">⁠IStyleFunctionOrObject&lt;IKeytipLayerStyleProps, IKeytipLayerStyles&gt;⁠</code> <br> (Optional) Call to provide customized styling.
</p>
</li>
<li> <p><b> calloutProps </b> <code>ICalloutProps</code> <br> ICalloutProps to pass to the callout element
</p>
</li>
<li> <p><b> content </b> <code>string</code> <br> Content to put inside the keytip
</p>
</li>
<li> <p><b> disabled </b> <code>boolean</code> <br> T/F if the corresponding control for this keytip is disabled
</p>
</li>
<li> <p><b> hasDynamicChildren </b> <code>boolean</code> <br> Whether or not this keytip will have children keytips that are dynamically created (DOM is generated on keytip activation). Common cases are a Pivot or Modal.
</p>
</li>
<li> <p><b> hasMenu </b> <code>boolean</code> <br> Whether or not this keytip belongs to a component that has a menu Keytip mode will stay on when a menu is opened, even if the items in that menu have no keytips
</p>
</li>
<li> <p><b> keySequences </b> <code>string[]</code> <br> Array of KeySequences which is the full key sequence to trigger this keytip Should not include initial 'start' key sequence
</p>
</li>
<li> <p><b> offset </b> <code>Point</code> <br> Offset x and y for the keytip, added from the top-left corner By default the keytip will be anchored to the bottom-center of the element
</p>
</li>
<li> <p><b> onExecute </b> <code style="white-space: pre;">⁠(executeTarget: HTMLElement | null, target: HTMLElement | null) =&gt; void⁠</code> <br> Function to call when this keytip is activated. 'executeTarget' is the DOM element marked with 'data-ktp-execute-target'. 'target' is the DOM element marked with 'data-ktp-target'.
</p>
</li>
<li> <p><b> onReturn </b> <code style="white-space: pre;">⁠(executeTarget: HTMLElement | null, target: HTMLElement | null) =&gt; void⁠</code> <br> Function to call when the keytip is the currentKeytip and a return sequence is pressed. 'executeTarget' is the DOM element marked with 'data-ktp-execute-target'. 'target' is the DOM element marked with 'data-ktp-target'.
</p>
</li>
<li> <p><b> overflowSetSequence </b> <code>string[]</code> <br> Full KeySequence of the overflow set button, will be set automatically if this keytip is inside an overflow
</p>
</li>
<li> <p><b> styles </b> <code style="white-space: pre;">⁠IStyleFunctionOrObject&lt;IKeytipStyleProps, IKeytipStyles&gt;⁠</code> <br> Optional styles for the component.
</p>
</li>
<li> <p><b> theme </b> <code>ITheme</code> <br> Theme for the component
</p>
</li>
<li> <p><b> visible </b> <code>boolean</code> <br> T/F if the keytip is visible
</p>
</li>
</ul>
<h3>Value</h3>

<p>Object with <code>shiny.tag</code> class suitable for use in the UI of a Shiny app.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(shiny)
library(shiny.fluent)

makeScript &lt;- function(js) {
  tagList(
    shiny.react::reactDependency(),
    htmltools::htmlDependency(
      name = "KeytipsExample",
      version = "0", # Not used.
      src = c(href = ""), # Not used.
      head = paste0("&lt;script&gt;", js, "&lt;/script&gt;")
    )
  )
}

ui &lt;- function(id) {
  ns &lt;- NS(id)
  tagList(
    makeScript(paste0("setTimeout(() =&gt; {
      const btnExecute = (el) =&gt; {
        el.click();
      };

      const keytipConfig = {
        keytips: [
          // Button example
          {
            id: 'Button',
            content: '1A',
            optionalProps: {
              onExecute: btnExecute,
            },
          },
          {
            id: 'CompoundButton',
            content: '1B',
            optionalProps: {
              onExecute: btnExecute,
            },
          },
          {
            id: 'ButtonWithMenu',
            content: '2A',
            optionalProps: {
              onExecute: btnExecute,
            },
            children: [
              {
                id: 'ButtonMenuItem1',
                content: 'E',
                optionalProps: {
                  onExecute: btnExecute,
                },
              },
              {
                id: 'ButtonMenuItem2',
                content: '8',
                optionalProps: {
                  onExecute: btnExecute,
                },
              },
            ],
          }
        ],
      };

      keytipMap = jsmodule['@fluentui/react'].buildKeytipConfigMap(keytipConfig);

      window.buttonProps = {
        items: [
          {
            key: 'buttonMenuItem1',
            text: 'Menu Item 1',
            keytipProps: keytipMap.ButtonMenuItem1,
            onClick: () =&gt; Shiny.setInputValue('", ns("button3"), "', Math.random())
          },
          {
            key: 'buttonMenuItem2',
            text: 'Menu Item 2',
            keytipProps: keytipMap.ButtonMenuItem2,
            onClick: () =&gt; Shiny.setInputValue('", ns("button3"), "', Math.random())
          },
        ],
      };
    })")),
    textOutput(ns("keytipsResult")),
    div(
      Label(
        paste0(
          "To open keytips, hit 'Alt-Windows' on Windows/Linux and 'Option-Control' on macOS.",
          "Keytips will appear. Type what you see, e.g. 1 and then A to 'click' the first button."
        )
      ),
      Label(
        paste0(
          "When multiple Keytips start with the same character,",
          "typing that character will filter the visible keytips."
        )
      ),
      KeytipLayer(),
      Stack(horizontal = TRUE, tokens = list(childrenGap = 20),
        DefaultButton.shinyInput(
          ns("button1"),
          keytipProps = JS("keytipMap.Button"),
          text = "Button"
        ),
        CompoundButton.shinyInput(
          ns("button2"),
          style = list(marginBottom = 28),
          keytipProps = JS("keytipMap.CompoundButton"),
          text = "Compound Button",
          secondaryText = 'With a Keytip'
        ),
        DefaultButton.shinyInput(
          ns("button3"),
          keytipProps = JS("keytipMap.ButtonWithMenu"),
          text = "Button with Menu",
          menuProps = JS("buttonProps")
        )
      )
    )
  )
}

server &lt;- function(id) {
  moduleServer(id, function(input, output, session) {
    clicks &lt;- reactiveVal(0)
    addClick &lt;- function() clicks(clicks() + 1)
    output$keytipsResult &lt;- renderText(paste("Buttons clicked: ", clicks()))
    observeEvent(input$button1, addClick())
    observeEvent(input$button2, addClick())
    observeEvent(input$button3, addClick())
  })
}

if (interactive()) {
  shinyApp(ui("app"), function(input, output) server("app"))
}
</code></pre>


</div>