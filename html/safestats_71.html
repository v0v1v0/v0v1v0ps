<div class="container">

<table style="width: 100%;"><tr>
<td>simulate.safeDesign</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate Early Stopping Experiments for the T Test</h2>

<h3>Description</h3>

<p>Applied to a 'safeDesign' object this function empirically shows the performance of safe experiments under
optional stopping.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'safeDesign'
simulate(
  object,
  nsim = nSim,
  seed = NULL,
  deltaTrue = NULL,
  muGlobal = 0,
  sigmaTrue = 1,
  lowN = 3,
  safeOptioStop = TRUE,
  freqOptioStop = FALSE,
  nPlanFreq = NULL,
  logging = TRUE,
  pb = TRUE,
  nSim = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A safeDesign obtained obtained from <code>designSafeT()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>integer, formally the number of iterations, but by default nsim=nSim</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>integer, seed number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deltaTrue</code></td>
<td>
<p>numeric, if NULL, then the minimally clinically relevant standardised effect size is used
as the true data generating effect size deltaTrue.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>muGlobal</code></td>
<td>
<p>numeric, the true global mean of a paired or two-sample t-test. Its value should not
matter for the test. This parameter is treated as a nuisance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigmaTrue</code></td>
<td>
<p>numeric &gt; 0,the true standard deviation of the data. Its value should not  matter
for the test.This parameter treated is treated as a nuisance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lowN</code></td>
<td>
<p>integer that defines the smallest n of our search space for n.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>safeOptioStop</code></td>
<td>
<p>logical, <code>TRUE</code> implies that optional stopping simulation is performed for
the safe test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freqOptioStop</code></td>
<td>
<p>logical, <code>TRUE</code> implies that optional stopping simulation is performed for
the frequentist test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nPlanFreq</code></td>
<td>
<p>the frequentist sample size(s) to plan for. Acquired from <code>designFreqT()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logging</code></td>
<td>
<p>logical, if <code>TRUE</code>, then return the simulated data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pb</code></td>
<td>
<p>logical, if <code>TRUE</code>, then show progress bar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nSim</code></td>
<td>
<p>integer, number of iterations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments to be passed to or from methods.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns an object of class "safeTSim". An object of class "safeTSim" is a list containing at
least the following components:
</p>

<dl>
<dt>nPlan</dt>
<dd>
<p>the planned sample size(s).</p>
</dd>
<dt>deltaTrue</dt>
<dd>
<p>the value of the true standardised effect size (test-relevant parameter) provided by
the user.</p>
</dd>
<dt>muGlobal</dt>
<dd>
<p>the true global mean of a paired or two-sample t-test (nuisance parameter) provided by
the user.</p>
</dd>
<dt>paired</dt>
<dd>
<p>if <code>TRUE</code> then paired t-test.</p>
</dd>
<dt>alternative</dt>
<dd>
<p>any of "twoSided", "greater", "less" provided by the user.</p>
</dd>
<dt>lowN</dt>
<dd>
<p>the smallest number of samples (first group) at which monitoring of the tests begins.</p>
</dd>
<dt>nSim</dt>
<dd>
<p>the number of replications of the experiment.</p>
</dd>
<dt>alpha</dt>
<dd>
<p>the tolerable type I error provided by the user.</p>
</dd>
<dt>beta</dt>
<dd>
<p>the tolerable type II error provided by the user.</p>
</dd>
<dt>testType</dt>
<dd>
<p>any of "oneSample", "paired", "twoSample" provided by the user.</p>
</dd>
<dt>parameter</dt>
<dd>
<p>the parameter (point prior) used in the safe test derived from the design.
Acquired from <code>designSafeT()</code>.</p>
</dd>
<dt>nPlanFreq</dt>
<dd>
<p>the frequentist planned sample size(s). Acquired from <code>designFreqT</code>()</p>
</dd>
<dt>safeSim</dt>
<dd>
<p>list with the simulation results of the safe test under optional stopping.</p>
</dd>
<dt>freqSim</dt>
<dd>
<p>list with the simulation results of the frequentist test under optional stopping.</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R"># Design safe test
alpha &lt;- 0.05
beta &lt;- 0.20
deltaMin &lt;- 1
designObj &lt;- designSafeT(deltaMin, alpha=alpha, beta=beta, nSim=100)

# Design frequentist test
freqObj &lt;- designFreqT(deltaMin, alpha=alpha, beta=beta)

# Simulate based on deltaTrue=deltaMin
simResultsDeltaTrueIsDeltaMin &lt;- simulate(object=designObj, nSim=100)

# Simulate based on deltaTrue &gt; deltaMin
simResultsDeltaTrueIsLargerThanDeltaMin &lt;- simulate(
  object=designObj, nSim=100, deltaTrue=2)

# Simulate under the null deltaTrue = 0
simResultsDeltaTrueIsNull &lt;- simulate(
  object=designObj, nSim=100, deltaTrue=0)

simulate(object=designObj, deltraTrue=0, nSim=100, freqOptioStop=TRUE,
         nPlanFreq=freqObj$nPlan)
</code></pre>


</div>