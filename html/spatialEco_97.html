<div class="container">

<table style="width: 100%;"><tr>
<td>raster.transformation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Statistical transformation for rasters</h2>

<h3>Description</h3>

<p>Transforms raster to a specified statistical transformation
</p>


<h3>Usage</h3>

<pre><code class="language-R">raster.transformation(x, trans = "norm", smin = 0, smax = 255)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A terra SpatRaster class object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trans</code></td>
<td>
<p>Transformation method: "norm", "rstd", "std", "stretch",
"nl", "slog", "sr" (please see notes)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smin</code></td>
<td>
<p>Minimum value for stretch</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smax</code></td>
<td>
<p>Maximum value for stretch</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Transformation option details:
</p>

<ul>
<li>
<p> norm - (Normalization_ (0-1): if min(x) &lt; 0 ( x - min(x) ) / ( max(x) - min(x) )
</p>
</li>
<li>
<p> rstd - (Row standardize) (0-1): if min(x) &gt;= 0 x / max(x) This normalizes data
</p>
</li>
<li> 
<div class="sourceCode"><pre>   with negative distributions
</pre></div>
</li>
<li>
<p> std - (Standardize) (x - mean(x)) / sdv(x)
</p>
</li>
<li>
<p> stretch - (Stretch) ((x - min(x)) * max.stretch / (max(x) - min(x)) + min.stretch)
This will stretch values to the specified minimum and maximum values
(eg., 0-255 for 8-bit)
</p>
</li>
<li>
<p> nl - (Natural logarithms) if min(x) &gt; 0 log(x)
</p>
</li>
<li>
<p> slog - (Signed log 10) (for skewed data): if min(x) &gt;= 0 ifelse(abs(x) &lt;= 1, 0,
sign(x)*log10(abs(x)))
</p>
</li>
<li>
<p> sr - (Square-root) if min(x) &gt;= 0 sqrt(x)
</p>
</li>
</ul>
<h3>Value</h3>

<p>A terra SpatRaster class object of specified transformation
</p>


<h3>Author(s)</h3>

<p>Jeffrey S. Evans  <a href="mailto:jeffrey_evans@tnc.org">jeffrey_evans@tnc.org</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(terra)
r &lt;- rast(nrows=500, ncols=500, xmin=571823, xmax=616763, 
            ymin=4423540, ymax=4453690)
  crs(r) &lt;- "epsg:9001"
r[] &lt;- runif(ncell(r), 1000, 2500)

 # Positive values so, can apply any transformation    
 for( i in c("norm", "rstd", "std", "stretch", "nl", "slog", "sr")) {
   print( raster.transformation(r, trans = i) ) 
 }

 # Negative values so, can't transform using "nl", "slog" or "sr"
 r[] &lt;- runif(ncell(r), -1, 1)
   for( i in c("norm", "rstd", "std", "stretch", "nl", "slog", "sr")) {
  try( print( raster.transformation(r, trans = i) ) ) 
   }


</code></pre>


</div>