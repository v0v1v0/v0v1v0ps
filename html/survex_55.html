<div class="container">

<table style="width: 100%;"><tr>
<td>surv_integrated_feature_importance</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Helper functions for <code>model_parts.R</code>
</h2>

<h3>Description</h3>

<p>This function is used to calculate permutational feature importance using
an aggregate (for now only integral) of a time dependent metric. The result is
the combined change in loss function across all time points - a single value.
</p>


<h3>Usage</h3>

<pre><code class="language-R">surv_integrated_feature_importance(
  x,
  loss_function = DALEX::loss_root_mean_square,
  ...,
  type = c("raw", "ratio", "difference"),
  B = 10,
  variables = NULL,
  variable_groups = NULL,
  N = NULL,
  label = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an explainer object - model preprocessed by the <code>explain()</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loss_function</code></td>
<td>
<p>a function that will be used to assess variable importance, by default <code>loss_brier_score</code> for survival models. The function should take can be supplied manually but has to have these named parameters (<code>y_true</code>, <code>risk</code>, <code>surv</code>, <code>times</code>), where <code>y_true</code> represents the <code>survival::Surv</code> object with observed times and statuses, <code>risk</code> is the risk score calculated by the model, and <code>surv</code> is the survival function for each observation evaluated at <code>times</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other parameters, currently ignored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>a character vector, if <code>"raw"</code> the results are losses after the permutation, if <code>"ratio"</code> the results are in the form <code>loss/loss_full_model</code> and if <code>"difference"</code> the results are of the form loss - loss_full_model'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>numeric, number of permutations to be calculated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variables</code></td>
<td>
<p>a character vector, names of variables to be included in the calculation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variable_groups</code></td>
<td>
<p>a list of character vectors of names of explanatory variables. For each vector, a single variable-importance measure is computed for the joint effect of the variables which names are provided in the vector. By default, variable_groups = NULL, in which case variable-importance measures are computed separately for all variables indicated in the variables argument</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>numeric, number of observations that are to be sampled from the dataset for the purpose of calculation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>label of the model, if provides overrides x$label</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><em>Note</em>: This function can be run within <code>progressr::with_progress()</code> to display a progress bar, as the execution can take long, especially on large datasets.
</p>


<h3>Value</h3>

<p>A data.frame containing results of the calculation.
</p>


</div>