<div class="container">

<table style="width: 100%;"><tr>
<td>ICA.ContCont</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Assess surrogacy in the causal-inference single-trial setting (Individual Causal Association, ICA) in the Continuous-continuous case</h2>

<h3>Description</h3>

<p>The function <code>ICA.ContCont</code> quantifies surrogacy in the single-trial causal-inference framework. See <b>Details</b> below.</p>


<h3>Usage</h3>

<pre><code class="language-R">ICA.ContCont(T0S0, T1S1, T0T0=1, T1T1=1, S0S0=1, S1S1=1, T0T1=seq(-1, 1, by=.1), 
T0S1=seq(-1, 1, by=.1), T1S0=seq(-1, 1, by=.1), S0S1=seq(-1, 1, by=.1))</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>T0S0</code></td>
<td>
<p>A scalar or vector that specifies the correlation(s) between the surrogate and the true endpoint in the control treatment condition that should be considered in the computation of <code class="reqn">\rho_{\Delta}</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T1S1</code></td>
<td>
<p>A scalar or vector that specifies the correlation(s) between the surrogate and the true endpoint in the experimental treatment condition that should be considered in the computation of <code class="reqn">\rho_{\Delta}</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T0T0</code></td>
<td>
<p>A scalar that specifies the variance of the true endpoint in the control treatment condition that should be considered in the computation of <code class="reqn">\rho_{\Delta}</code>. Default 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T1T1</code></td>
<td>
<p>A scalar that specifies the variance of the true endpoint in the experimental treatment condition that should be considered in the computation of <code class="reqn">\rho_{\Delta}</code>. Default 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S0S0</code></td>
<td>
<p>A scalar that specifies the variance of the surrogate endpoint in the control treatment condition that should be considered in the computation of <code class="reqn">\rho_{\Delta}</code>. Default 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S1S1</code></td>
<td>
<p>A scalar that specifies the variance of the surrogate endpoint in the experimental treatment condition that should be considered in the computation of <code class="reqn">\rho_{\Delta}</code>. Default 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T0T1</code></td>
<td>
<p>A scalar or vector that contains the correlation(s) between the counterfactuals T0 and T1 that should be considered in the computation of <code class="reqn">\rho_{\Delta}</code>. Default <code>seq(-1, 1, by=.1)</code>, i.e., the values <code class="reqn">-1</code>, <code class="reqn">-0.9</code>, <code class="reqn">-0.8</code>, ..., <code class="reqn">1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T0S1</code></td>
<td>
<p>A scalar or vector that contains the correlation(s) between the counterfactuals T0 and S1 that should be considered in the computation of <code class="reqn">\rho_{\Delta}</code>. Default <code>seq(-1, 1, by=.1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T1S0</code></td>
<td>
<p>A scalar or vector that contains the correlation(s) between the counterfactuals T1 and S0 that should be considered in the computation of <code class="reqn">\rho_{\Delta}</code>. Default <code>seq(-1, 1, by=.1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S0S1</code></td>
<td>
<p>A scalar or vector that contains the correlation(s) between the counterfactuals S0 and S1 that should be considered in the computation of <code class="reqn">\rho_{\Delta}</code>. Default <code>seq(-1, 1, by=.1)</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Based on the causal-inference framework, it is assumed that each subject <em>j</em> has four counterfactuals (or potential outcomes), i.e., <code class="reqn">T_{0j}</code>, <code class="reqn">T_{1j}</code>, <code class="reqn">S_{0j}</code>, and <code class="reqn">S_{1j}</code>. Let <code class="reqn">T_{0j}</code> and <code class="reqn">T_{1j}</code> denote the counterfactuals for the true endpoint (<code class="reqn">T</code>) under the control (<code class="reqn">Z=0</code>) and the experimental (<code class="reqn">Z=1</code>) treatments of subject <em>j</em>, respectively. Similarly, <code class="reqn">S_{0j}</code> and <code class="reqn">S_{1j}</code> denote the corresponding counterfactuals for the surrogate endpoint (<code class="reqn">S</code>) under the control and experimental treatments, respectively. The individual causal effects of <code class="reqn">Z</code> on <code class="reqn">T</code> and <code class="reqn">S</code> for a given subject <em>j</em> are then defined as <code class="reqn">\Delta_{T_{j}}=T_{1j}-T_{0j}</code> and <code class="reqn">\Delta_{S_{j}}=S_{1j}-S_{0j}</code>, respectively.
</p>
<p>In the single-trial causal-inference framework, surrogacy can be quantified as the correlation between the individual causal effects of <code class="reqn">Z</code> on <code class="reqn">S</code> and <code class="reqn">T</code> (for details, see Alonso et al., submitted):
</p>
<p style="text-align: center;"><code class="reqn">\rho_{\Delta}=\rho(\Delta_{T_{j}},\:\Delta_{S_{j}})=\frac{\sqrt{\sigma_{S_{0}S_{0}}\sigma_{T_{0}T_{0}}}\rho_{S_{0}T_{0}}+\sqrt{\sigma_{S_{1}S_{1}}\sigma_{T_{1}T_{1}}}\rho_{S_{1}T_{1}}-\sqrt{\sigma_{S_{0}S_{0}}\sigma_{T_{1}T_{1}}}\rho_{S_{0}T_{1}}-\sqrt{\sigma_{S_{1}S_{1}}\sigma_{T_{0}T_{0}}}\rho_{S_{1}T_{0}}}{\sqrt{(\sigma_{T_{0}T_{0}}+\sigma_{T_{1}T_{1}}-2\sqrt{\sigma_{T_{0}T_{0}}\sigma_{T_{1}T_{1}}}\rho_{T_{0}T_{1}})(\sigma_{S_{0}S_{0}}+\sigma_{S_{1}S_{1}}-2\sqrt{\sigma_{S_{0}S_{0}}\sigma_{S_{1}S_{1}}}\rho_{S_{0}S_{1}})}},</code>
</p>
 
<p>where the correlations <code class="reqn">\rho_{S_{0}T_{1}}</code>, <code class="reqn">\rho_{S_{1}T_{0}}</code>, <code class="reqn">\rho_{T_{0}T_{1}}</code>, and <code class="reqn">\rho_{S_{0}S_{1}}</code> are not estimable. It is thus warranted to conduct a sensitivity analysis (by considering vectors of possible values for the correlations between the counterfactuals â€“ rather than point estimates). 
</p>
<p>When the user specifies a vector of values that should be considered for one or more of the counterfactual correlations in the above expression, the function <code>ICA.ContCont</code> constructs all possible matrices that can be formed as based on these values, identifies the matrices that are positive definite (i.e., valid correlation matrices), and computes <code class="reqn">\rho_{\Delta}</code> for each of these matrices. The obtained vector of <code class="reqn">\rho_{\Delta}</code> values can subsequently be used to examine (i) the impact of different assumptions regarding the correlations between the counterfactuals on the results (see also <code>plot Causal-Inference ContCont</code>), and (ii) the extent to which proponents of the causal-inference and meta-analytic frameworks will reach the same conclusion with respect to the appropriateness of the candidate surrogate at hand.   
</p>
<p>The function <code>ICA.ContCont</code> also generates output that is useful to examine the plausibility of finding a good surrogate endpoint (see <code>GoodSurr</code> in the <b>Value</b> section below). For details, see Alonso et al. (submitted).
</p>
<p><b>Notes</b>
</p>
<p>A single <code class="reqn">\rho_{\Delta}</code> value is obtained when all correlations in the function call are scalars.
</p>


<h3>Value</h3>

<p>An object of class <code>ICA.ContCont</code> with components,
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Total.Num.Matrices</code></td>
<td>
<p>An object of class <code>numeric</code> that contains the total number of matrices that can be formed as based on the user-specified correlations in the function call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Pos.Def</code></td>
<td>
<p>A <code>data.frame</code> that contains the positive definite matrices that can be formed based on the user-specified correlations. These matrices are used to compute the vector of the <code class="reqn">\rho_{\Delta}</code> values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ICA</code></td>
<td>
<p>A scalar or vector that contains the individual causal association (ICA; <code class="reqn">\rho_{\Delta}</code>) value(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GoodSurr</code></td>
<td>
<p>A <code>data.frame</code> that contains the ICA (<code class="reqn">\rho_{\Delta}</code>), <code class="reqn">\sigma_{\Delta_{T}}</code>, and <code class="reqn">\delta</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Wim Van der Elst, Ariel Alonso, &amp; Geert Molenberghs
</p>


<h3>References</h3>

<p>Alonso, A., Van der Elst, W., Molenberghs, G., Buyse, M., &amp; Burzykowski, T. (submitted). On the relationship between the causal-inference and meta-analytic paradigms for the validation of surrogate markers. 
</p>


<h3>See Also</h3>

<p><code>MICA.ContCont</code>, <code>ICA.Sample.ContCont</code>, <code>Single.Trial.RE.AA</code>, <code>plot Causal-Inference ContCont</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run:  #time-consuming code parts
# Generate the vector of ICA.ContCont values when rho_T0S0=rho_T1S1=.95, 
# sigma_T0T0=90, sigma_T1T1=100,sigma_ S0S0=10, sigma_S1S1=15, and  
# the grid of values {0, .2, ..., 1} is considered for the correlations
# between the counterfactuals:
SurICA &lt;- ICA.ContCont(T0S0=.95, T1S1=.95, T0T0=90, T1T1=100, S0S0=10, S1S1=15,
T0T1=seq(0, 1, by=.2), T0S1=seq(0, 1, by=.2), T1S0=seq(0, 1, by=.2), 
S0S1=seq(0, 1, by=.2))

# Examine and plot the vector of generated ICA values:
summary(SurICA)
plot(SurICA)

# Obtain the positive definite matrices than can be formed as based on the 
# specified (vectors) of the correlations (these matrices are used to 
# compute the ICA values)
SurICA$Pos.Def

# Same, but specify vectors for rho_T0S0 and rho_T1S1: Sample from
# normal with mean .95 and SD=.05 (to account for uncertainty 
# in estimation) 
SurICA2 &lt;- ICA.ContCont(T0S0=rnorm(n=10000000, mean=.95, sd=.05), 
T1S1=rnorm(n=10000000, mean=.95, sd=.05), 
T0T0=90, T1T1=100, S0S0=10, S1S1=15,
T0T1=seq(0, 1, by=.2), T0S1=seq(0, 1, by=.2), T1S0=seq(0, 1, by=.2), 
S0S1=seq(0, 1, by=.2))

# Examine results
summary(SurICA2)
plot(SurICA2)

## End(Not run)
</code></pre>


</div>