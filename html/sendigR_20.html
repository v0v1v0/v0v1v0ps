<div class="container">

<table style="width: 100%;"><tr>
<td>initEnvironment</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Initialize the environment.</h2>

<h3>Description</h3>

<p>Open or create a SEND database and return a token for the open database
connection.
</p>


<h3>Usage</h3>

<pre><code class="language-R">initEnvironment(
  dbType = NULL,
  dbPath = NULL,
  dbCreate = FALSE,
  dbUser = NULL,
  dbPwd = NULL,
  dbSchema = NULL,
  ctFile = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dbType</code></td>
<td>
<p>Mandatory, character<br>
The type of database, valid values (case insensitive):
</p>

<ul>
<li>
<p> 'sqlite'
</p>
</li>
<li>
<p> 'oracle'
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbPath</code></td>
<td>
<p>Mandatory, character<br>
The path to the database (path to file or another kind of db reference)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbCreate</code></td>
<td>
<p>Mandatory, boolean<br>
If <code>TRUE</code>, a new database is to be created - this is only valid for
<code>dbType</code> 'sqlite'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbUser</code></td>
<td>
<p>Mandatory, character - if login credentials are required for the
specific db type<br>
The user name to be used for login to database.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbPwd</code></td>
<td>
<p>Mandatory, character - if login credentials are required for the
specific db type<br>
The password to be used for login to database.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbSchema</code></td>
<td>
<p>Optional, character<br>
The table owner of the SEND table in the specific database.<br>
This parameter is only relevant to specify if it is necessary to prefix
table names with schema in SQL statements i the database.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ctFile</code></td>
<td>
<p>Optional, character.<br>
Name (full path) of CDISC CT file in Excel xls format to be imported.
Only relevant to use if another CDISC CT version than the version
included in packages is wanted.<br></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If the function is executed with parameter <code>dbCreate=FALSE</code> (default),
a connection to the specified database is opened. Dependent of the type of
database (parameter <code>dbType</code>), a login using specified user credentials
(parameters <code>dbUser</code> and <code>dbPwd</code>) may be done.<br>
The database must contain a set of tables representing the SEND domains
compliant with SEND IG version 3.0 and/on 3.1.<br></p>
<p>If the function is executed with parameter <code>dbCreate=TRUE</code>, an empty
database is created and opened. This is only supported for a SQLite database,
i.e. parameter <code>dbType='sqlite'</code>. The SEND domain tables may then be
created by execution of the function <code>dbCreateSchema</code>.
</p>
<p>Besides the open database connection, a set of CDISC SEND controlled
terminology values are imported. If parameter <code>ctFile</code> is specified with
a path to an Excel file containing a CDISC SEND ct version downloaded from
<a href="https://evs.nci.nih.gov/ftp1/CDISC/SEND/">https://evs.nci.nih.gov/ftp1/CDISC/SEND/</a>, the content
from this file is imported and used by some of the package's functions.
Else a set of CDISC SEND CT values which are included in the  packages is
used by the package's functions. It's the newest CDISC SEND CT version at the
time of the build of the current version of the package which is included.
</p>


<h3>Value</h3>

<p>The function returns a token which is a data structure describing
the open database connection. This token must be given as input parameter
to all functions accessing the actual database.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 
db &lt;- initEnvironment(dbType='sqlite',
                      dbPath='//servername/SendData/db/send.db',
                      ctFile='//servername/SendData/metadata/SEND_Terminology_2019-12-27.xls')
db &lt;- initEnvironment(dbType='oracle',
                      dbPath='dbserver:1521/send_db',
                      dbUser='ME',
                      dbPwd='mypassword',
                      dbSchema = 'send',
                      ctFile='//servername/SendData/metadata/SEND_Terminology_2019-12-27.xls')

## End(Not run)


</code></pre>


</div>