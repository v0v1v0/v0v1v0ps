<div class="container">

<table style="width: 100%;"><tr>
<td>convert_to_script</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert SDTM QC code from a .Rmd file to .R script</h2>

<h3>Description</h3>

<p>Wraps <code>knitr::purl()</code> to create an .R script from a .Rmd file. It can also
auto-archive the .Rmd file to a <code style="white-space: pre;">⁠[dir]/archive⁠</code> sub-directory. This is useful
for turning first-attempt exploratory data analysis into production scripts
once the validation code is complete.
</p>


<h3>Usage</h3>

<pre><code class="language-R">convert_to_script(filename, dir = NULL, archive = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>string, the file name of both the .Rmd file that will be read
and the file name of the .R file to be written (do not include .Rmd or .R
extension)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>string, the directory where the .Rmd file is and the .R file will
be written, default is <code>NULL</code> which means the current working directory
will be used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>archive</code></td>
<td>
<p>logical, whether to auto-archive the .Rmd file; default is
<code>FALSE</code></p>
</td>
</tr>
</table>
<h3>Details</h3>


<ul>
<li>
<p> The resulting script will take the same name as the .Rmd file but with a
different extension (.R)
</p>
</li>
<li>
<p> If <code style="white-space: pre;">⁠[dir]/archive⁠</code> does not already exist, it will be created
</p>
</li>
</ul>
<h3>Value</h3>

<p>nothing
</p>


<h3>See Also</h3>

<p><code>write_sessionInfo()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># get test notebook from the sdtmval/inst/extdata dir and copy it to temp dir
test_file_dir &lt;- system.file("extdata", package = "sdtmval")
filename &lt;- "test_notebook"
temp_path &lt;- tempdir()
file.copy(from = file.path(test_file_dir, paste0(filename, ".Rmd")),
          to = file.path(temp_path, paste0(filename, ".Rmd")))

# create the script and archive the .Rmd file
convert_to_script(dir = temp_path, filename = filename, archive = TRUE)

</code></pre>


</div>