<div class="container">

<table style="width: 100%;"><tr>
<td>as.sr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute the Sharpe ratio.</h2>

<h3>Description</h3>

<p>Computes the Sharpe ratio of some observed returns.
</p>


<h3>Usage</h3>

<pre><code class="language-R">as.sr(x, c0 = 0, ope = 1, na.rm = FALSE, epoch = "yr", higher_order = FALSE)

## Default S3 method:
as.sr(x, c0 = 0, ope = 1, na.rm = FALSE, epoch = "yr", higher_order = FALSE)

## S3 method for class 'matrix'
as.sr(x, c0 = 0, ope = 1, na.rm = FALSE, epoch = "yr", higher_order = FALSE)

## S3 method for class 'data.frame'
as.sr(x, c0 = 0, ope = 1, na.rm = FALSE, epoch = "yr", higher_order = FALSE)

## S3 method for class 'lm'
as.sr(x, c0 = 0, ope = 1, na.rm = FALSE, epoch = "yr", higher_order = FALSE)

## S3 method for class 'xts'
as.sr(x, c0 = 0, ope = 1, na.rm = FALSE, epoch = "yr", higher_order = FALSE)

## S3 method for class 'timeSeries'
as.sr(x, c0 = 0, ope = 1, na.rm = FALSE, epoch = "yr", higher_order = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>vector of returns, or object of class <code>data.frame</code>, <code>xts</code>,
or <code>lm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c0</code></td>
<td>
<p>the 'risk-free' or 'disastrous' rate of return. this is
assumed to be given in the same units as x, <em>not</em>
in 'annualized' terms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ope</code></td>
<td>
<p>the number of observations per 'epoch'. For convenience of
interpretation, The Sharpe ratio is typically quoted in 'annualized' 
units for some epoch, that is, 'per square root epoch', though returns 
are observed at a frequency of <code>ope</code> per epoch. 
The default value is 1, meaning the code will not attempt to guess
what the observation frequency is, and no annualization adjustments
will be made.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>logical.  Should missing values be removed?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epoch</code></td>
<td>
<p>the string representation of the 'epoch', defaulting
to 'yr'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>higher_order</code></td>
<td>
<p>a Boolean. If true, we compute 
cumulants of the returns to leverage higher order accuracy formulae
when possible.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Suppose <code class="reqn">x_i</code> are <code class="reqn">n</code> independent returns of some
asset.
Let <code class="reqn">\bar{x}</code> be the sample mean, and <code class="reqn">s</code> be
the sample standard deviation (using Bessel's correction). Let <code class="reqn">c_0</code>
be the 'risk free rate'.  Then
</p>
<p style="text-align: center;"><code class="reqn">z = \frac{\bar{x} - c_0}{s}</code>
</p>
 
<p>is the (sample) Sharpe ratio.
</p>
<p>The units of <code class="reqn">z</code> are <code class="reqn">\mbox{time}^{-1/2}</code>.
Typically the Sharpe ratio is <em>annualized</em> by multiplying by
<code class="reqn">\sqrt{\mbox{ope}}</code>, where <code class="reqn">\mbox{ope}</code> 
is the number of observations
per year (or whatever the target annualization epoch.)
</p>
<p>Note that if <code>ope</code> is not given, the converter from <code>xts</code>
attempts to infer the observations per year, without regard to 
the name of the <code>epoch</code> given.
</p>


<h3>Value</h3>

<p>a list containing the following components:
</p>

<dl>
<dt>sr</dt>
<dd>
<p>the annualized Sharpe ratio.</p>
</dd>
<dt>df</dt>
<dd>
<p>the t-stat degrees of freedom.</p>
</dd>
<dt>c0</dt>
<dd>
<p>the risk free term.</p>
</dd>
<dt>ope</dt>
<dd>
<p>the annualization factor.</p>
</dd>
<dt>rescal</dt>
<dd>
<p>the rescaling factor.</p>
</dd>
<dt>epoch</dt>
<dd>
<p>the string epoch.</p>
</dd>
</dl>
<p>cast to class <code>sr</code>.
</p>


<h3>Author(s)</h3>

<p>Steven E. Pav <a href="mailto:shabbychef@gmail.com">shabbychef@gmail.com</a>
</p>


<h3>References</h3>

<p>Sharpe, William F. "Mutual fund performance." Journal of business (1966): 119-138.
<a href="https://ideas.repec.org/a/ucp/jnlbus/v39y1965p119.html">https://ideas.repec.org/a/ucp/jnlbus/v39y1965p119.html</a>
</p>
<p>Lo, Andrew W. "The statistics of Sharpe ratios." Financial Analysts Journal 58, no. 4 
(2002): 36-52. <a href="https://www.ssrn.com/paper=377260">https://www.ssrn.com/paper=377260</a>
</p>


<h3>See Also</h3>

<p><code>reannualize</code>
</p>
<p>sr-distribution functions, <code>dsr, psr, qsr, rsr</code>
</p>
<p>Other sr: 
<code>confint.sr()</code>,
<code>dsr()</code>,
<code>is.sr()</code>,
<code>plambdap()</code>,
<code>power.sr_test()</code>,
<code>predint()</code>,
<code>print.sr()</code>,
<code>reannualize()</code>,
<code>se()</code>,
<code>sr_equality_test()</code>,
<code>sr_test()</code>,
<code>sr_unpaired_test()</code>,
<code>sr_vcov()</code>,
<code>sr</code>,
<code>summary.sr</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Sharpe's 'model': just given a bunch of returns.
asr &lt;- as.sr(rnorm(253*3),ope=253)
# or a matrix, with a name
my.returns &lt;- matrix(rnorm(253*3),ncol=1)
colnames(my.returns) &lt;- c("my strategy")
asr &lt;- as.sr(my.returns)

# given an xts object:
if (require(xts)) {
 data(stock_returns)
 IBM &lt;- stock_returns[,'IBM']
 asr &lt;- as.sr(IBM,na.rm=TRUE)
}

# on a linear model, find the 'Sharpe' of the residual term
nfac &lt;- 5
nyr &lt;- 10
ope &lt;- 253
set.seed(as.integer(charToRaw("determinstic")))
Factors &lt;- matrix(rnorm(ope*nyr*nfac,mean=0,sd=0.0125),ncol=nfac)
Betas &lt;- exp(0.1 * rnorm(dim(Factors)[2]))
Returns &lt;- (Factors %*% Betas) + rnorm(dim(Factors)[1],mean=0.0005,sd=0.012)
APT_mod &lt;- lm(Returns ~ Factors)
asr &lt;- as.sr(APT_mod,ope=ope)
# try again, but make the Returns independent of the Factors.
Returns &lt;- rnorm(dim(Factors)[1],mean=0.0005,sd=0.012)
APT_mod &lt;- lm(Returns ~ Factors)
asr &lt;- as.sr(APT_mod,ope=ope)

# compute the Sharpe of a bunch of strategies:
my.returns &lt;- matrix(rnorm(253*3*4),ncol=4)
asr &lt;- as.sr(my.returns)  # without sensible colnames?
colnames(my.returns) &lt;- c("strat a","strat b","strat c","strat d")
asr &lt;- as.sr(my.returns)
  
</code></pre>


</div>