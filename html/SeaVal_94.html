<div class="container">

<table style="width: 100%;"><tr>
<td>tfc_plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>plotting function for tercile forecasts</h2>

<h3>Description</h3>

<p>Plots spatial maps of tercile forecasts. Requires a data table with three columns <code>"below"</code>, <code>"normal"</code>, <code>"above"</code>
which sum to 1. For each gridpoint only the highest of the three values is plotted, so there are three colorscales.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tfc_plot(
  dt,
  discrete_cs = TRUE,
  rmax = NULL,
  below = "brown",
  normal = "gold",
  above = "forestgreen",
  na.value = "gray75",
  cs_names = c("below", "normal", "above"),
  oob = NULL,
  guide_barwidth = grid::unit(0.01, units = "npc"),
  guide_barheight = grid::unit(0.15, units = "npc"),
  legend_horizontal = FALSE,
  binwidth = "auto",
  add_map = TRUE,
  extent = NULL,
  expand.x = c(0, 0),
  expand.y = c(0, 0),
  showplot = TRUE,
  dimension_check = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dt</code></td>
<td>
<p>Data table containing the data for plotting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>discrete_cs</code></td>
<td>
<p>Logical. Do you want to use discrete color scales (default) or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rmax</code></td>
<td>
<p>Optional value to fix the range of the colorscale (lower limit is always 0.33).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>below, normal, above</code></td>
<td>
<p>Colors to use for the three categories. Default is <code>'brown'</code>, <code>'gold'</code>, <code>'forestgreen'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.value</code></td>
<td>
<p>Color to use for missing value. Default is <code>'gray75'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cs_names</code></td>
<td>
<p>Character vector of length three giving the legend titles for the below-, normal-, and above category.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>oob</code></td>
<td>
<p>Behavior for data above <code>r_max</code>. Passed to <code>ggplot2::scale_fill_continuous()</code> if <code>discrete_cs == FALSE</code> or else to <code>ggplot2::scale_fill_steps()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>guide_barwidth, guide_barheight</code></td>
<td>
<p>value to specify the width and height of the color guide. Are flipped if <code>legend_horizontal</code> is <code>TRUE</code>. Use <code>units(...,"npc")</code> to make it work across all output devices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend_horizontal</code></td>
<td>
<p>Logical. Set to <code>TRUE</code> to show the legend horizontally underneath the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binwidth</code></td>
<td>
<p>Width of the steps when a discrete colorscale is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_map</code></td>
<td>
<p>logical, defaults to <code>TRUE</code>, mostly for internal use. Set to <code>FALSE</code> to remove borders (e.g. if you want to add them yourself from a shapefile).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extent</code></td>
<td>
<p>An optional four-element vector in the order xmin,xmax,ymin,ymax for specifying the spatial extent of the plot. Default is to fit the extent to the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expand.x, expand.y</code></td>
<td>
<p>vectors with two entries to be added to xlims/ylims of the plot. E.g. expand.x = c(-0.5,0.5)
expands the plot by half a longitude both on the right and left hand side.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showplot</code></td>
<td>
<p>Logical. Should the plot be displayed at the end?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimension_check</code></td>
<td>
<p>Logical. By default the function checks that there are not multiple values per coordinate
(and subsets to the first level if there are several, e.g. to the first year and month (by appearance in <code>dt</code>) if <code>dt</code> contains data for several years and months).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a ggplot object.
</p>


<h3>Author(s)</h3>

<p>Claudio Heinrich
</p>


<h3>Examples</h3>

<pre><code class="language-R">#dt = tfc_from_efc(ecmwf_monthly[month == 11 &amp; lat &lt; 0])
#pp = tfc_plot(dt[year == 2018])
#if(interactive()) plot(pp)

</code></pre>


</div>