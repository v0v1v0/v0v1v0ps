<div class="container">

<table style="width: 100%;"><tr>
<td>as.anndata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert objects to anndata objects</h2>

<h3>Description</h3>

<p>Convert objects (Seurat &amp; LIGER) to anndata objects
</p>


<h3>Usage</h3>

<pre><code class="language-R">as.anndata(x, ...)

## S3 method for class 'Seurat'
as.anndata(
  x,
  file_path,
  file_name,
  assay = "RNA",
  main_layer = "data",
  other_layers = "counts",
  transer_dimreduc = TRUE,
  verbose = TRUE,
  ...
)

## S3 method for class 'liger'
as.anndata(
  x,
  file_path,
  file_name,
  transfer_norm.data = FALSE,
  reduction_label = NULL,
  add_barcode_names = FALSE,
  barcode_prefix = TRUE,
  barcode_cell_id_delimiter = "_",
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Seurat or LIGER object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to other methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file_path</code></td>
<td>
<p>directory file path and/or file name prefix.  Defaults to current wd.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file_name</code></td>
<td>
<p>file name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>assay</code></td>
<td>
<p>Assay containing data to use, (default is "RNA").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main_layer</code></td>
<td>
<p>the layer of data to become default layer in anndata object (default is "data").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>other_layers</code></td>
<td>
<p>other data layers to transfer to anndata object (default is "counts").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transer_dimreduc</code></td>
<td>
<p>logical, whether to transfer dimensionality reduction coordinates from
Seurat to anndata object (default is TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical, whether to print status messages during object conversion (default is TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transfer_norm.data</code></td>
<td>
<p>logical, whether to transfer the norm.data in addition to
raw.data, default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reduction_label</code></td>
<td>
<p>What to label the visualization dimensionality reduction.
LIGER does not store name of technique and therefore needs to be set manually.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_barcode_names</code></td>
<td>
<p>logical, whether to add dataset names to the cell barcodes when
merging object data, default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>barcode_prefix</code></td>
<td>
<p>logical, if <code>add_barcode_names = TRUE</code> should the names be added as
prefix to current cell barcodes/names or a suffix (default is TRUE; prefix).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>barcode_cell_id_delimiter</code></td>
<td>
<p>The delimiter to use when adding dataset id to barcode
prefix/suffix.  Default is "_".</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>an anndata object generated from <code>x</code>, saved at path provided.
</p>


<h3>References</h3>

<p>Seurat version modified and enhanced version of <code>sceasy::seurat2anndata</code> (sceasy package: <a href="https://github.com/cellgeni/sceasy">https://github.com/cellgeni/sceasy</a>; License: GPL-3.  Function has additional checks and supports Seurat V3 and V5 object structure.
</p>
<p>LIGER version inspired by <code>sceasy::seurat2anndata</code> modified and updated to apply to LIGER objects (sceasy package: <a href="https://github.com/cellgeni/sceasy">https://github.com/cellgeni/sceasy</a>; License: GPL-3.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
as.anndata(x = seurat_object, file_path = "/folder_name", file_name = "anndata_converted.h5ad")

## End(Not run)

## Not run: 
as.anndata(x = liger_object, file_path = "/folder_name", file_name = "anndata_converted.h5ad")

## End(Not run)

</code></pre>


</div>