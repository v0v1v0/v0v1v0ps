<div class="container">

<table style="width: 100%;"><tr>
<td>Rule</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Scheduling rule class.</h2>

<h3>Description</h3>

<p>Scheduling rule class.
</p>
<p>Scheduling rule class.
</p>


<h3>Details</h3>

<p>This class represents a scheduling rule, used to limit the number of events
during a certain lap of time.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Rule-new"><code>Rule$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Rule-getN"><code>Rule$getN()</code></a>
</p>
</li>
<li> <p><a href="#method-Rule-getLapTime"><code>Rule$getLapTime()</code></a>
</p>
</li>
<li> <p><a href="#method-Rule-print"><code>Rule$print()</code></a>
</p>
</li>
<li> <p><a href="#method-Rule-wait"><code>Rule$wait()</code></a>
</p>
</li>
<li> <p><a href="#method-Rule-clone"><code>Rule$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-Rule-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Initializer.
</p>


<h5>Usage</h5>

<div class="r"><pre>Rule$new(n = 3L, lap = 1)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>n</code></dt>
<dd>
<p>Number of events during a time lap.</p>
</dd>
<dt><code>lap</code></dt>
<dd>
<p>Duration of a time lap, in seconds.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>Nothing.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Create a rule object with default parameters
r &lt;- Rule$new()

# Create a rule object with 5 events allowed each second (default time)
r2 &lt;- Rule$new(5L)

# Create a rule object with 5 events allowed each 3 seconds
r3 &lt;- Rule$new(5L, 3)
</pre>
</div>


<hr>
<a id="method-Rule-getN"></a>



<h4>Method <code>getN()</code>
</h4>

<p>Gets the number of events allowed during a lap time.
</p>


<h5>Usage</h5>

<div class="r"><pre>Rule$getN()</pre></div>



<h5>Returns</h5>

<p>Returns the number of events as an integer.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>r &lt;- Rule$new()

#' Get the allowed number of events for a rule
print(r$getN())
</pre>
</div>


<hr>
<a id="method-Rule-getLapTime"></a>



<h4>Method <code>getLapTime()</code>
</h4>

<p>Gets the lap time.
</p>
<p>The number of seconds during which N events are allowed.
</p>


<h5>Usage</h5>

<div class="r"><pre>Rule$getLapTime()</pre></div>



<h5>Returns</h5>

<p>Returns Lap time as a numeric.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Create a rule object with default parameters
r &lt;- Rule$new()

#' Get the configured lap time for a rule
print(r$getLapTime())
</pre>
</div>


<hr>
<a id="method-Rule-print"></a>



<h4>Method <code>print()</code>
</h4>

<p>Displays information about this instance.
</p>


<h5>Usage</h5>

<div class="r"><pre>Rule$print()</pre></div>



<h5>Returns</h5>

<p>Nothing.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Create a rule object with default parameters
r &lt;- Rule$new()

# Print information about a rule object
print(r)
</pre>
</div>


<hr>
<a id="method-Rule-wait"></a>



<h4>Method <code>wait()</code>
</h4>

<p>Wait (sleep) until a new event is allowed.
</p>


<h5>Usage</h5>

<div class="r"><pre>Rule$wait(do_sleep = TRUE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>do_sleep</code></dt>
<dd>
<p>Debug parameter that turns off the call to Sys.sleep().
Use only for testing.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>The time passed to wait, in seconds.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Create a rule object that allows 3 events each 0.02 seconds
r &lt;- Rule$new(3, 0.02)

#' Loop for generating 20 events
i &lt;- 0 # event index
while (i &lt; 20) {
  # Wait until next event is allowed
  wait_time &lt;- r$wait()
  print(paste("We have waited", wait_time,
    "second(s) and are now allowed to process event number", i))
  i &lt;- i + 1
}
</pre>
</div>


<hr>
<a id="method-Rule-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Rule$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R"># Create a new Rule object:
rule &lt;- sched::Rule$new(n=1,lap=0.2) # 1 event allowed each 2 seconds

# Wait to be allowed to process with first event:
rule$wait() # The first event will be allowed directly, no waiting time.
# Process your first event here
rule$wait() # The second event will be delayed 0.2 seconds. This time
            # includes the time passed between the first call to wait() and
            # this one.
# Process your second event here


## ------------------------------------------------
## Method `Rule$new`
## ------------------------------------------------

# Create a rule object with default parameters
r &lt;- Rule$new()

# Create a rule object with 5 events allowed each second (default time)
r2 &lt;- Rule$new(5L)

# Create a rule object with 5 events allowed each 3 seconds
r3 &lt;- Rule$new(5L, 3)

## ------------------------------------------------
## Method `Rule$getN`
## ------------------------------------------------

r &lt;- Rule$new()

#' Get the allowed number of events for a rule
print(r$getN())

## ------------------------------------------------
## Method `Rule$getLapTime`
## ------------------------------------------------

# Create a rule object with default parameters
r &lt;- Rule$new()

#' Get the configured lap time for a rule
print(r$getLapTime())

## ------------------------------------------------
## Method `Rule$print`
## ------------------------------------------------

# Create a rule object with default parameters
r &lt;- Rule$new()

# Print information about a rule object
print(r)

## ------------------------------------------------
## Method `Rule$wait`
## ------------------------------------------------

# Create a rule object that allows 3 events each 0.02 seconds
r &lt;- Rule$new(3, 0.02)

#' Loop for generating 20 events
i &lt;- 0 # event index
while (i &lt; 20) {
  # Wait until next event is allowed
  wait_time &lt;- r$wait()
  print(paste("We have waited", wait_time,
    "second(s) and are now allowed to process event number", i))
  i &lt;- i + 1
}
</code></pre>


</div>