<div class="container">

<table style="width: 100%;"><tr>
<td>trigger-action</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Trigger filtering panel action</h2>

<h3>Description</h3>

<p>The two functions that allow to trigger a specific filtering panel action directly
from Shiny server (.trigger_action) or application browser (.trigger_action_js)
attached to a specific JS event, e.g. onclick.
</p>
<p>Check Details section to see possible options.
</p>


<h3>Usage</h3>

<pre><code class="language-R">.trigger_action(session, action, params = NULL)

.trigger_action_js(action, params = list(), ns = function(id) id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>session</code></td>
<td>
<p>Shiny session object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>action</code></td>
<td>
<p>Id of the action.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>List of parameters passed to specific action method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ns</code></td>
<td>
<p>Namespace function (if used within Shiny modal).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The list of possible actions:
</p>

<ul>
<li>
<p><code>update_filter</code> - Calls 'shinyCohortBuilder:::gui_update_filter' that triggers filter arguments update.
</p>
</li>
<li>
<p><code>add_step</code> - Calls 'shinyCohortBuilder:::gui_add_step' that triggers adding a new filtering step (based on configuration of the previous one).
</p>
</li>
<li>
<p><code>rm_step</code> - Calls 'shinyCohortBuilder:::gui_rm_step' used to remove a selected filtering step.,
</p>
</li>
<li>
<p><code>clear_step</code> - Calls 'shinyCohortBuilder:::gui_clear_step' used to clear filters configuration in selected step.
</p>
</li>
<li>
<p><code>update_step</code> - Calls 'shinyCohortBuilder:::gui_update_step' used to update filters and feedback plots for the specific filter GUI panel.
</p>
</li>
<li>
<p><code>update_data_stats</code> - Calls 'shinyCohortBuilder:::gui_update_data_stats' that is called to update data statistics. 
</p>
</li>
<li>
<p><code>show_repro_code</code> - Calls 'shinyCohortBuilder:::gui_show_repro_code' that is used to show reproducible code. 
</p>
</li>
<li>
<p><code>run_step</code> - Calls 'shinyCohortBuilder:::gui_run_step' used to trigger specific step data calculation. 
</p>
</li>
<li>
<p><code>show_state</code> - Calls 'shinyCohortBuilder:::gui_show_state' that is used to show filtering panel state json. 
</p>
</li>
<li>
<p><code>input_state</code> - Calls 'shinyCohortBuilder:::gui_input_state' that is used to generate modal in which filtering panel state can be provided (as json). 
</p>
</li>
<li>
<p><code>restore_state</code> - Calls 'shinyCohortBuilder:::gui_restore_state' used for restoring filtering panel state based on provided json. 
</p>
</li>
<li>
<p><code>show_attrition</code> - Calls 'shinyCohortBuilder:::gui_show_attrition' a method used to show attrition data plot(s).
</p>
</li>
</ul>
<p>Both '.trigger_action' and '.trigger_action_js' methods are exported for advanced use only.
</p>


<h3>Value</h3>

<p>No return value ('.trigger_action' - sends message to the browser) or
character string storing JS code for sending input value to Shiny server ('.trigger_action_js').
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (interactive()) {
  library(shiny)
  library(shinyCohortBuilder)

  shiny::addResourcePath(
    "shinyCohortBuilder",
    system.file("www", package = "shinyCohortBuilder")
  )
  ui &lt;- fluidPage(
    tags$head(
      shiny::tags$script(type = "text/javascript", src = file.path("shinyCohortBuilder", "scb.js"))
    ),
    tags$button(
      "Trigger action from UI", class = "btn btn-default",
      onclick = .trigger_action_js("uiaction", params = list(a = 1))
    ),
    actionButton("send", "Trigger action from server")
  )

  server &lt;- function(input, output, session) {
    observeEvent(input$send, {
      .trigger_action(session, "serveraction", params = list(a = 2))
    })
    observeEvent(input$action, {
      print(input$action)
    })
  }

  shinyApp(ui, server)
}
</code></pre>


</div>