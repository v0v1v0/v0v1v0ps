<div class="container">

<table style="width: 100%;"><tr>
<td>selectivelyContinueTTestCombineData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Selectively Continue Experiments that Did Not Lead to a Null Rejection for a (Safe) T-Test</h2>

<h3>Description</h3>

<p>Helper function used in the vignette.
</p>


<h3>Usage</h3>

<pre><code class="language-R">selectivelyContinueTTestCombineData(
  oldValues,
  valuesType = c("eValues", "pValues"),
  designObj = NULL,
  alternative = c("twoSided", "greater", "less"),
  oldData,
  deltaTrue,
  alpha = NULL,
  n1Extra = NULL,
  n2Extra = NULL,
  seed = NULL,
  paired = FALSE,
  muGlobal = 0,
  sigmaTrue = 1,
  moreMainText = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>oldValues</code></td>
<td>
<p>vector of e-values or p-values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>valuesType</code></td>
<td>
<p>character string either "eValues" or "pValues".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>designObj</code></td>
<td>
<p>a safeDesign object obtained from <code>designSafeT</code>, or <code>NULL</code>
if valuesType equal "pValues".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>a character string specifying the alternative hypothesis must be one of "twoSided" (default),
"greater" or "less".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>oldData</code></td>
<td>
<p>a list of matrices with names "dataGroup1" and "dataGroup2".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deltaTrue</code></td>
<td>
<p>numeric, the value of the true standardised effect size (test-relevant parameter).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>numeric in (0, 1) that specifies the tolerable type I error control –independent of n– that the
designed test has to adhere to. Note that it also defines the rejection rule e10 &gt; 1/alpha.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n1Extra</code></td>
<td>
<p>integer, that defines the additional number of samples of the first group. If
<code>NULL</code> and valuesType equals "eValues", then n1Extra equals <code>designObj$nPlan[1]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n2Extra</code></td>
<td>
<p>optional integer, that defines the additional number of samples of the second group.
If <code>NULL</code>, and valuesType equals "eValues", then n2Extra equals <code>designObj$nPlan[2]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>To set the seed for the simulated data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paired</code></td>
<td>
<p>logical, if <code>TRUE</code> then paired t-test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>muGlobal</code></td>
<td>
<p>numeric, the true global mean of a paired or two-sample t-test. Its value should not
matter for the test. This parameter is treated as a nuisance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigmaTrue</code></td>
<td>
<p>numeric &gt; 0,the true standard deviation of the data. Its value should not  matter
for the test.This parameter treated is treated as a nuisance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>moreMainText</code></td>
<td>
<p>character, additional remarks in the title of the histogram.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list that includes the continued s or p-values based on the combined data, and a list of the
combined data.
</p>


<h3>Examples</h3>

<pre><code class="language-R">alpha &lt;- 0.05
mIter &lt;- 1000L

designObj &lt;- designSafeT(deltaMin=1, alpha=alpha, beta=0.2, nSim=100)
oldData &lt;- generateNormalData(nPlan=designObj$nPlan, deltaTrue=0, nSim=mIter, seed=1)

eValues &lt;- vector("numeric", length=mIter)

for (i in seq_along(eValues)) {
  eValues[i] &lt;- safeTTest(x=oldData$dataGroup1[i, ], designObj=designObj)$eValue
}

# First run: 8 false null rejections
sum(eValues &gt; 1/alpha)

continuedSafe &lt;- selectivelyContinueTTestCombineData(
  oldValues=eValues, designObj=designObj, oldData=oldData,
  deltaTrue=0, seed=2)

# Second run: 1 false null rejections
sum(continuedSafe$newValues &gt; 1/alpha)

# Third run: 0 false null rejections
eValues &lt;- continuedSafe$newValues
oldData &lt;- continuedSafe$combinedData
continuedSafe &lt;- selectivelyContinueTTestCombineData(
  oldValues=eValues, designObj=designObj, oldData=oldData,
  deltaTrue=0, seed=3)
sum(continuedSafe$newValues &gt; 1/alpha)
</code></pre>


</div>