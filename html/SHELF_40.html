<div class="container">

<table style="width: 100%;"><tr>
<td>survivalModelExtrapolations</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compare Multiple Fitted Models for Survival Extrapolation</h2>

<h3>Description</h3>

<p>Fits seven parametric models to an individual patient survival data set (using the <code>flexsurv</code>
package), 
displays extrapolations, and report the time point at which there is the
widest range in estimated extrapolated survival probabilities. This function is intended to be used
only as an informal exploratory tool to support elicitation for survival extrapolation,
specifically, to inform the choice of target extrapolation time. The fitted models 
are exponential, weibull, gamma, gompertz, log logistic, log normal and geneneralised gamma.
</p>


<h3>Usage</h3>

<pre><code class="language-R">survivalModelExtrapolations(
  survDf,
  tOffset = 0,
  tEnd,
  group,
  tTruncate = NULL,
  dists = c("exp", "weibull", "gamma", "gompertz", "llogis", "lnorm", "gengamma"),
  nModels = length(dists),
  showPlot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>survDf</code></td>
<td>
<p>data frame with individual patient data. Require to be a .csv file with
three columns: "time", "event" and "treatment" (in that order).
Values in the "event" column should be 0 for a censored observation, and 1 otherwise.
The"treatment" column should be included even if there is only one treatment group.'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tOffset</code></td>
<td>
<p>discard observations with time less than this value, and fit survival 
distributions to <code>survDf$time - tOffset</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tEnd</code></td>
<td>
<p>the maximum time point for extrapolation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>character variable to select treatment group: one of the levels in the
factor variable survDf$treatment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tTruncate</code></td>
<td>
<p>optional argument: time point at which to censor all observations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dists</code></td>
<td>
<p>character vector of distributions to fit. Default is <code>c("exp", "weibull",
"gamma", "gompertz", "llogis", "lnorm", "gengamma")</code> corresponding to the distributions listed
above; can choose a subset of this.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nModels</code></td>
<td>
<p>how many fitted models to plot, up to a maximum of 7, chosen by lowest AIC
value. Default is <code>length(dists)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showPlot</code></td>
<td>
<p>whether to display the plot</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing the elements
</p>
<table>
<tr style="vertical-align: top;">
<td><code>KMplot</code></td>
<td>
<p>a ggplot2 plot object;</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tMaxRange</code></td>
<td>
<p>the time point at which there is the greatest difference between the largest
and smallest extrapolated survival probability (if more than one distribution fitted);</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modelAIC</code></td>
<td>
<p>the AIC for each fitted model.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# Make a data frame using the survival::veteran data frame
sdf &lt;- survival::veteran[, c("time", "status", "trt")]
colnames(sdf) &lt;- c("time", "event", "treatment")
sdf$treatment &lt;- factor(sdf$treatment, labels = c("standard", "test"))

survivalModelExtrapolations(sdf, tEnd = 1000, group = "test", tTruncate = 100)

## End(Not run)
</code></pre>


</div>