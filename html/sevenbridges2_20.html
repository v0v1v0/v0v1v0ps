<div class="container">

<table style="width: 100%;"><tr>
<td>prepare_items_for_bulk_export</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prepare items for bulk export</h2>

<h3>Description</h3>

<p>Utility function to prepare the <code>items</code> parameter, a list of
elements containing information about each file to be exported using the
<code>bulk_submit_export()</code> method.
</p>


<h3>Usage</h3>

<pre><code class="language-R">prepare_items_for_bulk_export(
  files,
  destination_volume,
  destination_location_prefix = NULL,
  overwrite = TRUE,
  properties = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>files</code></td>
<td>
<p>A list of <code>File</code> objects or list of strings
(IDs) of the files you are about to export to a volume.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>destination_volume</code></td>
<td>
<p>Either a <code>Volume</code> object or the ID of
the volume to which the file will be exported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>destination_location_prefix</code></td>
<td>
<p>Character. If the volume has been
configured with a prefix parameter, <br><code>destination_location_prefix</code> value will be prepended to location before
attempting to create the file on the volume. This parameter can be treated
as a path to a new file on the volume. The default value is <code>NULL</code>.
</p>
<p>If you would like to export the file into a folder on the volume,
please add folder name as the prefix before the file name in the
<code>"&lt;folder-name&gt;/"</code> form. Remember to put a slash character ("/") at the end
of the string.
</p>
<p>Keep in mind that the same prefix will be added to all items (files) in the
resulting list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Logical. If this is set to <code>TRUE</code> and a named file exists
in the project where the alias is about to be created, the existing file
will be deleted. <code>FALSE</code> by default.
</p>
<p>Keep in mind that the same overwrite option will be applied to all items
(files) in the resulting list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>properties</code></td>
<td>
<p>Named list of additional volume properties, like:
</p>

<ul>
<li> <p><code>sse_algorithm</code> - S3 server-side encryption to use when
exporting to this bucket. Supported values:
<code>AES256</code> (SSE-S3 encryption), <code>aws:kms</code>, <code>null</code>
(no server-side encryption). Default: <code>AES256</code>.
</p>
</li>
<li> <p><code>sse_aws_kms_key_id</code>: Applies to type: <code>s3</code>.
If AWS KMS encryption is used, this should be set to the required
KMS key. If not set and <code>aws:kms</code> is set as <code>sse_algorithm</code>,
default KMS key is used.
</p>
</li>
<li> <p><code>aws_canned_acl</code>: S3 canned ACL to apply on the object
during export. Supported values: any one of
<a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/acl-overview.html#canned-acl">S3 canned ACLs</a>;
<code>null</code> (do not apply canned ACLs). Default: <code>null</code>.
</p>
</li>
</ul>
<p>Keep in mind that the same properties will be applied to all items (files)
in the resulting list.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Based on the provided list of <code>File</code> objects or
file IDs, this function allows you to set the following fields for each
item:
</p>

<ul>
<li> <p><code>source_file</code>
</p>
</li>
<li> <p><code>destination_volume</code>
</p>
</li>
<li> <p><code>destination_location</code>
</p>
</li>
<li> <p><code>overwrite</code>
</p>
</li>
<li> <p><code>properties</code>
</p>
</li>
</ul>
<p>However, keep in mind that there are certain constraints:
</p>

<ul>
<li>
<p> The same <code>destination_volume</code> applies to all items in the
.      resulting list.
</p>
</li>
<li>
<p> The same applies to <code>overwrite</code> and <code>properties</code>
parameters.
</p>
</li>
<li>
<p> By default, the <code>destination_location</code> field is populated with
the source file name. Upon retrieval of the list of items for bulk
export, you can manually update the <code>destination_location</code> field
for each element of the list as needed. Additionally, you have the
flexibility to manually modify any other fields in the list if
required.
</p>
</li>
</ul>
<h3>Value</h3>

<p>List of body params items for for staring an export job.
</p>


<h3>See Also</h3>

<p><code>Exports</code>, <code>File</code>, <code>Volume</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Example 1: Prepare 3 items for bulk export action
file_object_1 &lt;- a$files$get(id = "file_1_ID")
file_object_2 &lt;- a$files$get(id = "file_2_ID")
file_object_3 &lt;- a$files$get(id = "file_3_ID")

files_to_export &lt;- list(file_object_1, file_object_2, file_object_3)

prepare_items_for_bulk_export(files_to_export,
  destination_volume = "aws_example_volume"
)

## End(Not run)
## Not run: 
# Example 2: Prepare 3 items for bulk export action into some folder
# on the volume - use folder name as prefix before file names
file_object_1 &lt;- a$files$get(id = "file_1_ID")
file_object_2 &lt;- a$files$get(id = "file_2_ID")
file_object_3 &lt;- a$files$get(id = "file_3_ID")

files_to_export &lt;- list(file_object_1, file_object_2, file_object_3)

prepare_items_for_bulk_export(files_to_export,
  destination_volume = "aws_example_volume",
  destination_location_prefix = "example_folder/"
)

## End(Not run)

</code></pre>


</div>