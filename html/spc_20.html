<div class="container">

<table style="width: 100%;"><tr>
<td>p.ewma.arl</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute ARLs of binomial EWMA p control charts</h2>

<h3>Description</h3>

<p>Computation of the (zero-state) Average Run Length (ARL) at given rate <code>p</code>.</p>


<h3>Usage</h3>

<pre><code class="language-R">p.ewma.arl(lambda, ucl, n, p, z0, sided="upper", lcl=NULL, d.res=1,
r.mode="ieee.round", i.mode="integer")</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>smoothing parameter of the EWMA p control chart.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ucl</code></td>
<td>
<p>upper control limit of the EWMA p control chart.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>subgroup size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>(failure/success) rate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z0</code></td>
<td>
<p>so-called headstart (give fast initial response).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sided</code></td>
<td>
<p>distinguishes between one- and two-sided EWMA control chart by choosing <code>"upper"</code>, <code>"lower"</code>, and <code>"two"</code>, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lcl</code></td>
<td>
<p>lower control limit of the EWMA p control chart; needed for two-sided design.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d.res</code></td>
<td>
<p>resolution (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r.mode</code></td>
<td>
<p>round mode – allowed modes are <code>"gan.floor"</code>, <code>"floor"</code>, <code>"ceil"</code>,
<code>"ieee.round"</code>, <code>"round"</code>, <code>"mix"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.mode</code></td>
<td>
<p>type of interval center – <code>"integer"</code> or <code>"half"</code> integer.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The monitored data follow a binomial distribution with size <code>n</code> and failure/success probability <code>p</code>.
The ARL values of the resulting EWMA control chart are determined by Markov chain approximation.
Here, the original EWMA values are approximated by
multiples of one over <code>d.res</code>. Different ways of rounding (see <code>r.mode</code>) to the next multiple are implemented.
Besides Gan's paper nothing is published about the numerical subtleties.
</p>


<h3>Value</h3>

<p>Return single value which resemble the ARL.</p>


<h3>Author(s)</h3>

<p>Sven Knoth</p>


<h3>References</h3>

<p>F. F. Gan (1990),
Monitoring observations generated from a binomial distribution using modified
exponentially weighted moving average control chart,
<em>J. Stat. Comput. Simulation</em> 37, 45-60.
</p>
<p>S. Knoth and S. Steinmetz (2013),
EWMA <code>p</code> charts  under sampling by variables,
<em>International Journal of Production Research</em> 51, 3795-3807.
</p>


<h3>See Also</h3>

<p>later.</p>


<h3>Examples</h3>

<pre><code class="language-R">## Gan (1990)

# Table 1

n &lt;- 150
p0 &lt;- .1
z0 &lt;- n*p0

lambda &lt;- c(1, .51, .165)
hu &lt;- c(27, 22, 18)

p.value &lt;- .1 + (0:20)/200

p.EWMA.arl &lt;- Vectorize(p.ewma.arl, "p")

arl1.value &lt;- round(p.EWMA.arl(lambda[1], hu[1], n, p.value, z0, r.mode="round"), digits=2)
arl2.value &lt;- round(p.EWMA.arl(lambda[2], hu[2], n, p.value, z0, r.mode="round"), digits=2)
arl3.value &lt;- round(p.EWMA.arl(lambda[3], hu[3], n, p.value, z0, r.mode="round"), digits=2)

arls &lt;- matrix(c(arl1.value, arl2.value, arl3.value), ncol=length(lambda))
rownames(arls) &lt;- p.value
colnames(arls) &lt;- paste("lambda =", lambda)
arls

## Knoth/Steinmetz (2013)

n &lt;- 5
p0 &lt;- 0.02
z0 &lt;- n*p0
lambda &lt;- 0.3
ucl &lt;- 0.649169922 ## in-control ARL 370.4 (determined with d.res = 2^14 = 16384)

res.list &lt;- 2^(1:11)
arl.list &lt;- NULL
for ( res in res.list ) {
  arl &lt;- p.ewma.arl(lambda, ucl, n, p0, z0, d.res=res)
  arl.list &lt;- c(arl.list, arl)
}
cbind(res.list, arl.list)
</code></pre>


</div>