<div class="container">

<table style="width: 100%;"><tr>
<td>gen_qmd_chapters</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate A Quarto Survey Report</h2>

<h3>Description</h3>

<p>This function generates a set of saros chapters, collectively called a report.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gen_qmd_chapters(
  chapter_structure,
  data,
  authors_col = "author",
  path = NULL,
  ignore_heading_for_group = NULL,
  replace_heading_for_group = NULL,
  prefix_heading_for_group = NULL,
  suffix_heading_for_group = NULL,
  chapter_yaml_file = NULL,
  chapter_qmd_start_section_filepath = NULL,
  chapter_qmd_end_section_filepath = NULL,
  attach_chapter_dataset = TRUE,
  auxiliary_variables = NULL,
  serialized_format = "rds"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>chapter_structure</code></td>
<td>
<p><em>What goes into each chapter and sub-chapter</em>
</p>
<p><code style="white-space: pre;">⁠obj:&lt;data.frame&gt;|obj:&lt;tbl_df&gt;⁠</code> // Required
</p>
<p>Data frame (or tibble, possibly grouped). One row per chapter. Should
contain the columns 'chapter' and 'dep', Optionally 'indep' (independent
variables) and other informative columns as needed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><em>Survey data</em>
</p>
<p><code style="white-space: pre;">⁠obj:&lt;data.frame&gt;|obj:&lt;tbl_df&gt;|obj:&lt;srvyr&gt;⁠</code> // Required
</p>
<p>A data frame (or a srvyr-object) with the columns specified in the
chapter_structure 'dep', etc columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>authors_col</code></td>
<td>
<p><em>Column name for author</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <em>default:</em> <code>"author"</code> (<code>optional</code>)
</p>
<p>Only used if it exists. Multiple authors are separated by semicolon (and optionally with a subsequent space).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p><em>Output path</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <em>default:</em> <code>tempdir()</code> (<code>optional</code>)
</p>
<p>Path to save all output. Defaults to a temporary directory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore_heading_for_group</code></td>
<td>
<p><em>Ignore heading for group</em>
</p>
<p><code style="white-space: pre;">⁠vector&lt;character&gt;⁠</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Type of refined chapter_structure data for which to suppress the heading
in the report output. Typically variable_name_dep, variable_name_indep, etc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace_heading_for_group</code></td>
<td>
<p><em>Replacing heading for group</em>
</p>
<p><code style="white-space: pre;">⁠named vector&lt;character&gt;⁠</code> // <em>default:</em> <code>c(".variable_label_suffix_dep" = ".variable_name_dep")</code>
</p>
<p>Occasionally, one needs to replace the heading with another piece of information
in the refined chapter_structure. For instance, one may want to organize output
by variable_name_indep, but to display the variable_label_indep instead. Use
the name for the replacement and the value for the original.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefix_heading_for_group, suffix_heading_for_group</code></td>
<td>
<p><em>Prefix and suffix headings</em>
</p>
<p><code style="white-space: pre;">⁠vector&lt;named character&gt;⁠</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Names are heading_groups, values are the prefixes and suffixes. Note
that prefixes should end with a <code style="white-space: pre;">⁠\n⁠</code> as headings must begin on a new line.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chapter_yaml_file</code></td>
<td>
<p><em>Path to YAML-file to insert into each chapter qmd-file</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Path to file used to insert header YAML, in each chapter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attach_chapter_dataset</code></td>
<td>
<p><em>Toggle inclusion of chapter-specific datasets in qmd-files</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;logical&gt;⁠</code> // <em>default:</em> <code>FALSE</code>
</p>
<p>Whether to save in each chapter folder an 'Rds'-file with the
chapter-specific dataset, and load it at the top of each QMD-file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auxiliary_variables</code></td>
<td>
<p><em>Auxiliary variables to be included in datasets</em>
</p>
<p><code style="white-space: pre;">⁠vector&lt;character&gt;⁠</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>Column names in <code>data</code> that should always be included in datasets for
chapter qmd-files, if <code>attach_chapter_dataset=TRUE</code>. Not publicly available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>serialized_format</code></td>
<td>
<p><em>Serialized format</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;string&gt;⁠</code> // <em>default:</em> <code>"rds"</code>
</p>
<p>Format for serialized data when storing chapter dataset.
One of <code>"rds"</code> (default), <code>"qs"</code> or <code>"fst"</code>.
The latter two requires the respective packages to be installed.
<code>"qs"</code> is usually the fastest and most space efficient, but sets package
dependencies on the report project.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A report consists of multiple chapters, an index file, and optionally a combined report file that merges them together.
A chapter can contain any user-defined set of dependent, independent or bivariate variable sets.
A chapter consists of multiple sections.
A section is defined as a group in the chapter_structure (ignoring the chapter
grouping level) containing variables of the same type, meaning at a minimum
that the variables in the section sharing the same response options, the same
main question, and being of the same data type.
</p>


<h3>Value</h3>

<p>Side-effects: qmd-files generated in the specified working directory.
</p>


</div>