<div class="container">

<table style="width: 100%;"><tr>
<td>cramers_v</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Measures of association for contingency tables</h2>

<h3>Description</h3>

<p>This function calculates various measure of association for
contingency tables and returns the statistic and p-value.
Supported measures are Cramer's V, Phi, Spearman's rho,
Kendall's tau and Pearson's r.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cramers_v(tab, ...)

cramer(tab, ...)

## S3 method for class 'formula'
cramers_v(
  formula,
  data,
  ci.lvl = NULL,
  n = 1000,
  method = c("dist", "quantile"),
  ...
)

phi(tab, ...)

crosstable_statistics(
  data,
  x1 = NULL,
  x2 = NULL,
  statistics = c("auto", "cramer", "phi", "spearman", "kendall", "pearson", "fisher"),
  weights = NULL,
  ...
)

xtab_statistics(
  data,
  x1 = NULL,
  x2 = NULL,
  statistics = c("auto", "cramer", "phi", "spearman", "kendall", "pearson", "fisher"),
  weights = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tab</code></td>
<td>
<p>A <code>table()</code> or <code>ftable()</code>. Tables of class <code>xtabs()</code> and
other will be coerced to <code>ftable</code> objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments, passed down to the statistic functions
<code>chisq.test()</code>, <code>fisher.test()</code> or <code>cor.test()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A formula of the form <code>lhs ~ rhs</code> where <code>lhs</code> is a
numeric variable giving the data values and <code>rhs</code> a factor giving the
corresponding groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame or a table object. If a table object, <code>x1</code> and
<code>x2</code> will be ignored. For Kendall's <em>tau</em>, Spearman's <em>rho</em> or Pearson's
product moment correlation coefficient, <code>data</code> needs to be a data frame.
If <code>x1</code> and <code>x2</code> are not specified, the first two columns of the data
frames are used as variables to compute the crosstab.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.lvl</code></td>
<td>
<p>Scalar between 0 and 1. If not <code>NULL</code>, returns a data
frame including lower and upper confidence intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Number of bootstraps to be generated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Character vector, indicating if confidence intervals should be
based on bootstrap standard error, multiplied by the value of the quantile
function of the t-distribution (default), or on sample quantiles of the
bootstrapped values. See 'Details' in <code>boot_ci()</code>. May be abbreviated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x1</code></td>
<td>
<p>Name of first variable that should be used to compute the
contingency table. If <code>data</code> is a table object, this argument will be
irgnored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x2</code></td>
<td>
<p>Name of second variable that should be used to compute the
contingency table. If <code>data</code> is a table object, this argument will be
irgnored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>statistics</code></td>
<td>
<p>Name of measure of association that should be computed. May
be one of <code>"auto"</code>, <code>"cramer"</code>, <code>"phi"</code>, <code>"spearman"</code>, <code>"kendall"</code>,
<code>"pearson"</code> or <code>"fisher"</code>. See 'Details'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>Name of variable in <code>x</code> that indicated the vector of weights
that will be applied to weight all observations. Default is <code>NULL</code>, so no
weights are used.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The p-value for Cramer's V and the Phi coefficient are based
on <code>chisq.test()</code>. If any expected value of a table cell is smaller than 5,
or smaller than 10 and the df is 1, then <code>fisher.test()</code> is used to compute
the p-value, unless <code>statistics = "fisher"</code>; in this case, the use of
<code>fisher.test()</code> is forced to compute the p-value. The test statistic is
calculated with <code>cramers_v()</code> resp. <code>phi()</code>.
</p>
<p>Both test statistic and p-value for Spearman's rho, Kendall's tau and
Pearson's r are calculated with <code>cor.test()</code>.
</p>
<p>When <code>statistics = "auto"</code>, only Cramer's V or Phi are calculated, based on
the dimension of the table (i.e. if the table has more than two rows or
columns, Cramer's V is calculated, else Phi).
</p>


<h3>Value</h3>

<p>For <code>phi()</code>, the table's Phi value. For [<code style="white-space: pre;">⁠cramers_v()]⁠</code>, the
table's Cramer's V.
</p>
<p>For <code>crosstable_statistics()</code>, a list with following components:
</p>

<ul>
<li> <p><code>estimate</code>: the value of the estimated measure of association.
</p>
</li>
<li> <p><code>p.value</code>: the p-value for the test.
</p>
</li>
<li> <p><code>statistic</code>: the value of the test statistic.
</p>
</li>
<li> <p><code>stat.name</code>: the name of the test statistic.
</p>
</li>
<li> <p><code>stat.html</code>: if applicable, the name of the test statistic, in HTML-format.
</p>
</li>
<li> <p><code>df</code>: the degrees of freedom for the contingency table.
</p>
</li>
<li> <p><code>method</code>: character string indicating the name of the measure of association.
</p>
</li>
<li> <p><code>method.html</code>: if applicable, the name of the measure of association, in HTML-format.
</p>
</li>
<li> <p><code>method.short</code>: the short form of association measure, equals the <code>statistics</code>-argument.
</p>
</li>
<li> <p><code>fisher</code>: logical, if Fisher's exact test was used to calculate the p-value.
</p>
</li>
</ul>
<h3>References</h3>

<p>Ben-Shachar, M.S., Patil, I., Thériault, R., Wiernik, B.M.,
Lüdecke, D. (2023). Phi, Fei, Fo, Fum: Effect Sizes for Categorical Data
That Use the Chi‑Squared Statistic. Mathematics, 11, 1982.
<a href="https://doi.org/10.3390/math11091982">doi:10.3390/math11091982</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Phi coefficient for 2x2 tables
tab &lt;- table(sample(1:2, 30, TRUE), sample(1:2, 30, TRUE))
phi(tab)

# Cramer's V for nominal variables with more than 2 categories
tab &lt;- table(sample(1:2, 30, TRUE), sample(1:3, 30, TRUE))
cramer(tab)

# formula notation
data(efc)
cramer(e16sex ~ c161sex, data = efc)

# bootstrapped confidence intervals
cramer(e16sex ~ c161sex, data = efc, ci.lvl = .95, n = 100)

# 2x2 table, compute Phi automatically
crosstable_statistics(efc, e16sex, c161sex)

# more dimensions than 2x2, compute Cramer's V automatically
crosstable_statistics(efc, c172code, c161sex)

# ordinal data, use Kendall's tau
crosstable_statistics(efc, e42dep, quol_5, statistics = "kendall")

# calcilate Spearman's rho, with continuity correction
crosstable_statistics(efc,
  e42dep,
  quol_5,
  statistics = "spearman",
  exact = FALSE,
  continuity = TRUE
)
</code></pre>


</div>