<div class="container">

<table style="width: 100%;"><tr>
<td>multi_strata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create Strata from Multiple Features</h2>

<h3>Description</h3>

<p>Creates a stratification vector based on multiple columns of
a <code>data.frame</code> that can then be passed to the splitting functions.
</p>
<p>Currently, the function offers two strategies to create the strata:
</p>

<ul>
<li>
<p> "kmeans": k-means cluster analysis on scaled input. (Ordered factors are integer
encoded first, unordered factors and character columns are one-hot-encoded.)
</p>
</li>
<li>
<p> "interaction": All combinations (after binning numeric columns into
approximately <code>k</code> bins).
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">multi_strata(df, strategy = c("kmeans", "interaction"), k = 3L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A <code>data.frame</code> used to form the stratification vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strategy</code></td>
<td>
<p>A string (either "kmeans" or "interaction") to compute the strata,
see description.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>An integer. For <code>strategy = "kmeans"</code>, it is the desired number of strata,
while for <code>strategy = "interaction"</code>, it is the approximate number of bins per
numeric feature before forming all combinations.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Factor with strata as levels.
</p>


<h3>See Also</h3>

<p><code>partition()</code>, <code>create_folds()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">y_multi &lt;- data.frame(
  A = rep(c(letters[1:4]), each = 20),
  B = factor(sample(c(0, 1), 80, replace = TRUE)),
  c = rnorm(80)
)
y &lt;- multi_strata(y_multi, k = 3)
folds &lt;- create_folds(y, k = 5)
</code></pre>


</div>