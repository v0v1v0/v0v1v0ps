<div class="container">

<table style="width: 100%;"><tr>
<td>OSOAs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to create an OSOA from an OA</h2>

<h3>Description</h3>

<p>An OSOA in ns runs of strength 2* (s^3 levels) or 2+ (s^2 levels) is created from an OA(n,m,s,2).
</p>


<h3>Usage</h3>

<pre><code class="language-R">OSOAs(
  oa,
  el = 3,
  m = NULL,
  noptim.rounds = 1,
  noptim.repeats = 1,
  optimize = TRUE,
  dmethod = "manhattan",
  p = 50
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>oa</code></td>
<td>
<p>matrix or data.frame that contains an ingoing symmetric OA. Levels must be denoted as 0 to s-1 or as 1 to s.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>el</code></td>
<td>
<p>the exponent of the number of levels, <code>el=3</code> yields a
strength 2* OSOA in s^3 levels, <code>el=2</code> a strength 2+ OSOA in s^2 levels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>the desired number of columns of the resulting array; odd values of
m will be reduced by one, so specify the next largest even m, if you need an
odd number of columns (the function will do so, if possible; if <code>m=NULL</code>,
the maximum possible value is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noptim.rounds</code></td>
<td>
<p>the number of optimization rounds for each independent restart</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noptim.repeats</code></td>
<td>
<p>the number of independent restarts of optimizations with <code>noptim.rounds</code> rounds each</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optimize</code></td>
<td>
<p>logical: should space filling be optimized by level permutations?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dmethod</code></td>
<td>
<p>distance method for <code>phi_p</code>, "manhattan" (default) or "euclidean"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>p for <code>phi_p</code> (the larger, the closer to maximin distance)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function implements the algorithms proposed by Zhou and Tang 2018
(s^2 levels) or Li, Liu and Yang 2021 (s^3 levels).
Both are enhanced with the modification for matrix A by Groemping 2022.
Level permutations are optimized
using an adaptation of the algorithm by Weng (2014).
</p>
<p>Suitable OAs for argument <code>oa</code> can e.g. be constructed with OA creation functions
from package <span class="pkg">lhs</span> or can be obtained
from arrays listed in R package <span class="pkg">DoE.base</span>
</p>


<h3>Value</h3>

<p>matrix of class <code>SOA</code> with the attributes that are listed below. All attributes can be accessed using function <code>attributes</code>, or individual attributes can be accessed using function <code>attr</code>. These are the attributes:
</p>

<dl>
<dt>type</dt>
<dd>
<p>the type of array (<code>SOA</code> or <code>OSOA</code>)</p>
</dd>
<dt>strength</dt>
<dd>
<p>character string that gives the strength</p>
</dd>
<dt>phi_p</dt>
<dd>
<p>the phi_p value (smaller=better)</p>
</dd>
<dt>optimized</dt>
<dd>
<p>logical indicating whether optimization was applied</p>
</dd>
<dt>permpick</dt>
<dd>
<p>matrix that lists the id numbers of the permutations used</p>
</dd>
<dt>perms2pickfrom</dt>
<dd>
<p>optional element, when optimization was conducted: the
overall permutation list to which the numbers in permlist refer</p>
</dd>
<dt>call</dt>
<dd>
<p>the call that created the object</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Ulrike Groemping
</p>


<h3>References</h3>

<p>For full detail, see <code>SOAs-package</code>.
</p>
<p>Groemping (2023a)<br>
Li, Liu and Yang (2021)<br>
Weng (2014)<br>
Zhou and Tang (2019)<br></p>


<h3>Examples</h3>

<pre><code class="language-R">## run with optimization for actual use!

## 54 runs with seven 9-level columns
OSOAs(DoE.base::L18[,3:8], el=2, optimize=FALSE)

## 54 runs with six 27-level columns
OSOAs(DoE.base::L18[,3:8], el=3, optimize=FALSE)

## 81 runs with four 9-level columns
OSOAs(DoE.base::L27.3.4, el=2, optimize=FALSE)
## An OA with 9-level factors (L81.9.10)
## has complete balance in 2D,
## however does not achieve 3D projection for
## all four collapsed triples
## It is up to the user to decide what is more important.
## I would go for the OA.

## 81 runs with four 27-level columns
OSOAs(DoE.base::L27.3.4, el=3, optimize=FALSE)
</code></pre>


</div>