<div class="container">

<table style="width: 100%;"><tr>
<td>prepareSuggestion</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Prepare suggestions for optimization with method = "continuous" or "spatial"
</h2>

<h3>Description</h3>

<p>This function has to be used only in conjunction with "KmeansSolution2" or 
with "KmeansSolutionSpatial", 
i.e. in the case of optimizing with only continuous stratification variables.
This function prepares the suggestion for the optimization function in case
of continuous variables (i.e. with with "optimStrata" 
when method = "continuous" or method = "spatial").
</p>


<h3>Usage</h3>

<pre><code class="language-R">prepareSuggestion(kmean = kmean, frame = frame, nstrat = nstrat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>kmean</code></td>
<td>

<p>The result of the execution of function 'KmeansSolution2'.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frame</code></td>
<td>

<p>The dataframe containing the information related to each unit in the sampling frame.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nstrat</code></td>
<td>

<p>The vector of number of strata identified as the best for each domain.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A dataframe containing the suggestions
</p>


<h3>Author(s)</h3>

<p>Giulio Barcaroli 
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(SamplingStrata)
data("swissmunicipalities")
swissmunicipalities$id &lt;- c(1:nrow(swissmunicipalities))
swissmunicipalities$dom &lt;- 1
frame &lt;- buildFrameDF(swissmunicipalities,
                      id = "id",
                      domainvalue = "REG",
                      X = c("POPTOT", "HApoly"),
                      Y = c("Surfacesbois", "Airind")
)
ndom &lt;- length(unique(frame$domainvalue))
cv &lt;- as.data.frame(list(
              DOM = rep("DOM1",ndom),
              CV1 = rep(0.1,ndom),
              CV2 = rep(0.1,ndom),
              domainvalue = c(1:ndom)))

# Solution with kmean clustering 
kmean &lt;- KmeansSolution2(frame,model=NULL,errors=cv,nstrata=NA,maxclusters=4)
# Number of strata for each domain
nstrat &lt;- tapply(kmean$suggestions,
                 kmean$domainvalue,
                 FUN=function(x) length(unique(x)))
# Prepare suggestion for optimization step                 
sugg &lt;- prepareSuggestion(kmean = kmean,
                          frame = frame,
                          nstrat = nstrat)
# Optimization
solution &lt;- optimStrata (
  method="continuous",
  errors=cv, 
  framesamp=frame,
  iter = 50,
  pops = 10,
  nStrata = nstrat,
  suggestions = sugg)

## End(Not run)
</code></pre>


</div>