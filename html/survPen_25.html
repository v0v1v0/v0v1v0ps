<div class="container">

<table style="width: 100%;"><tr>
<td>smooth.cons</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Design and penalty matrices of penalized splines in a smooth.spec object</h2>

<h3>Description</h3>

<p>Builds the design and penalty matrices from the result of <code>smooth.spec</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">smooth.cons(
  term,
  knots,
  df,
  by = NULL,
  option,
  data.spec,
  same.rho = FALSE,
  name
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>term</code></td>
<td>
<p>Vector of strings that generally comes from the value "term" of a <code>smooth.spec</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>knots</code></td>
<td>
<p>List of numeric vectors that specifies the knots of the splines (including boundaries).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>Degrees of freedom: numeric vector that indicates the number of knots desired for each covariate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>numeric or factor variable in order to define a varying coefficient smooth; default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>option</code></td>
<td>
<p>"smf", "tensor" or "tint".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.spec</code></td>
<td>
<p>data frame that represents the environment from which the covariate values and knots are to be calculated; default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>same.rho</code></td>
<td>
<p>if there is a factor by variable, should the smoothing parameters be the same for all levels; default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>simplified name of the smooth.spec call.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>List of objects with the following items:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>Design matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pen</code></td>
<td>
<p>List of penalty matrices</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>term</code></td>
<td>
<p>Vector of strings giving the names of each covariate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>knots</code></td>
<td>
<p>list of numeric vectors that specifies the knots for each covariate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dim</code></td>
<td>
<p>Number of covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all.df</code></td>
<td>
<p>Numeric vector giving the number of knots associated with each covariate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sum.df</code></td>
<td>
<p>Sum of all.df</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z.smf</code></td>
<td>
<p>List of matrices that represents the sum-to-zero constraint to apply for "smf" splines</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z.tensor</code></td>
<td>
<p>List of matrices that represents the sum-to-zero constraint to apply for "tensor" splines</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z.tint</code></td>
<td>
<p>List of matrices that represents the sum-to-zero constraint to apply for "tint" splines</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.name</code></td>
<td>
<p>name of the smoothing parameters</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">
library(survPen)

# standard spline of time with 4 knots (so we get a design matrix with 3 columns 
# because of centering constraint)

data &lt;- data.frame(time=seq(0,5,length=100))
smooth.c &lt;- smooth.cons("time",knots=list(c(0,1,3,5)),df=4,option="smf",
data.spec=data,name="smf(time)")

</code></pre>


</div>