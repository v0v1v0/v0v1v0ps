<div class="container">

<table style="width: 100%;"><tr>
<td>qaqc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>QAQC filtering for SWMP data</h2>

<h3>Description</h3>

<p>QAQC filtering for SWMP data obtained from retrieval functions, local and remote
</p>


<h3>Usage</h3>

<pre><code class="language-R">qaqc(swmpr_in, ...)

## S3 method for class 'swmpr'
qaqc(swmpr_in, qaqc_keep = "0", trace = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>swmpr_in</code></td>
<td>
<p>input swmpr object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to or from other methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qaqc_keep</code></td>
<td>
<p>character string of qaqc flags to keep, default <code>'0'</code>, any number of flag codes can be supplied including three character error codes (see examples)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trace</code></td>
<td>
<p>logical for progress output on console, default <code>FALSE</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The qaqc function is a simple screen to retain values from the data with specified QAQC flags, described online: <a href="https://cdmo.baruch.sc.edu/data/qaqc.cfm">https://cdmo.baruch.sc.edu/data/qaqc.cfm</a>. Each parameter in the swmpr data typically has a corresponding QAQC column of the same name with the added prefix 'f_'. Values in the QAQC column specify a flag from -5 to 5. Generally, only data with the '0' QAQC flag should be used, which is the default option for the function. Data that do not satisfy QAQC criteria are converted to <code>NA</code> values. Additionally, simple filters are used to remove obviously bad values, e.g., wind speed values less than zero or pH values greater than 12. Erroneous data entered as -99 are also removed. Processed data will have QAQC columns removed, in addition to removal of values in the actual parameter columns that do not meet the criteria.
</p>
<p>The data are filtered by matching the flag columns with the character string provided by <code>qaqc_keep</code>.  A single combined string is created by pasting each element together using the '|' operator, then using partial string matching with <code>grepl</code> to compare the actual flags in the QAQC columns.  Values that can be passed to the function are those described online: <a href="https://cdmo.baruch.sc.edu/data/qaqc.cfm">https://cdmo.baruch.sc.edu/data/qaqc.cfm</a>.
</p>


<h3>Value</h3>

<p>Returns a swmpr object with <code>NA</code> values for records that did not match <code>qaqc_keep</code>.  QAQC columns are also removed.
</p>


<h3>See Also</h3>

<p><code>qaqcchk</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
## get data
data(apadbwq)
dat &lt;- apadbwq

## retain only '0' and '-1' flags
qaqc(dat, qaqc_keep = c('0', '-1'))

## retain observations with the 'CSM' error code
qaqc(dat, qaqc_keep = 'CSM')

## End(Not run)
</code></pre>


</div>