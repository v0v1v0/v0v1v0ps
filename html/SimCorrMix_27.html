<div class="container">

<table style="width: 100%;"><tr>
<td>summary_var</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Summary of Simulated Variables</h2>

<h3>Description</h3>

<p>This function summarizes the results of <code>contmixvar1</code>, <code>corrvar</code>, or
<code>corrvar2</code>.  The inputs are either the simulated variables or inputs for those functions.  See their
documentation for more information.  If summarizing result from <code>contmixvar1</code>, mixture parameters may be
entered as vectors instead of lists.
</p>


<h3>Usage</h3>

<pre><code class="language-R">summary_var(Y_cat = NULL, Y_cont = NULL, Y_comp = NULL, Y_mix = NULL,
  Y_pois = NULL, Y_nb = NULL, means = NULL, vars = NULL, skews = NULL,
  skurts = NULL, fifths = NULL, sixths = NULL, mix_pis = list(),
  mix_mus = list(), mix_sigmas = list(), mix_skews = list(),
  mix_skurts = list(), mix_fifths = list(), mix_sixths = list(),
  marginal = list(), lam = NULL, p_zip = 0, size = NULL, prob = NULL,
  mu = NULL, p_zinb = 0, rho = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Y_cat</code></td>
<td>
<p>a matrix of ordinal variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y_cont</code></td>
<td>
<p>a matrix of continuous non-mixture variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y_comp</code></td>
<td>
<p>a matrix of components of continuous mixture variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y_mix</code></td>
<td>
<p>a matrix of continuous mixture variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y_pois</code></td>
<td>
<p>a matrix of Poisson variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y_nb</code></td>
<td>
<p>a matrix of Negative Binomial variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>means</code></td>
<td>
<p>a vector of means for the <code>k_cont</code> non-mixture and <code>k_mix</code> mixture continuous variables
(i.e. <code>rep(0, (k_cont + k_mix))</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>a vector of variances for the <code>k_cont</code> non-mixture and <code>k_mix</code> mixture continuous variables
(i.e. <code>rep(1, (k_cont + k_mix))</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skews</code></td>
<td>
<p>a vector of skewness values for the <code>k_cont</code> non-mixture continuous variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skurts</code></td>
<td>
<p>a vector of standardized kurtoses (kurtosis - 3, so that normal variables have a value of 0)
for the <code>k_cont</code> non-mixture continuous variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fifths</code></td>
<td>
<p>a vector of standardized fifth cumulants for the <code>k_cont</code> non-mixture continuous variables
(not necessary for <code>method</code> = "Fleishman")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sixths</code></td>
<td>
<p>a vector of standardized sixth cumulants for the <code>k_cont</code> non-mixture continuous variables
(not necessary for <code>method</code> = "Fleishman")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mix_pis</code></td>
<td>
<p>a list of length <code>k_mix</code> with i-th component a vector of mixing probabilities that sum to 1 for component distributions of <code class="reqn">Y_{mix_i}</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mix_mus</code></td>
<td>
<p>a list of length <code>k_mix</code> with i-th component a vector of means for component distributions of <code class="reqn">Y_{mix_i}</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mix_sigmas</code></td>
<td>
<p>a list of length <code>k_mix</code> with i-th component a vector of standard deviations for component distributions of <code class="reqn">Y_{mix_i}</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mix_skews</code></td>
<td>
<p>a list of length <code>k_mix</code> with i-th component a vector of skew values for component distributions of <code class="reqn">Y_{mix_i}</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mix_skurts</code></td>
<td>
<p>a list of length <code>k_mix</code> with i-th component a vector of standardized kurtoses for component distributions of <code class="reqn">Y_{mix_i}</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mix_fifths</code></td>
<td>
<p>a list of length <code>k_mix</code> with i-th component a vector of standardized fifth cumulants for component distributions of <code class="reqn">Y_{mix_i}</code>
(not necessary for <code>method</code> = "Fleishman")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mix_sixths</code></td>
<td>
<p>a list of length <code>k_mix</code> with i-th component a vector of standardized sixth cumulants for component distributions of <code class="reqn">Y_{mix_i}</code>
(not necessary for <code>method</code> = "Fleishman")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marginal</code></td>
<td>
<p>a list of length equal to <code>k_cat</code>; the i-th element is a vector of the cumulative
probabilities defining the marginal distribution of the i-th variable;
if the variable can take r values, the vector will contain r - 1 probabilities (the r-th is assumed to be 1);
for binary variables, these should be input the same as for ordinal variables with more than 2 categories (i.e. the user-specified
probability is the probability of the 1st category, which has the smaller support value)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lam</code></td>
<td>
<p>a vector of lambda (mean &gt; 0) constants for the Poisson variables (see <code>stats::dpois</code>); the order should be
1st regular Poisson variables, 2nd zero-inflated Poisson variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_zip</code></td>
<td>
<p>a vector of probabilities of structural zeros (not including zeros from the Poisson distribution) for the
zero-inflated Poisson variables (see <code>VGAM::dzipois</code>); if <code>p_zip</code> = 0, <code class="reqn">Y_{pois}</code> has a regular Poisson
distribution; if <code>p_zip</code> is in (0, 1), <code class="reqn">Y_{pois}</code> has a zero-inflated Poisson distribution;
if <code>p_zip</code> is in <code>(-(exp(lam) - 1)^(-1), 0)</code>, <code class="reqn">Y_{pois}</code> has a zero-deflated Poisson distribution and <code>p_zip</code>
is not a probability; if <code>p_zip = -(exp(lam) - 1)^(-1)</code>, <code class="reqn">Y_{pois}</code> has a positive-Poisson distribution
(see <code>VGAM::dpospois</code>); if <code>length(p_zip) &lt; length(lam)</code>, the missing values are set to 0 (and ordered 1st)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>a vector of size parameters for the Negative Binomial variables (see <code>stats::dnbinom</code>); the order should be
1st regular NB variables, 2nd zero-inflated NB variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>a vector of success probability parameters for the NB variables; order the same as in <code>size</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu</code></td>
<td>
<p>a vector of mean parameters for the NB variables (*Note: either <code>prob</code> or <code>mu</code> should be supplied for all Negative Binomial variables,
not a mixture; default = NULL); order the same as in <code>size</code>; for zero-inflated NB this refers to
the mean of the NB distribution (see <code>VGAM::dzinegbin</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_zinb</code></td>
<td>
<p>a vector of probabilities of structural zeros (not including zeros from the NB distribution) for the zero-inflated NB variables
(see <code>VGAM::dzinegbin</code>); if <code>p_zinb</code> = 0, <code class="reqn">Y_{nb}</code> has a regular NB distribution;
if <code>p_zinb</code> is in <code>(-prob^size/(1 - prob^size),</code> <code>0)</code>, <code class="reqn">Y_{nb}</code> has a zero-deflated NB distribution and <code>p_zinb</code>
is not a probability; if <code>p_zinb = -prob^size/(1 - prob^size)</code>, <code class="reqn">Y_{nb}</code> has a positive-NB distribution (see
<code>VGAM::dposnegbin</code>); if <code>length(p_zinb) &lt; length(size)</code>, the missing values are set to 0 (and ordered 1st)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>the target correlation matrix which must be ordered
<em>1st ordinal, 2nd continuous non-mixture, 3rd components of continuous mixtures, 4th regular Poisson, 5th zero-inflated Poisson,
6th regular NB, 7th zero-inflated NB</em>; note that <code>rho</code> is specified in terms of the components of <code class="reqn">Y_{mix}</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list whose components vary based on the type of simulated variables.
</p>
<p>If <b>ordinal variables</b> are produced:
</p>
<p><code>ord_sum</code> a list, where the i-th element contains a data.frame with target and simulated cumulative probabilities for ordinal variable Y_i
</p>
<p>If <b>continuous variables</b> are produced:
</p>
<p><code>cont_sum</code> a data.frame summarizing <code>Y_cont</code> and <code>Y_comp</code>,
</p>
<p><code>target_sum</code> a data.frame with the target distributions for <code>Y_cont</code> and <code>Y_comp</code>,
</p>
<p><code>mix_sum</code> a data.frame summarizing <code>Y_mix</code>,
</p>
<p><code>target_mix</code> a data.frame with the target distributions for <code>Y_mix</code>,
</p>
<p>If <b>Poisson variables</b> are produced:
</p>
<p><code>pois_sum</code> a data.frame summarizing <code>Y_pois</code>
</p>
<p>If <b>Negative Binomial variables</b> are produced:
</p>
<p><code>nb_sum</code> a data.frame summarizing <code>Y_nb</code>
</p>
<p>Additionally, the following elements:
</p>
<p><code>rho_calc</code> the final correlation matrix for <code>Y_cat</code>, <code>Y_cont</code>, <code>Y_comp</code>, <code>Y_pois</code>, and <code>Y_nb</code>
</p>
<p><code>rho_mix</code> the final correlation matrix for <code>Y_cat</code>, <code>Y_cont</code>, <code>Y_mix</code>, <code>Y_pois</code>, and <code>Y_nb</code>
</p>
<p><code>maxerr</code> the maximum final correlation error of <code>rho_calc</code> from the target <code>rho</code>.
</p>


<h3>References</h3>

<p>See references for <code>SimCorrMix</code>.
</p>


<h3>See Also</h3>

<p><code>contmixvar1</code>, <code>corrvar</code>, <code>corrvar2</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Using normal mixture variable from contmixvar1 example
Nmix &lt;- contmixvar1(n = 1000, "Polynomial", means = 0, vars = 1,
  mix_pis = c(0.4, 0.6), mix_mus = c(-2, 2), mix_sigmas = c(1, 1),
  mix_skews = c(0, 0), mix_skurts = c(0, 0), mix_fifths = c(0, 0),
  mix_sixths = c(0, 0))
Nsum &lt;- summary_var(Y_comp = Nmix$Y_comp, Y_mix = Nmix$Y_mix,
  means = 0, vars = 1, mix_pis = c(0.4, 0.6), mix_mus = c(-2, 2),
  mix_sigmas = c(1, 1), mix_skews = c(0, 0), mix_skurts = c(0, 0),
  mix_fifths = c(0, 0), mix_sixths = c(0, 0))

## Not run: 

# 2 continuous mixture, 1 binary, 1 zero-inflated Poisson, and
# 1 zero-inflated NB variable
n &lt;- 10000
seed &lt;- 1234

# Mixture variables: Normal mixture with 2 components;
# mixture of Logistic(0, 1), Chisq(4), Beta(4, 1.5)
# Find cumulants of components of 2nd mixture variable
L &lt;- calc_theory("Logistic", c(0, 1))
C &lt;- calc_theory("Chisq", 4)
B &lt;- calc_theory("Beta", c(4, 1.5))

skews &lt;- skurts &lt;- fifths &lt;- sixths &lt;- NULL
Six &lt;- list()
mix_pis &lt;- list(c(0.4, 0.6), c(0.3, 0.2, 0.5))
mix_mus &lt;- list(c(-2, 2), c(L[1], C[1], B[1]))
mix_sigmas &lt;- list(c(1, 1), c(L[2], C[2], B[2]))
mix_skews &lt;- list(rep(0, 2), c(L[3], C[3], B[3]))
mix_skurts &lt;- list(rep(0, 2), c(L[4], C[4], B[4]))
mix_fifths &lt;- list(rep(0, 2), c(L[5], C[5], B[5]))
mix_sixths &lt;- list(rep(0, 2), c(L[6], C[6], B[6]))
mix_Six &lt;- list(list(NULL, NULL), list(1.75, NULL, 0.03))
Nstcum &lt;- calc_mixmoments(mix_pis[[1]], mix_mus[[1]], mix_sigmas[[1]],
  mix_skews[[1]], mix_skurts[[1]], mix_fifths[[1]], mix_sixths[[1]])
Mstcum &lt;- calc_mixmoments(mix_pis[[2]], mix_mus[[2]], mix_sigmas[[2]],
  mix_skews[[2]], mix_skurts[[2]], mix_fifths[[2]], mix_sixths[[2]])
means &lt;- c(Nstcum[1], Mstcum[1])
vars &lt;- c(Nstcum[2]^2, Mstcum[2]^2)

marginal &lt;- list(0.3)
support &lt;- list(c(0, 1))
lam &lt;- 0.5
p_zip &lt;- 0.1
size &lt;- 2
prob &lt;- 0.75
p_zinb &lt;- 0.2

k_cat &lt;- k_pois &lt;- k_nb &lt;- 1
k_cont &lt;- 0
k_mix &lt;- 2
Rey &lt;- matrix(0.39, 8, 8)
diag(Rey) &lt;- 1
rownames(Rey) &lt;- colnames(Rey) &lt;- c("O1", "M1_1", "M1_2", "M2_1", "M2_2",
  "M2_3", "P1", "NB1")

# set correlation between components of the same mixture variable to 0
Rey["M1_1", "M1_2"] &lt;- Rey["M1_2", "M1_1"] &lt;- 0
Rey["M2_1", "M2_2"] &lt;- Rey["M2_2", "M2_1"] &lt;- Rey["M2_1", "M2_3"] &lt;- 0
Rey["M2_3", "M2_1"] &lt;- Rey["M2_2", "M2_3"] &lt;- Rey["M2_3", "M2_2"] &lt;- 0

# check parameter inputs
validpar(k_cat, k_cont, k_mix, k_pois, k_nb, "Polynomial", means,
  vars, skews, skurts, fifths, sixths, Six, mix_pis, mix_mus, mix_sigmas,
  mix_skews, mix_skurts, mix_fifths, mix_sixths, mix_Six, marginal, support,
  lam, p_zip, size, prob, mu = NULL, p_zinb, rho = Rey)

# check to make sure Rey is within the feasible correlation boundaries
validcorr(n, k_cat, k_cont, k_mix, k_pois, k_nb, "Polynomial", means,
  vars, skews, skurts, fifths, sixths, Six, mix_pis, mix_mus, mix_sigmas,
  mix_skews, mix_skurts, mix_fifths, mix_sixths, mix_Six, marginal,
  lam, p_zip, size, prob, mu = NULL, p_zinb, Rey, seed)

# simulate without the error loop
Sim1 &lt;- corrvar(n, k_cat, k_cont, k_mix, k_pois, k_nb, "Polynomial", means,
  vars, skews, skurts, fifths, sixths, Six, mix_pis, mix_mus, mix_sigmas,
  mix_skews, mix_skurts, mix_fifths, mix_sixths, mix_Six, marginal, support,
  lam, p_zip, size, prob, mu = NULL, p_zinb, Rey, seed, epsilon = 0.01)

Summ1 &lt;- summary_var(Sim1$Y_cat, Y_cont = NULL, Sim1$Y_comp, Sim1$Y_mix,
  Sim1$Y_pois, Sim1$Y_nb, means, vars, skews, skurts, fifths, sixths,
  mix_pis, mix_mus, mix_sigmas, mix_skews, mix_skurts, mix_fifths,
  mix_sixths, marginal, lam, p_zip, size, prob, mu = NULL, p_zinb, Rey)

Sim1_error &lt;- abs(Rey - Summ1$rho_calc)
summary(as.numeric(Sim1_error))


## End(Not run)


</code></pre>


</div>