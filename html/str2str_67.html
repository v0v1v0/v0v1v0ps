<div class="container">

<table style="width: 100%;"><tr>
<td>try_expr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add Try to Expression</h2>

<h3>Description</h3>

<p><code>try_expr</code> evaluates an expression <code>expr</code> and returns a list with three
elements: 1) return object, 2) warning message, 3) error message. This can be
useful when you want to evaluate an expression and are not sure if it will result
in a warning and/or error and don't want R to stop if an error does arise.
</p>


<h3>Usage</h3>

<pre><code class="language-R">try_expr(expr, output.class = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>expression</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output.class</code></td>
<td>
<p>character vector of length 1 specifying the class you want
the returned object of <code>try_expr</code> to be. The default is NULL for no class.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is heavily based on the following StackOverflow post:
https://stackoverflow.com/questions/4948361/how-do-i-save-warnings-and-errors-as-output-from-a-function.
</p>


<h3>Value</h3>

<p>list object with three elements: "result" = 1) return object of <code>expr</code>,
"warning" = warning message, "error" = error message. When an element is not
relevant (e.g., no errors), then that element is NULL.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># apply to log()
try_expr(log(1))
try_expr(log(0))
try_expr(log(-1))
try_expr(log("a"))
# return a list where NULL if an error or warning appears
lapply(X = list("positive" = 1, "zero" = 0, "negative" = -1,"letter" = "a"),
   FUN = function(x) {
      log_try &lt;- try_expr(log(x))
      result &lt;- log_try[["result"]]
      warning &lt;- log_try[["warning"]]
      error &lt;- log_try[["error"]]
      if (!(is.null(error))) return(NULL)
      if (!(is.null(warning))) return(NULL)
      return(result)
})
</code></pre>


</div>