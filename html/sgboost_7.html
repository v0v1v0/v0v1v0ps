<div class="container">

<table style="width: 100%;"><tr>
<td>plot_varimp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Variable importance bar plot of a sparse group boosting model</h2>

<h3>Description</h3>

<p>Visualizes the variable importance of a sparse-group boosting model.
Color indicates if a predictor is an individual variable or a group.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_varimp(
  sgb_model,
  prop = 0,
  n_predictors = 30,
  max_char_length = 15,
  base_size = 8
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sgb_model</code></td>
<td>
<p>Model of type <code>mboost</code> to plot the variable importance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop</code></td>
<td>
<p>Numeric value indicating the minimal importance a predictor/baselearner has to have.
Default value is zero, meaning all predictors are plotted. By increasing prop the number of
plotted variables can be reduced. One can also use <code>'n_predictors'</code> for limiting
the number of variables to be plotted directly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_predictors</code></td>
<td>
<p>The maximum number of predictors to be plotted. Default is 30.
Alternative to <code>'prop'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_char_length</code></td>
<td>
<p>The maximum character length of a predictor to be printed.
Default is 15. For larger groups or long variable names one may adjust this number to
differentiate variables from groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base_size</code></td>
<td>
<p>The <code>base_size</code> argument to be passed to the <code>ggplot2</code> theme
ggplot2::theme_bw to be used to control the overall size of the figure.
Default value is 8.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note that aggregated group and individual variable importance printed in the legend is based
only on the plotted variables and not on all variables that were selected in the sparse-group
boosting model.
</p>


<h3>Value</h3>

<p>object of type <code>ggplot2</code>.
</p>


<h3>See Also</h3>

<p>get_varimp which this function uses.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(mboost)
library(dplyr)
set.seed(1)
df &lt;- data.frame(
  x1 = rnorm(100), x2 = rnorm(100), x3 = rnorm(100),
  x4 = rnorm(100), x5 = runif(100)
)
df &lt;- df %&gt;%
  mutate_all(function(x) {
    as.numeric(scale(x))
  })
df$y &lt;- df$x1 + df$x4 + df$x5
group_df &lt;- data.frame(
  group_name = c(1, 1, 1, 2, 2),
  var_name = c("x1", "x2", "x3", "x4", "x5")
)

sgb_formula &lt;- as.formula(create_formula(alpha = 0.3, group_df = group_df))
sgb_model &lt;- mboost(formula = sgb_formula, data = df)
sgb_varimp &lt;- plot_varimp(sgb_model)
</code></pre>


</div>