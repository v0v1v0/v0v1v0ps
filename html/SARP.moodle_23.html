<div class="container">

<table style="width: 100%;"><tr>
<td>question.moodle</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Créer une question Moodle au format XML
</h2>

<h3>Description</h3>

<p>Ces fonctions permettent de créer une question pour Moodle au format
XML.</p>


<h3>Usage</h3>

<pre><code class="language-R">question.moodle( type = "cloze",
                 titre = "Question...", texte, reponses = NULL,
                 penalite = NA, note = NA, commentaire.global = NA,
                 idnum = NA,
                 autres.codes = NULL,
                 fichier.xml = get( "fichier.xml",
                                    envir = SARP.Moodle.env ) )

debut_question.moodle( type,
                       titre, texte, 
                       penalite = NA, note = NA, 
                       commentaire.global = NA, idnum = NA,
                       fichier.xml = get( "fichier.xml",
                                          envir = SARP.Moodle.env ) )

fin_question.moodle( fichier.xml = get( "fichier.xml",
                                        envir = SARP.Moodle.env ) )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>texte</code></td>
<td>
<p> Le texte de la question (une chaîne de caractères). Cet
énoncé peut contenir n'importe quel caractère (codage en UTF-8) et
n'importe quelles balises HTML. Il correspond à l'élément entre les
balises <code>&lt;questiontext&gt;</code> et <code>&lt;/questiontext&gt;</code> de la
question. C'est le seul argument obligatoire. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p> Le type de question à créer (élément <code>type</code> de la
balise <code>&lt;question&gt;</code>). Vecteur contenant une seule chaîne de
caractères.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>titre</code></td>
<td>
<p> L'intitulé de la question, en HTML. Il correspond à
l'élément entre les balises <code>&lt;name&gt;</code> et <code>&lt;/name&gt;</code> de la
question. Indiquez <code>NULL</code> pour ne pas donner de titre. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reponses</code></td>
<td>
<p> Un vecteur. Chaque élément correspond à une réponse
possible, c'est-à-dire à un champ délimité par les balises
<code>&lt;answer&gt;</code> et <code>&lt;/answer&gt;</code>. <em>Attention</em>, les valeurs
de de ce vecteur sont indiquées telles qu'elles dans le fichier XML,
sans être protégées : n'utilisez des formats particuliers qu'avec
précaution, ou en les protégeant manuellement par une balise
<code>&lt;![CDATA[...]]&gt;</code> — ce que font les fonctions de création de
question prédéfinies, si nécessaire.
</p>
<p>Pour indiquer des commentaires (champs <code>&lt;feedback&gt;</code>), créez un
vecteur de chaînes de caractères de même longueur que celui des
réponses et associez-le aux réponses comme attribut, de nom
<code>commentaire</code>.  Utilisez <code>NA</code> pour laisser un commentaire
vide.
</p>
<p>Par défaut, la première réponse est considérée comme parfaitement
correcte (100% de la note) et toutes les autres comme fausses (0%).
Pour indiquer des fractions pour chaque note, créez un vecteur
numérique de même longueur que le nombre de réponses et associez-le
aux réponses comme attribut, de nom <code>fractions</code>.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>commentaire.global</code></td>
<td>
<p> Un vecteur de chaînes de caractère, de
longueur 1, correspondant au retour à indiquer globalement (champ
délimité par les balises <code>&lt;generalfeedback&gt;</code> et
<code>&lt;/generalfeedback&gt;</code> ).  Utilisez <code>NA</code> ou <code>NULL</code> pour
ne pas indiquer de commentaire. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>note</code></td>
<td>
<p> La note associée à cette question (champ délimité par les
balises <code>&lt;defaultgrade&gt;</code> et <code>&lt;/defaultgrade&gt;</code> ). Doit être
un vecteur numérique avec un seul élément. Utilisez <code>NA</code> pour
ne pas indiquer de note. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>penalite</code></td>
<td>
<p> La pénalité à utiliser en cas de tentatives
multiples, si le premier essai est incorrect (champ délimité par les
balises <code>&lt;penalty&gt;</code> et <code>&lt;/penalty&gt;</code> ). Doit être un
vecteur numérique avec un seul élément. Utilisez <code>NA</code> pour ne
pas indiquer de pénalité. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idnum</code></td>
<td>
<p> Un entier qui identifie de façon unique la question.
L'unicité s'entend au sein de la catégorie à laquelle appartient la
question.  SARP.moodle vérifie l'unicité pour la catégorie en cours,
mais ne peut évidemment pas vérifier qu'il n'y a pas déjà dans la
base des questions avec cet identifiant...  Attention, à chaque
appel à <code>categorie.moodle</code>, la liste des identifiants
est remise à zéro. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>autres.codes</code></td>
<td>
<p> Un vecteur de chaînes de caractère, correspondant
aux valeurs à donner à des champs optionnels de la question. Ils sont
écrits dans l'ordre. Le nom des champs est déterminé à partir du nom
des éléments du vecteur. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fichier.xml</code></td>
<td>
<p> Le fichier correspondant au questionnaire qui
contiendra cette question (par défaut, le dernier créé).  </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p> Cette fonction est la fonction principale, appelée par toutes
les autres fonctions de création d'une question Moodle. Les autres
fonctions étant d'usage plus simple, n'utilisez cette fonction que pour
des cas non-prévus par les fonctions spécialisées.
</p>


<h3>Value</h3>

<p> Aucune valeur n'est renvoyée par cette fonction.  </p>


<h3>Author(s)</h3>

<p> Emmanuel Curis <a href="mailto:emmanuel.curis@parisdescartes.fr">emmanuel.curis@parisdescartes.fr</a> </p>


<h3>See Also</h3>

<p><code>numerique.moodle</code>, <code>qcm.moodle</code>
<code>qroc.moodle</code>, <code>question_libre.moodle</code>,
<code>question_ouverte.moodle</code>, <code>vrai_faux.moodle</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Commencer un nouveau questionnaire
q &lt;- debuter_xml.moodle( "exemple.question" )

# Catégorie : exemples
categorie.moodle( "Exemples SARP/Question" )

# Une question vrai-faux (en utilisant le type binaire)
reponses &lt;- c( "Vrai", "Faux" )
attr( reponses, "commentaire" ) &lt;- c( "Bravo !", "Elle n'est pas plate" )
attr( reponses, "fractions" ) &lt;- c( 100, 0 )
question.moodle( type  = "truefalse", titre = "Question binaire",
                 texte = "La Terre est ronde", reponses = reponses )

# On termine le questionnaire
finir_xml.moodle( )

# Importez le fichier exemple.question.xml dans Moodle pour voir le résultat...
print(
"Importez le fichier exemple.question.xml dans Moodle pour voir le résultat..." )

## End(Not run)
</code></pre>


</div>