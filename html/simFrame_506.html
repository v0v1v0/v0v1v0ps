<div class="container">

<table style="width: 100%;"><tr>
<td>simSample</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set up multiple samples</h2>

<h3>Description</h3>

<p>A convenience wrapper for setting up multiple samples using <code>setup</code> 
with control class <code>SampleControl</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">simSample(x, design = character(), grouping = character(), 
          collect = FALSE, fun = srs, size = NULL, 
          prob = NULL, ..., k = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>the <code>data.frame</code> to sample from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>a character, logical or numeric vector specifying variables 
(columns) to be used for stratified sampling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grouping</code></td>
<td>
<p>a character string, single integer or logical vector 
specifying a grouping variable (column) to be used for sampling whole 
groups rather than individual observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collect</code></td>
<td>
<p>logical; if  a grouping variable is specified and this is 
<code>FALSE</code> (which is the default value), groups are sampled directly.  
If grouping variable is specified and this is <code>TRUE</code>, individuals 
are sampled in a first step.  In a second step, all individuals that 
belong to the same group as any of the sampled individuals are collected 
and added to the sample.  If no grouping variable is specified, this is 
ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>a function to be used for sampling (defaults to 
<code>srs</code>).  It should return a vector containing the indices 
of the sampled items (observations or groups).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>an optional non-negative integer giving the number of items 
(observations or groups) to sample.  For stratified sampling, 
a vector of non-negative integers, each giving the number of items 
to sample from the corresponding stratum.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>an optional numeric vector giving the probability weights, or a 
character string or logical vector specifying a variable (column) that 
contains the probability weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to be passed to <code>fun</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>a single positive integer giving the number of samples to be set 
up.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>There are some restrictions on the argument names of the function 
supplied to <code>fun</code>.  If it needs population data as input, 
the corresponding argument should be called <code>x</code> and should expect 
a <code>data.frame</code>.  If the sampling method only needs the population size 
as input, the argument should be called <code>N</code>.  Note that <code>fun</code> is 
not expected to have both <code>x</code> and <code>N</code> as arguments, and that the 
latter is much faster for stratified sampling or group sampling.  
Furthermore, if the function has arguments for sample size and probability 
weights, they should be called <code>size</code> and <code>prob</code>, respectively.  
Note that a function with <code>prob</code> as its only argument is perfectly valid 
(for probability proportional to size sampling).  Further arguments of 
<code>fun</code> may be passed directly via the ... argument.
</p>


<h3>Value</h3>

<p>An object of class <code>"SampleSetup"</code>.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>See Also</h3>

<p><code>setup</code>, <code>"SampleControl"</code>, 
<code>"SampleSetup"</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(eusilcP)

## simple random sampling
srss &lt;- simSample(eusilcP, size = 20, k = 4)
summary(srss)
draw(eusilcP[, c("id", "eqIncome")], srss, i = 1)

## group sampling
gss &lt;- simSample(eusilcP, grouping = "hid", size = 10, k = 4)
summary(gss)
draw(eusilcP[, c("hid", "id", "eqIncome")], gss, i = 2)

## stratified simple random sampling
ssrss &lt;- simSample(eusilcP, design = "region", 
    size = c(2, 5, 5, 3, 4, 5, 3, 5, 2), k = 4)
summary(ssrss)
draw(eusilcP[, c("id", "region", "eqIncome")], ssrss, i = 3)

## stratified group sampling
sgss &lt;- simSample(eusilcP, design = "region", 
    grouping = "hid", size = c(2, 5, 5, 3, 4, 5, 3, 5, 2), k = 4)
summary(sgss)
draw(eusilcP[, c("hid", "id", "region", "eqIncome")], sgss, i = 4)
</code></pre>


</div>