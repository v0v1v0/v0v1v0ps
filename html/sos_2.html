<div class="container">

<table style="width: 100%;"><tr>
<td>findFn</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Search Help Pages
</h2>

<h3>Description</h3>

<p>Returns a data.frame from
<code>RSiteSearch(string, "function")</code> 
which can be sorted and subsetted by user
specifications and viewed in an <code>HTML</code> table.  
The default sort puts first packages with the most
matches (<code>Count</code>), with ties broken using 
the sum of the match scores for all the hits in
that package (<code>TotalScore</code>), etc.
</p>


<h3>Usage</h3>

<pre><code class="language-R">findFn(string, maxPages = 100, sortby = NULL, 
        verbose = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>string</code></td>
<td>

<p>A character string. See
<code>RSiteSearch</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxPages</code></td>
<td>

<p>The maximum number of pages to download 
assuming 20 links per page.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sortby</code></td>
<td>

<p>a character vector specifying how the 
<code>data.frame</code> returned should be sorted. 
Default = 
<code>c('Count', 'MaxScore', 'TotalScore', 'Package', 'Score', 'Function')</code>
to sort descending on numerics and
ascending on alphanumerics.  Specifying 
<code>sortby</code> = <code>c('c', 't', 'm')</code> is
equivalent to 
<code>c('Count', 'TotalScore', 'MaxScore', 'Package', 'Score', 'Function')</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>an integer:  if 0, no output is printed to the
console.  The default 1 displays an initial 
line with the number of pages to be retrieved 
and the number of matches obtained;  if the
number of matches to be downloaded is less, 
this also is displayed on the initial line.  
This is followed by a second line counting the
pages downloaded.
</p>
<p>If greater than 1, additional information is
provided on the download process.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>ignored</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>findFn</code> searches the help pages of packages
covered by the <code>RSiteSearch</code> archives.  To
restrict the search to only packages installed
locally, use <code>help.search</code>.
</p>
<p>1.  Access the <code>RSiteSearch</code> engine 
with <code>string</code>, restricting to "functions",
storing <code>Score</code>, <code>Package</code>, 
<code>Function</code>, <code>Date</code>, <code>Description</code>,
and <code>Link</code> in a <code>data.frame</code>.
</p>
<p>2.  Compute <code>Count</code>, <code>MaxScore</code> and
<code>TotalScore</code> for each <code>Package</code> 
accessed.  Combine them in a matrix
<code>PackageSummary</code>.
</p>
<p>3.  Sort <code>PackageSummary</code> in the order 
defined by the occurrence of 
<code>c('Count', 'MaxScore', 'TotalScore', 'Package')</code>
in <code>sortby</code>.
</p>
<p>4.  Merge <code>PackageSummary</code> with the 
<code>data.frame</code> of search matches.
</p>
<p>5.  Sort the combined <code>data.frame</code> as 
defined by <code>sort.</code>.
</p>
<p>6.  Make the result have class 
<code>c("findFn", "data.frame")</code> and add
attributes <code>matches</code>, 
<code>PackageSummary</code>, <code>string</code>, and
<code>call</code>.
</p>
<p>7.  Done.
</p>


<h3>Value</h3>

<p>an object of class 
<code>c('findFn', 'data.frame')</code> with columns 
and attributes as follows:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Columns</code></td>
<td>


<ul>
<li> <p><code>Count</code> Total number of matches 
downloaded in this package
</p>
</li>
<li> <p><code>MaxScore</code>
maximum of the <code>Score</code> over all help
pages selected within each <code>Package</code>. 
See <code>Score</code> below or the Namazu
website (link below) for more information 
on how the score is determined.
</p>
</li>
<li> <p><code>TotalScore</code>
sum of the <code>Score</code> over all help 
pages selected within each <code>Package</code>. 
See <code>Score</code> below or the Namazu
website (link below) for more information 
on how the score is determined.
</p>
</li>
<li> <p><code>Package</code>
Name of the package containing a help 
page meeting the search criteria
</p>
</li>
<li> <p><code>Function</code>
Name of the help page found that meets 
the indicated search criterion.
</p>
</li>
<li> <p><code>Date</code> Date of the help page
</p>
</li>
<li> <p><code>Score</code>
Score returned by <code>RSiteSearch</code>,
discussed in the Namazu	website (link 
below).
</p>
</li>
<li> <p><code>Description</code> 
Title of the help page
</p>
</li>
<li> <p><code>Link</code> 
Universal Resource Locator (URL) for the 
help page
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Attributes</code></td>
<td>


<ul>
<li>
<p><code>matches</code>
an integer = total number of matches found 
by the search.  This typically will exceed
the number of rows found, because the
search algorithm sometimes finds things 
that are not help pages for packages.
</p>
</li>
<li> <p><code>PackageSummary</code>
a <code>data.frame</code> with one row for each 
package and columns <code>Package</code>,
<code>Count</code>, <code>MaxScore</code>, 
<code>TotalScore</code>, and <code>Date</code>, sorted 
as in the <code>sort.</code> argument.
</p>
</li>
<li> <p><code>string</code>
the <code>string</code> argument in the 
<code>call</code>.
</p>
</li>
<li> <p><code>call</code> the matched call
</p>
</li>
</ul>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Spencer Graves, Sundar Dorai-Raj, Romain Francois.
Duncan Murdoch suggested the "???" alias for
<code>findFn</code> and contributed the code for it.
</p>
<p>Special thanks to Gennadiy Starostin, 
Vienna University of Economics and Business
(Wirtschaftsuniversitaet Wien), who in early 
2021 took over maintenance of the 
<code>RSiteSearch</code> data base, updated 
its structure, and rewrote 
<code>findFn</code> to match.  
</p>
<p>Special thanks to Jonathan Baron, and Andy 
Liaw. Baron maintained the 
<code>RSiteSearch</code> data base for many years.  
Liaw and Baron created the <code>RSiteSearch</code> 
function in the <code>utils</code> package. 
Thanks also to Patrice Kiener of 'InModelia'
in Paris, France, who helped me fix some syntax 
problems stemming from changes in how an 
itemized list is described in a *.Rd file. 
</p>


<h3>References</h3>

<p><a href="http://www.namazu.org/doc/tips.html.en#weight">http://www.namazu.org/doc/tips.html.en#weight</a>
- reference on determining <code>Score</code>
</p>


<h3>See Also</h3>

<p><code>help.search</code> to search only 
installed packages.
<code>RSiteSearch</code>,
<code>download.file</code>
<code>findFn</code> searches only "Target:  Functions"
from that site, ignoring the R-help archives.
</p>
<p>For alternative R search capabilities, see:  
</p>
<p>* <a href="https://en.wikiversity.org/wiki/Searching_R_Packages">"Searching R Packages" on Wikiversity</a>
</p>
<p>* <a href="https://journal.r-project.org/archive/2018/RJ-2018-058/index.html">Julia Silge, John C. Nash, and Spencer Graves (2018) Navigating the R Package Universe, The R Journal, 10(2) 558-563.</a>
</p>
<p>* <a href="https://search.r-project.org">https://search.r-project.org</a> for 
a list of alternative R search capabilities, 
each of which may be best for different types 
of inquiries.
</p>
<p>* <code>findFunction</code> for a completely
different function with a similar name.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Skip these tests on CRAN,
# because they take more than 5 seconds
if(!CRAN()){

z &lt;- try(findFn("spline", maxPages = 2))
# alternative
zq &lt;- try(???spline(2))

# Confirm z == zq except for 'call' 
  attr(z, 'call') &lt;- NULL
  attr(zq, 'call') &lt;- NULL

if(!(inherits(z, "try-error") ||
     inherits(zq, "try-error"))){


all.equal(z, zq)


# To search for 2 terms, not necessarily together:
RSS &lt;- try(findFn('RSiteSearch function', 1))
matches(RSS)

# To search for an exact string, use braces:
RSS. &lt;- try(findFn('{RSiteSearch function}', 1))
matches(RSS.) # list(nrow = 0, matches = 0)

# example in which resulting page has some unicode characters
Lambert &lt;- try(findFn("Lambert"))
Lambert

# Example that "found  2  link(s) without dates" on 2021-06-26
webScr &lt;- try(findFn('web scraping'))

# Example that "found 0 matches" on 2021-09-06
try(findFn('{open history map}'))
}
}
</code></pre>


</div>