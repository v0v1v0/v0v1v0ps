<div class="container">

<table style="width: 100%;"><tr>
<td>reg_ss.fit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Inference in a shift-share regression</h2>

<h3>Description</h3>

<p>Basic computing engine to calculate confidence intervals and p-values in
shift-share designs using different inference methods, as specified by
<code>method</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">reg_ss.fit(
  y,
  X,
  W,
  Z,
  w = NULL,
  method = c("akm", "akm0"),
  beta0 = 0,
  alpha = 0.05,
  region_cvar = NULL,
  sector_cvar = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Outcome variable, vector of length <code>N</code>, with each row
corresponding to a region.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>Shift-share vector with length <code>N</code> of sectoral shocks,
aggregated to regional level using the share matrix <code>W</code>. That is,
each element of <code>X</code> corresponds to a region.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>W</code></td>
<td>
<p>A matrix of sector shares, so that <code>W[i, s]</code> corresponds to
share of sector <code>s</code> in region <code>i</code>. The ordering of the regions
must coincide with that in the other inputs, such as <code>X</code>. The
ordering of the sectors in the columns of <code>W</code> is irrelevant but the
identity of the sectors in must coincide with those used to construct
<code>X</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p>Matrix of regional controls, matrix with <code>N</code> rows corresponding
to regions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>vector of weights (length <code>N</code>) to be used in the fitting
process. If not <code>NULL</code>, weighted least squares is used with weights
<code>w</code>, i.e., <code>sum(w * residuals^2)</code> is minimized.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Vector specifying which inference methods to use. The vector
elements have to be one or more of the following strings:
</p>

<dl>
<dt><code>"homosk"</code></dt>
<dd>
<p>Assume i.i.d. homoskedastic errors</p>
</dd>
<dt><code>"ehw"</code></dt>
<dd>
<p>Eicker-Huber-White standard errors</p>
</dd>
<dt><code>"region_cluster"</code></dt>
<dd>
<p>Standard errors clustered at regional level</p>
</dd>
<dt><code>"akm"</code></dt>
<dd>
<p>Adão-Kolesár-Morales</p>
</dd>
<dt><code>"akm0"</code></dt>
<dd>
<p>Adão-Kolesár-Morales with null imposed. Note the
reported standard error for this method corresponds to the normalized
standard error, given by the length of the confidence interval divided by
<code class="reqn">2z_{1-\alpha/2}</code></p>
</dd>
<dt><code>"all"</code></dt>
<dd>
<p>All of the methods above</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta0</code></td>
<td>
<p>null that is tested (only affects reported p-values)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Determines confidence level of reported confidence intervals,
which will have coverage <code>1-alpha</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>region_cvar</code></td>
<td>
<p>A vector with length <code>N</code> of cluster variables, for
method <code>"cluster_region"</code>. If the vector <code>1:N</code> is used,
clustering is effectively equivalent to <code>ehw</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sector_cvar</code></td>
<td>
<p>A vector with length <code>S</code> of cluster variables, if
sectors are to be clustered, for methods <code>"akm"</code> and <code>"akm0"</code>.
If the vector <code>1:S</code> is used, this is equivalent to not clustering.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns an object of class <code>"SSResults"</code> containing the
estimation and inference results. The <code>print</code> function can be used
to print a summary of the results. The object is a list with at least the
following components: </p>

<dl>
<dt>beta</dt>
<dd>
<p>Point estimate of the effect of interest <code class="reqn">\beta</code></p>
</dd>
<dt>se, p</dt>
<dd>
<p>A vector of standard errors and a vector of p-values of the null
<code class="reqn">H_{0}\colon \beta = \beta_{0}</code> for the inference
methods in <code>method</code>, with <code class="reqn">\beta_{0}</code> specified by the
argument <code>beta0</code>. For the method <code>"akm0"</code>, the standard error
corresponds to the effective standard error (length of the confidence
interval divided by <code>2*stats::qnorm(1-alpha/2)</code>)</p>
</dd>
<dt>ci.l, ci.r</dt>
<dd>
<p>Upper and lower endpoints of the confidence interval for
the effect of interest <code class="reqn">\beta</code>, for each of the methods in
<code>method</code></p>
</dd>
</dl>
</div>