<div class="container">

<table style="width: 100%;"><tr>
<td>FUGEPSD</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fuzzy Genetic Programming-based learning for Subgroup Discovery (FuGePSD) Algorithm.</h2>

<h3>Description</h3>

<p>Make a subgroup discovery task using the FuGePSD algorithm.
</p>


<h3>Usage</h3>

<pre><code class="language-R">FUGEPSD(
  paramFile = NULL,
  training = NULL,
  test = NULL,
  output = c("optionsFile.txt", "rulesFile.txt", "testQM.txt"),
  seed = 0,
  nLabels = 3,
  t_norm = "product_t-norm",
  ruleWeight = "Certainty_Factor",
  frm = "Normalized_Sum",
  numGenerations = 300,
  numberOfInitialRules = 100,
  crossProb = 0.5,
  mutProb = 0.2,
  insProb = 0.15,
  dropProb = 0.15,
  tournamentSize = 2,
  globalFitnessWeights = c(0.7, 0.1, 0.05, 0.2),
  minCnf = 0.6,
  ALL_CLASS = TRUE,
  targetVariable = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>paramFile</code></td>
<td>
<p>The path of the parameters file. <code>NULL</code> If you want to use training and test <code>SDEFSR_Dataset</code> variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>training</code></td>
<td>
<p>A <code>SDEFSR_Dataset</code> class variable with training data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>
<p>A <code>SDEFSR_Dataset</code> class variable with test data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>Character vector with the paths where store information file, rules file and test quality measures file, respectively. For rules and quality measures files, the algorithm generate 4 files, each one with the results of a given filter of fuzzy confidence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>An integer to set the seed used for generate random numbers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nLabels</code></td>
<td>
<p>Number of linguistic labels for numerical variables. By default 3. We recommend an odd number between 3 and 9.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t_norm</code></td>
<td>
<p>A string with the t-norm to use when computing the compatibilty degree of the rules. Use <code>'Minimum/Maximum'</code> to specify the minimum t-norm, if not, we use product t-norm that is the default method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ruleWeight</code></td>
<td>
<p>String with the method to calculate the rule weight. Possible values are: 
</p>

<ul>
<li> <p><code>Certainty_Factor</code>: It uses the Classic Certainty Factor Weight method.
</p>
</li>
<li> <p><code>Average_Penalized_Certainty_Factor</code>: It uses Penalized Certainty Factor weight II by Ishibuchi.
</p>
</li>
<li> <p><code>No_Weights</code>: There are no weight calculation.
</p>
</li>
<li>
<p> Default: If none of this are specificied, the default method is Penalized Certainty Factor Weight IV by Ishibuchi.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frm</code></td>
<td>
<p>A string specifying the Fuzzy Reasoning Method to use. Possible Values are:
</p>

<ul>
<li> <p><code>Normalized_Sum</code>: It uses the Normalized Sum or Additive Combination Fuzzy Reasoning Method.
</p>
</li>
<li> <p><code>Arithmetic_Mean</code>: It uses the Arithmetic Mean Fuzzy Reasoning Method.
</p>
</li>
<li>
<p> Default: By default, Winning Rule Fuzzy Reasoning Method are selected.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numGenerations</code></td>
<td>
<p>An integer to set the number of generations to perfom before stop the evolutionary process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numberOfInitialRules</code></td>
<td>
<p>An integer to set the number individuals or rules in the initial population.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crossProb</code></td>
<td>
<p>Sets the crossover probability. We recommend a number in [0,1].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mutProb</code></td>
<td>
<p>Sets the mutation probability. We recommend a number in [0,1].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>insProb</code></td>
<td>
<p>Sets the insertion probability. We recommend a number in [0,1].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dropProb</code></td>
<td>
<p>Sets the dropping probability. We recommend a number in [0,1].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tournamentSize</code></td>
<td>
<p>Sets the number of individuals that will be chosen in the tournament selection procedure. This number must be greater than or equal to 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>globalFitnessWeights</code></td>
<td>
<p>A numeric vector of length 4 specifying the weights used in the computation of the Global Fitness Parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minCnf</code></td>
<td>
<p>A value in [0,1] to filter rules with a minimum confidence</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ALL_CLASS</code></td>
<td>
<p>if TRUE, the algorithm returns, at least, the best rule for each target class, even if it does not pass the filters. If FALSE, it only returns, at least, the best rule if there are not rules that passes the filters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targetVariable</code></td>
<td>
<p>The name or index position of the target variable (or class). It must be a categorical one.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function sets as target variable the last one that appear in <code>SDEFSR_Dataset</code> object. If you want 
to change the target variable, you can set the <code>targetVariable</code> to change this target variable.
The target variable MUST be categorical, if it is not, throws an error. Also, the default behaviour is to find
rules for all possible values of the target varaible. <code>targetClass</code> sets a value of the target variable where the
algorithm only finds rules about this value.
</p>
<p>If you specify in <code>paramFile</code> something distinct to <code>NULL</code> the rest of the parameters are
ignored and the algorithm tries to read the file specified. See "Parameters file structure" below 
if you want to use a parameters file.
</p>
<p>@return The algorithm shows in console the following results:
</p>

<ol>
<li>
<p> Information about the parameters used in the algorithm.
</p>
</li>
<li>
<p> Results for each filter:
</p>

<ol>
<li>
<p> Rules generated that passes the filter.
</p>
</li>
<li>
<p> The test quality measures for each rule in that filter.
</p>
</li>
</ol>
</li>
</ol>
<p>Also, this results are saved in a file with rules and other with the quality measures, one file per filter.
</p>
<p>@section How does this algorithm work?:
This algorithm performs a EFS based on a genetic programming algorithm. This algorithm starts with an initial 
population generated in a random manner where individuals are represented through the "chromosome = individual"
approach includind both antecedent and consequent of the rule. The representation of the consequent has the advantage
of getting rules for all target class with only one execution of the algorithm.  
</p>
<p>The algorithm employs a cooperative-competition approach were rules of the population cooperate and compete between them in order to 
obtain the optimal solution. So this algorithm performs to evaluation, one for individual rules to competition and other for the total population 
for cooperation.  
</p>
<p>The algorithm evolves generating an offspring population of the same size than initial generated by the application of the
genetic operators over the main population. Once applied, both populations are joined a token competition is performed in order to 
maintain the diversity of the rules generated. Also, this token competition reduce the population sice deleting those rules that are not competitive.  
</p>
<p>After the evolutionary process a screening function is applied over the best population. This screening function filter the rules that have a minimum
level of confidence and sensitivity. Those levels are 0.6 for sensitivy and four filters of 0.6, 0.7, 0.8 and 0.9 for fuzzy confidence are performed.  
</p>
<p>Also, the user can force the algorithm return at least one rule for all target class values, even if not pass the screening function. This 
behaviour is specified by the ALL_CLASS parameter.
</p>
<p>@section Parameters file structure:
The <code>paramFile</code> argument points to a file which has the neccesary parameters to execute FuGePSD.
This file <strong>must</strong> be, at least, this parameters (separated by a carriage return):
</p>

<ul>
<li> <p><code>algorithm</code>  Specify the algorithm to execute. In this case. "MESDIF"
</p>
</li>
<li> <p><code>inputData</code>  Specify two paths of KEEL files for training and test. In case of specify only the name of the file, the path will be the working directory.
</p>
</li>
<li> <p><code>seed</code>  Sets the seed for the random number generator
</p>
</li>
<li> <p><code>nLabels</code>  Sets the number of fuzzy labels to create when reading the files
</p>
</li>
<li> <p><code>nEval</code>  Set the maximum number of <strong>evaluations of rules</strong> for stop the genetic process
</p>
</li>
<li> <p><code>popLength</code>  Sets number of individuals of the main population
</p>
</li>
<li> <p><code>eliteLength</code>  Sets number of individuals of the elite population. Must be less than <code>popLength</code>  
</p>
</li>
<li> <p><code>crossProb</code>  Crossover probability of the genetic algorithm. Value in [0,1]
</p>
</li>
<li> <p><code>mutProb</code>  Mutation probability of the genetic algorithm. Value in [0,1]
</p>
</li>
<li> <p><code>Obj1</code> Sets the objetive number 1. 
</p>
</li>
<li> <p><code>Obj2</code> Sets the objetive number 2. 
</p>
</li>
<li> <p><code>Obj3</code> Sets the objetive number 3. 
</p>
</li>
<li> <p><code>Obj4</code> Sets the objetive number 4.
</p>
</li>
<li> <p><code>RulesRep</code>  Representation of each chromosome of the population. "can" for canonical representation. "dnf" for DNF representation.
</p>
</li>
<li> <p><code>targetClass</code>  Value of the target variable to search for subgroups. The target variable <strong>is always the last variable.</strong> Use <code>null</code> to search for every value of the target variable
</p>
</li>
</ul>
<p>An example of parameter file could be:
</p>
<pre>
 algorithm = FUGEPSD
 inputData = "banana-5-1tra.dat" "banana-5-1tst.dat"
 outputData = "Parameters_INFO.txt" "Rules.txt" "TestMeasures.txt"
 seed = 23783
 Number of Labels = 3
 T-norm/T-conorm for the Computation of the Compatibility Degree = Normalized_Sum
 Rule Weight = Certainty_Factor
 Fuzzy Reasoning Method = Normalized_Sum
 Number of Generations = 300
 Initial Number of Fuzzy Rules = 100
 Crossover probability = 0.5
 Mutation probability = 0.2
 Insertion probability = 0.15
 Dropping Condition probability = 0.15
 Tournament Selection Size = 2 
 Global Fitness Weight 1 = 0.7
 Global Fitness Weight 2 = 0.1 
 Global Fitness Weight 3 = 0.05
 Global Fitness Weight 4 = 0.2
 All Class = true</pre>


<h3>Author(s)</h3>

<p>Written on R by Angel M. Garcia &lt;amgv0009@red.ujaen.es&gt;
</p>


<h3>References</h3>

<p>A fuzzy genetic programming-based algorithm for subgroup discovery and the application to one problem of pathogenesis of acute sore throat conditions in humans, Carmona, C.J., Ruiz-Rodado V., del Jesus M.J., Weber A., Grootveld M., Gonzalez P., and Elizondo D. , Information Sciences, Volume 298, p.180-197, (2015)
</p>


<h3>Examples</h3>

<pre><code class="language-R">FUGEPSD(training = habermanTra,
         test = habermanTst,
         output = c(NA, NA, NA),
         seed = 23783,
         nLabels = 3,
         t_norm = "Minimum/Maximum",
         ruleWeight = "Certainty_Factor",
         frm = "Normalized_Sum",
         numGenerations = 20,
         numberOfInitialRules = 15,
         crossProb = 0.5,
         mutProb = 0.2,
         insProb = 0.15,
         dropProb = 0.15,
         tournamentSize = 2,
         globalFitnessWeights = c(0.7, 0.1, 0.3, 0.2),
         ALL_CLASS = TRUE)
         
## Not run: 
# Execution with a parameters file called 'ParamFile.txt' in the working directory:

FUGEPSD("ParamFile.txt")


## End(Not run)

</code></pre>


</div>