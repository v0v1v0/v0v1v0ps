<div class="container">

<table style="width: 100%;"><tr>
<td>spBwplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Weighted box plots</h2>

<h3>Description</h3>

<p>Produce box-and-whisker plots of continuous or semi-continuous variables,
possibly broken down according to conditioning variables and taking into
account sample weights.
</p>


<h3>Usage</h3>

<pre><code class="language-R">spBwplot(
  inp,
  x,
  cond = NULL,
  horizontal = TRUE,
  coef = 1.5,
  zeros = TRUE,
  minRatio = NULL,
  do.out = FALSE,
  ...
)

panelSpBwplot(x, y, coef = 1.5, zeros = TRUE, ratio, outliers, subscripts, ...)

getBwplotStats(x, weights = NULL, cond = NULL, data, ..., name = "")

prepBwplotStats(x, w, ..., name = "")

## S3 method for class 'data.frame'
prepBwplotStats(x, w, ..., name = "")

## Default S3 method:
prepBwplotStats(x, w, ..., name = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>inp</code></td>
<td>
<p>an object of class <code>simPopObj</code> containing
survey sample and synthetic population data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a character vector specifying the columns of data available in the
sample and the population (specified in input object 'inp') to be plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cond</code></td>
<td>
<p>an optional character vector (of length 1, if used) specifying
the conditioning variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>horizontal</code></td>
<td>
<p>a logical indicating whether the boxes should be
horizontal or vertical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coef</code></td>
<td>
<p>a numeric value that determines the extension of the whiskers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zeros</code></td>
<td>
<p>a logical indicating whether the variables specified by
<code>x</code> are semi-continuous, i.e., contain a considerable amount of zeros.
If <code>TRUE</code>, the box widths correspond to the proportion of non-zero data
points and the (weighted) box plot statistics are computed for these
non-zero data points only.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minRatio</code></td>
<td>
<p>a numeric value in <code class="reqn">(0,1]</code>; if <code>zeros</code> is
<code>TRUE</code>, the boxes may become unreadable for a large proportion of
zeros. In such a case, this can be used to specify a minimum ratio for the
box widths. Variable box widths for semi-continuous variables can be
suppressed by setting this value to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>do.out</code></td>
<td>
<p>a logical indicating whether data points that lie beyond the
extremes of the whiskers should be plotted. Note that this is <code>FALSE</code>
by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments to be passed to
<code>bwplot</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Missing values are ignored for producing box plots and weights are directly
extracted from the input object <code>inp</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>"trellis"</code>, as returned by
<code>bwplot</code>.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons and Bernhard Meindl
</p>


<h3>References</h3>

<p>A. Alfons, M. Templ (2011) Simulation of close-to-reality population data for household surveys with application to EU-SILC. 
<em>Statistical Methods &amp; Applications</em>, <strong>20</strong> (3), 383â€“407. <a href="https://doi.org/10.1007/s10260-011-0163-2">doi:10.1007/s10260-011-0163-2</a>
</p>


<h3>See Also</h3>

<p><code>spBwplotStats</code>, <code>bwplot</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## these take some time and are not run automatically
## copy &amp; paste to the R command line

set.seed(1234)  # for reproducibility
data(eusilcS)   # load sample data

## approx. 20 seconds computation time
inp &lt;- specifyInput(data=eusilcS, hhid="db030", hhsize="hsize",
  strata="db040", weight="db090")
simPop &lt;- simStructure(data=inp, method="direct",
  basicHHvars=c("age", "rb090", "hsize", "pl030", "pb220a"))

# multinomial model with random draws
eusilcM &lt;- simContinuous(simPop, additional="netIncome",
  regModel  = ~rb090+hsize+pl030+pb220a+hsize,
  upper=200000, equidist=FALSE, nr_cpus=1)

# plot results
spBwplot(eusilcM, x="netIncome", cond=NULL)
spBwplot(eusilcM, x="netIncome", cond="rb090", layout=c(1,2))


</code></pre>


</div>