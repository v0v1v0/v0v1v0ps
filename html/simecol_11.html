<div class="container">

<table style="width: 100%;"><tr>
<td>CA</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Stochastic Cellular Automaton</h2>

<h3>Description</h3>

<p><span class="pkg">simecol</span> example: This model simulates a stochastic cellular
automaton.
</p>


<h3>Usage</h3>

<pre><code class="language-R">data(conway)</code></pre>


<h3>Format</h3>

<p>An S4 object according to the <code>gridModel</code> specification.
The object contains the following slots:
</p>

<dl>
<dt><code>main</code></dt>
<dd>
<p>functions with the state transition rules of
Coway's Game of Life.
</p>
</dd>
<dt><code>parms</code></dt>
<dd>
<p>a list with two vector elements:
</p>

<dl>
<dt><code>pbirth</code></dt>
<dd>
<p>probability of birth,</p>
</dd>
<dt><code>pdeath</code></dt>
<dd>
<p>death probability, dependend on neighbors.</p>
</dd>
</dl>
</dd>
<dt><code>times</code></dt>
<dd>
<p>number of time steps to be simulated.</p>
</dd>
<dt><code>init</code></dt>
<dd>
<p>a matrix, giving the initial state of the
cellular grid (default: rectangle in the middle of the grid).
</p>
</dd>
</dl>
<h3>Details</h3>

<p>To see all details, please have a look into the implementation below.
</p>


<h3>See Also</h3>

<p><code>sim</code>,
<code>parms</code>,
<code>init</code>,
<code>times</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">##============================================
## Basic Usage:
##   work with the example
##============================================
data(CA)
times(CA)["to"] &lt;- 10
plot(sim(CA))

set.seed(345)
times(CA)["to"] &lt;- 50
CA &lt;- sim(CA)

library(lattice)
tcol &lt;- (terrain.colors(13))[-13]
x &lt;- out(CA, last=TRUE)
x &lt;- ifelse(x == 0, NA, x)
levelplot(x,
  cuts = 11,
  col.regions = tcol,
  colorkey = list(at = seq(0, 55, 5))
)

##============================================
## Implementation:
##   The code of the CA model
##============================================
CA &lt;- new("gridModel",
  main = function(time, init, parms) {
    z     &lt;- init
    nb    &lt;- eightneighbors(z)
    pgen  &lt;- 1 - (1 - parms$pbirth)^nb
    zgen  &lt;- ifelse(z == 0 &amp;
               runif(z) &lt; pgen, 1, 0)
    zsurv &lt;- ifelse(z &gt;= 1 &amp;
               runif(z) &lt; (1 - parms$pdeath),
               z + 1, 0)
    zgen + zsurv
  },
  parms = list(pbirth = 0.02, pdeath = 0.01),
  times = c(from = 1, to = 50, by = 1),
  init = matrix(0, nrow = 40, ncol = 40),
  solver = "iteration"
)
init(CA)[18:22,18:22] &lt;- 1
##============================================
</code></pre>


</div>