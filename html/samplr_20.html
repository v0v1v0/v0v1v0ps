<div class="container">

<table style="width: 100%;"><tr>
<td>Zhu23ABS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Auto-correlated Bayesian Sampler by Zhu (2023)</h2>

<h3>Description</h3>

<p>This Auto-correlated Bayesian Sampler model (ABS, Zhu et al. 2024) is developed by Zhu.
</p>


<h3>Super class</h3>

<p><code>samplr::CoreABS</code> -&gt; <code>Zhu23ABS</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>width</code></dt>
<dd>
<p>the standard deviation of the proposal distribution for MC3.</p>
</dd>
<dt><code>lambda</code></dt>
<dd>
<p>the rate parameter of the Erlang distribution for decision time.</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Zhu23ABS-new"><code>Zhu23ABS$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Zhu23ABS-simulate"><code>Zhu23ABS$simulate()</code></a>
</p>
</li>
<li> <p><a href="#method-Zhu23ABS-confidence_interval"><code>Zhu23ABS$confidence_interval()</code></a>
</p>
</li>
<li> <p><a href="#method-Zhu23ABS-reset_sim_results"><code>Zhu23ABS$reset_sim_results()</code></a>
</p>
</li>
<li> <p><a href="#method-Zhu23ABS-clone"><code>Zhu23ABS$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-Zhu23ABS-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Create a new 'Zhu23ABS' object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Zhu23ABS$new(
  width,
  n_chains,
  nd_time,
  s_nd_time,
  lambda,
  distr_name = NULL,
  distr_params = NULL,
  custom_distr = NULL,
  custom_start = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>width</code></dt>
<dd>
<p>a numeric value of the standard deviation of the proposal distribution for MC3.</p>
</dd>
<dt><code>n_chains</code></dt>
<dd>
<p>an integer of the number of chains for the sampler.</p>
</dd>
<dt><code>nd_time</code></dt>
<dd>
<p>a numeric value of the non-decision time (in seconds). When <code>s_nd_time</code> is not 0, <code>nd_time</code> represents the lower bound of the non-decision time.</p>
</dd>
<dt><code>s_nd_time</code></dt>
<dd>
<p>a numeric value of the inter-trial-variability of the non-decision time (in seconds).</p>
</dd>
<dt><code>lambda</code></dt>
<dd>
<p>a numeric value of the rate parameter of the Erlang distribution for decision time.</p>
</dd>
<dt><code>distr_name</code></dt>
<dd>
<p>a character string indicating the type of the posterior hypothesis distribution.</p>
</dd>
<dt><code>distr_params</code></dt>
<dd>
<p>a numeric vector of the additional parameters for the posterior hypothesis distribution.</p>
</dd>
<dt><code>custom_distr</code></dt>
<dd>
<p>a list of functions that define the posterior hypothesis distribution.</p>
</dd>
<dt><code>custom_start</code></dt>
<dd>
<p>a numeric value of the starting point if "custom_distr" is provided.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A new 'Zhu23ABS' object.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>zhuabs &lt;- Zhu23ABS$new(
    width = 1, n_chains = 5, nd_time = 0.3, s_nd_time = 0.5, 
    lambda = 10, distr_name = 'norm', distr_params = 1
)

</pre>
</div>


<hr>
<a id="method-Zhu23ABS-simulate"></a>



<h4>Method <code>simulate()</code>
</h4>

<p>Simulate the ABS model.
</p>


<h5>Usage</h5>

<div class="r"><pre>Zhu23ABS$simulate(stopping_rule, start_point = NA, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>stopping_rule</code></dt>
<dd>
<p>a character string indicating the stopping rule of ABS to be applied. Possible values are <code>"fixed"</code> and <code>"relative"</code>. See also <code>Details</code>.</p>
</dd>
<dt><code>start_point</code></dt>
<dd>
<p>a numeric vector setting the start point of each trial for the sampler. By default, it's set to <code>NA</code>, indicating that the starting point of the first trial is a random point from the posterior of hypotheses, and the starting points of subsequent trials are set to the last sample of the previous trial. For more detailed information, please refer to the vignette "Simulations of the Autocorrelated Bayesian Sampler".</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>further arguments passed to the ABS model, see also <code>Details</code>.</p>
</dd>
</dl>
</div>



<h5>Details</h5>

<p>The ABS model has two types of stopping rules: fixed and relative. The fixed stopping rule means that a fixed number of samples are drawn to complete the tasks such as estimations and confidence intervals. This rule applies to tasks such as estimation tasks. On the other hand, the relative stopping rule means that the model counts the difference in evidence between the two hypotheses, and terminates the sampling process whenever the accumulated difference exceeds a threshold. This rule applies to tasks such as two-alternative force choice tasks.
</p>
<p>When the <code style="white-space: pre;">⁠stopping rule⁠</code> is <code>"fixed"</code>, the following arguments are required:
</p>

<ul>
<li> <p><code>n_sample</code> an integer of the fixed number of samples for each trial.
</p>
</li>
<li> <p><code>trial_stim</code> a numeric vector of the stimulus of each trial.
</p>
</li>
</ul>
<p>When the <code style="white-space: pre;">⁠stopping rule⁠</code> is <code>"relative"</code>, the following arguments are required:
</p>

<ul>
<li> <p><code>delta</code> an integer of the relative difference between the number of samples supporting each hypothesis.
</p>
</li>
<li> <p><code>dec_bdry</code> a numeric value of the decision boundary that separates the posterior hypothesis distribution.
</p>
</li>
<li> <p><code>discrim</code> a numeric value of the stimuli discriminability.
</p>
</li>
<li> <p><code>trial_stim</code> a factor that indicates the stimuli of each trial. It only consists of either one level or two levels. By definition, level 1 represents the stimulus below the decision boundary, while level 2 represents the stimulus above the decision boundary.
</p>
</li>
<li> <p><code>prior_on_resp</code> a numeric vector for the Beta prior on responses. Defaults to <code>c(1,1)</code> representing the distribution <code>Beta(1,1)</code>.
</p>
</li>
<li> <p><code>prior_depend</code> a boolean variable that control whether the prior on responses changes regarding the last stimulus. Defaults to <code>TRUE</code>. Please refer to the vignette for more information.
</p>
</li>
<li> <p><code>max_iterations</code> an integer of the maximum length of the MC3 sampler. Defaults to 1000. The program will stop the sampling process after the length of the sampling sequence reaches to this limitation.
</p>
</li>
</ul>
<p>No values will be return after running this method, but the field <code>sim_results</code> will be updated instead. If the stopping rule is "fixed", <code>simulation_results</code> will be a data frame with five columns:
</p>

<ol>
<li>
<p>trial: The index of trials;
</p>
</li>
<li>
<p>samples: The samples of ABS sampler for the trial;
</p>
</li>
<li>
<p>stimulus: The stimuli of the experiment;
</p>
</li>
<li>
<p>rt: The response time;
</p>
</li>
<li>
<p>point_est: The response of point estimation;
</p>
</li>
</ol>
<p>On the other hand, if the stopping rule is "relative", <code>sim_results</code> will be a data frame with seven columns:
</p>

<ol>
<li>
<p>trial: The index of trials;
</p>
</li>
<li>
<p>samples: The samples of ABS sampler for the trial;
</p>
</li>
<li>
<p>response: The response predicted by ABS;
</p>
</li>
<li>
<p>stimulus: The stimuli of the experiment;
</p>
</li>
<li>
<p>accuracy: Whether the response is the same as the feedback. 0 represents error, and 1 represents correct;
</p>
</li>
<li>
<p>rt: The response time, including both the non-decision and the decision time;
</p>
</li>
<li>
<p>confidence: The confidence of the response.
</p>
</li>
</ol>
<h5>Examples</h5>

<div class="r example copy">
<pre>
trial_stim &lt;- round(runif(5, 10, 50))
zhuabs$simulate(stopping_rule='fixed', n_sample = 5, trial_stim = trial_stim)
zhuabs$sim_results

zhuabs$reset_sim_results()
trial_stim &lt;- factor(sample(c('left', 'right'), 5, TRUE))
zhuabs$simulate(stopping_rule='relative', 
   delta = 4, dec_bdry = 0, 
   discrim = 1, trial_stim = trial_stim
)
zhuabs$sim_results

</pre>
</div>


<hr>
<a id="method-Zhu23ABS-confidence_interval"></a>



<h4>Method <code>confidence_interval()</code>
</h4>

<p>This function calculates the confidence interval of the <code>simulate</code> method's results when the "fixed" stopping rule was used.
</p>


<h5>Usage</h5>

<div class="r"><pre>Zhu23ABS$confidence_interval(conf_level)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>conf_level</code></dt>
<dd>
<p>the required confidence level.</p>
</dd>
</dl>
</div>



<h5>Details</h5>

<p>No values will be returned by this method. Instead, two new columns will be added to the <code>sim_results</code>:
</p>

<ol>
<li>
<p>conf_interval_l: The lower bound of the confidence interval with the given level;
</p>
</li>
<li>
<p>conf_interval_u: The upper bound of the confidence interval with the given level;
</p>
</li>
</ol>
<h5>Examples</h5>

<div class="r example copy">
<pre>zhuabs$confidence_interval(conf_level = 0.9)

</pre>
</div>


<hr>
<a id="method-Zhu23ABS-reset_sim_results"></a>



<h4>Method <code>reset_sim_results()</code>
</h4>

<p>This function is for resetting the <code>sim_results</code> to run new simulations.
</p>


<h5>Usage</h5>

<div class="r"><pre>Zhu23ABS$reset_sim_results()</pre></div>


<hr>
<a id="method-Zhu23ABS-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Zhu23ABS$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>References</h3>

<p>Zhu J, Sundh J, Spicer J, Chater N, Sanborn AN (2024).
“The Autocorrelated Bayesian Sampler: A Rational Process for Probability Judgments, Estimates, Confidence Intervals, Choices, Confidence Judgments, and Response Times.”
<em>Psychological Review</em>, <b>131</b>(2), 456–493.
<a href="https://doi.org/10.1037/rev0000427">doi:10.1037/rev0000427</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## ------------------------------------------------
## Method `Zhu23ABS$new`
## ------------------------------------------------

zhuabs &lt;- Zhu23ABS$new(
    width = 1, n_chains = 5, nd_time = 0.3, s_nd_time = 0.5, 
    lambda = 10, distr_name = 'norm', distr_params = 1
)


## ------------------------------------------------
## Method `Zhu23ABS$simulate`
## ------------------------------------------------


trial_stim &lt;- round(runif(5, 10, 50))
zhuabs$simulate(stopping_rule='fixed', n_sample = 5, trial_stim = trial_stim)
zhuabs$sim_results

zhuabs$reset_sim_results()
trial_stim &lt;- factor(sample(c('left', 'right'), 5, TRUE))
zhuabs$simulate(stopping_rule='relative', 
   delta = 4, dec_bdry = 0, 
   discrim = 1, trial_stim = trial_stim
)
zhuabs$sim_results


## ------------------------------------------------
## Method `Zhu23ABS$confidence_interval`
## ------------------------------------------------

zhuabs$confidence_interval(conf_level = 0.9)

</code></pre>


</div>