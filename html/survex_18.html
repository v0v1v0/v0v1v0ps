<div class="container">

<table style="width: 100%;"><tr>
<td>model_diagnostics</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Dataset Level Model Diagnostics</h2>

<h3>Description</h3>

<p>This function calculates martingale and deviance residuals.
</p>


<h3>Usage</h3>

<pre><code class="language-R">model_diagnostics(explainer)

## S3 method for class 'surv_explainer'
model_diagnostics(explainer)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>explainer</code></td>
<td>
<p>an explainer object - model preprocessed by the <code>explain()</code> function</p>
</td>
</tr></table>
<h3>Value</h3>

<p>An object of class <code>c("model_diagnostics_survival")</code>. It's a list with the explanations in the <code>result</code> element.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(survival)
library(survex)

cph &lt;- coxph(Surv(time, status) ~ ., data = veteran, model = TRUE, x = TRUE, y = TRUE)
rsf_ranger &lt;- ranger::ranger(Surv(time, status) ~ .,
  data = veteran,
  respect.unordered.factors = TRUE,
  num.trees = 100,
  mtry = 3,
  max.depth = 5
)

cph_exp &lt;- explain(cph)

rsf_ranger_exp &lt;- explain(rsf_ranger,
  data = veteran[, -c(3, 4)],
  y = Surv(veteran$time, veteran$status)
)

cph_residuals &lt;- model_diagnostics(cph_exp)
rsf_residuals &lt;- model_diagnostics(rsf_ranger_exp)

head(cph_residuals$result)
plot(cph_residuals, rsf_residuals, xvariable = "age")
plot(cph_residuals, rsf_residuals, plot_type = "Cox-Snell")


</code></pre>


</div>