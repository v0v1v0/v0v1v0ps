<div class="container">

<table style="width: 100%;"><tr>
<td>C_fProd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Performance of a PV system
</h2>

<h3>Description</h3>

<p>Simulate the behaviour of a grid connected PV system under different
conditions of irradiance and temperature. This function is used by the
<code>prodGCPV</code> function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fProd(inclin, module, generator, inverter, effSys)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>inclin</code></td>
<td>
<p>A <code>Gef</code> object, a <code>zoo</code> object or a <code>data.frame</code>. In
case of being <code>zoo</code> or <code>data.frame</code> it must include a component named <code>Gef</code> (effective irradiance, W/m²) and another named <code>Ta</code> (ambient temperature, <code class="reqn">^{\circ}{\rm C}</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>module</code></td>
<td>
<p>list of numeric values with information about the PV module, </p>

<dl>
<dt><code>Vocn</code></dt>
<dd>
<p>open-circuit voltage of the module at Standard
Test Conditions (default value 57.6 volts.)</p>
</dd>
<dt><code>Iscn</code></dt>
<dd>
<p>short circuit current of the module at Standard
Test Conditions (default value 4.7 amperes.)</p>
</dd>
<dt><code>Vmn</code></dt>
<dd>
<p>maximum power point voltage of the module at
Standard Test Conditions (default value 46.08 amperes.)</p>
</dd>
<dt><code>Imn</code></dt>
<dd>
<p>Maximum power current of the module at Standard
Test Conditions (default value 4.35 amperes.)</p>
</dd>
<dt><code>Ncs</code></dt>
<dd>
<p>number of cells in series inside the module
(default value 96)</p>
</dd>
<dt><code>Ncp</code></dt>
<dd>
<p>number of cells in parallel inside the module (default value 1)</p>
</dd>
<dt><code>CoefVT</code></dt>
<dd>
<p>coefficient of decrement of voltage of each
cell with the temperature (default value 0.0023 volts per celsius degree)</p>
</dd>
<dt><code>TONC</code></dt>
<dd>
<p>nominal operational  cell temperature, celsius
degree (default value 47).</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>generator</code></td>
<td>
<p>list of numeric values with information about the generator, </p>

<dl>
<dt><code>Nms</code></dt>
<dd>
<p>number of modules in series (default value 12)</p>
</dd>
<dt><code>Nmp</code></dt>
<dd>
<p>number of modules in parallel (default value 11)</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inverter</code></td>
<td>
<p>list of numeric values with information about the DC/AC inverter, </p>

<dl>
<dt><code>Ki</code></dt>
<dd>
<p>vector of three values, coefficients of the
efficiency curve of the inverter (default c(0.01, 0.025, 0.05)),
or a matrix of nine values (3x3) if there is dependence with the
voltage (see references).</p>
</dd>
<dt><code>Pinv</code></dt>
<dd>
<p>nominal inverter power (W) (default value 25000
watts.)</p>
</dd>
<dt><code>Vmin, Vmax</code></dt>
<dd>
<p> minimum and maximum voltages of the MPP
range of the inverter (default values 420 and 750 volts)</p>
</dd>
<dt><code>Gumb</code></dt>
<dd>
<p> minimum irradiance for the inverter to start
(W/m²) (default value 20 W/m²)</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effSys</code></td>
<td>
<p>list of numeric values with information about the system losses, </p>

<dl>
<dt><code>ModQual</code></dt>
<dd>
<p>average tolerance of the set of modules (%), default value is 3</p>
</dd>
<dt><code>ModDisp</code></dt>
<dd>
<p> module parameter disperssion losses (%), default value is 2</p>
</dd>
<dt><code>OhmDC</code></dt>
<dd>
<p> Joule losses due to the DC wiring (%), default value is 1.5</p>
</dd>
<dt><code>OhmAC</code></dt>
<dd>
<p>Joule losses due to the AC wiring (%), default value is 1.5</p>
</dd>
<dt><code>MPP</code></dt>
<dd>
<p> average error of the MPP algorithm of the inverter (%), default value is 1</p>
</dd>
<dt><code>TrafoMT</code></dt>
<dd>
<p>losses due to the MT transformer (%), default value is 1</p>
</dd>
<dt><code>Disp</code></dt>
<dd>
<p> losses due to stops of the system (%), default value is 0.5</p>
</dd>
</dl>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>inclin</code> is <code>zoo</code> or <code>Gef</code> object, the result
is a <code>zoo</code> object with these components (if <code>inclin</code>
is a <code>data.frame</code> the result is also a <code>data.frame</code> with these same components):
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Tc</code></td>
<td>
<p>cell temperature, <code class="reqn">^{\circ}{\rm C}</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Voc, Isc, Vmpp, Impp</code></td>
<td>
<p>open circuit voltage, short circuit current, MPP voltage and current, respectively, in the conditions of irradiance and temperature provided by <code>Inclin</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Vdc, Idc</code></td>
<td>
<p>voltage and current at the input of the inverter. If no voltage limitation occurs (according to the values of <code>inverter$Vmax</code> and <code>inverter$Vmin</code>), their values are identical to <code>Vmpp</code> and <code>Impp</code>. If the limit values are reached a warning is produced</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Pdc</code></td>
<td>
<p>power at the input of the inverter, W</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Pac</code></td>
<td>
<p>power at the output of the inverter, W</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>EffI</code></td>
<td>
<p>efficiency of the inverter</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Oscar Perpiñán Lamigueiro
</p>


<h3>References</h3>


<ul>
<li>
<p> Jantsch, M., Schmidt, H. y Schmid, J.: Results on the
concerted action on power conditioning and control. 11th European
photovoltaic Solar Energy Conference, 1992.
</p>
</li>
<li>
<p> Baumgartner, F. P., Schmidt, H., Burger, B., Bründlinger,
R., Haeberlin, H. and Zehner, M.: Status and Relevance of the DC
Voltage Dependency of the Inverter Efficiency. 22nd European
Photovoltaic Solar Energy Conference, 2007.
</p>
</li>
<li>
<p> Alonso Garcia, M. C.: Caracterización y modelado de asociaciones de dispositivos fotovoltaicos. PhD Thesis, CIEMAT, 2005.
</p>
</li>
<li>
<p> Perpiñán, O, Energía Solar Fotovoltaica, 2015.
(<a href="https://oscarperpinan.github.io/esf/">https://oscarperpinan.github.io/esf/</a>)
</p>
</li>
<li>
<p> Perpiñán, O. (2012), "solaR: Solar Radiation and Photovoltaic
Systems with R", Journal of Statistical Software, 50(9), 1-32,
doi: <a href="https://doi.org/10.18637/jss.v050.i09">10.18637/jss.v050.i09</a>
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>fInclin</code>,
<code>prodGCPV</code>,
<code>fTemp</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">inclin = data.frame(Gef = c(200,400,600,800,1000),Ta = 25)

#using default values
fProd(inclin)

#Using a matrix for Ki (voltage dependence)
inv1 &lt;- list(Ki = rbind(c(-0.00019917, 7.513e-06, -5.4183e-09),
c(0.00806, -4.161e-06, 2.859e-08),
c(0.02118, 3.4002e-05, -4.8967e-08)))

fProd(inclin, inverter = inv1)

#Voltage limits of the inverter
inclin = data.frame(Gef = 800,Ta = 30)
gen1 = list(Nms = 10, Nmp = 11)

prod = fProd(inclin,generator = gen1)
print(prod)

with(prod, Vdc * Idc / (Vmpp * Impp))
</code></pre>


</div>