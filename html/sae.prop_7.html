<div class="container">

<table style="width: 100%;"><tr>
<td>mseFH.ns.uprop</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Parametric Bootstrap Mean Squared Error of EBLUPs based on a Univariate Fay Herriot model with Additive Logistic Transformation for Non-Sampled Data</h2>

<h3>Description</h3>

<p>This function gives the MSE of transformed EBLUP based on a univariate Fay-Herriot model. For sampled domains, MSE is estimated using modified parametric bootstrap approach proposed by Butar &amp; Lahiri. For non-sampled domains, MSE is estimated using modified approach proposed by Haris &amp; Ubaidillah.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mseFH.ns.uprop(
  formula,
  vardir,
  MAXITER = 100,
  PRECISION = 1e-04,
  cluster = "auto",
  B = 1000,
  data
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>an object of class <code>formula</code> that describe the fitted model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vardir</code></td>
<td>
<p>vector containing the sampling variances of direct estimators for each domain. The values must be sorted as the variables in <code>formula</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MAXITER</code></td>
<td>
<p>maximum number of iterations allowed in the Fisher-scoring algorithm, Default: <code>100</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PRECISION</code></td>
<td>
<p>convergence tolerance limit for the Fisher-scoring algorithm, Default: <code>1e-4</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>
<p>Default: <code>"auto"</code>. If <code>cluster = "auto"</code>, then the clustering will be performed by the function by finding optimal number of cluster. If cluster is a number, then clustering will be performed based on the chosen number of cluster. If cluster is a vector containing cluster information, then the vector will be used directly to find average of random effects. Clustering is performed with k-medoids algorithms using the function <code>pamk</code>. If <code>"auto"</code> is chosen, <code>krange</code> are set to <code>2:(nrow(data)-1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>number of Bootstrap iterations in calculating MSE, Default: <code>1000</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>optional data frame containing the variables named in <code>formula</code> and <code>vardir</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The function returns a list with the following objects:
</p>
<table><tr style="vertical-align: top;">
<td><code>est</code></td>
<td>
<p>a data frame containing values of the estimators for each domains.</p>
</td>
</tr></table>
<ul>
<li> <p><code>PC</code> : transformed EBLUP estimators using inverse alr.
</p>
</li>
<li> <p><code>status</code> : status of corresponding domain, whether sampled or non-sampled.
</p>
</li>
<li> <p><code>cluster</code> : cluster of corresponding domain.
</p>
</li>
</ul>
<table><tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>a list containing the following objects (model is fitted using REML):</p>
</td>
</tr></table>
<ul>
<li> <p><code>convergence</code> : a logical value equal to <code>TRUE</code> if Fisher-scoring algorithm converges in less than <code>MAXITER</code> iterations.
</p>
</li>
<li> <p><code>iterations</code> : number of iterations performed by the Fisher-scoring algorithm.
</p>
</li>
<li> <p><code>estcoef</code> : a data frame that contains the estimated model coefficients, standard errors, t-statistics, and p-values of each coefficient.
</p>
</li>
<li> <p><code>refvar</code> : estimated random effects variance.
</p>
</li>
<li> <p><code>cluster.information</code> : a data frame containing average random effects of sampled domain in each cluster.
</p>
</li>
</ul>
<table><tr style="vertical-align: top;">
<td><code>components</code></td>
<td>
<p>a data frame containing the following columns:</p>
</td>
</tr></table>
<ul>
<li> <p><code>random.effects</code> : estimated random effect values of the fitted model.
</p>
</li>
<li> <p><code>residuals</code> : residuals of the fitted model.
</p>
</li>
<li> <p><code>status</code> : status of corresponding domain, whether sampled or non-sampled.
</p>
</li>
</ul>
<table><tr style="vertical-align: top;">
<td><code>mse</code></td>
<td>
<p>a data frame containing estimated MSE of the estimators.</p>
</td>
</tr></table>
<ul>
<li> <p><code>PC</code> : estimated MSE of plugin (PC) estimators.
</p>
</li>
<li> <p><code>status</code> : status of domain, whether sampled or non-sampled.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
## Load dataset
data(datasaeu.ns)

## If data is defined
Fo = y ~ x1 + x2
vardir = "vardir"
MSE.ns &lt;- mseFH.ns.uprop(Fo, vardir, data = datasaeu.ns)

## If data is undefined (and option for cluster arguments)
Fo = datasaeu.ns$y ~ datasaeu.ns$x1 + datasaeu.ns$x2
vardir = datasaeu.ns$vardir

### "auto"
MSE.ns1 &lt;- mseFH.ns.uprop(Fo, vardir, cluster = "auto")

### number of clusters
MSE.ns2 &lt;- mseFH.ns.uprop(Fo, vardir, cluster = 2)

### vector containing cluster for each domain
MSE.ns3 &lt;- mseFH.ns.uprop(Fo, vardir, cluster = datasaeu.ns$cluster)

## See the estimators
MSE.ns$mse

## End(Not run)

</code></pre>


</div>