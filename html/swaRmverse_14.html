<div class="container">

<table style="width: 100%;"><tr>
<td>define_events</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Define Events of Collective Motion</h2>

<h3>Description</h3>

<p>This function adds a keep TRUE/FALSE column in the input dataframe based on
whether the average speed and polarization of the group is larger than the
input thresholds, reflecting whether a timestep is considered part of a
collective event or not.
</p>


<h3>Usage</h3>

<pre><code class="language-R">define_events(df, sp_lim, pol_lim, step2time, noise_thresh = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A dataframe with a <code>pol_av</code> and <code>speed_av</code> columns for
polarization and speed, respectively (as calculated by the
<code>group_metrics_per_set</code> function).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sp_lim</code></td>
<td>
<p>The (lower) threshold of speed to use for defining which
timesteps are part of an events of collective motion. In other words, during
an event the group should have an average speed of at least <code>sp_lim</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pol_lim</code></td>
<td>
<p>The (lower) threshold of polarization to use for defining
which timesteps are part of an events of collective motion. In other words,
during an event the group's polarization should be at least <code>pol_lim</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>step2time</code></td>
<td>
<p>Sampling frequency, i.e. the relation between time steps
(rows) in the input dataframe and real time (in seconds).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noise_thresh</code></td>
<td>
<p>The limit of time difference between consecutive events
to be considered the same event. The default value is 0 (no event merging).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>the dataframe that was given as input with an extra <code>keep</code>
column. The function also prints the number and duration of the defined
events.
</p>


<h3>Author(s)</h3>

<p>Marina Papadopoulou <a href="mailto:m.papadopoulou.rug@gmail.com">m.papadopoulou.rug@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code>pick_threshold, group_metrics_per_set</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data &lt;- data.frame(
set = rep('1', 50),
pol_av = rnorm(50, mean = 0.5, sd = 0.2),
speed_av = rnorm(50, mean = 5)
)
data &lt;- define_events(data, sp_lim = 5, pol_lim = 0.4, step2time = 1)

</code></pre>


</div>