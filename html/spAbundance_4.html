<div class="container">

<table style="width: 100%;"><tr>
<td>dataNMixSim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulated repeated count data of 6 species 
across 225 sites</h2>

<h3>Description</h3>

<p>A simulated data set of repeated count data for 6 species across 225 sites with a maximum
of 3 replicate surveys performed at a given site.
</p>


<h3>Usage</h3>

<pre><code class="language-R">data(dataNMixSim)
</code></pre>


<h3>Format</h3>

<p><code>dataNMixSim</code> is a list with four elements: 
</p>
<p><code>y</code>: a three-dimensional array of count data with 
dimensions of species (6), sites (225) and replicates (3). 
</p>
<p><code>abund.covs</code>: a numeric matrix with 225 rows and two columns consisting
of a continuous covariate and a categorical variable which may both influence
abundance of the different species.
</p>
<p><code>det.covs</code>: a list of two numeric matrices with 225 rows and 3 columns. 
Both matrices contain a continuous covariate that may affect detection probability
of the species
</p>
<p><code>coords</code>: a numeric matrix with 225 rows and two columns containing the 
site coordinates (X and Y). Note the data are generated across 
a unit square (i.e., the x and y coordinates are both between 0 and 1). 
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(6)
J.x &lt;- 15
J.y &lt;- 15
J &lt;- J.x * J.y
n.rep &lt;- sample(3, size = J, replace = TRUE)
# n.rep &lt;- rep(5, J) 
n.sp &lt;- 6
# Community-level covariate effects
# Occurrence
beta.mean &lt;- c(-1, 0.5)
p.abund &lt;- length(beta.mean)
tau.sq.beta &lt;- c(0.4, 1.2)
# Detection
alpha.mean &lt;- c(0, 0.5, 0.8)
tau.sq.alpha &lt;- c(0.2, 1, 1.5)
p.det &lt;- length(alpha.mean)
# Random effects
mu.RE &lt;- list()
mu.RE &lt;- list(levels = c(10),
	       sigma.sq.mu = c(0.5),
               beta.indx = list(1))
p.RE &lt;- list()
# Draw species-level effects from community means.
beta &lt;- matrix(NA, nrow = n.sp, ncol = p.abund)
alpha &lt;- matrix(NA, nrow = n.sp, ncol = p.det)
for (i in 1:p.abund) {
  beta[, i] &lt;- rnorm(n.sp, beta.mean[i], sqrt(tau.sq.beta[i]))
}
for (i in 1:p.det) {
  alpha[, i] &lt;- rnorm(n.sp, alpha.mean[i], sqrt(tau.sq.alpha[i]))
}
alpha.true &lt;- alpha
sp &lt;- TRUE 
n.factors &lt;- 3
factor.model &lt;- TRUE
phi &lt;- runif(n.factors, 3/1, 3 / .2)
kappa &lt;- runif(n.sp, 0.1, 1)
family &lt;- 'Poisson'

dat &lt;- simMsNMix(J.x = J.x, J.y = J.y, n.rep = n.rep, n.sp = n.sp, beta = beta, alpha = alpha,
	        mu.RE = mu.RE, p.RE = p.RE, sp = sp, kappa = kappa, family = family, 
                factor.model = factor.model, phi = phi, 
                cov.model = 'exponential', n.factors = n.factors)
table(dat$N)
apply(dat$N, 1, sum)

y &lt;- dat$y
X &lt;- dat$X
X.p &lt;- dat$X.p
X.re &lt;- dat$X.re
X.p.re &lt;- dat$X.p.re
coords &lt;- dat$coords
dimnames(coords)[[2]] &lt;- c('X', 'Y')

# Package all data into a list
abund.covs &lt;- cbind(X, X.re)
colnames(abund.covs) &lt;- c('int', 'abund.cov.1', 'abund.factor.1')
abund.covs &lt;- abund.covs[, -1]
det.covs &lt;- list(det.cov.1 = X.p[, , 2], 
		 det.cov.2 = X.p[, , 3]) 
dataNMixSim &lt;- list(y = y, 
		    abund.covs = abund.covs, 
		    det.covs = det.covs, 
                    coords = coords)
</code></pre>


</div>