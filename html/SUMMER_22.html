<div class="container">

<table style="width: 100%;"><tr>
<td>getAdjusted</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Adjust direct estimates and their associated variances</h2>

<h3>Description</h3>

<p>Adjust direct estimates and their associated variances
</p>


<h3>Usage</h3>

<pre><code class="language-R">getAdjusted(
  data,
  ratio,
  time = "years",
  region = "region",
  est = "mean",
  logit = "logit.est",
  logit.var = "var.est",
  logit.prec = "logit.prec",
  logit.lower = "lower",
  logit.upper = "upper",
  prob.lower = NULL,
  prob.upper = NULL,
  adj = "ratio",
  verbose = FALSE,
  lower = NULL,
  upper = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data frame of the adjusted estimates and the associated uncertainties, see the arguments below for specific columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ratio</code></td>
<td>
<p>the ratio of unadjusted mortality rates to the true mortality rates. It can be either a data frame with the following three columns (region, time, and adj) if adjustment factor differ by region; or a data frame with the following two columns (time and adj) if adjustment factor only varies over time. The column names specifying region, time, and adjustment are specified by the arguments in the function call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>the column name for time in the data and adjustment ratio.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>region</code></td>
<td>
<p>the column name for region in the data  and adjustment ratio.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>est</code></td>
<td>
<p>the column name for unadjusted mortality rates in the data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logit</code></td>
<td>
<p>the column name for the logit of the unadjusted mortality rates in the data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logit.var</code></td>
<td>
<p>the column name for the variance of the logit of the unadjusted mortality rates in the data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logit.prec</code></td>
<td>
<p>the column name for the precision of the logit of the unadjusted mortality rates in the data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logit.lower</code></td>
<td>
<p>the column name for the 95% lower bound of the logit of the unadjusted mortality rates in the data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logit.upper</code></td>
<td>
<p>the column name for the 95% lower bound of the logit of the unadjusted mortality rates in the data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob.lower</code></td>
<td>
<p>the column name for the 95% lower bound of the unadjusted mortality rates in the data. If this is provided instead of logit.lower, the logit scale lower bound will be created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob.upper</code></td>
<td>
<p>the column name for the 95% lower bound of the unadjusted mortality rates in the data. if this is provided instead of logit.upper, the logit scale upper bound will be created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adj</code></td>
<td>
<p>the column name for the adjustment ratio</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical indicator for whether to print out unadjusted row index</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower</code></td>
<td>
<p>previous argument name for prob.lower. Will be removed in the next update</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper</code></td>
<td>
<p>previous argument name for prob.upper. Will be removed in the next update</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>adjusted dataset of the same columns.
</p>


<h3>Author(s)</h3>

<p>Zehang Richard Li
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
years &lt;- levels(DemoData[[1]]$time)

# obtain direct estimates
data &lt;- getDirectList(births = DemoData, 
years = years,  
regionVar = "region", timeVar = "time", 
clusterVar = "~clustid+id", 
ageVar = "age", weightsVar = "weights", 
geo.recode = NULL)
# obtain direct estimates
data_multi &lt;- getDirectList(births = DemoData, years = years,
  regionVar = "region",  timeVar = "time", clusterVar = "~clustid+id",
  ageVar = "age", weightsVar = "weights", geo.recode = NULL)
data &lt;- aggregateSurvey(data_multi)

# randomly simulate adjustment factor
adj &lt;- expand.grid(region = unique(data$region), years = years)
adj$ratio &lt;- runif(dim(adj)[1], min = 0.5, max = 0.8)
data.adj &lt;- getAdjusted(data = data, ratio = adj)
 
## End(Not run)
</code></pre>


</div>