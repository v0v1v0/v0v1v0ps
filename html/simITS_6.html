<div class="container">

<table style="width: 100%;"><tr>
<td>calculate_group_weights</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate proportion of subgroups across time</h2>

<h3>Description</h3>

<p>Calculate overall proportion of cases in each group that lie within a given
interval of time defined by t_min and t_max.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calculate_group_weights(
  groupname,
  dat,
  t_min,
  t_max = max(dat$month),
  Nname = "N"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>groupname</code></td>
<td>
<p>Name of the column that has the grouping categorical
variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>Dataframe with one row for each time point and group that we are
going to post stratify on.  This dataframe should also have an column with
passed name "Nname" indicating the number of cases that make up each given
row. It should have a 'month' column for the time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t_min</code></td>
<td>
<p>The start month to aggregate cases over.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t_max</code></td>
<td>
<p>The final month (default is last month).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Nname</code></td>
<td>
<p>Name of variable holding the counts (weight) in each group.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Dataframe of each group along with overall average group weight in
the specified timespan.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data( "meck_subgroup" )
head( meck_subgroup )
pis = calculate_group_weights( "category", Nname="n.cases", 
                               meck_subgroup, t_min=0, t_max= max( meck_subgroup$month ) )
pis

agg = aggregate_data( meck_subgroup, 
                      outcomename="pbail", groupname="category", Nname="n.cases", 
                      is_count=FALSE,
                      rich = TRUE, covariates = NULL )
head( agg )  


adjdat = adjust_data( meck_subgroup, "pbail", "category", "n.cases", pis, include_aggregate=TRUE )
head( adjdat )
</code></pre>


</div>