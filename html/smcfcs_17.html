<div class="container">

<table style="width: 100%;"><tr>
<td>smcfcs.parallel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Parallel substantive model compatible imputation</h2>

<h3>Description</h3>

<p>Runs substantive model compatible imputation using parallel cores
</p>


<h3>Usage</h3>

<pre><code class="language-R">smcfcs.parallel(
  smcfcs_func = "smcfcs",
  seed = NULL,
  m = 5,
  n_cores = parallel::detectCores() - 1,
  cl_type = "PSOCK",
  outfile = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>smcfcs_func</code></td>
<td>
<p>Specifies which base smcfcs function to call. Possible values
are 'smcfcs', 'smcfcs.casecohort', 'smcfcs.dtasam', 'smcfcs.nestedcc'. Defaults
to 'smcfcs'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Optional seed, set as 'set.seed' when 'n_cores = 1',
or as 'parallel::clusterSetRNGStream' when 'n_cores &gt; 1'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>Number of imputed datasets to generate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_cores</code></td>
<td>
<p>Number of cores over which to split the 'm' imputations. If
'n_cores' is not divisible exactly by 'm', one of the cores will perform
more/less imputations that the rest such that the final result still contains
'm' imputed datasets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cl_type</code></td>
<td>
<p>Either "PSOCK" or "FORK". If running on a Windows system
"PSOCK" is recommended, otherwise for Linux/Mac machines "FORK" tends to
offer faster computation - see parlmice.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outfile</code></td>
<td>
<p>Optional character path to location for
output from the workers. Useful to diagnose rejection sampling warnings.
File path must be formulated as "path/to/filename.txt".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to pass on to smcfcs,
smcfcs.casecohort,
smcfcs.dtsam, or
smcfcs.nestedcc.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function can be used to call one of the substantive model compatible imputation
methods using parallel cores, to reduce computation time. You must specify
the arguments required for the standard smcfcs call, and then specify your
the arguments for how to use parallel cores.
</p>


<h3>Value</h3>

<p>An object of type "smcfcs", as would usually be returned from
smcfcs.
</p>


<h3>Author(s)</h3>

<p>Edouard F. Bonneville <a href="mailto:e.f.bonneville@lumc.nl">e.f.bonneville@lumc.nl</a>
</p>
<p>Jonathan Bartlett <a href="mailto:jonathan.bartlett1@lshtm.ac.uk">jonathan.bartlett1@lshtm.ac.uk</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Detect number of cores
parallel::detectCores()

imps &lt;- smcfcs.parallel(
  smcfcs_func = "smcfcs",
  seed = 2021,
  n_cores = 2,
  originaldata = smcfcs::ex_compet,
  m = 10,
  smtype = "compet",
  smformula = list(
    "Surv(t, d == 1) ~ x1 + x2",
    "Surv(t, d == 2) ~ x1 + x2"
  ),
  method = c("", "", "norm", "norm")
)

## End(Not run)
</code></pre>


</div>