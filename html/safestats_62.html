<div class="container">

<table style="width: 100%;"><tr>
<td>safeTwoProportionsTest</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform a Safe Test for Two Proportions with Stream Data</h2>

<h3>Description</h3>

<p>Perform a safe test for two proportions (a 2x2 contingency table test) with a
result object retrieved through the design function for planning an experiment to compare
two proportions in this package, <code>designSafeTwoProportions()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">safeTwoProportionsTest(
  ya,
  yb,
  designObj = NULL,
  wantConfidenceSequence = FALSE,
  ciValue = NULL,
  confidenceBoundGridPrecision = 20,
  logOddsConfidenceSearchBounds = c(0.01, 5),
  pilot = FALSE
)

safe.prop.test(
  ya,
  yb,
  designObj = NULL,
  wantConfidenceSequence = FALSE,
  ciValue = NULL,
  confidenceBoundGridPrecision = 20,
  logOddsConfidenceSearchBounds = c(0.01, 5),
  pilot = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ya</code></td>
<td>
<p>positive observations/ events per data block in group a: a numeric with integer values
between (and including) 0 and <code>na</code>, the number of observations in group a per block.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yb</code></td>
<td>
<p>positive observations/ events per data block in group b: a numeric with integer values
between (and including) 0 and <code>nb</code>, the number of observations in group b per block.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>designObj</code></td>
<td>
<p>a safe test design for two proportions retrieved through <code>designSafeTwoProportions()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wantConfidenceSequence</code></td>
<td>
<p>logical that can be set to true when the user wants a safe confidence
sequence to be estimated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ciValue</code></td>
<td>
<p>coverage of the safe confidence sequence; default <code>NULL</code>, if NULL
calculated as <code>1 - designObj[["alpha"]]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>confidenceBoundGridPrecision</code></td>
<td>
<p>integer specifying the grid precision used to search for the confidence
bounds. Default 20.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logOddsConfidenceSearchBounds</code></td>
<td>
<p>vector of to positive doubles specifying the upper and lower bound of the grid
to search over for finding the confidence bound for the logOddsRatio restriction. Default <code>(0.01, 5)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pilot</code></td>
<td>
<p>logical that can be set to true when performing an exploratory analysis
without a <code>designObj</code>; only allows for <code>na = nb = 1</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns an object of class 'safeTest'. An object of class 'safeTest' is a list containing at least the
following components:
</p>

<dl>
<dt>n</dt>
<dd>
<p>The realised sample size(s).</p>
</dd>
<dt>eValue</dt>
<dd>
<p>the e-value of the safe test.</p>
</dd>
<dt>dataName</dt>
<dd>
<p>a character string giving the name(s) of the data.</p>
</dd>
<dt>designObj</dt>
<dd>
<p>an object of class "safeDesign" described in <code>designSafeTwoProportions()</code>.</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">#balanced design
yb &lt;- c(1,0,1,1,1,0,1)
ya &lt;- c(1,0,1,0,0,0,1)
safeDesign &lt;- designSafeTwoProportions(na = 1,
                                       nb = 1,
                                       beta = 0.20,
                                       delta = 0.6,
                                       alternativeRestriction = "none",
                                       M = 1e1)
safeTwoProportionsTest(ya = ya, yb = yb, designObj = safeDesign)

#pilot
safeTwoProportionsTest(ya = ya, yb = yb, pilot = TRUE)

#unbalanced design
yb &lt;- c(1,0,1,1,1,0,1)
ya &lt;- c(2,2,1,2,0,2,2)
safeDesign &lt;- designSafeTwoProportions(na = 2,
                                       nb = 1,
                                       beta = 0.20,
                                       delta = 0.6,
                                       alternativeRestriction = "none",
                                       M = 1e1)
safeTwoProportionsTest(ya = ya, yb = yb, designObj = safeDesign)

</code></pre>


</div>