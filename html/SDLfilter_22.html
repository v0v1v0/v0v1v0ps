<div class="container">

<table style="width: 100%;"><tr>
<td>to_map</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot location data on a map</h2>

<h3>Description</h3>

<p>Function to plot tracking data on a map or a satellite image.
</p>


<h3>Usage</h3>

<pre><code class="language-R">to_map(
  sdata,
  xlim = NULL,
  ylim = NULL,
  margin = 10,
  bgmap = NULL,
  google.key = NULL,
  map.bg = "grey",
  map.col = "black",
  zoom = NULL,
  point.bg = "yellow",
  point.col = "black",
  point.symbol = 21,
  point.size = 1,
  line.col = "lightgrey",
  line.type = 1,
  line.size = 0.5,
  title = "id",
  title.size = 11,
  axes.text.size = 11,
  axes.lab.size = 11,
  multiplot = TRUE,
  nrow = 1,
  ncol = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sdata</code></td>
<td>
<p>A data frame containing columns with the following headers: "id", "DateTime", "lat", "lon". 
The function creates a map for each unique "id" (e.g. transmitter number, identifier for each animal). 
"DateTime" is the GMT date &amp; time of each location in class <code>POSIXct</code> 
or <code>character</code> with the following format "2012-06-03 01:33:46".
"lat" and "lon" are the latitude and longitude of each location in decimal degrees.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim, ylim</code></td>
<td>
<p>Limits for x and y axes. 
If not specified, the values are determined as the maximum range of the input data plus an additional margin (see <em>margin</em>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin</code></td>
<td>
<p>Set the amount of spaces added around the periphery of the plot. The value is scaled to the plot. 
The smaller value increases the margin.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bgmap</code></td>
<td>
<p>A data frame of a background map data, containing the following headers: "long", "lat", "group". 
If not specified, the <code>world</code> map is used. 
Google Maps ("terrain", "satellite", "roadmap", "hybrid") can also be queried.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>google.key</code></td>
<td>
<p>If Google Maps are queried, a valid API key (a string) needs to be specified here. See <code>register_google</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>map.bg</code></td>
<td>
<p>Background colour of the map. This argument is ignored when any Google Maps is selected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>map.col</code></td>
<td>
<p>Outline colour of the map. This argument is ignored when any Google Maps is selected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zoom</code></td>
<td>
<p>Map zoom for Google Maps. Default (NULL) to estimate the zoom from each data set. 
For other options, see <code>get_map</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point.bg</code></td>
<td>
<p>The colour to fill in a symbol.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point.col</code></td>
<td>
<p>The colour for the outline of a symbol.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point.symbol</code></td>
<td>
<p>An integer or a string to specify the symbol type. See <code>shape</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point.size</code></td>
<td>
<p>An integer to specify the size of the symbol.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line.col</code></td>
<td>
<p>The colour of the line that connects consecutive points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line.type</code></td>
<td>
<p>The type of the line that connects consecutive points. See <code>linetype</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line.size</code></td>
<td>
<p>An integer to specify the thickness (width) of the line that connects consecutive points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>The main title for each plot. If not specified, the "id" will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title.size</code></td>
<td>
<p>An integer to specify the size of the title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axes.text.size</code></td>
<td>
<p>An integer to specify the size of the axes characters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axes.lab.size</code></td>
<td>
<p>An integer to specify the size of the axes labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multiplot</code></td>
<td>
<p>Logical. If TRUE (default), multiple plots are displayed on the same page.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrow</code></td>
<td>
<p>An integer to specify the number of rows in the multiple plot page.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncol</code></td>
<td>
<p>An integer to specify the number of columns in the multiple plot page.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An arrangelist is returned when <em>multiplot</em> is TRUE. Otherwise a list is returned.
</p>


<h3>Author(s)</h3>

<p>Takahiro Shimada
</p>


<h3>See Also</h3>

<p><code>dupfilter</code>, <code>ddfilter</code>, <code>vmax</code>, <code>vmaxlp</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#### Load data sets
## Fastloc GPS data obtained from two green turtles
data(turtle)
data(turtle2)
turtles&lt;-rbind(turtle, turtle2)

#### Filter temporal and/or spatial duplicates
turtle.dup &lt;- dupfilter(turtles, step.time=5/60, step.dist=0.001)
 

#### ddfilter
V &lt;- vmax(turtle.dup)
VLP &lt;- vmaxlp(turtle.dup)
turtle.dd &lt;- ddfilter(turtle.dup, vmax=V, vmaxlp=VLP)


#### Plot filtered data for each animal
## using the low-resolution world map
to_map(turtle.dd, point.size = 2, line.size = 0.5, axes.lab.size = 0, ncol=2, nrow=1)

## Not run: 
## using the high-resolution google satellite images
to_map(turtle.dd, bgmap = "satellite", google.key = "key", ncol=2)

## End(Not run)
</code></pre>


</div>