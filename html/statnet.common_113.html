<div class="container">

<table style="width: 100%;"><tr>
<td>simplify_simple</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert a list to an atomic vector if it consists solely of atomic elements of length 1.</h2>

<h3>Description</h3>

<p>This behaviour is not dissimilar to that of <code>simplify2array()</code>, but
it offers more robust handling of empty or NULL elements and never
promotes to a matrix or an array, making it suitable to be a column
of a <code>data.frame</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">simplify_simple(
  x,
  toNA = c("null", "empty", "keep"),
  empty = c("keep", "unlist"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an R <code>list</code> to be simplified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>toNA</code></td>
<td>
<p>a character string indicating whether <code>NULL</code> entries
(if <code>"null"</code>) or 0-length entries including <code>NULL</code> (if <code>"empty"</code>)
should be replaced with <code>NA</code>s before attempting conversion;
specifying <code>keep</code> or <code>FALSE</code> leaves them alone (typically
preventing conversion).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>empty</code></td>
<td>
<p>a character string indicating how empty lists should
be handled: either <code>"keep"</code>, in which case they are unchanged or
<code>"unlist"</code>, in which cases they are unlisted (typically to
<code>NULL</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed to <code>unlist()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>an atomic vector or a list of the same length as <code>x</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
(x &lt;- as.list(1:5))
stopifnot(identical(simplify_simple(x), 1:5))

x[3] &lt;- list(NULL) # Put a NULL in place of 3.
x
stopifnot(identical(simplify_simple(x, FALSE), x)) # Can't be simplified without replacing the NULL.

stopifnot(identical(simplify_simple(x), c(1L,2L,NA,4L,5L))) # NULL replaced by NA and simplified.

x[[3]] &lt;- integer(0)
x
stopifnot(identical(simplify_simple(x), x)) # A 0-length vector is not replaced by default,
stopifnot(identical(simplify_simple(x, "empty"), c(1L,2L,NA,4L,5L))) # but can be.

(x &lt;- lapply(1:5, function(i) c(i,i+1L))) # Elements are vectors of equal length.
simplify2array(x) # simplify2array() creates a matrix,
stopifnot(identical(simplify_simple(x), x)) # but simplify_simple() returns a list.

</code></pre>


</div>