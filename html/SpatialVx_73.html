<div class="container">

<table style="width: 100%;"><tr>
<td>FeatureTable</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Feature-Based Contingency Table
</h2>

<h3>Description</h3>

<p>Create a feature-based contingency table from a matched object and calculate some summary scores with their standard errors.
</p>


<h3>Usage</h3>

<pre><code class="language-R">FeatureTable(x, fudge = 1e-08, hits.random = NULL, correct.negatives = NULL, fA = 0.05)

## S3 method for class 'FeatureTable'
ci(x, alpha = 0.05, ...)

## S3 method for class 'FeatureTable'
print(x, ...)

## S3 method for class 'FeatureTable'
summary(object, ...)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p><code>FeatureTable</code>: An object of class “matched” (e.g., from <code>deltamm</code> or <code>centmatch</code>.
</p>
<p><code>print</code>: An object of class “FeatureTable”.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An object of class “FeatureTable”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fudge</code></td>
<td>

<p>value added to denominators of scores to ensure no division by zero.  Set to zero if this practice is not desired.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hits.random</code></td>
<td>

<p>If a different value for random hits in the caluclation of GSS than provided is desired, it can be given here.  Default uses Eq (3) from Davis et al (2009).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correct.negatives</code></td>
<td>

<p>If a different value for correct negatives than provided is desired, it can be given here.  Default uses Eq (4) from Davis et al (2009).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fA</code></td>
<td>

<p>numeric between zero and 1 giving the fraction of area occupied for the purpose of matching as in Davis et al (2009).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>numeric between zero and one giving the (1 - alpha) * 100 percent confidence level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to <code>ci</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function takes an object of class “matched” and calculates a contingency table based on matched and unmatched objects.  If no value for correct negatives is given, then it will also determine them based on Eq (3) from Davis et al (2009).  The following contingency table scores and their standard errors (based on their usual traditional version) are returned.  It should be noted that the standard errors may not be entirely meaningful because they do not capture the uncertainty associated with identiying, merging and matching features within the fields.  Neverhteless, they are calculated here for investigative purposes.  Note that hits are determined by number of matched objects, which for some matching algorithms can mean that features are matched more than once (e.g., if using <code>centmatch</code>).  In essence, this fact may artificially increase thenumber of hits.  On the other hand, situations exist where such handling may be more appropriate than not having duplicate matches.
</p>
<p>hits are determined by the total number of matched features.
</p>
<p>false alarms are the total number of unmatched forecast features.
</p>
<p>misses are the total number of unmatched observed features.
</p>
<p>correct negatives are less obviously defined.  If the user does not supply a value, then these are calculated according to Eq (4) in Davis et al (2009).
</p>
<p>GSS: Gilbert skill score (aka Equitable Threat Score) based on Eq (2) of Davis et al (2009).
</p>
<p>POD: probability of detecting an event (aka the hit rate).
</p>
<p>false alarm rate: (aka probability of false detection) is the ratio of false alarms to the number of false alarms and correct negtives.
</p>
<p>FAR: the false alarm ratio is the ratio of false alarms to the total forecast events (in this case, the total number of forecast features in the field).
</p>
<p>HSS: Heidke skill score
</p>
<p>The <code>print</code> method function simply calls <code>summary</code>, which prints the feature-based contingency table in addition to calling <code>ci</code>.  The confidence intervals are based on the normal approximation method using the estimated standard errors, which themselves are suspicious.  In any case, the intervals can give a feel for some of the uncertainty associated with the scores, but should not be considered as solid.
</p>


<h3>Value</h3>

<p>A list with inherited attributes from x and components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>estimates </code></td>
<td>
<p>named numeric vector giving the estimated scores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se </code></td>
<td>
<p>named numeric vector giving the estimated standard errors of the scores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature.contingency.table</code></td>
<td>
<p>named numeric vector giving the feature-based contingency table.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>Standard error estimates are based on the univariate equivalent formulations, which do not account for uncertainties introduced in the feature identification, merging/clustering and matching.  They should not be considered as legitimate, and resulting confidence intervals should be mistrusted. 
</p>


<h3>Author(s)</h3>

<p>Eric Gilleland
</p>


<h3>References</h3>

<p>Davis, C. A., Brown, B. G., Bullock, R. G. and Halley Gotway, J. (2009) The Method for Object-based Diagnostic Evaluation (MODE) applied to numerical forecasts from the 2005 NSSL/SPC Spring Program.  <em>Wea. Forecsting</em>, <b>24</b>, 1252–1267, DOI: 10.1175/2009WAF2222241.1.
</p>


<h3>See Also</h3>

<p>To identify features in the fields: <code>FeatureFinder</code>
</p>
<p>To match (and merge) features: <code>centmatch</code>, <code>deltamm</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">##
## See help file for 'deltamm' for examples.
##
</code></pre>


</div>