<div class="container">

<table style="width: 100%;"><tr>
<td>set_attribute</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set Attributes</h2>

<h3>Description</h3>

<p>Activity for modifying attributes. Attributes defined with
<code>set_attribute</code> are <em>per arrival</em>, meaning that each arrival has
its own set of attributes, not visible by any other one. On the other hand,
attributes defined with <code>set_global</code> are shared by all the arrivals in
the simulation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">set_attribute(.trj, keys, values, mod = c(NA, "+", "*"), init = 0, ...,
  tag)

set_global(.trj, keys, values, mod = c(NA, "+", "*"), init = 0, ..., tag)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.trj</code></td>
<td>
<p>the trajectory object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keys</code></td>
<td>
<p>the attribute name(s), or a callable object (a function) which
must return attribute name(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values</code></td>
<td>
<p>numeric value(s) to set, or a callable object (a function) which
must return numeric value(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mod</code></td>
<td>
<p>if set, <code>values</code> modify the attributes rather than substituting them.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init</code></td>
<td>
<p>initial value, applied if <code>mod</code> is set and the attribute was
not previously initialised. Useful for counters or indexes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>unused.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tag</code></td>
<td>
<p>activity tag name to perform named rollbacks (see
<code>rollback</code>) or just to better identify your activities.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Attribute monitoring is disabled by default. To enable it, set
<code>mon=2</code> in the corresponding source (see, e.g., <code>add_generator</code>).
Then, the evolution of the attributes during the simulation can be retrieved
with <code>get_mon_attributes</code>. Global attributes are reported as
unnamed key/value pairs.
</p>


<h3>Value</h3>

<p>Returns the trajectory object.
</p>


<h3>See Also</h3>

<p><code>get_attribute</code>, <code>get_global</code>,
<code>timeout_from_attribute</code>, <code>timeout_from_global</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">env &lt;- simmer()

traj &lt;- trajectory() %&gt;%

  # simple assignment
  set_attribute("my_key", 123) %&gt;%
  set_global("global_key", 321) %&gt;%

  # more than one assignment at once
  set_attribute(c("my_key", "other_key"), c(5, 64)) %&gt;%

  # increment
  set_attribute("my_key", 1, mod="+") %&gt;%

  # assignment using a function
  set_attribute("independent_key", function() runif(1)) %&gt;%

  # assignment dependent on another attribute
  set_attribute("dependent_key", function()
    ifelse(get_attribute(env, "my_key") &lt;= 0.5, 1, 0))

env %&gt;%
  add_generator("dummy", traj, at(3), mon=2) %&gt;%
  run() %&gt;%
  get_mon_attributes()

</code></pre>


</div>