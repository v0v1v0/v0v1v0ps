<div class="container">

<table style="width: 100%;"><tr>
<td>plot.individual_variable_effect</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plots Attributions for Variables of Individual Prediction</h2>

<h3>Description</h3>

<p>Function 'plot.individual_variable_effect' plots variables effects plots.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'individual_variable_effect'
plot(
  x,
  ...,
  id = 1,
  digits = 2,
  rounding_function = round,
  show_predicted = TRUE,
  show_attributions = TRUE,
  cols = c("label", "id"),
  rows = "ylevel",
  selected = NULL,
  bar_width = 8,
  vcolors = c(`-` = "#f05a71", `0` = "#371ea3", `+` = "#8bdcbe", X = "#371ea3", pred =
    "#371ea3")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an individual variable effect explainer produced with function 'individual_variable_effect()'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other explainers that shall be plotted together</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>of observation. By default first observation is taken.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>number of decimal places (round) or significant digits (signif) to be used. See the <code>rounding_function</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rounding_function</code></td>
<td>
<p>function that is to used for rounding numbers. It may be <code>signif()</code> which keeps a specified number of significant digits. Or the default <code>round()</code> to have the same precision for all components</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_predicted</code></td>
<td>
<p>show arrows for predicted values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_attributions</code></td>
<td>
<p>show attributions values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>
<p>A vector of characters defining faceting groups on columns dimension. Possible values: 'label', 'id', 'ylevel'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rows</code></td>
<td>
<p>A vector of characters defining faceting groups on rows dimension. Possible values: 'label', 'id', 'ylevel'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>selected</code></td>
<td>
<p>A vector of characters. If specified, then only selected classes are presented</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bar_width</code></td>
<td>
<p>width of bars. By default 8</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vcolors</code></td>
<td>
<p>named vector with colors</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a ggplot2 object
</p>


<h3>Examples</h3>

<pre><code class="language-R">have_shap &lt;- reticulate::py_module_available("shap")

if(have_shap){
  library("shapper")
  library("DALEX")
  library("randomForest")
  Y_train &lt;- HR$status
  x_train &lt;- HR[ , -6]
  set.seed(123)
  model_rf &lt;- randomForest(x = x_train, y = Y_train, ntree = 50)
  p_function &lt;- function(model, data) predict(model, newdata = data, type = "prob")

  ive_rf &lt;- individual_variable_effect(model_rf, data = x_train, predict_function = p_function,
                                     new_observation = x_train[1:2,], nsamples = 50)
  pl1 &lt;- plot(ive_rf, bar_width = 4)
  pl2 &lt;- plot(ive_rf, bar_width = 4, show_predicted = FALSE)
  pl3 &lt;- plot(ive_rf, bar_width = 4, show_predicted = FALSE,
              cols = c("id","ylevel"), rows = "label")
  print(pl1)
  print(pl2)
  print(pl3)
} else {
    print('Python testing environment is required.')
}
</code></pre>


</div>