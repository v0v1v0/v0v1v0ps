<div class="container">

<table style="width: 100%;"><tr>
<td>rasterDistance</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Raster Distance</h2>

<h3>Description</h3>

<p>Calculates the Euclidean distance of a defined raster class and
all the other cells in a taster
</p>


<h3>Usage</h3>

<pre><code class="language-R">rasterDistance(x, y, scale = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A terra SpatRast or sf class object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Value(s) in x to to calculate distance to</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>(FALSE/TRUE) Perform a row standardization on results</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This replicates the terra distance function but uses the Arya &amp; Mount
Approximate Near Neighbor (ANN) C++ library for calculating distances. Where this
results in a notable increase in performance it is not memory safe, needing to read
in the entire raster and does not use the GeographicLib (Karney, 2013) spheroid 
distance method for geographic data.
</p>


<h3>Value</h3>

<p>A terra SpatRast raster representing distances
</p>


<h3>Author(s)</h3>

<p>Jeffrey S. Evans  &lt;jeffrey_evans@tnc.org&gt;
</p>


<h3>References</h3>

<p>Arya S., Mount D. M., Netanyahu N. S., Silverman R. and Wu A. Y (1998), An 
optimal algorithm for approximate nearest neighbor searching, Journal of 
the ACM, 45, 891-923.
</p>


<h3>See Also</h3>

<p><code>distance, distance</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(sf)
library(terra)

# read, project and subset 10 polygons
nc &lt;- suppressWarnings(st_cast(st_read(system.file("shape/nc.shp", 
         package="sf")), "POLYGON"))
  nc &lt;- st_transform(nc, st_crs("ESRI:102008"))
    nc.sub &lt;- nc[sample(1:nrow(nc),10),]

# create 1000m reference raster, rasterize subset polygons
ref &lt;- rast(ext(nc), resolution=1000)
  rnc &lt;- mask(rasterize(vect(nc.sub), field="CNTY_ID",
              ref, background=9999), vect(nc)) 
    crs(rnc) &lt;- "ESRI:102008"  
  
# Calculate distance to class 1 in rnc raster, plot results
ids &lt;- nc.sub$CNTY_ID 
rd &lt;- rasterDistance(rnc, y=ids) 
  plot(rd)
    plot( st_geometry(nc.sub), add=TRUE)


</code></pre>


</div>