<div class="container">

<table style="width: 100%;"><tr>
<td>accum</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Aggregate data from a simulated cohort.
</h2>

<h3>Description</h3>

<p>Aggregate the observed number of events suffered by a subject, the time of follow-up, the duration of all the observed episodes and the real number of events suffered in all subject history.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  accum(data)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>An object of class <code>mult.ev.data.sim</code>, if the individual cohort has been simulated in a multiple event situation or an object of class <code>rec.ev.data.sim</code>, if the individual cohort has been simulated in a recurrent event situation. Note that, although the routine will work, it's probably not much useful in other contexts than recurrent event situation. 
</p>
</td>
</tr></table>
<h3>Details</h3>

<p>The output contains <code>z</code> and <code>real.ep.accum</code> because they can be interesting when analyzing several aspects as missing data or individual heterogeneity, although those variables cannot be observed in a real cohort.
</p>


<h3>Value</h3>

<p>An object of class <code>sim.ev.agg.data</code>. It is a data frame with a row for each subject in <code>data</code>, and the following columns
</p>
<table>
<tr style="vertical-align: top;">
<td><code>nid </code></td>
<td>
<p>an <code>integer</code> number that identifies the subject.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>old </code></td>
<td>
<p>real value indicating the time that the individual was at risk before the beginning of the follow-up.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>risk.bef </code></td>
<td>
<p><code>Boolean</code> indicating if the subject was at risk before the beginning of the follow-up time or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z </code></td>
<td>
<p>individual heterogeneity, generated according to the specified distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x </code></td>
<td>
<p> value of each covariate randomly generated for each subject in the cohort.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs.ep.accum </code></td>
<td>
<p>aggregated number of episodes suffered by an individual since the beginning of subject's follow-up time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>real.ep.accum </code></td>
<td>
<p>aggregated number of episodes suffered by an individual from the beginning of subject's history.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.accum</code></td>
<td>
<p>global time of follow-up for each individual.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>long.accum</code></td>
<td>
<p>global time not at risk within the follow-up time, corresponding to the sum of times between the end of an event and the beginning of the next.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>David Moriña, Universitat de Barcelona and Albert Navarro, Universitat Autònoma de Barcelona
</p>


<h3>References</h3>

<p>Kelly PJ, Lim LL. Survival analysis for recurrent event data: an application to childhood infectious diseases. Stat Med 2000 Jan 15;<b>19</b>(1):13-33. 
</p>
<p>Bender R, Augustin T, Blettner M. Generating survival times to simulate Cox proportional hazards models. Stat Med 2005 Jun 15;<b>24</b>(11):1713-1723.
</p>
<p>Metcalfe C, Thompson SG. The importance of varying the event generation process in simulation studies of statistical methods for recurrent events. Stat Med 2006 Jan 15;<b>25</b>(1):165-179.
</p>
<p>Reis RJ, Utzet M, La Rocca PF, Nedel FB, Martin M, Navarro A. Previous sick leaves as predictor of subsequent ones. Int Arch Occup Environ Health 2011 Jun;<b>84</b>(5):491-499.
</p>
<p>Navarro A, Moriña D, Reis R, Nedel FB, Martin M, Alvarado S. Hazard functions to describe patterns of new and recurrent sick leave episodes for different diagnoses. Scand J Work Environ Health 2012 Jan 27.
</p>
<p>Moriña D, Navarro A. The R package survsim for the simulation of simple and complex survival data. Journal of Statistical Software 2014 Jul; <b>59</b>(2):1-20.
</p>


<h3>See Also</h3>

<p><code>rec.ev.sim</code>, <code>mult.ev.sim</code>, <code>crisk.sim</code>, <code>survsim</code>, <code>simple.surv.sim</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">### A cohort with 500 subjects, with a maximum follow-up time of 1825 days and
### just a covariate, following a Bernoulli distribution, and a corresponding
### beta of -0.4, -0.5, -0.6 and -0.7 for each episode, in a context of recurrent
### events.

sim.data &lt;- rec.ev.sim(n=500, foltime=1825, dist.ev=c('lnorm','llogistic', 'weibull',
'weibull'),anc.ev=c(1.498, 0.924, 0.923, 1.051),beta0.ev=c(7.195, 6.583, 6.678, 6.430)
,,anc.cens=c(1.272, 1.218, 1.341, 1.484),beta0.cens=c(7.315, 6.975, 6.712, 6.399), 
z=list(c("unif",0.8,1.2)),beta=list(c(-0.4,-0.5,-0.6,-0.7)), x=list(c("bern", 0.5)),
lambda=c(2.18,2.33,2.40,3.46),priskb=0.5,max.old=730)

### Aggregated data

accum.data   &lt;- accum(sim.data)

head(accum.data)
</code></pre>


</div>