<div class="container">

<table style="width: 100%;"><tr>
<td>survey_corr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate correlation and its variation using survey methods</h2>

<h3>Description</h3>

<p>Calculate correlation from complex survey data. A wrapper
around <code>svyvar</code>. <code>survey_corr</code> should always be
called from <code>summarise</code>. Note this is Pearson's correlation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">survey_corr(
  x,
  y,
  na.rm = FALSE,
  vartype = c("se", "ci", "var", "cv"),
  level = 0.95,
  df = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A variable or expression</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A variable or expression</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>A logical value to indicate whether missing values should be dropped</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vartype</code></td>
<td>
<p>NULL to report no variability. Otherwise one or more of: standard error ("se", the default), confidence interval ("ci"), variance ("var") or coefficient of variation ("cv").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>(For vartype = "ci" only) A single number or vector of numbers indicating the confidence level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>(For vartype = "ci" only) A numeric value indicating the degrees of freedom for t-distribution. The default (NULL) uses degf, but Inf is the usual survey package's default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Ignored</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">data('api', package = 'survey')

apisrs %&gt;%
  as_survey_design(.ids = 1) %&gt;%
  summarize(api_corr = survey_corr(x = api00, y = api99))

apisrs %&gt;%
  as_survey_design(.ids = 1) %&gt;%
  group_by(sch.wide) %&gt;%
  summarize(
    api_emer_corr = survey_corr(x = api00, y = emer, na.rm=TRUE, vartype="ci")
  )
</code></pre>


</div>