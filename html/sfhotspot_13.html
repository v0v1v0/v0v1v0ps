<div class="container">

<table style="width: 100%;"><tr>
<td>hotspot_count</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Count points in cells in a two-dimensional grid</h2>

<h3>Description</h3>

<p>Count points in cells in a two-dimensional grid
</p>


<h3>Usage</h3>

<pre><code class="language-R">hotspot_count(
  data,
  cell_size = NULL,
  grid_type = "rect",
  grid = NULL,
  weights = NULL,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>sf</code> data frame containing points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cell_size</code></td>
<td>
<p><code>numeric</code> value specifying the size of each equally
spaced grid cell, using the same units (metres, degrees, etc.) as used in
the <code>sf</code> data frame given in the <code>data</code> argument. Ignored if
<code>grid</code> is not <code>NULL</code>. If this argument and <code>grid</code> are
<code>NULL</code> (the default), the cell size will be calculated automatically
(see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid_type</code></td>
<td>
<p><code>character</code> specifying whether the grid should be made
up of squares (<code>"rect"</code>, the default) or hexagons (<code>"hex"</code>).
Ignored if <code>grid</code> is not <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid</code></td>
<td>
<p><code>sf</code> data frame containing polygons, which will
be used as the grid for which counts are made.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p><code>NULL</code> or the name of a column in <code>data</code> to be used
as weights for weighted counts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>if set to <code>TRUE</code>, messages reporting the values of any
parameters set automatically will be suppressed. The default is
<code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function counts the number of points in each cell in a regular grid. If
a column name in <code>data</code> is supplied with the <code>weights</code> argument,
weighted counts will also be produced.
</p>


<h4>Automatic cell-size selection</h4>

<p>If <code>grid</code> is <code>NULL</code> and no cell size is given, the cell size will be set so
that there are 50 cells on the shorter side of the grid. If the <code>data</code> SF
object is projected in metres or feet, the number of cells will be adjusted
upwards so that the cell size is a multiple of 100.
</p>



<h3>Value</h3>

<p>An <code>sf</code> tibble of regular grid cells with
corresponding point counts for each cell. This can be plotted using
<code>autoplot</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Set cell size automatically

hotspot_count(memphis_robberies_jan)


# Transform data to UTM zone 15N so that cell_size and bandwidth can be set
# in metres
library(sf)
memphis_robberies_utm &lt;- st_transform(memphis_robberies_jan, 32615)

# Manually set grid-cell size in metres, since the `memphis_robberies_utm`
# dataset uses a co-ordinate reference system (UTM zone 15 north) that is
# specified in metres

hotspot_count(memphis_robberies_utm, cell_size = 200)


</code></pre>


</div>