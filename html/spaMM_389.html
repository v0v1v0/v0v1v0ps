<div class="container">

<table style="width: 100%;"><tr>
<td>seaMask</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Masks of seas or lands
</h2>

<h3>Description</h3>

<p>These convenient masks can be added to maps of (parts of) the world to mask map information for these areas. 
</p>
<p>However, many other tools may be available since this documentation was conceived. See e.g. the <span class="pkg">rnaturalearth</span> package,
used to provide a sea mask in an example for <code>filled.mapMM</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">data("seaMask")
data("landMask")
# data("worldcountries") # deprecated and removed
# data("oceanmask") # deprecated and removed
</code></pre>


<h3>Format</h3>

<p><code>seaMask</code> and <code>landMask</code> are data frames with two variables, <code>x</code> and <code>y</code> for longitude and latitude. 
Its contents are suitable for use with <code>polypath</code>: they define different polygones, each separated by a row of <code>NA</code>s.
</p>
<p><code>worldcountries</code> and <code>oceanmask</code> were <code>sp::SpatialPolygonsDataFrame</code> objects previously included in spaMM (see Details for replacement). Such objects were useful for creating land masks for different geographical projections. 
</p>


<h3>Details</h3>

<p>The removed objects <code>worldcountries</code> and <code>oceanmask</code> were suitable for plots involving geographical projections not available through <code>map</code>, and more generally for raster plots. A land mask could be produced out of <code>worldcountries</code> by filling the countries, as by <code>fill="black"</code> in the code for <code>country.layer</code> in the Examples in <a href="https://gitlab.mbb.univ-montp2.fr/francois/spamm-ref/-/blob/master/vignettePlus/example_raster.html">https://gitlab.mbb.univ-montp2.fr/francois/spamm-ref/-/blob/master/vignettePlus/example_raster.html</a>. These objects may now be available through the same web page, but a better place to look for the same functionality is the <code>IsoriX</code> package (objects <code>CountryBorders</code> and <code>OceanMask</code>).   
</p>
<p><code>seaMask</code> and <code>landMask</code> were created from the world map in the maps package. 
<code>polypath</code> requires polygons, while <code>map(interior=FALSE,plot=FALSE)</code> returns small segments. <code>landMask</code> is the result of reconnecting the segments into full coastlines of all land blocks. 
</p>


<h3>See Also</h3>

<p><a href="https://gitlab.mbb.univ-montp2.fr/francois/spamm-ref/-/blob/master/vignettePlus/example_raster.html">https://gitlab.mbb.univ-montp2.fr/francois/spamm-ref/-/blob/master/vignettePlus/example_raster.html</a> for access to, and use of <code>worldcountries</code> and <code>oceanmask</code>; <a href="https://cran.r-project.org/package=IsoriX">https://cran.r-project.org/package=IsoriX</a> for replacement <code>CountryBorders</code> and <code>OceanMask</code> for these objects.</p>


<h3>Examples</h3>

<pre><code class="language-R">## Predicting behaviour for a land bird: simplified fit for illustration
data("blackcap")
bfit &lt;- fitme(migStatus ~ means+ Matern(1|longitude+latitude),data=blackcap,
               fixed=list(lambda=0.5537,phi=1.376e-05,rho=0.0544740,nu=0.6286311))
                  
## the plot itself, with a sea mask,
## and an ad hoc 'pointmask' to see better the predictions on small islands 
#
def_pointmask &lt;- function(xy,r=1,npts=12) {
  theta &lt;- 2*pi/npts *seq(npts)
  hexas &lt;- lapply(seq(nrow(xy)), function(li){
    p &lt;- as.numeric(xy[li,])
    hexa &lt;- cbind(x=p[1]+r*cos(theta),y=p[2]+r*sin(theta))
    rbind(rep(NA,2),hexa) ## initial NA before each polygon
  })
  do.call(rbind,hexas)
}
ll &lt;- blackcap[,c("longitude","latitude")]
pointmask &lt;- def_pointmask(ll[c(2,4,5,6,7),],r=0.8) ## small islands only
#
if (spaMM.getOption("example_maxtime")&gt;1) {
  data("seaMask")
  
  filled.mapMM(bfit,add.map=TRUE,
             plot.title=title(main="Inferred migration propensity of blackcaps",
                               xlab="longitude",ylab="latitude"),
             decorations=quote(points(pred[,coordinates],cex=1,pch="+")),
             plot.axes=quote({axis(1);axis(2);
                        polypath(rbind(seaMask,pointmask),border=FALSE,
                                 col="grey", rule="evenodd")
             }))
}
</code></pre>


</div>