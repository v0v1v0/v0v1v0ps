<div class="container">

<table style="width: 100%;"><tr>
<td>regextr2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract Pattern Occurrences</h2>

<h3>Description</h3>

<p><code>regextr2</code> and <code>gregextr2</code> extract, respectively, first and all
(i.e., <b>g</b>lobally) occurrences of a pattern.
Their replacement versions substitute the matching substrings with
new content.
</p>


<h3>Usage</h3>

<pre><code class="language-R">regextr2(
  x,
  pattern,
  ...,
  ignore_case = FALSE,
  fixed = FALSE,
  capture_groups = FALSE
)

gregextr2(
  x,
  pattern,
  ...,
  ignore_case = FALSE,
  fixed = FALSE,
  capture_groups = FALSE
)

regextr2(x, pattern, ..., ignore_case = FALSE, fixed = FALSE) &lt;- value

gregextr2(x, pattern, ..., ignore_case = FALSE, fixed = FALSE) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>character vector whose elements are to be examined</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern</code></td>
<td>
<p>character vector of nonempty search patterns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments to <code>stri_locate</code>,
e.g., <code>omit_empty</code>, <code>locale</code>, <code>dotall</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore_case</code></td>
<td>
<p>single logical value; indicates whether matching
should be case-insensitive</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed</code></td>
<td>
<p>single logical value;
<code>FALSE</code> for matching with regular expressions
(see about_search_regex);
<code>TRUE</code> for fixed pattern matching
(about_search_fixed);
<code>NA</code> for the Unicode collation algorithm
(about_search_coll)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>capture_groups</code></td>
<td>
<p>single logical value; whether matches
individual capture groups should be extracted separately</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>character vector  (for <code>regextr</code>)
or list of character vectors  (for <code>gregextr</code>)
defining the replacement strings</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Convenience functions based on <code>gregexpr2</code>
and <code>gsubstrl</code> (amongst others).
Provided as pipe operator-friendly alternatives
to [DEPRECATED] <code>regmatches</code> and
[DEPRECATED] <code>strcapture</code>.
</p>
<p>They are fully vectorised with respect to <code>x</code>,
<code>pattern</code>, and <code>value</code>.
</p>
<p>Note that, unlike in <code>gsub2</code>,
each substituted chunk can be replaced with different content.
However, references to matches to capture groups cannot be made.
</p>


<h3>Value</h3>

<p><code>capture_groups</code> is <code>FALSE</code>,
<code>regextr2</code> returns a character vector and
<code>gregextr2</code> gives a list of character vectors.
</p>
<p>Otherwise, <code>regextr2</code> returns a list of character vectors,
giving the whole match as well as matches to the individual capture groups.
In <code>gregextr2</code>, this will be a matrix with as many columns
as there are matches.
</p>
<p>Missing values in the inputs are propagated consistently.
In <code>regextr2</code>, a no-match is always denoted with <code>NA</code>
(or series thereof). In <code>gregextr2</code>, the corresponding result is
empty (unless we mean a no-match to an optional capture group within
a matching substring). Note that this function distinguishes
between a missing input and a no-match.
</p>
<p>Their replacement versions return a character vector.
</p>
<p>These functions preserve the attributes of the longest inputs (unless they
are dropped due to coercion).
</p>


<h3>Author(s)</h3>

<p><a href="https://www.gagolewski.com/">Marek Gagolewski</a>
</p>


<h3>See Also</h3>

<p>The official online manual of <span class="pkg">stringx</span> at <a href="https://stringx.gagolewski.com/">https://stringx.gagolewski.com/</a>
</p>
<p>Related function(s): <code>paste</code>, <code>nchar</code>,
<code>strsplit</code>, <code>gsub2</code>
<code>grepl2</code>, <code>gregexpr2</code>, <code>gsubstrl</code>,
</p>


<h3>Examples</h3>

<pre><code class="language-R">x &lt;- c(aca1="acacaca", aca2="gaca", noaca="actgggca", na=NA)
regextr2(x, "(?&lt;x&gt;a)(?&lt;y&gt;cac?)")
gregextr2(x, "(?&lt;x&gt;a)(?&lt;y&gt;cac?)")
regextr2(x, "(?&lt;x&gt;a)(?&lt;y&gt;cac?)", capture_groups=TRUE)
gregextr2(x, "(?&lt;x&gt;a)(?&lt;y&gt;cac?)", capture_groups=TRUE)

# substitution - note the different replacement strings:
`gregextr2&lt;-`(x, "(?&lt;x&gt;a)(?&lt;y&gt;cac?)", value=list(c("!", "?"), "#"))
# references to capture groups can only be used in gsub and sub:
gsub2(x, "(?&lt;x&gt;a)(?&lt;y&gt;cac?)", "{$1}{$2}")

regextr2(x, "(?&lt;x&gt;a)(?&lt;y&gt;cac?)") &lt;- "\U0001D554\U0001F4A9"
print(x)  # x was modified 'in-place'


</code></pre>


</div>