<div class="container">

<table style="width: 100%;"><tr>
<td>metaAction</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run/capture non-reactive code for side effects</h2>

<h3>Description</h3>

<p>Most apps start out with setup code that is non-reactive, such as
<code>library()</code> calls, loading of static data into local
variables, or <code>source</code>-ing of supplemental R scripts.
<code>metaAction</code> provides a convenient way to run such code for its side effects
(including declaring new variables) while making it easy to export that code
using <code>expandChain()</code>. Note that <code>metaAction</code> executes code directly in the
<code>env</code> environment (which defaults to the caller's environment), so any local
variables that are declared in the <code>expr</code> will be available outside of
<code>metaAction</code> as well.
</p>


<h3>Usage</h3>

<pre><code class="language-R">metaAction(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>A code expression that will immediately be executed (before the
call to <code>metaAction</code> returns), and also stored for later retrieval (i.e.
meta mode).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>An environment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quoted</code></td>
<td>
<p>Is the expression quoted? This is useful when you want to use an expression
that is stored in a variable; to do so, it must be quoted with <code>quote()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A function that, when called in meta mode (i.e. inside
<code>expandChain()</code>), will return the code in quoted form. If this function is
ever called outside of meta mode, it throws an error, as it is definitely
being called incorrectly.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
setup &lt;- metaAction({
  library(stats)

  "# Set the seed to ensure repeatable randomness"
  set.seed(100)

  x &lt;- 1
  y &lt;- 2
})

# The action has executed
print(x)
print(y)

# And also you can emit the code
expandChain(
  setup()
)

</code></pre>


</div>