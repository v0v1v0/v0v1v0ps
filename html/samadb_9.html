<div class="container">

<table style="width: 100%;"><tr>
<td>sm_expand_date</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate Temporal Identifiers from a Date Column</h2>

<h3>Description</h3>

<p>This function expands a date column and generates additional temporal identifiers from it (year, month, quarter, day).
</p>


<h3>Usage</h3>

<pre><code class="language-R">sm_expand_date(
  x,
  gen = c("year", "quarter", "month"),
  origin = "1899-12-30",
  keep.date = TRUE,
  remove.missing.date = TRUE,
  sort = TRUE,
  as.factor = TRUE,
  name = "date",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>either a vector of class 'Date', or coercible to date using <code>as.Date</code>, or a data frame / list containing with a date-column called <code>name</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gen</code></td>
<td>
<p>character. A vector of identifiers to generate from <code>x</code>. The possible identifiers are found in <code>.SAMADB_T</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>origin</code></td>
<td>
<p>character / Date. Passed to <code>as.Date</code>: for converting numeric <code>x</code> to date. The default reflects converting date-numbers from Excel for Windows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep.date</code></td>
<td>
<p>logical. <code>TRUE</code> will keep the date variable in the resulting dataset, <code>FALSE</code> will remove the date variable in favor of the generated identifiers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove.missing.date</code></td>
<td>
<p>logical. <code>TRUE</code> will remove missing values in <code>x</code>. If <code>x</code> is a dataset, rows missing the date variable will be removed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>logical. <code>TRUE</code> will sort the data by the date column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.factor</code></td>
<td>
<p><code>TRUE</code> will generate quarters and months as factor variables. It is also possible to use <code>as.factor = "ordered"</code> to generate ordered factors. <code>FALSE</code> will generate quarters and months as integer variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>character. The name of the date variable to expand.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>not used.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>data.table</code> containing the computed identifiers as columns. See Examples.
</p>


<h3>See Also</h3>

<p><code>sm_as_date</code>, <code>samadb</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># First a basic example
x &lt;- seq.Date(as.Date("1999-01-01"), as.Date("2000-01-01"), by = "month")
sm_expand_date(x)
sm_expand_date(x, gen = .SAMADB_T[-1L], keep.date = FALSE)

# Now using the API
sm_expand_date(sm_data("BUSINESS_CYCLES"))

# Same thing
sm_data("BUSINESS_CYCLES", expand.date = TRUE)


</code></pre>


</div>