<div class="container">

<table style="width: 100%;"><tr>
<td>top_rows</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>top_rows</h2>

<h3>Description</h3>

<p>Find the row numbers corresponding the largest values in a
particular column of a matrix
</p>


<h3>Usage</h3>

<pre><code class="language-R">top_rows(mat, col, k = 5, ignore)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mat</code></td>
<td>
<p>(Sparse matrix of class 'dgCmatrix' or a integer/numeric matrix or
'big.matrix') Rating matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>(positive integer) Column number in which top rows are to be
selected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>(positive integer) Number of row numbers to be recommended. This
might not be strictly adhered to, see Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore</code></td>
<td>
<p>(integer vector) Row numbers to be ignored.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>To find top-n recommendations of a ratings matrix given an item (or
a user).  Although k recommendations are expected to be returned, the
function might sometimes return more or less than k recommendations.
</p>
 <ul>
<li>
<p> Less: This happens when it is not possible to recommend k
elements. For example, k is larger than the number of elements. </p>
</li>
<li>
<p> More:
This happens when a few elements have same rating. The function returns the
index corresponding to all the elements which have the same rating. If
ratings were <code>3,2,2,2,3</code>: </p>
 <ul>
<li>
<p> k = 3: returns
<code>1, 5, 2, 3, 4</code> </p>
</li>
<li>
<p> k = 2: returns <code>1, 5</code> </p>
</li>
<li>
<p> k = 1: returns
<code>1, 5</code> </p>
</li>
</ul>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
temp &lt;- slim(mat           = ft_implicit # input sparse ratings matrix
             , alpha       = 0.5         # 0 for ridge, 1 for lasso
             #, lambda                   # suggested not to set lambda
             #, nlambda                  # using default nlambda = 100
             , nonNegCoeff = TRUE        # better accuracy, lower interpretability
             , directory   = td          # dir where output matrices are stored
             , coeffMat    = TRUE        # helpful in 'predict'ing later
             , returnMat   = TRUE        # return matrices in memory
             , computeRMSE = TRUE        # RMSE over rated items
             , nproc       = 2L          # number of concurrent processes
             , progress    = TRUE        # show a progressbar
             , check       = TRUE        # do basic checks on input params
             , cleanup     = FALSE       # keep output matrices on disk
             )
str(temp)
# output ratings matrix would be comparatively denser
predMat &lt;- temp[["ratingMat"]] != 0
sum(predMat)/((dim(predMat)[1])*(dim(predMat)[2]))
# recommend top 5 items for a user 10
top_cols(temp[["ratingMat"]]
         , row = 10
         , k   = 5
         )
# if you intend to avoid recommending 10, 215 and 3
top_cols(temp[["ratingMat"]]
         , row = 10
         , k   = 5
         , ignore = c(10, 215, 3)
         )

## End(Not run)

</code></pre>


</div>