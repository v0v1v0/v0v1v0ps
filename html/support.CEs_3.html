<div class="container">

<table style="width: 100%;"><tr>
<td>ce.response</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Generating artificial responses to choice experiment questions
</h2>

<h3>Description</h3>

<p>This function synthesizes responses to choice experiment questions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ce.response(design,
            categorical.attributes = NULL, 
            continuous.attributes = NULL,
            optout = FALSE,
            b,
            n,
            detail = FALSE,
            seed = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>

<p>An object of the S3 class "cedes". 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>categorical.attributes</code></td>
<td>

<p>A vector containing the names of attributes treated as categorical independent variables in the model. If there are no categorical variables, it is set as <code>NULL</code> (default).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>continuous.attributes</code></td>
<td>

<p>A vector containing the names of attributes treated as continuous independent variables in the model.  If there are no continuous variables, it is set as <code>NULL</code> (default).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optout</code></td>
<td>

<p>A logical variable describing whether or not the opt-out alternative is included in the choice experiment questions. If <code>TRUE</code> (default), the opt-out alternative is included; otherwise it is not.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>

<p>A vector containing parameters of independent variables in the model. The vector is used to calculate utilities for alternatives.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>

<p>An integer value showing the number of respondents in the resultant dataset.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>detail</code></td>
<td>

<p>A logical variable: if <code>TRUE</code>, the dataset is returned in a detailed format; and if <code>FALSE</code> (default), the dataset is return in a simple format.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>

<p>Seed for a random number generator.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function synthesizes responses to choice experiment questions. Before using the function, see help for functions <code>rotation.design</code>, <code>make.design.matrix</code>, and <code>make.dataset</code>. For details on the usage, refer to section Examples below.
</p>


<h3>Value</h3>

<p>This function returns a data frame that contains synthesized responses to choice experiment questions, in either a detailed or a simple format. The detailed format dataset contains the following variables, as well as independent variables according to the arguments <code>categorical.attributes</code> and/or <code>continuous.attributes</code>.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>ID</code></td>
<td>
<p>An identification number of artificial respondents.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BLOCK</code></td>
<td>
<p>A serial number of blocks in the choice sets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>QES</code></td>
<td>
<p>A serial number of questions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ALT</code></td>
<td>
<p>A serial number of alternatives.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ASC</code></td>
<td>
<p>Alternative specific constant.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>STR</code></td>
<td>
<p>A stratification variable used to identify each combination of respondent and question.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RES</code></td>
<td>
<p>Responses to choice experiment questions, taking the value of 1 if an alternative is selected by the synthesized respondents and 0 otherwise.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Hideo Aizaki
</p>


<h3>See Also</h3>

<p><code>rotation.design</code>, <code>make.design.matrix</code>, <code>make.dataset</code>, <code>rice</code>, <code>clogit</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># The following example is based on the dataset rice.
# The choice sets differ from those in the dataset rice.

library(survival)

dsgn.rice &lt;- rotation.design(
  attribute.names = list(
    Region = c("RegA", "RegB", "RegC"),
    Cultivation = c("Conv", "NoChem", "Organic"),
    Price = c("1700", "2000", "2300")),
  nalternatives = 2,
  nblocks = 3,
  row.renames = FALSE,
  randomize = TRUE,
  seed = 987)

syn.rice1 &lt;- ce.response(
  design = dsgn.rice, 
  categorical.attributes = c("Region", "Cultivation"),
  continuous.attributes = "Price",
  optout = TRUE,
  b = c(4.4, 0.47, 0.97, 0.66, 1.1, -0.0023),
  n = 99,
  detail = TRUE,
  seed = 1)
head(syn.rice1, 30)
mf &lt;- RES ~ ASC + RegB + RegC + NoChem + Organic + Price + strata(STR)
(out1 &lt;- clogit(mf, data = syn.rice1))

syn.rice.simple &lt;- ce.response(
  design = dsgn.rice, 
  categorical.attributes = c("Region", "Cultivation"),
  continuous.attributes = "Price",
  optout = TRUE,
  b = c(4.4, 0.47, 0.97, 0.66, 1.1, -0.0023),
  n = 99,
  detail = FALSE,
  seed = 1)
head(syn.rice.simple)
dsgnmat.rice &lt;- make.design.matrix(
  choice.experiment.design = dsgn.rice,
  optout = TRUE,
  categorical.attributes = c("Region", "Cultivation"),
  continuous.attributes = c("Price"),
  unlabeled = TRUE)
syn.rice2 &lt;- make.dataset(
  respondent.dataset = syn.rice.simple,
  choice.indicators =
    c("q1", "q2", "q3"),
  design.matrix = dsgnmat.rice)
(out2 &lt;- clogit(mf, data = syn.rice2))

all.equal(coef(out1), coef(out2))

</code></pre>


</div>