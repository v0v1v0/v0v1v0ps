<div class="container">

<table style="width: 100%;"><tr>
<td>nnpop</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Determine nearest neighbors with population constraint</h2>

<h3>Description</h3>

<p><code>scan.nn</code> determines the nearest
neighbors for a set of observations based on the
distance matrix according to a population-based
upperbound.
</p>


<h3>Usage</h3>

<pre><code class="language-R">nnpop(d, pop, ubpop)

scan.nn(d, pop, ubpop)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>An <code class="reqn">n\times n</code> square distance matrix
containing the intercentroid distance between the
<code class="reqn">n</code> region centroids.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pop</code></td>
<td>
<p>The population size associated with each
region.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ubpop</code></td>
<td>
<p>The upperbound of the proportion of the
total population to consider for a cluster.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function determines the nearest neighbors of each
centroid based on the intercentroid distance.  The number
of nearest neighbors is limited by the sum of the
population values among the nearest neighbors.  The set
of nearest neighbors can contain no more than <code>ubpop
* sum(pop)</code> members of the population.  The nearest
neighbors are ordered from nearest to farthest.
</p>


<h3>Value</h3>

<p>Returns the indices of the nearest neighbors as a
list.  For each element of the list, the indices are
ordered from nearest to farthest from each centroid.
</p>


<h3>Author(s)</h3>

<p>Joshua French
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(nydf)
coords &lt;- as.matrix(nydf[, c("longitude", "latitude")])
d &lt;- as.matrix(dist(coords))
nn &lt;- scan.nn(d, pop = nydf$pop, ubpop = 0.1)
</code></pre>


</div>