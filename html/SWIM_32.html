<div class="container">

<table style="width: 100%;"><tr>
<td>stress_RM_mean_sd_w</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Stressing Risk Measure, Mean and Standard Deviation</h2>

<h3>Description</h3>

<p>Provides weights on simulated scenarios from a baseline stochastic
model, such that a stressed model component (random variable) fulfils a
constraint on its mean, standard deviation, and risk measure 
defined by a <code>gamma</code> function and 
evaluated at a given level <code>alpha</code>. Scenario weights are
selected by constrained minimisation of the Wasserstein distance to the
baseline model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">stress_RM_mean_sd_w(
  x,
  alpha = 0.8,
  new_means,
  new_sd,
  q_ratio = NULL,
  q = NULL,
  k = 1,
  h = 1,
  gamma = NULL,
  names = NULL,
  log = FALSE,
  method = "Nelder-Mead",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector, matrix or data frame
containing realisations of random variables. Columns of <code>x</code>
correspond to random variables; OR<br>
A <code>SWIMw</code> object, where <code>x</code> corresponds to the
underlying data of the <code>SWIMw</code> object. The stressed random component is assumed continuously distributed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Numeric, vector, the level of the Expected Shortfall. (<code>default Expected Shortfall</code>)<br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_means</code></td>
<td>
<p>Numeric, the stressed mean. <br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_sd</code></td>
<td>
<p>Numeric, the stressed standard deviation. <br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q_ratio</code></td>
<td>
<p>Numeric, vector, the ratio of the stressed RM to
the baseline RM (must be same length as <code>alpha</code>).<br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>Numeric, vector, the stressed RM at level
<code>alpha</code> (must be same length as <code>alpha</code>).<br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Numeric, the column of <code>x</code> that is stressed
<code>(default = 1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p>Numeric, a multiplier of the default bandwidth using Silverman’s rule (default <code>h = 1</code>).<br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p>Function of one variable, that defined the gamma of the risk measure. (<code>default Expected Shortfall</code>).<br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p>Character vector, the names of stressed models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p>Boolean, the option to print weights' statistics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>The method to be used in [stats::optim()]. (<code>default = Nelder-Mead</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to be passed to
<code>nleqslv</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function implements stresses on distortion risk measures.
Distortion risk measures are defined by a square-integrable function
<code>gamma</code> where
</p>
<p style="text-align: center;"><code class="reqn">\int_0^1 gamma(u) du = 1.</code>
</p>

<p>The distortion risk measure for some <code>gamma</code> and distribution 
<code>G</code> is calculated as:
</p>
<p style="text-align: center;"><code class="reqn">\rho_{gamma}(G) = \int_0^1 \breve(G)(u) gamma(u) du.</code>
</p>

<p>Expected Shortfall (ES) is an example of a distortion risk measure.
The ES at level <code>alpha</code> of a random variable with distribution
function F is defined by:
</p>
<p style="text-align: center;"><code class="reqn">ES_{alpha} = 1 / (1 - alpha) * \int_{alpha}^1 VaR_u d u.</code>
</p>



<h3>Value</h3>

<p>A <code>SWIMw</code> object containing:
</p>

<ul>
<li> <p><code>x</code>, a data.frame containing the data;
</p>
</li>
<li> <p><code>h</code>, h is a multiple of the Silverman’s rule;
</p>
</li>
<li> <p><code>u</code>, vector containing the gridspace on [0, 1];
</p>
</li>
<li> <p><code>lam</code>, vector containing the lambda's of the optimized model;
</p>
</li>
<li> <p><code>str_fY</code>, function defining the densities of the stressed component;
</p>
</li>
<li> <p><code>str_FY</code>, function defining the distribution of the stressed component;
</p>
</li>
<li> <p><code>str_FY_inv</code>, function defining the quantiles of the stressed component;
</p>
</li>
<li> <p><code>gamma</code>, function defining the risk measure;
</p>
</li>
<li> <p><code>new_weights</code>, a list of functions, that applied to
the <code>k</code>th column of <code>x</code>, generates the vectors of scenario
weights. Each component corresponds to a different stress;
</p>
</li>
<li> <p><code>type = "RM mean sd"</code>;
</p>
</li>
<li> <p><code>specs</code>, a list, each component corresponds to
a different stress and contains <code>k</code>, <code>alpha</code>,
<code>q</code>, <code>new_means</code>, and <code>new_sd</code>.
</p>
</li>
</ul>
<p>See <code>SWIM</code> for details.
</p>


<h3>Author(s)</h3>

<p>Zhuomin Mao
</p>


<h3>References</h3>

<p>Pesenti SM, Millossovich P, Tsanakas A (2019).
“Reverse sensitivity testing: What does it take to break the model?”
<em>European Journal of Operational Research</em>, <b>274</b>(2), 654–670.<br></p>
<p>Pesenti S BAMPTA (2020).
“Scenario Weights for Importance Measurement (SWIM) - An R package for sensitivity analysis.”
<em>Annals of Actuarial Science 15.2 (2021): 458-483. Available at SSRN: <a href="https://www.ssrn.com/abstract=3515274">https://www.ssrn.com/abstract=3515274</a></em>.<br></p>
<p>Pesenti SM (2021).
“Reverse Sensitivity Analysis for Risk Modelling.”
<em>Available at SSRN 3878879</em>.
</p>


<h3>See Also</h3>

<p>Other stress functions: 
<code>stress_HARA_RM_w()</code>,
<code>stress_RM_w()</code>,
<code>stress_VaR_ES()</code>,
<code>stress_VaR()</code>,
<code>stress_mean_sd_w()</code>,
<code>stress_mean_sd()</code>,
<code>stress_mean_w()</code>,
<code>stress_mean()</code>,
<code>stress_moment()</code>,
<code>stress_prob()</code>,
<code>stress_user()</code>,
<code>stress_wass()</code>,
<code>stress()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
set.seed(0)
x &lt;- as.data.frame(cbind(
  "normal" = rnorm(1000),
  "gamma" = rgamma(1000, shape = 2)))
res1 &lt;- stress_wass(type = "RM mean sd", x = x,
  alpha = 0.9, q_ratio = 1.05, new_means=1, new_sd=0.9)
  summary(res1)

## calling stress_RM_w directly
## stressing "gamma"
res2 &lt;- stress_RM_mean_sd_w(x = x, alpha = 0.9,
  q_ratio = 1.05, new_means=2.2, new_sd=1.5, k = 2)
summary(res2)

## End(Not run)

</code></pre>


</div>