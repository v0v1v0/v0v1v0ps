<div class="container">

<table style="width: 100%;"><tr>
<td>ssn_subset</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Subset an <code>SSN</code> object</h2>

<h3>Description</h3>

<p>Returns an <code>SSN</code> object that has been subset based on a
logical expression.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ssn_subset(ssn, path, subset, clip = FALSE, overwrite = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ssn</code></td>
<td>
<p>An <code>SSN</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>The filepath to the .ssn folder, in string format,
where the subset <code>SSN</code> will be saved.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>A logical expression indicating which features to keep.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clip</code></td>
<td>
<p>If <code>TRUE</code>, create a subset of the edges and
prediction sites, based on the same logical expression used to
subset the observed sites.  Default = <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>If <code>TRUE</code>, overwrite the folder specified in
<code>path</code> if it exists. Default = FALSE.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function creates a subset of the original <code>SSN</code>
object based on a logical expression defined in the <code>subset</code>
argument. The <code>subset</code> argument is treated as an expression
within <code>ssn_subset()</code> and so the full argument is not a
string; although values in factor or character format will still
require quotes (see examples). If <code>clip = TRUE</code>, then the
columns referred to in <code>subset</code> must be present in the edges
and all of the prediction datasets (if present in the <code>SSN</code>
object). Note that features with missing values in the <code>subset</code>
expression are treated as false and are not included in the
subset <code>SSN</code> object.
</p>
<p>Once the subset <code>SSN</code> object has been written to the local
directory, it is re-imported using
<code>ssn_import</code>. During this process, the
binaryID.db is recreated. If distance matrices exist in the
original <code>SSN</code> object, they are not copied or recalculated
for the new <code>SSN</code> object. Users will need to run the
<code>ssn_create_distmat</code> to create the distance
matrices before fitting models to the data in the subset
<code>SSN</code>.
</p>


<h3>Value</h3>

<p>an object of class <code>SSN</code>, which is stored locally in the .ssn
directory specified in <code>path</code>. It also creates and
stores an SQLite database, binaryID.db, within the .ssn
directory.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Import SSN object
copy_lsn_to_temp() ## Only needed for this example
mf04p &lt;- ssn_import(paste0(tempdir(), "/MiddleFork04.ssn"),
  predpts = "pred1km",
  overwrite = TRUE
)

## Subset SSN observations, edges, and prediction sites on network 1
ssn.sub1 &lt;- ssn_subset(mf04p,
  path = paste0(tempdir(), "/subset1.ssn"),
  subset = netID == 1, clip = TRUE,
  overwrite = TRUE
)

## Subset SSN observations, removing two sites
ssn.sub2 &lt;- ssn_subset(mf04p,
  path = paste0(tempdir(), "/subset2.ssn"),
  subset = !COMID %in% c("23519461", "23519365"),
  overwrite = TRUE
)
</code></pre>


</div>