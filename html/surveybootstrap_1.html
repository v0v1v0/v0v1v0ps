<div class="container">

<table style="width: 100%;"><tr>
<td>bootstrap.estimates</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>bootstrap.estimates</h2>

<h3>Description</h3>

<p>Use a given bootstrap method to estimate sampling uncertainty from a given
estimator.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bootstrap.estimates(
  survey.data,
  survey.design,
  bootstrap.fn,
  estimator.fn,
  num.reps,
  weights = NULL,
  ...,
  summary.fn = NULL,
  verbose = TRUE,
  parallel = FALSE,
  paropts = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>survey.data</code></td>
<td>
<p>The dataset to use</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>survey.design</code></td>
<td>
<p>A formula describing the design of the survey
(see Details below)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bootstrap.fn</code></td>
<td>
<p>Name of the method to be used to take
bootstrap resamples</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimator.fn</code></td>
<td>
<p>The name of a function which, given a dataset like
<code>survey.data</code> and arguments in <code>...</code>,
will produce an estimate of interest</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.reps</code></td>
<td>
<p>The number of bootstrap replication samples to draw</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>Weights to use in estimation (or <code>NULL</code>, if none)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments which will be passed on to <code>estimator.fn</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary.fn</code></td>
<td>
<p>(Optional) Name of a function which, given the set of estimates
produced by <code>estimator.fn</code>, summarizes them. If not specified, all of
the estimates are returned in a list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>If <code>TRUE</code>, produce lots of feedback about what is going on</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>If <code>TRUE</code>, use the <code>plyr</code> library's <code>.parallel</code> argument to
produce bootstrap resamples and estimates in parallel</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paropts</code></td>
<td>
<p>If not <code>NULL</code>, additional arguments to pass along to the
parallelization routine</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The formula describing the survey design should have the form
<code>~ psu_v1 + psu_v2 + ... + strata(strata_v1 + strata_v2 + ...)</code>,
where <code style="white-space: pre;">⁠psu_v1, ...⁠</code> are the variables identifying primary sampling units (PSUs)
and <code style="white-space: pre;">⁠strata_v1, ...⁠</code> identifies the strata
</p>


<h3>Value</h3>

<p>If <code>summary.fn</code> is not specified, then return the list of estimates
produced by <code>estimator.fn</code>; if <code>summary.fn</code> is specified, then return
its output
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# example using a simple random sample

survey &lt;- MU284.surveys[[1]]

estimator &lt;- function(survey.data, weights) {
  plyr::summarise(survey.data,
                  T82.hat = sum(S82 * weights))
}

ex.mu284 &lt;- bootstrap.estimates(
   survey.design = ~1,
   num.reps = 10,
   estimator.fn = estimator,
   weights='sample_weight',
   bootstrap.fn = 'srs.bootstrap.sample',
   survey.data=survey)

## Not run: 
idu.est &lt;- bootstrap.estimates(
  ## this describes the sampling design of the
  ## survey; here, the PSUs are given by the
  ## variable cluster, and the strata are given
  ## by the variable region
  survey.design = ~ cluster + strata(region),
  ## the number of bootstrap resamples to obtain
  num.reps=1000,
  ## this is the name of the function
  ## we want to use to produce an estimate
  ## from each bootstrapped dataset
  estimator.fn="our.estimator",
  ## these are the sampling weights
  weights="indweight",
  ## this is the name of the type of bootstrap
  ## we wish to use
  bootstrap.fn="rescaled.bootstrap.sample",
  ## our dataset
  survey.data=example.survey,
  ## other parameters we need to pass
  ## to the estimator function
  d.hat.vals=d.hat,
  total.popn.size=tot.pop.size,
  y.vals="clients",
  missing="complete.obs")


## End(Not run)
</code></pre>


</div>