<div class="container">

<table style="width: 100%;"><tr>
<td>validpar</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Parameter Check for Simulation or Correlation Validation Functions</h2>

<h3>Description</h3>

<p>This function checks the parameter inputs to the simulation functions <code>contmixvar1</code>,
<code>corrvar</code>, and <code>corrvar2</code> and to the correlation validation functions
<code>validcorr</code> and <code>validcorr2</code>.  It should be used prior to execution of these
functions to ensure all inputs are of the correct format.  Those functions do not contain parameter checks in order to decrease
simulation time.  This would be important if the user is running several simulation repetitions so that the inputs only have to
be checked once.  Note that the inputs do not include all of the inputs to the simulation functions.  See the appropriate function
documentation for more details about parameter inputs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">validpar(k_cat = 0, k_cont = 0, k_mix = 0, k_pois = 0, k_nb = 0,
  method = c("Fleishman", "Polynomial"), means = NULL, vars = NULL,
  skews = NULL, skurts = NULL, fifths = NULL, sixths = NULL,
  Six = list(), mix_pis = list(), mix_mus = list(), mix_sigmas = list(),
  mix_skews = list(), mix_skurts = list(), mix_fifths = list(),
  mix_sixths = list(), mix_Six = list(), marginal = list(),
  support = list(), lam = NULL, p_zip = 0, size = NULL, prob = NULL,
  mu = NULL, p_zinb = 0, pois_eps = 0.0001, nb_eps = 0.0001,
  rho = NULL, Sigma = NULL, cstart = list(), quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>k_cat</code></td>
<td>
<p>the number of ordinal (r &gt;= 2 categories) variables (default = 0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k_cont</code></td>
<td>
<p>the number of continuous non-mixture variables (default = 0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k_mix</code></td>
<td>
<p>the number of continuous mixture variables (default = 0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k_pois</code></td>
<td>
<p>the number of regular Poisson and zero-inflated Poisson variables (default = 0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k_nb</code></td>
<td>
<p>the number of regular Negative Binomial and zero-inflated Negative Binomial variables (default = 0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>the method used to generate the <code>k_cont</code> non-mixture and <code>k_mix</code> mixture continuous variables.
"Fleishman" uses Fleishman's third-order polynomial transformation and "Polynomial" uses Headrick's fifth-order transformation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>means</code></td>
<td>
<p>a vector of means for the <code>k_cont</code> non-mixture and <code>k_mix</code> mixture continuous variables
(i.e. <code>rep(0, (k_cont + k_mix))</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>a vector of variances for the <code>k_cont</code> non-mixture and <code>k_mix</code> mixture continuous variables
(i.e. <code>rep(1, (k_cont + k_mix))</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skews</code></td>
<td>
<p>a vector of skewness values for the <code>k_cont</code> non-mixture continuous variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skurts</code></td>
<td>
<p>a vector of standardized kurtoses (kurtosis - 3, so that normal variables have a value of 0)
for the <code>k_cont</code> non-mixture continuous variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fifths</code></td>
<td>
<p>a vector of standardized fifth cumulants for the <code>k_cont</code> non-mixture continuous variables
(not necessary for <code>method</code> = "Fleishman")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sixths</code></td>
<td>
<p>a vector of standardized sixth cumulants for the <code>k_cont</code> non-mixture continuous variables
(not necessary for <code>method</code> = "Fleishman")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Six</code></td>
<td>
<p>a list of vectors of sixth cumulant correction values for the <code>k_cont</code> non-mixture continuous variables
if no valid PDF constants are found, <br> ex: <code>Six = list(seq(0.01, 2, 0.01), seq(1, 10, 0.5))</code>;
if no correction is desired for variable <code class="reqn">Y_{cont_i}</code>, set set the i-th list component equal to <code>NULL</code>;
if no correction is desired for any of the <code class="reqn">Y_{cont}</code> keep as <code>Six = list()</code>
(not necessary for <code>method</code> = "Fleishman")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mix_pis</code></td>
<td>
<p>a vector if using <code>contmixvar1</code> or a list of length <code>k_mix</code> with i-th component a vector of mixing probabilities that sum to 1 for component distributions of <code class="reqn">Y_{mix_i}</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mix_mus</code></td>
<td>
<p>a vector if using <code>contmixvar1</code> or a list of length <code>k_mix</code> with i-th component a vector of means for component distributions of <code class="reqn">Y_{mix_i}</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mix_sigmas</code></td>
<td>
<p>a vector if using <code>contmixvar1</code> or a list of length <code>k_mix</code> with i-th component a vector of standard deviations for component distributions of <code class="reqn">Y_{mix_i}</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mix_skews</code></td>
<td>
<p>a vector if using <code>contmixvar1</code> or a list of length <code>k_mix</code> with i-th component a vector of skew values for component distributions of <code class="reqn">Y_{mix_i}</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mix_skurts</code></td>
<td>
<p>a vector if using <code>contmixvar1</code> or a list of length <code>k_mix</code> with i-th component a vector of standardized kurtoses for component distributions of <code class="reqn">Y_{mix_i}</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mix_fifths</code></td>
<td>
<p>a vector if using <code>contmixvar1</code> or a list of length <code>k_mix</code> with i-th component a vector of standardized fifth cumulants for component distributions of <code class="reqn">Y_{mix_i}</code>
(not necessary for <code>method</code> = "Fleishman")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mix_sixths</code></td>
<td>
<p>a vector if using <code>contmixvar1</code> or a list of length <code>k_mix</code> with i-th component a vector of standardized sixth cumulants for component distributions of <code class="reqn">Y_{mix_i}</code>
(not necessary for <code>method</code> = "Fleishman")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mix_Six</code></td>
<td>
<p>if using <code>contmixvar1</code>, a list of vectors of sixth cumulant corrections for the components of the
continuous mixture variable; else a list of length <code>k_mix</code> with i-th component a list of vectors of sixth cumulant correction values
for component distributions of <code class="reqn">Y_{mix_i}</code>; use <code>NULL</code> if no correction is desired for a given component or
mixture variable; if no correction is desired for any of the <code class="reqn">Y_{mix}</code> keep as <code>mix_Six = list()</code>
(not necessary for <code>method</code> = "Fleishman")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marginal</code></td>
<td>
<p>a list of length equal to <code>k_cat</code>; the i-th element is a vector of the cumulative
probabilities defining the marginal distribution of the i-th variable;
if the variable can take r values, the vector will contain r - 1 probabilities (the r-th is assumed to be 1; default = list());
for binary variables, these should be input the same as for ordinal variables with more than 2 categories (i.e. the user-specified
probability is the probability of the 1st category, which has the smaller support value)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>support</code></td>
<td>
<p>a list of length equal to <code>k_cat</code>; the i-th element is a vector containing the r ordered support values;
if not provided (i.e. <code>support = list()</code>), the default is for the i-th element to be the vector 1, ..., r</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lam</code></td>
<td>
<p>a vector of lambda (mean &gt; 0) constants for the Poisson variables (see <code>stats::dpois</code>); the order should be
1st regular Poisson variables, 2nd zero-inflated Poisson variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_zip</code></td>
<td>
<p>a vector of probabilities of structural zeros (not including zeros from the Poisson distribution) for the
zero-inflated Poisson variables (see <code>VGAM::dzipois</code>); if <code>p_zip</code> = 0, <code class="reqn">Y_{pois}</code> has a regular Poisson
distribution; if <code>p_zip</code> is in (0, 1), <code class="reqn">Y_{pois}</code> has a zero-inflated Poisson distribution;
if <code>p_zip</code> is in <code>(-(exp(lam) - 1)^(-1), 0)</code>, <code class="reqn">Y_{pois}</code> has a zero-deflated Poisson distribution and <code>p_zip</code>
is not a probability; if <code>p_zip = -(exp(lam) - 1)^(-1)</code>, <code class="reqn">Y_{pois}</code> has a positive-Poisson distribution
(see <code>VGAM::dpospois</code>); if <code>length(p_zip) &lt; length(lam)</code>, the missing values are set to 0 (and ordered 1st)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>a vector of size parameters for the Negative Binomial variables (see <code>stats::dnbinom</code>); the order should be
1st regular NB variables, 2nd zero-inflated NB variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>a vector of success probability parameters for the NB variables; order the same as in <code>size</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu</code></td>
<td>
<p>a vector of mean parameters for the NB variables (*Note: either <code>prob</code> or <code>mu</code> should be supplied for all Negative Binomial variables,
not a mixture; default = NULL); order the same as in <code>size</code>; for zero-inflated NB this refers to
the mean of the NB distribution (see <code>VGAM::dzinegbin</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_zinb</code></td>
<td>
<p>a vector of probabilities of structural zeros (not including zeros from the NB distribution) for the zero-inflated NB variables
(see <code>VGAM::dzinegbin</code>); if <code>p_zinb</code> = 0, <code class="reqn">Y_{nb}</code> has a regular NB distribution;
if <code>p_zinb</code> is in <code>(-prob^size/(1 - prob^size),</code> <code>0)</code>, <code class="reqn">Y_{nb}</code> has a zero-deflated NB distribution and <code>p_zinb</code>
is not a probability; if <code>p_zinb = -prob^size/(1 - prob^size)</code>, <code class="reqn">Y_{nb}</code> has a positive-NB distribution (see
<code>VGAM::dposnegbin</code>); if <code>length(p_zinb) &lt; length(size)</code>, the missing values are set to 0 (and ordered 1st)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pois_eps</code></td>
<td>
<p>a vector of length <code>k_pois</code> containing total cumulative probability truncation values; if none are provided,
the default is 0.0001 for each variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nb_eps</code></td>
<td>
<p>a vector of length <code>k_nb</code> containing total cumulative probability truncation values; if none are provided,
the default is 0.0001 for each variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>the target correlation matrix which must be ordered
<em>1st ordinal, 2nd continuous non-mixture, 3rd components of continuous mixtures, 4th regular Poisson, 5th zero-inflated Poisson,
6th regular NB, 7th zero-inflated NB</em>; note that <code>rho</code> is specified in terms of the components of <code class="reqn">Y_{mix}</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Sigma</code></td>
<td>
<p>an intermediate correlation matrix to use if the user wants to provide one, else it is calculated within by
<code>intercorr</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cstart</code></td>
<td>
<p>a list of length equal to <code>k_cont</code> + the total number of mixture components containing initial values for root-solving
algorithm used in <code>find_constants</code>.  If user specified, each list element must be input as a matrix.
For <code>method</code> = "Fleishman", each should have 3 columns for <code class="reqn">c1, c2, c3</code>;
for <code>method</code> = "Polynomial", each should have 5 columns for <code class="reqn">c1, c2, c3, c4, c5</code>.  If no starting values are specified for
a given component, that list element should be <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>if FALSE prints messages, if TRUE suppresses message printing</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>TRUE if all inputs are correct, else it will stop with a correction message
</p>


<h3>See Also</h3>

<p><code>contmixvar1</code>, <code>corrvar</code>, <code>corrvar2</code>,
<code>validcorr</code>, <code>validcorr2</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">validpar(k_cat = 1, k_cont = 1, method = "Polynomial", means = 0,
  vars = 1, skews = 0, skurts = 0, fifths = 0, sixths = 0,
  marginal = list(c(1/3, 2/3)), rho = matrix(c(1, 0.4, 0.4, 1), 2, 2),
  quiet = TRUE)
## Not run: 
# 2 continuous mixture, 1 binary, 1 zero-inflated Poisson, and
# 1 zero-inflated NB variable

# Mixture variables: Normal mixture with 2 components;
# mixture of Logistic(0, 1), Chisq(4), Beta(4, 1.5)
# Find cumulants of components of 2nd mixture variable
L &lt;- calc_theory("Logistic", c(0, 1))
C &lt;- calc_theory("Chisq", 4)
B &lt;- calc_theory("Beta", c(4, 1.5))

skews &lt;- skurts &lt;- fifths &lt;- sixths &lt;- NULL
Six &lt;- list()
mix_pis &lt;- list(c(0.4, 0.6), c(0.3, 0.2, 0.5))
mix_mus &lt;- list(c(-2, 2), c(L[1], C[1], B[1]))
mix_sigmas &lt;- list(c(1, 1), c(L[2], C[2], B[2]))
mix_skews &lt;- list(rep(0, 2), c(L[3], C[3], B[3]))
mix_skurts &lt;- list(rep(0, 2), c(L[4], C[4], B[4]))
mix_fifths &lt;- list(rep(0, 2), c(L[5], C[5], B[5]))
mix_sixths &lt;- list(rep(0, 2), c(L[6], C[6], B[6]))
mix_Six &lt;- list(list(NULL, NULL), list(1.75, NULL, 0.03))
Nstcum &lt;- calc_mixmoments(mix_pis[[1]], mix_mus[[1]], mix_sigmas[[1]],
  mix_skews[[1]], mix_skurts[[1]], mix_fifths[[1]], mix_sixths[[1]])
Mstcum &lt;- calc_mixmoments(mix_pis[[2]], mix_mus[[2]], mix_sigmas[[2]],
  mix_skews[[2]], mix_skurts[[2]], mix_fifths[[2]], mix_sixths[[2]])
means &lt;- c(Nstcum[1], Mstcum[1])
vars &lt;- c(Nstcum[2]^2, Mstcum[2]^2)

marginal &lt;- list(0.3)
support &lt;- list(c(0, 1))
lam &lt;- 0.5
p_zip &lt;- 0.1
size &lt;- 2
prob &lt;- 0.75
p_zinb &lt;- 0.2

k_cat &lt;- k_pois &lt;- k_nb &lt;- 1
k_cont &lt;- 0
k_mix &lt;- 2
Rey &lt;- matrix(0.39, 8, 8)
diag(Rey) &lt;- 1
rownames(Rey) &lt;- colnames(Rey) &lt;- c("O1", "M1_1", "M1_2", "M2_1", "M2_2",
  "M2_3", "P1", "NB1")

# set correlation between components of the same mixture variable to 0
Rey["M1_1", "M1_2"] &lt;- Rey["M1_2", "M1_1"] &lt;- 0
Rey["M2_1", "M2_2"] &lt;- Rey["M2_2", "M2_1"] &lt;- Rey["M2_1", "M2_3"] &lt;- 0
Rey["M2_3", "M2_1"] &lt;- Rey["M2_2", "M2_3"] &lt;- Rey["M2_3", "M2_2"] &lt;- 0

# use before contmixvar1 with 1st mixture variable:
# change mix_pis to not sum to 1

check1 &lt;- validpar(k_mix = 1, method = "Polynomial", means = Nstcum[1],
  vars = Nstcum[2]^2, mix_pis = C(0.4, 0.5), mix_mus = mix_mus[[1]],
  mix_sigmas = mix_sigmas[[1]], mix_skews = mix_skews[[1]],
  mix_skurts = mix_skurts[[1]], mix_fifths = mix_fifths[[1]],
  mix_sixths = mix_sixths[[1]])

# use before validcorr: should return TRUE

check2 &lt;- validpar(k_cat, k_cont, k_mix, k_pois, k_nb, "Polynomial", means,
  vars, skews, skurts, fifths, sixths, Six, mix_pis, mix_mus, mix_sigmas,
  mix_skews, mix_skurts, mix_fifths, mix_sixths, mix_Six, marginal, support,
  lam, p_zip, size, prob, mu = NULL, p_zinb, rho = Rey)


## End(Not run)

</code></pre>


</div>