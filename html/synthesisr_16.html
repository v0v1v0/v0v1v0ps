<div class="container">

<table style="width: 100%;"><tr>
<td>detect_</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Detect file formatting information</h2>

<h3>Description</h3>

<p>Bibliographic data can be stored in a number of different file types, meaning that detecting consistent attributes of those files is necessary if they are to be parsed accurately. These functions attempt to identify some of those key file attributes. Specifically, <code>detect_parser</code> determines which <code>parse_</code> function to use; <code>detect_delimiter</code> and <code>detect_lookup</code> identify different attributes of RIS files; and <code>detect_year</code> attempts to fill gaps in publication years from other information stored in a <code>data.frame</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">detect_parser(x)

detect_delimiter(x)

detect_lookup(tags)

detect_year(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A character vector containing bibliographic data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tags</code></td>
<td>
<p>A character vector containing RIS tags.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>a data.frame containing bibliographic data</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>detect_parser</code> and <code>detect_delimiter</code> return a length-1 character; <code>detect_year</code> returns a character vector listing estimated publication years; and <code>detect_lookup</code> returns a <code>data.frame</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">revtools &lt;- c(
  "",
  "PMID- 31355546",
  "VI  - 10",
  "IP  - 4",
  "DP  - 2019 Dec",
  "TI  - revtools: An R package to support article
         screening for evidence synthesis.",
  "PG  - 606-614",
  "LID - 10.1002/jrsm.1374 [doi]",
  "AU  - Westgate MJ",
  "LA  - eng",
  "PT  - Journal Article",
  "JT  - Research Synthesis Methods",
  ""
)

# detect basic attributes of ris files
detect_parser(revtools)
detect_delimiter(revtools)

# determine which tag format to use
tags &lt;- trimws(unlist(lapply(
  strsplit(revtools, "- "),
  function(a){a[1]}
)))
pubmed_tag_list &lt;- detect_lookup(tags[!is.na(tags)])

# find year data in other columns
df &lt;- as.data.frame(parse_pubmed(revtools))
df$year &lt;- detect_year(df)
</code></pre>


</div>