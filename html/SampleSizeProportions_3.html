<div class="container">

<table style="width: 100%;"><tr>
<td>propdiff.alc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bayesian sample size determination for the difference between two binomial proportions using the Average Length Criterion</h2>

<h3>Description</h3>

<p>The function <code>propdiff.alc</code> returns the required sample sizes to reach a given posterior credible interval length on average for a fixed coverage probability for the difference between two binomial proportions.</p>


<h3>Usage</h3>

<pre><code class="language-R">propdiff.alc(len, c1, d1, c2, d2, level = 0.95, equal = TRUE, m = 10000, mcs = 3)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>len</code></td>
<td>
<p>The desired average length of the posterior credible interval for the difference between the two unknown proportions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c1</code></td>
<td>
<p>First prior parameter of the Beta density for the binomial proportion for the first population</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d1</code></td>
<td>
<p>Second prior parameter of the Beta density for the binomial proportion for the first population</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c2</code></td>
<td>
<p>First prior parameter of the Beta density for the binomial proportion for the second population</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d2</code></td>
<td>
<p>Second prior parameter of the Beta density for the binomial proportion for the second population</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>The fixed coverage probability of the posterior credible interval (e.g., 0.95)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>equal</code></td>
<td>
<p>logical. Whether or not the final group sizes (n1, n2) are forced to be equal:<br></p>

<table>
<tr>
<td style="text-align: left;">
    </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> when equal = TRUE,</td>
<td style="text-align: left;"> final sample sizes n1 = n2;</td>
</tr>
<tr>
<td style="text-align: left;">
    </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> when equal = FALSE,</td>
<td style="text-align: left;"> final sample sizes (n1, n2) minimize the expected posterior variance given a total of n1+n2 observations</td>
</tr>
<tr>
<td style="text-align: left;">
    </td>
</tr>
</table>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>The number of points simulated from the preposterior distribution of the data. For each point, the length of the highest posterior density interval of fixed coverage probability <em>level</em> is estimated, in order to approximate the average length. Usually 10000 is sufficient, but one can increase this number at the expense of program running time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mcs</code></td>
<td>
<p>The Maximum number of Consecutive Steps allowed in the same direction in the march towards the optimal sample size, before the result for the next upper/lower bound is cross-checked. In our experience, mcs = 3 is a good choice.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Assume that a sample from each of two populations will be
collected in order to estimate the difference between two independent binomial proportions.
Assume that the proportions have prior information in the form of 
Beta(<em>c1</em>, <em>d1</em>) and Beta(<em>c2</em>, <em>d2</em>) densities in each population, respectively.
The function <code>propdiff.alc</code> returns the required sample sizes to attain the
desired average length <em>len</em> for the posterior credible interval of fixed coverage probability <em>level</em> 
for the difference between the two unknown proportions.
<br><br>
This function uses a fully Bayesian approach to sample size determination. 
Therefore, the desired coverages and lengths are only realized if the prior distributions input to the function
are used for final inferences. Researchers preferring to use the data only for final inferences are encouraged 
to use the Mixed Bayesian/Likelihood version of the function.</p>


<h3>Value</h3>

<p>The required sample sizes (n1, n2) for each group given the inputs to the function.</p>


<h3>Note</h3>

<p>The sample sizes are calculated via Monte Carlo simulations, and therefore may vary from one call to the next.</p>


<h3>Author(s)</h3>

<p>Lawrence Joseph <a href="mailto:lawrence.joseph@mcgill.ca">lawrence.joseph@mcgill.ca</a>, Patrick Bélisle and Roxane du Berger</p>


<h3>References</h3>

<p>Joseph L, du Berger R, and Bélisle P.<br>
Bayesian and mixed Bayesian/likelihood criteria for sample size determination<br>
Statistics in Medicine 1997;16(7):769-781.</p>


<h3>See Also</h3>

<p><code>propdiff.acc</code>, <code>propdiff.modwoc</code>, <code>propdiff.woc</code>, <code>propdiff.mblacc</code>, <code>propdiff.mblalc</code>, <code>propdiff.mblmodwoc</code>, <code>propdiff.mblwoc</code></p>


<h3>Examples</h3>

<pre><code class="language-R">propdiff.alc(len=0.05, c1=3, d1=11, c2=11, d2=54)</code></pre>


</div>