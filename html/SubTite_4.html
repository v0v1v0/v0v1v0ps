<div class="container">

<table style="width: 100%;"><tr>
<td>GetSubTite</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Gives the subgroup specific optimal dose vector.</h2>

<h3>Description</h3>

<p>Returns a list containing the optimal doses to enroll each subgroup at and the subgroups that should have their accrual suspended temporarily.
</p>


<h3>Usage</h3>

<pre><code class="language-R">GetSubTite(
  Y,
  I,
  Doses,
  Groups,
  Include = rep(1, length(Y)),
  ID,
  cohort,
  Conservative,
  T1,
  Target,
  Upper,
  Dose,
  meanmu,
  meanslope,
  MeanInts,
  MeanSlopes,
  VarInt,
  VarSlope,
  phetero,
  Borrow,
  B
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>Vector containing observed event or censoring times.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>I</code></td>
<td>
<p>Vector containing event indicators (1 if patient experiences an event for a patient).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Doses</code></td>
<td>
<p>Vector containing numerical doses assigned to patients in the trial.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Groups</code></td>
<td>
<p>Vector containing group assignment of patients, 1 is baseline group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Include</code></td>
<td>
<p>Binary vector indicating whether each patient record should be included in the decision making process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ID</code></td>
<td>
<p>Vector of patient IDs. Can be numeric or character valued.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cohort</code></td>
<td>
<p>Number of patients needed to be assigned at a dose level prior to escalation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Conservative</code></td>
<td>
<p>Binary Indicator of Whether conservative escalation, i.e. not allowing escalation until cohort patients have been fully evaluated at the highest tried dose level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T1</code></td>
<td>
<p>Reference time for toxicity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Target</code></td>
<td>
<p>Target cumulative toxicity probability vector at time T1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Upper</code></td>
<td>
<p>Cutoff values used to determine if accrual in a subgroup should be suspended.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Dose</code></td>
<td>
<p>Vector containing the standardized doses considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meanmu</code></td>
<td>
<p>Prior mean for baseline intercept.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meanslope</code></td>
<td>
<p>Prior mean for baseline slope.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MeanInts</code></td>
<td>
<p>Vector of prior means for the group specific intercept parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MeanSlopes</code></td>
<td>
<p>Vector of prior means for the group specific slope parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>VarInt</code></td>
<td>
<p>Prior variance for the intercept parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>VarSlope</code></td>
<td>
<p>Prior variance for the slope parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phetero</code></td>
<td>
<p>Prior probability of heterogeneous subgroups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Borrow</code></td>
<td>
<p>Parameter to specify subgroup borrowing/clustering. 0=No borrowing, 1=Borrowing but no clustering, 2=Borrowing and clustering.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>Number of Iterations to run for MCMC</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a list with two objects, a vector of optimal doses for each subgroup and matrix of posterior toxicity probabilities at each dose level within each subgroup.
</p>


<h3>References</h3>

<p>[1] Chapple and Thall (2017), Subgroup Specific Dose Finding in Phase I Clinical Trials Based on Time to Toxicity Within a Fixed Follow Up Period.
</p>


<h3>Examples</h3>

<pre><code class="language-R">T1=28 ##Reference time for toxicity
Target=rep(.3,2) ##Target toxicity probability
Upper=rep(.95,2) ##Upper cutoffs for excessive toxicity
##How many patients in each subgroup have been assigned at each dose level?
cohort=3 ##Cohort size required for escalation
Conservative = 1 ##Conservative escalation
##Only can escalate with a fully evaluated cohort at the highest dose level.
##Matrix of umber of patients tried or fully evaluated at each dose level.
##Hyperparameters
meanmu=-0.4467184 ##Common Intercept hypermean
meanslope= 0.8861634 ##Common slope hypermean
MeanInts =c(0, -0.5205379) ##Group Intercept hypermeans
MeanSlopes = c(0, 0.1888923) ##Group slope hyperneabs
VarInt=5 #Prior Variance of the intercept betas
VarSlope=1 ##Prior Variance of slope betas
phetero=.9 ##Prior Probability of hetergeneity
Borrow=0 ##Borrowing specification, 0=none, 1=some, 2=clustering.
B=5000 ##Number of iterations
Borrow=2
Y=c(28,26,29,28,29,5,1)
RawDose=c(350,420,530,660,825)
Dose=(RawDose-mean(RawDose))/sd(RawDose)
I &lt;- c(0,0,0,0,0,0,0)
Doses &lt;- rep(2,7)
Groups &lt;- c(0,1,1,0,0,1,1)
Include &lt;- rep(1,7)
ID=1:length(Y)
Z=GetSubTite(Y, I,Doses, Groups, Include,ID,cohort, Conservative,
T1,Target,  Upper, Dose,  meanmu, meanslope,
 MeanInts,  MeanSlopes ,VarInt,VarSlope,phetero, Borrow,B)
Z
</code></pre>


</div>