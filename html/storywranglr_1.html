<div class="container">

<table style="width: 100%;"><tr>
<td>ngrams</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Explore Twitter trends with the Storywrangler ngrams API</h2>

<h3>Description</h3>

<p>Storywrangler's ngrams API lets you search a large historical database of
Twitter data for daily usage statistics about strings of one, two, and three
words (1-grams, 2-grams, and 3-grams respectively).
</p>
<p>This function returns daily historical usage statistics for a given query
over data set's entire time range.
</p>
<p>For more details about Storywrangler, please see:
</p>

<ul>
<li>
<p> API documentation: <a href="https://github.com/janeadams/storywrangler">https://github.com/janeadams/storywrangler</a>
</p>
</li>
<li>
<p> Academic paper describing uses: <a href="https://advances.sciencemag.org/content/7/29/eabe6534.full">https://advances.sciencemag.org/content/7/29/eabe6534.full</a>
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">ngrams(
  query,
  metric = c("rank", "freq"),
  language = "en",
  rt = c(FALSE, TRUE),
  fill_dates = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>Character string with the n-gram(s) to query. One, two, or three
words separated by spaces will run query that string as a 1-gram, 2-gram,
or 3-gram respectively. More than three space-separated words will be
treated as separate queries for individual 1-grams.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metric</code></td>
<td>
<p>The measure of lexical fame to return: accepts values <code>rank</code>
(default) and <code>freq</code>. <em>Note:</em> API returns both by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>language</code></td>
<td>
<p>Two-letter code for the language to search. Defaults to <code>en</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rt</code></td>
<td>
<p>Boolean for whether to include retweets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_dates</code></td>
<td>
<p>Boolean, defaults to <code>FALSE</code>. The Storywrangler ngrams API
only returns rows for dates when it detected any ngram usage. By default,
this function passes along that data. If the parameter <code>fill_dates</code> is set
to <code>TRUE</code>, this function adds rows with <code>NA</code> values for each day between
the earliest and latest dates in the response. Note that this is closer to
Storywrangler's behaviour if you download ngram statistics from the web
interface.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A tibble with the API query and response. If the API returns no data,
this function returns a 0-row tibble.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Query a simple 1-gram about the populatity of potatoes
result &lt;- ngrams("potatoes")

# Query a 2-gram about the popularity of potato chips
result &lt;- ngrams("potato chips")

# Query *four* 1-grams related to potatoes
# Note! If there are more than 3 words, they are all treated as 1-grams
result &lt;- ngrams("potato potahto spud taters")

## End(Not run)
</code></pre>


</div>