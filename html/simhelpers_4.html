<div class="container">

<table style="width: 100%;"><tr>
<td>bundle_sim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bundle functions into a simulation driver function</h2>

<h3>Description</h3>

<p>Bundle a data-generation function, a data-analysis function, and
(optionally) a performance summary function into a simulation driver.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bundle_sim(
  f_generate,
  f_analyze,
  f_summarize = NULL,
  reps_name = "reps",
  seed_name = "seed",
  summarize_opt_name = "summarize",
  row_bind_reps = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>f_generate</code></td>
<td>
<p>function for data-generation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_analyze</code></td>
<td>
<p>function for data-analysis. The first argument must be the
data, in the format generated by <code>f_analyze()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_summarize</code></td>
<td>
<p>function for calculating performance summaries across
replications. The first argument must be the replicated data analysis
results. Default is <code>NULL</code>, so that no summary function is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reps_name</code></td>
<td>
<p>character string to set the name of the argument for the
number of replications, with a default value of <code>"reps"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed_name</code></td>
<td>
<p>character string to set the name of the argument for the
seed option, with a default value of <code>"seed"</code>. Set to <code>NULL</code> to
remove the argument from the simulation driver.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summarize_opt_name</code></td>
<td>
<p>character string to set the name of the argument
for where to apply <code>f_summarize</code> to the simulation results, with a
default value of <code>TRUE</code>. Ignored if no <code>f_summarize</code> function is
specified. Set to <code>NULL</code> to remove the argument from the simulation
driver.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row_bind_reps</code></td>
<td>
<p>logical indicating whether to combine the simulation
results into a data frame using <code>rbind()</code>, with a default value of
<code>TRUE</code>. If <code>FALSE</code>, then the function will return replications in
a list and so <code>f_summarize</code> must be able to take a list as its first
argument.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A function to repeatedly run the 'f_generate' and 'f_analyze'
functions and (optionally) apply 'f_summarize' to the resulting
replications.
</p>


<h3>Examples</h3>

<pre><code class="language-R">f_G &lt;- rnorm
f_A &lt;- function(x, trim = 0) data.frame(y_bar = mean(x, trim = trim))
f_S &lt;- function(x, calc_sd = FALSE) {
  if (calc_sd) {
    res_SD &lt;- apply(x, 2, sd)
    res &lt;- data.frame(M = colMeans(x), SD = res_SD)
  } else {
    res &lt;- data.frame(M = colMeans(x))
  }
  res
}

# bundle data-generation and data-analysis functions
sim1 &lt;- bundle_sim(f_generate = f_G, f_analyze = f_A)
args(sim1)
res1 &lt;- sim1(4, n = 70, mean = 0.5, sd = 1, trim = 0.2)
res1

# bundle data-generation, data-analysis, and performance summary functions
sim2 &lt;- bundle_sim(f_generate = f_G, f_analyze = f_A, f_summarize = f_S)
args(sim2)
res2 &lt;- sim2(24, n = 7, mean = 0, sd = 1, trim = 0.2, calc_sd = TRUE)
res2

# bundle data-generation and data-analysis functions, returning results as a list
sim3 &lt;- bundle_sim(f_generate = f_G, f_analyze = f_A, row_bind_reps = FALSE)
args(sim3)
res3 &lt;- sim3(4, n = 70, mean = 0.5, sd = 3, trim = 0.2)
res3

</code></pre>


</div>