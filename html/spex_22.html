<div class="container">

<table style="width: 100%;"><tr>
<td>spex</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Polygon extent</h2>

<h3>Description</h3>

<p>Create Spatial Polygons with projection metadata from a 'Spatial Extent'.
</p>


<h3>Usage</h3>

<pre><code class="language-R">spex(x, crs, byid = FALSE, .id, ..., clipboard = FALSE)

## Default S3 method:
spex(x, crs = NULL, byid = FALSE, .id, ..., clipboard = FALSE)

## S3 method for class 'sf'
spex(x, crs, byid = FALSE, .id, ..., clipboard = FALSE)

## S3 method for class 'sfc'
spex(x, crs, byid = FALSE, .id, ..., clipboard = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>any object with a <code>Extent-class</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crs</code></td>
<td>
<p>a projection string</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>byid</code></td>
<td>
<p>return a separate object for every input sub-object (not yet implemented)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.id</code></td>
<td>
<p>optional name for output attribute name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments for methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clipboard</code></td>
<td>
<p>WIP this special-case allows x to be the result of the leafem clipboard copy process</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Called with no arguments will return the extent of the current 'par("usr")' setting.
</p>
<p>Called with a matrix, list, or data frame it will create an extent from a two columned thing.
</p>
<p>Called with <code>clipboard = TRUE</code> and <code>x</code> will be treated as the JSON-ic output of the clipboard copy from
leafem (WIP). If x is missing, it will be attempted to be read from the clipboard. Clipboard read cannot
work on RStudio Server, so we allow the text value to be passed in.
I.e. <code>spex(clipboard = TRUE)</code> will
read from the clipboard, <code>spex(tx, clipboard = TRUE)</code> will read from tx with value like
<code>'{"_southWest":{"lat":-1.307259612275665,"lng":23.411865234375},"_north...}"'</code>.
</p>
<p>This function is to replace a common pattern in spatial packages which is
</p>

<ul>
<li>
<p> create an <code>Extent-class</code>, a bounding box in xmin,xmax,ymin,ymax but without projection metadata
</p>
</li>
<li>
<p> coerce the Extent to <code>SpatialPolygons</code>
</p>
</li>
<li>
<p> restore the 'CRS', the "coordinate reference system", i.e. projection metadata
</p>
</li>
<li>
<p> elevate the object to be a <code>SpatialPolygonsDataFrame-class</code>.
</p>
</li>
</ul>
<p>In short, this pattern exists because there is no projection metadata stored
with either sp's <code>bbox</code> or raster's <code>Extent-class</code>.
</p>


<h3>Value</h3>

<p>'SpatialPolygonsDataFrame'
</p>


<h3>Warning</h3>

<p>Please note that an extent converted to polygons consists
of only four unique coordinates, and so this is not necessarily suited for
projection transformations.
</p>


<h3>See Also</h3>

<p>This pattern is displayed in the example code for <code>cover</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(raster)
data(lux)
exlux &lt;- spex(lux)

plot(lux)
plot(exlux, add = TRUE)

## put an extent and a CRS together
spex(extent(0, 1, 0, 1), crs = "+proj=laea +ellps=WGS84")
</code></pre>


</div>