<div class="container">

<table style="width: 100%;"><tr>
<td>elicitHeterogen</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Elicit a prior distribution for a random effects variance parameter</h2>

<h3>Description</h3>

<p>Opens a shiny app for the roulette elicitation method. The user clicks in the
grid to allocate 'probs' to 'bins'. The elicited probability inside each
bin is the proportion of probs in each bin. This will fit a distribution to the ratio R
of the 'largest' (97.5th percentile) to 'smallest' (2.5th percentile) treatment effect. 
A distribution for the variance effects variance parameter is inferred from the distribution 
of R, assuming that the random effects are normally distributed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">elicitHeterogen(
  lower = 1,
  upper = 10,
  gridheight = 10,
  nbins = 9,
  scale.free = TRUE,
  sigma = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>lower</code></td>
<td>
<p>The lower limit on the x-axis of the roulette grid.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper</code></td>
<td>
<p>The upper limit on the x-axis of the roulette grid.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gridheight</code></td>
<td>
<p>The maximum number of probs that can be allocated to a
single bin.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nbins</code></td>
<td>
<p>The number of equally sized bins drawn between <code>lower</code> and
<code>upper</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale.free</code></td>
<td>
<p>Logical. Default is <code>TRUE</code> for a scale free treatment effect,
such as an odds ratio, hazard ratio or relative risk. Set to <code>FALSE</code> for a treatment effect
that is scale dependent, or is on the probit scale. An approximation to the treatment effect
on the logit scale will be used (assuming a dichotomised response).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma</code></td>
<td>
<p>Individual observation standard deviation, required if <code>scale.free</code> is
<code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>BUGS code for incorporating the prior within a BUGS model. Additionally, a list with outputs 
</p>
<table>
<tr style="vertical-align: top;">
<td><code>allocation </code></td>
<td>
<p>table of bins, with number of probs allocated to each bin.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Gamma </code></td>
<td>
<p>parameters of the fitted gamma distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Log.normal </code></td>
<td>
<p>parameters of the fitted lognormal distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sumsq </code></td>
<td>
<p>sum of squares of elicited - fitted probabilities for each distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>best.fitting</code></td>
<td>
<p>the distribution with the lowest sum of squares.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>Regarding the option “spread end probs over empty bins” 
(unchecked as the default): suppose for example, the leftmost and rightmost non-empty
bins are [10,20] and [70,80], and each contain one prob, with 20 probs used in total. If the option
is unchecked, it is assumed P(X&lt;20) = P(X&gt;70) = 0.05 and P(X&lt;10) = P(X&gt;80) = 0. If the option
is checked, it is assumed P(X&lt;20) = P(X&gt;70) = 0.05 only.
</p>


<h3>Author(s)</h3>

<p>Jeremy Oakley &lt;j.oakley@sheffield.ac.uk&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 
elicitHeterogen()

## End(Not run)
</code></pre>


</div>