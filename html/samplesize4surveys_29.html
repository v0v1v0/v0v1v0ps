<div class="container">

<table style="width: 100%;"><tr>
<td>ss4HHSp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sample Sizes for Household Surveys in Two-Stages for Estimating Single Proportions</h2>

<h3>Description</h3>

<p>This function computes a grid of possible sample sizes for estimating single proportions under two-stage sampling designs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ss4HHSp(N, M, r, b, rho, P, delta, conf, m)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>The population size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>Number of clusters in the population.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>Percentage of people within the subpopulation of interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>Average household size (number of members).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>The Intraclass Correlation Coefficient.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>P</code></td>
<td>
<p>The value of the estimated proportion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta</code></td>
<td>
<p>The maximun margin of error that can be allowed for the estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf</code></td>
<td>
<p>The statistical confidence. By default <code>conf = 0.95</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>(vector) Number of households selected within PSU.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In two-stage (2S) sampling, the design effect is defined by
</p>
<p style="text-align: center;"><code class="reqn">DEFF = 1 + (\bar{m}-1)\rho</code>
</p>
 
<p>Where <code class="reqn">\rho</code> is defined as the intraclass correlation coefficient,  
<code class="reqn">\bar{m}</code> is the average sample size of units selected inside each cluster. 
The relationship of the full sample size of the two stage design (2S) with the 
simple random sample (SI) design is given by
</p>
<p style="text-align: center;"><code class="reqn"> n_{2S} =  n_{SI}*DEFF</code>
</p>



<h3>Value</h3>

<p>This function returns a grid of possible sample sizes. 
The first column represent the design effect,
the second column is the number of clusters to be selected, 
the third column is the number of units to be selected inside the clusters, 
and finally, the last column indicates the full sample size induced by this particular strategy.
</p>


<h3>Author(s)</h3>

<p>Hugo Andres Gutierrez Rojas &lt;hagutierrezro at gmail.com&gt;
</p>


<h3>References</h3>

<p>Gutierrez, H. A. (2009), <em>Estrategias de muestreo: Diseno de encuestas y estimacion de parametros</em>. Editorial Universidad Santo Tomas
</p>


<h3>See Also</h3>

<p><code>ICC</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
ss4HHSp(N = 50000000, M = 3000, r = 1, b = 3.5, 
rho = 0.034, P = 0.05, delta = 0.05, conf = 0.95,
m = c(5:15))

##################################
# Example with BigCity data      #
# Sample size for the estimation #
# of the unemployment rate       #
##################################

library(TeachingSampling)
data(BigCity)

BigCity1 &lt;- BigCity[!is.na(BigCity$Employment), ]
summary(BigCity1$Employment)
BigCity1$Unemp &lt;- Domains(BigCity1$Employment)[, 1]
BigCity1$Active &lt;- Domains(BigCity1$Employment)[, 1] +
Domains(BigCity1$Employment)[, 3]

N &lt;- nrow(BigCity)
M &lt;- length(unique(BigCity$PSU))
r &lt;- sum(BigCity1$Active)/N
b &lt;- N/length(unique(BigCity$HHID))
rho &lt;- ICC(BigCity1$Unemp, BigCity1$PSU)$ICC
P &lt;- sum(BigCity1$Unemp)/sum(BigCity1$Active)
delta &lt;- 0.05
conf &lt;- 0.95
m &lt;- c(5:15)
ss4HHSp(N, M, r, b, rho, P, delta, conf, m)
</code></pre>


</div>