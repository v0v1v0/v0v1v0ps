<div class="container">

<table style="width: 100%;"><tr>
<td>attTbl</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Attribute table</h2>

<h3>Description</h3>

<p>Converts a single or a multi-layer raster into an attribute table
(<code>data.frame</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">attTbl(r, var_names = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>single or multi-layer raster of the class <code>SpatRaster</code> (see
<code>help("rast", terra)</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_names</code></td>
<td>
<p>character vector, raster layers' names in the attribute
table. If <code>NULL</code>, then the original layers' names are used.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Attribute tables come with a column named <strong><code>"Cell"</code></strong> which
stores raster cell numbers and associate each row of the attribute table
with a cell of the raster object. The remaining columns of the attribute
table store the data contained in the raster layers. Note that only raster
cells having no missing value in no layer (<strong>complete cases</strong>) are included
in the attribute table.
</p>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Note</h3>

<p><strong>Attribute table contains only complete cases</strong>, i.e., raster cells
having a value for every layer of the stack.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(scapesClassification)
library(terra)

## CREATE A DUMMY RASTER ##
r &lt;- terra::rast(matrix(c(NA,100,100,NA,100,100,0,0,0),
                        nrow = 3,
                        ncol = 3,
                        byrow = TRUE))

## RASTER CELL NUMBERS ##
rcn &lt;- r; rcn[] &lt;- 1:9

## PLOT DATA AND CELL NUMBERS ##
oldpar &lt;- par(mfrow = c(1,2))
m &lt;- c(4, 1, 4, 1)

plot(r, col="grey90", colNA="red3", mar=m, asp = NA, axes=FALSE, legend=FALSE)
text(r)
lines(r)
mtext(side=3, line=0.2, adj=0, cex=1.5, font=2, "Dummy_var")
legend("bottomright", ncol=1, bg="white", fill=c("red3"),
       legend = c("NA cells (1 and 4)"))

plot(rcn, col="grey90", mar=m, asp=NA, axes=FALSE, legend=FALSE)
text(rcn)
lines(rcn)
mtext(side=3, line=0.2, adj=0, cex=1.5, font=2, "Cell numbers")
par(oldpar)

## VISUALIZE ATTRIBUTE TABLE ##

at &lt;- attTbl(r, var_names = c("dummy_var"))
at

# Note that cells 1 and 4 have missing values and therefore are not included in the table
any(at$Cell %in% c(1,4))
</code></pre>


</div>