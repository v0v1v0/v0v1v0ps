<div class="container">

<table style="width: 100%;"><tr>
<td>sig_report</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Summarise function complexity of a file or environment</h2>

<h3>Description</h3>

<p>Summarise function complexity of a file or environment
</p>


<h3>Usage</h3>

<pre><code class="language-R">sig_report(x, ...)

## Default S3 method:
sig_report(x, ...)

## S3 method for class 'environment'
sig_report(
  x,
  too_many_args = 10,
  too_many_lines = 50,
  length_metric = c("deparse", "body"),
  ...
)

## S3 method for class 'character'
sig_report(x, ...)

## S3 method for class 'sigreport'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A path to an R file or an environment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Passed to <code>sig_report.environment</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>too_many_args</code></td>
<td>
<p>Upper bound for a sensible number of args.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>too_many_lines</code></td>
<td>
<p>Upper bound for a sensible number of lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>length_metric</code></td>
<td>
<p>Either <code>"deparse"</code> or <code>"body"</code>.  See note.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>sig_report</code> summarises the number of input arguments and the 
number of lines of each function in an environment of file, and 
identifies problem files, in order to help you refactor your code.
If the input is a path to an R file, then that file is sourced into 
a new environment and and the report is generated from that.
The number of lines of code that a function takes up is subjective 
in R; this function gives you a choice of <code>length(deparse(fn))</code> or
<code>length(body(fn))</code>, depending upon the value of <code>length_metric</code>. 
The <code>body</code> metric tends to give smaller values than <code>deparse</code>, so 
you may want to reduce the <code>too_many_lines</code> argument.
</p>


<h3>Value</h3>

<p>An object of class “sigreport” with the elements:
</p>

<ul>
<li>
<p>n_varsNumber of variables.
</p>
</li>
<li>
<p>n_fnsNumber of functions.                            
</p>
</li>
<li>
<p>n_argsTable of the number of args of each function.
</p>
</li>
<li>
<p>too_many_argsUpper bound for a sensible number of args.
</p>
</li>
<li>
<p>fns_with_many_argsNames of each function with more args 
than <code>too_many_args</code>.
</p>
</li>
<li>
<p>n_linesTable of the number of lines of each function body. 
</p>
</li>
<li>
<p>too_many_linesUpper bound for a sensible number of lines.
</p>
</li>
<li>
<p>long_fnsNames of each function with more lines than 
<code>too_many_lines</code>.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">#Summarize function complexity in an environment
sig_report(pkg2env(stats))    
#Summarize function complexity in a file

# From a file
tmp &lt;- tempfile(fileext = ".R")
dump("scan", tmp)
sig_report(tmp)
   
# From an environment, adjusting the cutoff for reporting
sig_report(              
  baseenv(),  
  too_many_args  = 20,    
  too_many_lines = 100
)      
# Alternate length metric          
sig_report(baseenv(), length_metric = "body")
</code></pre>


</div>