<div class="container">

<table style="width: 100%;"><tr>
<td>som.nn.validate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Predict class labels for a validation dataset</h2>

<h3>Description</h3>

<p>A model of type <code>SOMnn</code> is tested with a validation dataset. The dataset must
include a column with correct class labels.
The model is used to predict class labels. Confusion table,
specificity, sensitivity and accuracy for each class are calculated.
</p>


<h3>Usage</h3>

<pre><code class="language-R">som.nn.validate(model, x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>model of type <code>SOMnn</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>data.fame with validation data. Samples are requested as rows.
<code>x</code> must include the same columns as the data.frame with which the model
have been trained originally.
A column with correct class labels is needed. The column with class
lables is selected by the slot <code>class.idx</code> of the model.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Parameters stored in the model are applied for k-NN-like prediction. If necessary
the parameters can be changed by <code>som.nn.set</code> before testing.
</p>
<p>The funcion is only a wrapper and actually calls <code>som.nn.continue</code> with the test data and
without training (i.e. <code>len = 0</code>).
</p>


<h3>Value</h3>

<div class="sourceCode"><pre>    S4 object of type \code{\link{SOMnn}} with the unchanged model and the
            test statistics for the test data.
</pre></div>


<h3>Examples</h3>

<pre><code class="language-R">## get example data and add class labels:
data(iris)
species &lt;- iris$Species

## train with default radius = diagonal / 2:
rlen &lt;- 500
som &lt;- som.nn.train(iris, class.col = "Species", kernel = "internal",
                    xdim = 15, ydim = 9, alpha = 0.2, len = rlen, 
                    norm = TRUE, toroidal = FALSE)


## continue training with different alpha and radius;
som &lt;- som.nn.continue(som, iris, alpha = 0.02, len=500, radius = 5)
som &lt;- som.nn.continue(som, iris, alpha = 0.02, len=500, radius = 2)

## predict some samples:
unk &lt;- iris[,!(names(iris) %in% "Species")]

setosa &lt;- unk[species=="setosa",]
setosa &lt;- setosa[sample(nrow(setosa), 20),]

versicolor &lt;- unk[species=="versicolor",]
versicolor &lt;- versicolor[sample(nrow(versicolor), 20),]

virginica &lt;- unk[species=="virginica",]
virginica &lt;- virginica[sample(nrow(virginica), 20),]

p &lt;- predict(som, unk)
head(p)

## plot:
plot(som)
dev.off()
plot(som, predict = predict(som, setosa))
plot(som, predict = predict(som, versicolor), add = TRUE, pch.col = "magenta", pch = 17)
plot(som, predict = predict(som, virginica), add = TRUE, pch.col = "white", pch = 8)

</code></pre>


</div>