<div class="container">

<table style="width: 100%;"><tr>
<td>plotWB</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Visualize Monthly Water Balance</h2>

<h3>Description</h3>

<p>This function offers one possible visualization for the results of <code>monthlyWB()</code>. Note that "surplus" water is stacked on top of "actual ET", and "deficit" water is stacked below "storage". Calculate actual values for "surplus" and "deficit" from the figure like this:
</p>

<ul>
<li>
<p> surplus value = surplus - AET
</p>
</li>
<li>
<p> deficit value = deficit - storage
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">plotWB(
  WB,
  AWC = attr(WB, "AWC"),
  sw.col = "#377EB8",
  surplus.col = "#4DAF4A",
  et.col = "#E41A1C",
  deficit.col = "#FF7F00",
  pch = c(21, 21),
  pt.cex = 1,
  pt.col = par("bg"),
  pt.bg = par("fg"),
  lty = c(1, 2),
  lwd = 2,
  n.ticks = 8,
  grid.col = grey(0.65),
  month.cex = 1,
  legend.cex = 0.9,
  ylim
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>WB</code></td>
<td>
<p>output from <code>monthlyWB()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AWC</code></td>
<td>
<p>available water-holding capacity (mm), typically the value used in <code>monthlyWB()</code> and stored as an attribute of <code>WB</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sw.col</code></td>
<td>
<p>color for soil water ("storage)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>surplus.col</code></td>
<td>
<p>color for surplus water</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>et.col</code></td>
<td>
<p>color for ET</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deficit.col</code></td>
<td>
<p>color for deficit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>plotting character for PPT and PET points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pt.cex</code></td>
<td>
<p>character expansion factor for PPT and PET points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pt.col</code></td>
<td>
<p>point symbol color for PPT and PET points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pt.bg</code></td>
<td>
<p>point symbol background color for PPT and PET points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>line type for PPT and PET lines (<code>c(1, 2)</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>line width for PPT and PET curves</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.ticks</code></td>
<td>
<p>approximate number of tick marks on positive and negative y-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid.col</code></td>
<td>
<p>horizontal grid line color</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>month.cex</code></td>
<td>
<p>scaling factor for month labels (x-axis)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.cex</code></td>
<td>
<p>scaling factor for legend</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>optional vector of y-axis limits, <code>c(-min, max)</code>, typically used when comparing drastically different water balances in the same figure. Default limits are usually best for a single water balance plot.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>nothing, function is called to generate graphical output
</p>


<h3>Note</h3>

<p>You may have to adjust figure margins and size to get all of the elements to "look right".
</p>


<h3>Author(s)</h3>

<p>D.E. Beaudette and J.M. Skovlin
</p>


<h3>Examples</h3>

<pre><code class="language-R">
if(requireNamespace('hydromad')) {

## A shallow / droughty soil near Sonora CA 
# 100mm (4") AWC
AWC &lt;- 100
PPT &lt;- c(171, 151, 138, 71, 36, 7, 1, 2, 11, 48, 102, 145)
PET &lt;- c(15.17, 18.26, 30.57, 42.95, 75.37, 108.05, 139.74, 128.9, 93.99, 59.84, 26.95, 14.2)

# water-year
# three years
x.wb &lt;- monthlyWB(AWC, PPT, PET, S_init = 0, starting_month = 9, rep = 3)
x.wb[x.wb$mo == 'Sep', ]

# plot all three years
plotWB(x.wb)

# water-year / last iteration
x.wb &lt;- monthlyWB(AWC, PPT, PET, S_init = 0, 
                  starting_month = 9, rep = 3, 
                  keep_last = TRUE
)

# plot
plotWB(x.wb)


## Drummer series (Fine-silty, mixed, superactive, mesic Typic Endoaquolls), southern IL

AWC &lt;- 244
PPT &lt;- c(36, 37, 54, 82, 98, 96, 92, 75, 69, 70, 65, 50)
PET &lt;- c(0, 0, 12, 46, 90, 130, 145, 128, 88, 46, 14, 0)

# using calendar year
x.wb &lt;- monthlyWB(AWC, PPT, PET, S_init = 0,
                  starting_month = 1, rep = 3,
                  keep_last = TRUE
)

plotWB(x.wb)

}

</code></pre>


</div>