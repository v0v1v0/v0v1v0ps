<div class="container">

<table style="width: 100%;"><tr>
<td>lv3</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Lotka-Volterra-Type Model with Resource, Prey and Predator</h2>

<h3>Description</h3>

<p><span class="pkg">simecol</span> example: predator prey-model with three equations:
predator, prey and resource (e.g. nutriens, grassland).</p>


<h3>Usage</h3>

<pre><code class="language-R">data(lv3)</code></pre>


<h3>Format</h3>

<p>A valid S4 object according to the <code>odeModel</code>
specification.  The object contains the following slots:
</p>

<dl>
<dt><code>main</code></dt>
<dd>
<p>Lotka-Volterra equations for predator
prey and resource</p>
</dd>
</dl>
<p>.
</p>
<dl>
<dt><code>parms</code></dt>
<dd>
<p>Vector with named parameters of the model:
</p>

<dl>
<dt><code>c</code></dt>
<dd>
<p>growth rate of the prey population,</p>
</dd>
<dt><code>d</code></dt>
<dd>
<p>encounter rate of predator and prey,</p>
</dd>
<dt><code>e</code></dt>
<dd>
<p>yield factor (allows conversion with respect to <code>d</code>),</p>
</dd>
<dt><code>f</code></dt>
<dd>
<p>death rate of the predator population,</p>
</dd>
<dt><code>g</code></dt>
<dd>
<p>recycling parameter.</p>
</dd>
</dl>
</dd>
<dt><code>inputs</code></dt>
<dd>
<p>Time series specifying external delivery of resource.</p>
</dd>
<dt><code>times</code></dt>
<dd>
<p>Simulation time and integration interval.</p>
</dd>
<dt><code>init</code></dt>
<dd>
<p>Vector with start values for <code>s</code>, <code>p</code> and <code>k</code>.
</p>

<dl>
<dt><code>s</code></dt>
<dd>
<p>Resource (e.g. grassland or phosphorus).</p>
</dd>
<dt><code>p</code></dt>
<dd>
<p>Producer (prey).</p>
</dd>
<dt><code>k</code></dt>
<dd>
<p>Consumer (predator).</p>
</dd>
</dl>
</dd>
<dt><code>solver</code></dt>
<dd>
<p>Character string specifying the integration method.</p>
</dd>
</dl>
<h3>See Also</h3>

<p><code>simecol-package</code>,
<code>sim</code>,
<code>parms</code>,
<code>init</code>,
<code>times</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">##============================================
## Basic Usage:
##   explore the example
##============================================
data(lv3)
plot(sim(lv3))
times(lv3)["by"] &lt;- 5    # set maximum external time step to a large value
plot(sim(lv3))           # wrong! automatic time step overlooks internal inputs
plot(sim(lv3, hmax = 1)) # integration with correct maximum internal time step

##============================================
## Implementation:
##   The code of the model
##============================================
lv3 &lt;- new("odeModel",
  main = function(time, init, parms, inputs) {
    s.in &lt;- approxTime1(inputs, time, rule = 2)["s.in"]
    with(as.list(c(init, parms)),{
      ds &lt;- s.in  - b*s*p + g*k
      dp &lt;- c*s*p - d*k*p
      dk &lt;- e*p*k - f*k
      list(c(ds, dp, dk), s.in = s.in)
    })
  },
  parms = c(b = 0.1, c = 0.1, d = 0.1, e = 0.1, f = 0.1, g = 0),
  times  = c(from = 0, to = 200, by = 1),
  inputs = as.matrix(
    data.frame(
      time = c(0,   99, 100,  101, 200),
      s.in = c(0.1, 0.1, 0.5, 0.1, 0.1)
    )
  ),
  init = c(s = 1, p = 1, k = 1), # substrate, producer, consumer
  solver = "lsoda"
)  
</code></pre>


</div>