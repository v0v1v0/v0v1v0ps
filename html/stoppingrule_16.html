<div class="container">

<table style="width: 100%;"><tr>
<td>OC.rule.surv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Operating Characteristics Function (Survival Data)</h2>

<h3>Description</h3>

<p>Compute operating characteristics for a stopping rule at a set of toxicity rates.
Characteristics calculated include the overall rejection probability, the expected
number of patients evaluated, and the expected number of events for time-to-event data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">OC.rule.surv(rule, ps, MC, A, s = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rule</code></td>
<td>
<p>A <code>rule.surv</code> object calculated by <code>calc.rule.surv()</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ps</code></td>
<td>
<p>A vector of toxicity probabilities at which the operating characteristics will be computed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MC</code></td>
<td>
<p>Number of Monte Carlo replicates to simulate for estimating operating characteristics. If <code>MC</code> = 0, a Poisson process assumption on the event process is used to compute operating characteristics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>A</code></td>
<td>
<p>Length of the enrollment period. Only required if <code>MC</code> &gt; 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>
<p>Shape parameter for the Weibull distribution used to simulate event times. Default is <code>s</code> = 1 (exponential). Only required if <code>MC</code> &gt; 0.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Operating characteristics are generated either by Monte Carlo estimation or computed
directly under a Poisson process assumption for the event process over time. The
Monte Carlo approach assumes a random uniform accrual distribution and a Weibull
event time distribution with distribution function <code class="reqn">exp(-\lambda * t^s)</code>, so
it requires specification of the enrollment period length and shape parameter
of the event distribution.
</p>


<h3>Value</h3>

<p>A matrix with columns containing the toxicity probabilities <code>ps</code>,
the corresponding rejection probabilities, and the corresponding expected number
of events. If <code>MC</code> is not NULL, the expected number of enrolled patients and total
follow up time are also included.
</p>


<h3>Examples</h3>

<pre><code class="language-R">poc_rule = calc.rule.surv(n=50,p0=0.20,alpha=0.10,type="Pocock",tau=100)
gp_rule = calc.rule.surv(n=50,p0=0.20,alpha=0.10,type="GP",tau=60,param=c(1,1000))
OC.rule.surv(rule=poc_rule,ps=seq(0.2,0.4,0.05),MC=0)
OC.rule.surv(rule=gp_rule,ps=seq(0.2,0.4,0.05),MC=0)

set.seed(82426499)
ps = seq(0.15,0.35,0.05)
wt_rule = calc.rule.surv(n=46,p0=0.15,alpha=0.10,type="WT",tau=100,param=0.25)
OC.rule.surv(rule=wt_rule,ps=ps,MC=1000,A=1095)

p1h = 0.3418071
sp_rule = calc.rule.surv(n=46,p0=0.15,alpha=0.10,type="SPRT",tau=100,param=p1h)
OC.rule.surv(rule=sp_rule,ps=ps,MC=1000,A=1095)

gp_rule = calc.rule.surv(n=46,p0=0.15,alpha=0.10,type="GP",tau=100,
                          param=11.5*c(-log(1-0.15),100))
OC.rule.surv(rule=gp_rule,ps=ps,MC=1000,A=1095)

</code></pre>


</div>