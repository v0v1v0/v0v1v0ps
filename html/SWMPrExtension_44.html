<div class="container">

<table style="width: 100%;"><tr>
<td>seasonal_boxplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Seasonal boxplots</h2>

<h3>Description</h3>

<p>Annual time series for year of interest on top of long-term percentiles
</p>


<h3>Usage</h3>

<pre><code class="language-R">seasonal_boxplot(swmpr_in, ...)

## S3 method for class 'swmpr'
seasonal_boxplot(
  swmpr_in,
  param = NULL,
  hist_rng = NULL,
  target_yr = NULL,
  criteria = NULL,
  free_y = FALSE,
  log_trans = FALSE,
  converted = FALSE,
  criteria_lab = "WQ Threshold",
  stat_lab = "Average",
  plot_title = FALSE,
  plot = TRUE,
  FUN = function(x) mean(x, na.rm = TRUE),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>swmpr_in</code></td>
<td>
<p>input swmpr object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed to other methods. See <code>assign_season</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param</code></td>
<td>
<p>chr string of variable to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hist_rng</code></td>
<td>
<p>numeric vector, if historic range is not specified then the min/max values of the data set will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target_yr</code></td>
<td>
<p>numeric, the target year that should be compared against the historic range. If target year is not specified then dot will not be plotted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criteria</code></td>
<td>
<p>numeric, a numeric criteria that will be plotted as a horizontal line</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>free_y</code></td>
<td>
<p>logical, should the y-axis be free? Defaults to <code>FALSE</code>. If <code>FALSE</code>, defaults to zero, unless negative values are present. If <code>TRUE</code>, y-axis limits are selected by <code>ggplot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log_trans</code></td>
<td>
<p>logical, should y-axis be log? Defaults to <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>converted</code></td>
<td>
<p>logical, were the units converted from the original units used by CDMO? Defaults to <code>FALSE</code>. See <code>y_labeler</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criteria_lab</code></td>
<td>
<p>chr, label for the threshold criteria defined in <code>criteria</code>. Defaults to "WQ Threshold"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stat_lab</code></td>
<td>
<p>chr, label for the summary statistic defined in <code>FUN</code>. Defaults to "Average"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_title</code></td>
<td>
<p>logical, should the station name be included as the plot title? Defaults to <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>logical, should a plot be returned? Defaults to <code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>function used to aggregate daily SWMP data</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function uses boxplots to summarize statistics calculated on a daily basis across user-defined seasons for all years within the historic range (<code>hist_rng</code>). If <code>hist_rng</code> is not specified then the minimum and maximum years within the data set will be used. The summary statistics used to generate the boxplots are <code>ggplot2</code> defaults: the center of the box is a median, and the lower/upper limits of the box are the 25-th and 75-th percentiles. The whiskers extend to the furthest data point within 1.5 * inter-quartile range (IQR). The dots beyond the whiskers are data points that are greater than 1.5 * IQR. If the user selects a <code>target_yr</code>, then a median summary statistic value will be plotted as a point against the boxplots.
</p>
<p>Using the <code>FUN</code> argument, the user can specify the daily summary statistic to use. Commonly used statistics are <code>min(x, na.rm = TRUE)</code>, <code>mean(x, na.rm = TRUE)</code>, and <code>max(x, na.rm = TRUE)</code>. After specifying <code>FUN</code>, the user should also specify <code>stat_lab</code>, which is used to construct appropriate legend labels.
</p>
<p>The user also has the option to add a threshold hold line using the <code>criteria</code> argument. Typically, this value is a water quality threshold, which is why <code>criteria_lab</code> defaults to <code>'WQ Threshold'</code>. However, the user has the option to specify any other type of threshold they wish. when doing so, the value for <code>criteria_lab</code> should be changed accordingly.
</p>


<h3>Value</h3>

<p>Returns a <code>ggplot</code> object or a <code>data.frame</code> if <code>plot = FALSE</code>
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>See Also</h3>

<p><code>ggplot</code>, <code>assign_season</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">


dat &lt;- elksmwq
dat &lt;- qaqc(dat, qaqc_keep = c('0', '3', '5'))

x &lt;-
  seasonal_boxplot(dat, param = 'do_mgl')

y &lt;-
    seasonal_boxplot(dat, param = 'do_mgl', target_yr = 2015,
    season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12)),
    season_names = c('Winter', 'Spring', 'Summer', 'Fall'),
    season_start = 'Spring')

z_min &lt;-
   seasonal_boxplot(dat, param = 'do_mgl',
   stat_lab = 'Minimum', FUN = function(x) min(x, na.rm = TRUE))

z_max &lt;-
   seasonal_boxplot(dat, param = 'do_mgl',
   stat_lab = 'Maximum', FUN = function(x) max(x, na.rm = TRUE))

</code></pre>


</div>