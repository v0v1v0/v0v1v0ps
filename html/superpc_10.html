<div class="container">

<table style="width: 100%;"><tr>
<td>superpc.predict</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Form principal components predictor from a trained superpc object
</h2>

<h3>Description</h3>

<p>Computes supervised principal components, using scores from "object"
</p>


<h3>Usage</h3>

<pre><code class="language-R">    superpc.predict(object, 
                    data, 
                    newdata, 
                    threshold, 
                    n.components=3, 
                    prediction.type=c("continuous","discrete","nonzero"), 
                    n.class=2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p> Obect returned by superpc.train </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p> List of training data, of form described in superpc.train documentation, </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p> List of test data; same form as training data </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p> Threshold for scores: features with abs(score) &gt; threshold are retained. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.components</code></td>
<td>
<p> Number of principal components to compute. Should be 1,2 or 3. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prediction.type</code></td>
<td>
<p> "continuous" for raw principal component(s);
"discrete" for principal component categorized in equal bins;
"nonzero" for indices of features that pass the threshold </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.class</code></td>
<td>
<p> Number of classes into which predictor is binned (for prediction.type="discrete" </p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>v.pred</code></td>
<td>
<p>Supervised principal componients predictor</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>u</code></td>
<td>
<p>U matrix from svd of feature matrix x</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>singual values  from svd of feature matrix x</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which.features</code></td>
<td>
<p>Indices of features exceeding threshold</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.components</code></td>
<td>
<p>Number of supervised  principal components requested</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>calling sequence</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>


<ul>
<li>
<p> "Eric Bair, Ph.D."
</p>
</li>
<li>
<p> "Jean-Eudes Dazard, Ph.D."
</p>
</li>
<li>
<p> "Rob Tibshirani, Ph.D."
</p>
</li>
</ul>
<p>Maintainer: "Jean-Eudes Dazard, Ph.D."
</p>


<h3>References</h3>


<ul>
<li>
<p> E. Bair and R. Tibshirani (2004).
"<em>Semi-supervised methods to predict patient survival from gene expression data</em>."
PLoS Biol, 2(4):e108.
</p>
</li>
<li>
<p> E. Bair, T. Hastie, D. Paul, and R. Tibshirani (2006).
"<em>Prediction by supervised principal components</em>."
J. Am. Stat. Assoc., 101(473):119-137.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">set.seed(332)

#generate some data
x &lt;- matrix(rnorm(50*30), ncol=30)
y &lt;- 10 + svd(x[1:50,])$v[,1] + .1*rnorm(30)
ytest &lt;- 10 + svd(x[1:50,])$v[,1] + .1*rnorm(30)
censoring.status &lt;- sample(c(rep(1,20), rep(0,10)))
censoring.status.test &lt;- sample(c(rep(1,20), rep(0,10)))

featurenames &lt;- paste("feature", as.character(1:50), sep="")
data &lt;- list(x=x, 
             y=y, 
             censoring.status=censoring.status, 
             featurenames=featurenames)
data.test &lt;- list(x=x, 
                  y=ytest, 
                  censoring.status=censoring.status.test, 
                  featurenames=featurenames)

a &lt;- superpc.train(data, type="survival")
fit &lt;- superpc.predict(a, 
                       data, 
                       data.test, 
                       threshold=1.0, 
                       n.components=1)
plot(fit$v.pred, ytest)
</code></pre>


</div>