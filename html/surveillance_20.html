<div class="container">

<table style="width: 100%;"><tr>
<td>algo.bayes</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>The Bayes System</h2>

<h3>Description</h3>

<p>Evaluation of timepoints with the Bayes subsystem
1, 2, 3 or a self defined Bayes subsystem.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  algo.bayesLatestTimepoint(disProgObj, timePoint = NULL,
       control = list(b = 0, w = 6, actY = TRUE,alpha=0.05))
  algo.bayes(disProgObj, control = list(range = range,
       b = 0, w = 6, actY = TRUE,alpha=0.05))
  algo.bayes1(disProgObj, control = list(range = range))
  algo.bayes2(disProgObj, control = list(range = range))
  algo.bayes3(disProgObj, control = list(range = range))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>disProgObj</code></td>
<td>
<p>object of class disProg (including the observed and the state chain)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timePoint</code></td>
<td>
<p>time point which should be evaluated in
<code>algo.bayes LatestTimepoint</code>. The
default is to use the latest timepoint</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>control object: <code>range</code> determines the desired
timepoints which should be evaluated, <code>b</code> describes the number of years to go
back for the reference values, <code>w</code> is the half window width for the reference
values around the appropriate timepoint and <code>actY</code> is a boolean to decide if
the year of <code>timePoint</code> also contributes <code>w</code> reference values. The parameter <code>alpha</code> is the <code class="reqn">(1-\alpha)</code>-quantile to use in order to calculate the upper threshold.
As default <code>b</code>, <code>w</code>, <code>actY</code> are set for the Bayes 1 system with <code>alpha</code>=0.05.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Using the reference values the <code class="reqn">(1-\alpha)\cdot
    100\%</code> quantile of the
predictive posterior distribution is calculated as a threshold.
An alarm is given if the actual value is bigger or equal than this threshold.
It is possible to show using analytical computations that the predictive
posterior in this case is the negative
binomial distribution. Note: <code>algo.rki</code> or <code>algo.farrington</code>
use two-sided prediction intervals – if one wants to compare with
these procedures it is necessary to use an alpha, which is half the
one used for these procedures.
</p>
<p>Note also that <code>algo.bayes</code> calls
<code>algo.bayesLatestTimepoint</code> for the values specified in
<code>range</code> and for the system specified in <code>control</code>.
<code>algo.bayes1</code>, <code>algo.bayes2</code>, <code>algo.bayes3</code> call
<code>algo.bayesLatestTimepoint</code> for the values specified in
<code>range</code> for the Bayes 1 system, Bayes 2 system or Bayes 3 system.
</p>

<ul>
<li> <p><code>"Bayes 1"</code> reference values from 6 weeks. Alpha is fixed a
t 0.05.
</p>
</li>
<li> <p><code>"Bayes 2"</code> reference values from 6 weeks ago and
13 weeks of the previous year (symmetrical around the
same week as the current one in the previous year). Alpha is fixed at 0.05.
</p>
</li>
<li> <p><code>"Bayes 3"</code>  18 reference values. 9 from the year ago
and 9 from two years ago (also symmetrical around the
comparable week). Alpha is fixed at 0.05.
</p>
</li>
</ul>
<p>The procedure is now able to handle <code>NA</code>'s in the reference
values. In the summation and when counting the number of observed
reference values these are simply not counted.
</p>


<h3>Value</h3>

<table><tr style="vertical-align: top;">
<td><code>survRes</code></td>
<td>

<p><code>algo.bayesLatestTimepoint</code> returns a list of class <code>survRes</code> (surveillance result), which
includes the alarm value for recognizing an
outbreak (1 for alarm, 0 for no alarm), the threshold value for recognizing the alarm and
the input object of class disProg.
<code>algo.bayes</code> gives a list of class <code>survRes</code> which includes the vector
of alarm values for every timepoint in <code>range</code> and the vector of threshold values
for every timepoint in <code>range</code> for the system specified by <code>b</code>, <code>w</code> and
<code>actY</code>, the range and the input object of class disProg.
<code>algo.bayes1</code> returns the same for the Bayes 1 system, <code>algo.bayes2</code>
for the Bayes 2 system and <code>algo.bayes3</code> for the Bayes 3 system.
</p>
</td>
</tr></table>
<h3>Author(s)</h3>

<p>M. Höhle, A. Riebler, C. Lang</p>


<h3>Source</h3>

<p>Riebler, A. (2004), Empirischer Vergleich von statistischen Methoden zur
Ausbruchserkennung bei Surveillance Daten, Bachelor's thesis.
</p>


<h3>See Also</h3>

<p><code>algo.call</code>, <code>algo.rkiLatestTimepoint</code> and <code>algo.rki</code> for
the RKI system.
</p>


<h3>Examples</h3>

<pre><code class="language-R">    disProg &lt;- sim.pointSource(p = 0.99, r = 0.5, length = 208, A = 1,
                                    alpha = 1, beta = 0, phi = 0,
                                    frequency = 1, state = NULL, K = 1.7)

    # Test for bayes 1 the latest timepoint
    algo.bayesLatestTimepoint(disProg)

    # Test week 200 to 208 for outbreaks with a selfdefined bayes
    algo.bayes(disProg, control = list(range = 200:208, b = 1,
                                                w = 5, actY = TRUE,alpha=0.05))
    # The same for bayes 1 to bayes 3
    algo.bayes1(disProg, control = list(range = 200:208,alpha=0.05))
    algo.bayes2(disProg, control = list(range = 200:208,alpha=0.05))
    algo.bayes3(disProg, control = list(range = 200:208,alpha=0.05))
</code></pre>


</div>