<div class="container">

<table style="width: 100%;"><tr>
<td>sm.survival</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Nonparametric regression with survival data.
</h2>

<h3>Description</h3>

<p>This function creates a smooth, nonparametric estimate of the quantile
of the distribution of survival data as a function of a single
covariate. A weighted product-limit estimate of the survivor function
is obtained by smoothing across the covariate scale.  A small amount
of smoothing is then also applied across  the survival time scale in
order to achieve a smooth estimate of the quantile.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sm.survival(x, y, status, h , hv = 0.05, p = 0.5, status.code = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>a vector of covariate values.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>

<p>a vector of survival times.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>status</code></td>
<td>

<p>an indicator of a complete survival time or a censored value.  The value of
<code>status.code</code> defines a complete survival time.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>

<p>the smoothing parameter applied to the covariate scale.  A normal kernel
function is used and <code>h</code> is its standard deviation.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hv</code></td>
<td>

<p>a smoothing parameter applied to the weighted to the product-limit
estimate derived from the smoothing procedure in the covariate scale.
This ensures that a smooth estimate is obtained.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>

<p>the quantile to be estimated at each covariate value.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>status.code</code></td>
<td>

<p>the value of <code>status</code> which defines a complete survival time.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>other optional parameters are passed to the <code>sm.options</code>
function, through a mechanism which limits their effect only to this
call of the function; those relevant for this function are 
<code>add</code>,
<code>eval.points</code>, 
<code>ngrid</code>, 
<code>display</code>, 
<code>xlab</code>, 
<code>ylab</code>, 
<code>lty</code>;
see the documentation of  <code>sm.options</code> for their
description.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>see Section 3.5 of the reference below.
</p>


<h3>Value</h3>

<p>a list containing the values of the estimate at the evaluation points
and the values of the smoothing parameters for the covariate and survival
time scales.
</p>


<h3>Side Effects</h3>

<p>a plot on the current graphical device is produced, unless the option 
<code>display="none"</code> is set.  
</p>


<h3>References</h3>

<p>Bowman, A.W. and Azzalini, A. (1997). 
<em>Applied Smoothing Techniques for Data Analysis:</em>
<em>the Kernel Approach with S-Plus Illustrations.</em>
Oxford University Press, Oxford.
</p>


<h3>See Also</h3>

<p><code>sm.regression</code>, <code>sm.options</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">x &lt;- runif(50, 0, 10)
y &lt;- rexp(50, 2)
z &lt;- rexp(50, 1)
status &lt;- rep(1, 50)
status[z&lt;y] &lt;- 0
y &lt;- pmin(z, y)
sm.survival(x, y, status, h=2)
</code></pre>


</div>