<div class="container">

<table style="width: 100%;"><tr>
<td>conf.detect</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Confirmatory DETECT and polyDETECT Analysis
</h2>

<h3>Description</h3>

<p>This function computes the DETECT statistics for dichotomous item responses
and the polyDETECT statistic for polytomous item responses
under a confirmatory specification of item clusters
(Stout, Habing, Douglas &amp; Kim, 1996; Zhang &amp; Stout,
1999a, 1999b; Zhang, 2007; Bonifay, Reise, Scheines, &amp; Meijer, 2015).
</p>
<p>Item responses in a multi-matrix design are allowed (Zhang, 2013).
</p>
<p>An exploratory DETECT analysis can be conducted using the
<code>expl.detect</code> function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">conf.detect(data, score, itemcluster, bwscale=1.1, progress=TRUE,
        thetagrid=seq(-3, 3, len=200), smooth=TRUE, use_sum_score=FALSE, bias_corr=TRUE)

## S3 method for class 'conf.detect'
summary(object, digits=3, file=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>An <code class="reqn">N \times I</code> data frame of dichotomous or polytomous responses.
Missing responses are allowed.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>score</code></td>
<td>

<p>An ability estimate, e.g. the WLE, sum score or mean score
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>itemcluster</code></td>
<td>

<p>Item cluster for each item. The order of entries must correspond
to the columns in <code>data</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bwscale</code></td>
<td>

<p>Bandwidth factor for calculation of conditional covariance
(see <code>ccov.np</code>)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress</code></td>
<td>

<p>Display progress?
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p>Logical indicating whether smoothing should be
applied for conditional covariance estimation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thetagrid</code></td>
<td>

<p>A vector which contains theta values where conditional
covariances are evaluated.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_sum_score</code></td>
<td>
<p>Logical indicating whether sum score should be used.
With this option, the bias corrected conditional covariance of Zhang and
Stout (1999) is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bias_corr</code></td>
<td>
<p>Logical indicating whether bias correction (Zhang &amp; Stout, 1999)
should be utilized if <code>use_sum_score=TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Object of class <code>conf.detect</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Number of digits for rounding in <code>summary</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>Optional file name to be sunk for <code>summary</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments to be passed</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The result of DETECT are the indices <code>DETECT</code>, <code>ASSI</code>
and <code>RATIO</code> (see Zhang 2007 for details) calculated
for the options <code>unweighted</code> and <code>weighted</code>.
The option <code>unweighted</code> means that all conditional covariances of
item pairs are equally weighted, <code>weighted</code> means that
these covariances are weighted by the sample size of item pairs.
In case of multi matrix item designs, both types of indices can
differ.
</p>
<p>The classification scheme of these indices are as follows
(Jang &amp; Roussos, 2007; Zhang, 2007):
</p>

<table>
<tr>
<td style="text-align: left;">
 Strong multidimensionality </td>
<td style="text-align: left;"> DETECT &gt; 1.00 </td>
</tr>
<tr>
<td style="text-align: left;">
Moderate multidimensionality </td>
<td style="text-align: left;"> .40 &lt; DETECT &lt; 1.00 </td>
</tr>
<tr>
<td style="text-align: left;">
Weak multidimensionality </td>
<td style="text-align: left;"> .20 &lt; DETECT &lt; .40 </td>
</tr>
<tr>
<td style="text-align: left;">
Essential unidimensionality </td>
<td style="text-align: left;"> DETECT &lt; .20 </td>
</tr>
<tr>
<td style="text-align: left;">
    </td>
</tr>
</table>
<table>
<tr>
<td style="text-align: left;">
 Maximum value under simple structure </td>
<td style="text-align: left;"> ASSI=1 </td>
<td style="text-align: left;"> RATIO=1 </td>
</tr>
<tr>
<td style="text-align: left;">
Essential deviation from unidimensionality </td>
<td style="text-align: left;"> ASSI &gt; .25 </td>
<td style="text-align: left;">
RATIO &gt; .36 </td>
</tr>
<tr>
<td style="text-align: left;">
Essential unidimensionality </td>
<td style="text-align: left;">  ASSI &lt; .25 </td>
<td style="text-align: left;">
RATIO &lt; .36 </td>
</tr>
<tr>
<td style="text-align: left;">
    </td>
</tr>
</table>
<p>Note that the expected value of a conditional covariance for an item pair
is negative when a unidimensional model holds. In consequence,
the DETECT index can become negative for unidimensional data
(see Example 3). This can be also seen in the statistic
<code>MCOV100</code> in the value <code>detect</code>.
</p>


<h3>Value</h3>

<p>A list with following entries:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>detect</code></td>
<td>
<p>Data frame with statistics DETECT, ASSI, RATIO, MADCOV100
and MCOV100</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ccovtable</code></td>
<td>
<p>Individual contributions to conditional covariance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ccov.matrix</code></td>
<td>
<p>Evaluated conditional covariance</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Bonifay, W. E., Reise, S. P., Scheines, R., &amp; Meijer, R. R. (2015).
When are multidimensional data unidimensional enough for structural
equation modeling? An evaluation of the DETECT multidimensionality index.
<em>Structural Equation Modeling, 22</em>(4), 504-516.
<a href="https://doi.org/10.1080/10705511.2014.938596">doi:10.1080/10705511.2014.938596</a>
</p>
<p>Jang, E. E., &amp; Roussos, L. (2007). An investigation into the dimensionality
of TOEFL using conditional covariance-based nonparametric approach.
<em>Journal of Educational Measurement, 44</em>(1), 1-21.
<a href="https://doi.org/10.1111/j.1745-3984.2007.00024.x">doi:10.1111/j.1745-3984.2007.00024.x</a>
</p>
<p>Stout, W., Habing, B., Douglas, J., &amp; Kim, H. R. (1996).
Conditional covariance-based nonparametric multidimensionality assessment.
<em>Applied Psychological Measurement, 20</em>(4), 331-354.
<a href="https://doi.org/10.1177/014662169602000403">doi:10.1177/014662169602000403</a>
</p>
<p>Zhang, J. (2007). Conditional covariance theory and DETECT for
polytomous items. <em>Psychometrika, 72</em>(1), 69-91.
<a href="https://doi.org/10.1007/s11336-004-1257-7">doi:10.1007/s11336-004-1257-7</a>
</p>
<p>Zhang, J. (2013). A procedure for dimensionality analyses of
response data from various test designs. <em>Psychometrika, 78</em>(1), 37-58.
<a href="https://doi.org/10.1007/s11336-012-9287-z">doi:10.1007/s11336-012-9287-z</a>
</p>
<p>Zhang, J., &amp; Stout, W. (1999a). Conditional covariance structure
of generalized compensatory multidimensional items.
<em>Psychometrika, 64</em>(2), 129-152.
<a href="https://doi.org/10.1007/BF02294532">doi:10.1007/BF02294532</a>
</p>
<p>Zhang, J., &amp; Stout, W. (1999b). The theoretical DETECT index of
dimensionality and its application to approximate simple structure.
<em>Psychometrika, 64</em>(2), 213-249.
<a href="https://doi.org/10.1007/BF02294536">doi:10.1007/BF02294536</a>
</p>


<h3>See Also</h3>

<p>For a download of the free <em>DIM-Pack</em> software (DIMTEST, DETECT) see
<em>https://psychometrics.onlinehelp.measuredprogress.org/tools/dim/</em>.
</p>
<p>See <code>expl.detect</code> for exploratory DETECT analysis.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#############################################################################
# EXAMPLE 1: TIMSS mathematics data set (dichotomous data)
#############################################################################
data(data.timss)

# extract data
dat &lt;- data.timss$data
dat &lt;- dat[, substring( colnames(dat),1,1)=="M" ]
# extract item informations
iteminfo &lt;- data.timss$item
# estimate Rasch model
mod1 &lt;- sirt::rasch.mml2( dat )
# estimate WLEs
wle1 &lt;- sirt::wle.rasch( dat, b=mod1$item$b )$theta

# DETECT for content domains
detect1 &lt;- sirt::conf.detect( data=dat, score=wle1,
                    itemcluster=iteminfo$Content.Domain )
  ##          unweighted weighted
  ##   DETECT      0.316    0.316
  ##   ASSI        0.273    0.273
  ##   RATIO       0.355    0.355

## Not run: 
# DETECT cognitive domains
detect2 &lt;- sirt::conf.detect( data=dat, score=wle1,
                    itemcluster=iteminfo$Cognitive.Domain )
  ##          unweighted weighted
  ##   DETECT      0.251    0.251
  ##   ASSI        0.227    0.227
  ##   RATIO       0.282    0.282

# DETECT for item format
detect3 &lt;- sirt::conf.detect( data=dat, score=wle1,
                    itemcluster=iteminfo$Format )
  ##          unweighted weighted
  ##   DETECT      0.056    0.056
  ##   ASSI        0.060    0.060
  ##   RATIO       0.062    0.062

# DETECT for item blocks
detect4 &lt;- sirt::conf.detect( data=dat, score=wle1,
                    itemcluster=iteminfo$Block )
  ##          unweighted weighted
  ##   DETECT      0.301    0.301
  ##   ASSI        0.193    0.193
  ##   RATIO       0.339    0.339 
## End(Not run)

# Exploratory DETECT: Application of a cluster analysis employing the Ward method
detect5 &lt;- sirt::expl.detect( data=dat, score=wle1,
                nclusters=10, N.est=nrow(dat)  )
# Plot cluster solution
pl &lt;- graphics::plot( detect5$clusterfit, main="Cluster solution" )
stats::rect.hclust(detect5$clusterfit, k=4, border="red")

## Not run: 
#############################################################################
# EXAMPLE 2: Big 5 data set (polytomous data)
#############################################################################

# attach Big5 Dataset
data(data.big5)

# select 6 items of each dimension
dat &lt;- data.big5
dat &lt;- dat[, 1:30]

# estimate person score by simply using a transformed sum score
score &lt;- stats::qnorm( ( rowMeans( dat )+.5 )  / ( 30 + 1 ) )

# extract item cluster (Big 5 dimensions)
itemcluster &lt;- substring( colnames(dat), 1, 1 )

# DETECT Item cluster
detect1 &lt;- sirt::conf.detect( data=dat, score=score, itemcluster=itemcluster )
  ##        unweighted weighted
  ## DETECT      1.256    1.256
  ## ASSI        0.384    0.384
  ## RATIO       0.597    0.597

# Exploratory DETECT
detect5 &lt;- sirt::expl.detect( data=dat, score=score,
                     nclusters=9, N.est=nrow(dat)  )
  ## DETECT (unweighted)
  ## Optimal Cluster Size is  6  (Maximum of DETECT Index)
  ##   N.Cluster N.items N.est N.val      size.cluster DETECT.est ASSI.est RATIO.est
  ## 1         2      30   500     0              6-24      1.073    0.246     0.510
  ## 2         3      30   500     0           6-10-14      1.578    0.457     0.750
  ## 3         4      30   500     0         6-10-11-3      1.532    0.444     0.729
  ## 4         5      30   500     0        6-8-11-2-3      1.591    0.462     0.757
  ## 5         6      30   500     0       6-8-6-2-5-3      1.610    0.499     0.766
  ## 6         7      30   500     0     6-3-6-2-5-5-3      1.557    0.476     0.740
  ## 7         8      30   500     0   6-3-3-2-3-5-5-3      1.540    0.462     0.732
  ## 8         9      30   500     0 6-3-3-2-3-5-3-3-2      1.522    0.444     0.724

# Plot Cluster solution
pl &lt;- graphics::plot( detect5$clusterfit, main="Cluster solution" )
stats::rect.hclust(detect5$clusterfit, k=6, border="red")

#############################################################################
# EXAMPLE 3: DETECT index for unidimensional data
#############################################################################

set.seed(976)
N &lt;- 1000
I &lt;- 20
b &lt;- sample( seq( -2, 2, len=I) )
dat &lt;- sirt::sim.raschtype( stats::rnorm(N), b=b )

# estimate Rasch model and corresponding WLEs
mod1 &lt;- TAM::tam.mml( dat )
wmod1 &lt;- TAM::tam.wle(mod1)$theta

# define item cluster
itemcluster &lt;- c( rep(1,5), rep(2,I-5) )

# compute DETECT statistic
detect1 &lt;- sirt::conf.detect( data=dat, score=wmod1, itemcluster=itemcluster)
  ##            unweighted weighted
  ##  DETECT        -0.184   -0.184
  ##  ASSI          -0.147   -0.147
  ##  RATIO         -0.226   -0.226
  ##  MADCOV100      0.816    0.816
  ##  MCOV100       -0.786   -0.786

## End(Not run)
</code></pre>


</div>