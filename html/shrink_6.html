<div class="container">

<table style="width: 100%;"><tr>
<td>predict.shrink</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Predict Method for Objects of Class <code>shrink</code>
</h2>

<h3>Description</h3>

<p>Obtains predictions from shrunken regression coefficients from an object of
class <code>shrink</code>.
This class of objects is returned by the <code>shrink</code> function. Objects of this
class have methods for the functions <code>coef</code>, <code>predict</code>, <code>print</code>,
<code>summary</code>, and <code>vcov</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'shrink'
predict(
  object,
  newdata = NULL,
  type = c("link", "response", "lp", "risk", "expected", "terms"),
  shrinktype = NULL,
  terms = NULL,
  na.action = na.pass,
  collapse,
  safe = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object of class <code>shrink</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>a data frame for which predictions are obtained, otherwise
predictions are based on the data stored in <code>object</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>the type of prediction required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shrinktype</code></td>
<td>
<p>the type of shrinkage requested, if the <code>object</code> was
obtained with <code>type = "all"</code>, either <code>"parameterwise"</code> or
<code>"global"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>terms</code></td>
<td>
<p>with <code>type = "terms"</code> by default all terms are returned. A
character vector specifies which terms are to be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>function determining what should be done with missing values
in <code>newdata</code>. The default is to include all observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collapse</code></td>
<td>
<p>if <code>family = coxph</code> or <code>Cox</code>, an optional vector of
subject identifiers. If specified, the output will contain one entry per
subject rather than one entry per observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>safe</code></td>
<td>
<p>option from <code>predict.mfp</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to be passed to methods.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector or matrix of predictions.
</p>


<h3>Note</h3>

<p>If <code>object</code> was obtained using <code>type = "all"</code>, <code>shrinktype</code>
specifies for which type of shrinkage predictions are requested.
<code>shrinktype</code> will be ignored if <code>object</code> was obtained using
either <code>type = "parameterwise"</code> or <code>type = "global"</code>.
</p>


<h3>See Also</h3>

<p><code>shrink</code>, <code>coef.shrink</code>, <code>print.shrink</code>,
<code>summary.shrink</code>, <code>vcov.shrink</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("GBSG")
library("mfp")

fit &lt;- mfp(Surv(rfst, cens) ~ fp(age, df = 4, select = 0.05) +
           fp(prm, df = 4, select = 0.05), family = cox, data = GBSG)

dfbeta.global &lt;- shrink(fit, type = "global",  method = "dfbeta")
dfbeta.pw     &lt;- shrink(fit, type = "parameterwise", method = "dfbeta")
dfbeta.join   &lt;- shrink(fit, type = "parameterwise", method = "dfbeta",
                        join=list(c("age.1", "age.2")))

age &lt;- 30:80
newdat &lt;- data.frame(age = age, prm = 0)
refdat &lt;- data.frame(age = 50, prm = 0)

# unshrunken
plot(age, predict(fit, newdata = newdat, type = "lp") -
       predict(fit, newdata = refdat, type = "lp"), xlab = "Age",
     ylab = "Log hazard relative to 50 years", type = "l", lwd = 2)

# globally shrunken
lines(age, predict(dfbeta.global,newdata = newdat, type = "lp") -
        predict(dfbeta.global, newdata = refdat, type = "lp"), lty = 3, col = "red", lwd = 2)

# jointly shrunken
lines(age, predict(dfbeta.join, newdata = newdat, type = "lp") -
        predict(dfbeta.join, newdata = refdat, type = "lp"), lty = 4, col = "blue", lwd = 2)

# parameterwise shrunken
lines(age, predict(dfbeta.pw, newdata = newdat, type = "lp") -
        predict(dfbeta.pw, newdata =refdat, type = "lp"), lty = 2, col = "green", lwd = 2)

legend("topright", lty = c(1, 3, 4, 2), title = "SHRINKAGE",
       legend = c("No", "Global", "Joint", "Parameterwise"), inset = 0.01, bty = "n",
       col = c("black", "red", "blue", "green"), lwd = 2)
</code></pre>


</div>