<div class="container">

<table style="width: 100%;"><tr>
<td>.audSpectrogram</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Auditory spectrogram per sound</h2>

<h3>Description</h3>

<p>Internal soundgen function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">.audSpectrogram(
  audio,
  step = 1,
  dynamicRange = 80,
  filterType = c("butterworth", "chebyshev", "gammatone")[1],
  nFilters = 128,
  nFilters_oct = NULL,
  filterOrder = if (filterType == "gammatone") 4 else 3,
  bandwidth = NULL,
  bandwidthMult = 1,
  minFreq = 20,
  maxFreq = audio$samplingRate/2,
  minBandwidth = 10,
  output = c("audSpec", "audSpec_processed", "filterbank", "filterbank_env", "roughness"),
  plot = TRUE,
  plotFilters = FALSE,
  osc = c("none", "linear", "dB")[2],
  heights = c(3, 1),
  ylim = NULL,
  yScale = "bark",
  contrast = 0.2,
  brightness = 0,
  maxPoints = c(1e+05, 5e+05),
  padWithSilence = TRUE,
  colorTheme = c("bw", "seewave", "heat.colors", "...")[1],
  col = NULL,
  extraContour = NULL,
  xlab = NULL,
  ylab = NULL,
  xaxp = NULL,
  mar = c(5.1, 4.1, 4.1, 2),
  main = NULL,
  grid = NULL,
  width = 900,
  height = 500,
  units = "px",
  res = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>audio</code></td>
<td>
<p>a list returned by <code>readAudio</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>step</code></td>
<td>
<p>step, ms (determines time resolution of the plot, but not of the
returned envelopes per channel). step = NULL means no downsampling at all
(ncol of output = length of input audio)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dynamicRange</code></td>
<td>
<p>dynamic range, dB. All values more than one dynamicRange
under maximum are treated as zero</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filterType</code></td>
<td>
<p>"butterworth" = Butterworth filter
<code>butter</code>, "chebyshev" = Chebyshev filter
<code>butter</code>, "gammatone" =
<code>gammatone</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nFilters</code></td>
<td>
<p>the number of filters between <code>minFreq</code> and
<code>maxFreq</code> (determines frequency resolution, while <code>yScale</code>
determines the location of center frequencies)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nFilters_oct</code></td>
<td>
<p>an alternative way to specify frequency resolution: the
number of filters per octave</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filterOrder</code></td>
<td>
<p>filter order (defaults to 4 for gammatones, 3 otherwise)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bandwidth</code></td>
<td>
<p>filter bandwidth, octaves. If NULL, defaults to ERB
bandwidths as in <code>gammatone</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bandwidthMult</code></td>
<td>
<p>a scaling factor for all bandwidths (1 = no effect)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minFreq, maxFreq</code></td>
<td>
<p>the range of frequencies to analyze</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minBandwidth</code></td>
<td>
<p>minimum filter bandwidth, Hz (otherwise filters may
become too narrow when nFilters is high; has no effect if filterType =
'gammatone')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>a list of measures to return. Defaults to everything, but this
takes a lot of RAM, so shorten to what's needed if analyzing many files at
once</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>should a spectrogram be plotted? TRUE / FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotFilters</code></td>
<td>
<p>if TRUE, plots the filters as central frequencies Â±
bandwidth/2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>osc</code></td>
<td>
<p>"none" = no oscillogram; "linear" = on the original scale; "dB" =
in decibels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heights</code></td>
<td>
<p>a vector of length two specifying the relative height of the
spectrogram and the oscillogram (including time axes labels)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>frequency range to plot, kHz (defaults to 0 to Nyquist
frequency). NB: still in kHz, even if yScale = bark, mel, or ERB</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yScale</code></td>
<td>
<p>determines the location of center frequencies of the filters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrast</code></td>
<td>
<p>spectrum is exponentiated by contrast (any real number,
recommended -1 to +1). Contrast &gt;0 increases sharpness, &lt;0 decreases
sharpness</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>brightness</code></td>
<td>
<p>how much to "lighten" the image (&gt;0 = lighter, &lt;0 = darker)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxPoints</code></td>
<td>
<p>the maximum number of "pixels" in the oscillogram (if any)
and spectrogram; good for quickly plotting long audio files; defaults to
c(1e5, 5e5)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>padWithSilence</code></td>
<td>
<p>if TRUE, pads the sound with just enough silence to
resolve the edges properly (only the original region is plotted, so the
apparent duration doesn't change)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colorTheme</code></td>
<td>
<p>black and white ('bw'), as in seewave package ('seewave'),
matlab-type palette ('matlab'), or any palette from
<code>palette</code> such as 'heat.colors', 'cm.colors', etc</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>actual colors, eg rev(rainbow(100)) - see ?hcl.colors for colors
in base R (overrides colorTheme)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extraContour</code></td>
<td>
<p>a vector of arbitrary length scaled in Hz (regardless of
yScale!) that will be plotted over the spectrogram (eg pitch contour); can
also be a list with extra graphical parameters such as lwd, col, etc. (see
examples)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab, ylab, main, mar, xaxp</code></td>
<td>
<p>graphical parameters for plotting</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid</code></td>
<td>
<p>if numeric, adds n = <code>grid</code> dotted lines per kHz</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width, height, units, res</code></td>
<td>
<p>graphical parameters for saving plots passed to
<code>png</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other graphical parameters</p>
</td>
</tr>
</table>
</div>