<div class="container">

<table style="width: 100%;"><tr>
<td>f7Messages</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Framework7 messages container</h2>

<h3>Description</h3>

<p><code>f7Messages</code> is an empty container targeted by updateF7Messages
to include multiple f7Message.
</p>
<p><code>f7Message</code> creates a message item to be inserted in
f7Messages with updateF7Messages.
</p>
<p><code>updateF7Messages</code> add messages to a f7Messages container.
</p>


<h3>Usage</h3>

<pre><code class="language-R">f7Messages(
  id,
  title = NULL,
  autoLayout = TRUE,
  newMessagesFirst = FALSE,
  scrollMessages = TRUE,
  scrollMessagesOnEdge = TRUE
)

f7Message(
  text,
  name,
  type = c("sent", "received"),
  header = NULL,
  footer = NULL,
  avatar = NULL,
  textHeader = NULL,
  textFooter = NULL,
  image = NULL,
  imageSrc = NULL,
  cssClass = NULL
)

updateF7Messages(
  id,
  messages,
  showTyping = FALSE,
  session = shiny::getDefaultReactiveDomain()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>Reference to f7Messages container.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>Optional messages title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>autoLayout</code></td>
<td>
<p>Enable Auto Layout to add all required additional classes
automatically based on passed conditions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newMessagesFirst</code></td>
<td>
<p>Enable if you want to use new messages on top,
instead of having them on bottom.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scrollMessages</code></td>
<td>
<p>Enable/disable messages auto scrolling when adding new message.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scrollMessagesOnEdge</code></td>
<td>
<p>If enabled then messages auto scrolling will happen only
when user is on top/bottom of the messages view.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text</code></td>
<td>
<p>Message text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>Sender name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Message type - sent or received.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>header</code></td>
<td>
<p>Single message header.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>footer</code></td>
<td>
<p>Single message footer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>avatar</code></td>
<td>
<p>Sender avatar URL string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>textHeader</code></td>
<td>
<p>Message text header.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>textFooter</code></td>
<td>
<p>Message text footer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>image</code></td>
<td>
<p>Message image HTML string, e.g. <code style="white-space: pre;">⁠&lt;img src="path/to/image"&gt;⁠</code>. Can be used instead of imageSrc parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>imageSrc</code></td>
<td>
<p>Message image URL string. Can be used instead of image parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cssClass</code></td>
<td>
<p>Additional CSS class to set on message HTML element.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>messages</code></td>
<td>
<p>List of f7Message.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showTyping</code></td>
<td>
<p>Show typing when a new message comes. Default to FALSE.
Does not work yet...</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>session</code></td>
<td>
<p>Shiny session object</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">library(shiny)
library(shinyMobile)

app &lt;- shinyApp(
  ui = f7Page(
    title = "Messages",
    f7SingleLayout(
      navbar = f7Navbar(
        title = "Messages",
        hairline = FALSE
      ),
      toolbar = f7MessageBar(inputId = "mymessagebar", placeholder = "Message"),
      # main content
      f7Messages(id = "mymessages", title = "My message")
    )
  ),
  server = function(input, output, session) {
    # Send a message
    observeEvent(input[["mymessagebar-send"]], {
      updateF7Messages(
        id = "mymessages",
        list(
          f7Message(
            text = input$mymessagebar,
            name = "David",
            type = "sent",
            header = "Message Header",
            footer = "Message Footer",
            textHeader = "Text Header",
            textFooter = "text Footer",
            avatar = "https://cdn.framework7.io/placeholder/people-100x100-7.jpg"
          )
        )
      )
    })

    # Receive a message
    observeEvent(TRUE, {
      updateF7Messages(
        id = "mymessages",
        showTyping = FALSE, # DOES NOT WORK YET WHEN TRUE ...
        list(
          f7Message(
            text = "Some message",
            name = "Victor",
            type = "received",
            avatar = "https://cdn.framework7.io/placeholder/people-100x100-9.jpg"
          )
        )
      )
    })
  }
)

if (interactive() || identical(Sys.getenv("TESTTHAT"), "true")) app
</code></pre>


</div>