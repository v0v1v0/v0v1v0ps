<div class="container">

<table style="width: 100%;"><tr>
<td>resampleSPpairs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Resample a pair of profiles</h2>

<h3>Description</h3>

<p>Resample a pair of (irregularly layered) profiles onto the smallest common height grid. To reduce data storage
this routine can be used to merge layers based on specified layer properties, if the input profiles
have been resampled earlier, or if due to other reasons existing layers in the individual profiles can be merged.
In summary, this routine alters how the layer information of snow profiles is <em>stored</em> without changing how the
profiles appear.
</p>


<h3>Usage</h3>

<pre><code class="language-R">resampleSPpairs(
  query,
  ref,
  mergeBeforeResampling = FALSE,
  dims = c("gtype", "hardness")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>query snowprofile or snowprofileLayers object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref</code></td>
<td>
<p>reference snowprofile or snowprofileLayers object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mergeBeforeResampling</code></td>
<td>
<p>shall adjacent layers with identical layer properties be merged? (boolean)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dims</code></td>
<td>
<p>layer properties to consider for a potential merging</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The smallest common height grid is found by
</p>

<ol>
<li>
<p> extract all unique layer interfaces in both profiles
</p>
</li>
<li>
<p> resample each profile with the above height grid, <br>
(!) but set all height values that exceed each max snow height to that max snow height!
</p>
</li>
</ol>
<h3>Value</h3>

<p>a list with the resampled input objects under the entries <code>query</code> and <code>ref</code>.
</p>


<h3>Author(s)</h3>

<p>fherla
</p>


<h3>See Also</h3>

<p>resampleSP, mergeIdentLayers
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## initial situation before mutual resampling:
## two profiles with different snow heights and different numbers of layers
summary(SPpairs$A_manual)[, c("hs", "nLayers")]
summary(SPpairs$A_modeled)[, c("hs", "nLayers")]
opar &lt;- par(no.readonly=TRUE)
par(mfrow = c(1, 2))
plot(SPpairs$A_manual, main = "Initial profiles before resampling",
     ylab = "Snow height", ymax = 272)
plot(SPpairs$A_modeled, ylab = "Snow height", ymax = 272)

## resampling:
resampledSPlist &lt;- resampleSPpairs(SPpairs$A_manual, SPpairs$A_modeled,
                                   mergeBeforeResampling = TRUE)

## two profiles with different snow heights and IDENTICAL numbers of layers
summary(resampledSPlist$query)[, c("hs", "nLayers")]
summary(resampledSPlist$ref)[, c("hs", "nLayers")]
plot(resampledSPlist$query, main = "Profiles after resampling",
     ylab = "Snow height", ymax = 272)
plot(resampledSPlist$ref, ylab = "Snow height", ymax = 272)
par(opar)

</code></pre>


</div>