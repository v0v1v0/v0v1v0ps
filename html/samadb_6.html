<div class="container">

<table style="width: 100%;"><tr>
<td>sm_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Retrieve Data from the Database</h2>

<h3>Description</h3>

<p>This is the main function of the package to retrieve data from the database.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sm_data(
  dsid = NULL,
  series = NULL,
  from = NULL,
  to = NULL,
  freq = NULL,
  labels = TRUE,
  wide = TRUE,
  expand.date = FALSE,
  ordered = TRUE,
  return.query = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dsid</code></td>
<td>
<p>character. (Optional) id's of datasets matching the 'dsid' column of the 'DATASET' table (retrieved using <code>sm_datasets()</code>). If used, all series from the dataset are returned, in addition to any other series selected with <code>series</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>series</code></td>
<td>
<p>character. (Optional) codes of series matching the 'series' column of the 'SERIES' table (retrieved using <code>sm_series()</code>). If 'dsid' is also specificed, the two are combined using SQL 'OR' i.e. these series are retrieved in addition to all series matched through 'dsid'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>set the start time of the data retrieved by either supplying a start date, a date-string of the form <code>"YYYY-MM-DD"</code> or <code>"YYYY-MM"</code>,
year-quarters of the form <code>"YYYYQN"</code> or <code>"YYYY-QN"</code>, or a numeric year <code>YYYY</code> (numeric or character). These expressions are converted to a regular date by <code>sm_as_date</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to</code></td>
<td>
<p>same as <code>from</code>: to set the time period until which data is retrieved. For expressions that are not full "YYYY-MM-DD" dates, the last day of the period is chosen.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq</code></td>
<td>
<p>character. Return only series at a certain frequency. Allowed are values <code>"D"</code> (Daily), <code>"W"</code> (Weekly), <code>"M"</code> (Monthly), <code>"Q"</code> (Quarterly), <code>"A"</code> (Annual), <code>"AF"</code> (Fiscal Years), matching the 'freq' column in the 'SERIES' table (retrieved using <code>sm_series()</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>logical. <code>TRUE</code> will also return labels (series descriptions) along with the series codes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wide</code></td>
<td>
<p>logical. <code>TRUE</code> calls <code>sm_pivot_wider</code> on the result. <code>FALSE</code> returns the data in a long format without missing values (suitable for <code>ggplot2</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expand.date</code></td>
<td>
<p>logical. <code>TRUE</code> will call <code>sm_expand_date</code> on the result.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ordered</code></td>
<td>
<p>logical. <code>TRUE</code> orders the result by 'date' and, if <code>!is.null(dsid)</code>, <code>labels = TRUE</code> or <code>!is.null(freq)</code>, by series, maintaining a fixed order of series.
<code>FALSE</code> does not explicitly order the result, to the benefit of faster query execution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return.query</code></td>
<td>
<p>logical. <code>TRUE</code> will not query the database but instead return the constructed SQL query as a character string (for debugging purposes).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to <code>sm_pivot_wider</code> (if <code>wide = TRUE</code>) or <code>sm_expand_date</code> (if <code>expand.date = TRUE</code>), no conflicts between these two.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Series from datasets at different frequencies can be queried, but, if <code>wide = TRUE</code>, this will result in missing values in the lower frequency series.
</p>


<h3>Value</h3>

<p>A <code>data.table</code> with the result of the query.
</p>


<h3>See Also</h3>

<p><code>sm_pivot_wider</code>, <code>sm_expand_date</code>, <code>samadb</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Return all electricity indicators from 2000
sm_data("ELECTRICITY", from = 2000)


</code></pre>


</div>