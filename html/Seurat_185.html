<div class="container">

<table style="width: 100%;"><tr>
<td>ImageFeaturePlot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Spatial Feature Plots</h2>

<h3>Description</h3>

<p>Visualize expression in a spatial context
</p>


<h3>Usage</h3>

<pre><code class="language-R">ImageFeaturePlot(
  object,
  features,
  fov = NULL,
  boundaries = NULL,
  cols = if (isTRUE(x = blend)) {
     c("lightgrey", "#ff0000", "#00ff00")
 } else {
   
     c("lightgrey", "firebrick1")
 },
  size = 0.5,
  min.cutoff = NA,
  max.cutoff = NA,
  split.by = NULL,
  molecules = NULL,
  mols.size = 0.1,
  mols.cols = NULL,
  nmols = 1000,
  alpha = 1,
  border.color = "white",
  border.size = NULL,
  dark.background = TRUE,
  blend = FALSE,
  blend.threshold = 0.5,
  crop = FALSE,
  cells = NULL,
  scale = c("feature", "all", "none"),
  overlap = FALSE,
  axes = FALSE,
  combine = TRUE,
  coord.fixed = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Seurat object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>features</code></td>
<td>
<p>Vector of features to plot. Features can come from:
</p>

<ul>
<li>
<p> An <code>Assay</code> feature (e.g. a gene name - "MS4A1")
</p>
</li>
<li>
<p> A column name from meta.data (e.g. mitochondrial percentage -
"percent.mito")
</p>
</li>
<li>
<p> A column name from a <code>DimReduc</code> object corresponding to the
cell embedding values (e.g. the PC 1 scores - "PC_1")
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fov</code></td>
<td>
<p>Name of FOV to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boundaries</code></td>
<td>
<p>A vector of segmentation boundaries per image to plot;
can be a character vector, a named character vector, or a named list.
Names should be the names of FOVs and values should be the names of
segmentation boundaries</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>
<p>The two colors to form the gradient over. Provide as string vector with
the first color corresponding to low values, the second to high. Also accepts a Brewer
color scale or vector of colors. Note: this will bin the data into number of colors provided.
When blend is <code>TRUE</code>, takes anywhere from 1-3 colors:
</p>

<dl>
<dt>1 color:</dt>
<dd>
<p>Treated as color for double-negatives, will use default colors 2 and 3 for per-feature expression</p>
</dd>
<dt>2 colors:</dt>
<dd>
<p>Treated as colors for per-feature expression, will use default color 1 for double-negatives</p>
</dd>
<dt>3+ colors:</dt>
<dd>
<p>First color used for double-negatives, colors 2 and 3 used for per-feature expression, all others ignored</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>Point size for cells when plotting centroids</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.cutoff, max.cutoff</code></td>
<td>
<p>Vector of minimum and maximum cutoff values for each feature,
may specify quantile in the form of 'q##' where '##' is the quantile (eg, 'q1', 'q10')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split.by</code></td>
<td>
<p>A factor in object metadata to split the plot by, pass 'ident'
to split by cell identity'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>molecules</code></td>
<td>
<p>A vector of molecules to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mols.size</code></td>
<td>
<p>Point size for molecules</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mols.cols</code></td>
<td>
<p>A vector of color for molecules. The "Set1" palette from
RColorBrewer is used by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nmols</code></td>
<td>
<p>Max number of each molecule specified in 'molecules' to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Alpha value for plotting (default is 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border.color</code></td>
<td>
<p>Color of cell segmentation border; pass <code>NA</code>
to suppress borders for segmentation-based plots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border.size</code></td>
<td>
<p>Thickness of cell segmentation borders; pass <code>NA</code>
to suppress borders for centroid-based plots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dark.background</code></td>
<td>
<p>Set plot background to black</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blend</code></td>
<td>
<p>Scale and blend expression values to visualize coexpression of two features</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blend.threshold</code></td>
<td>
<p>The color cutoff from weak signal to strong signal; ranges from 0 to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crop</code></td>
<td>
<p>Crop the plots to area with cells only</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cells</code></td>
<td>
<p>Vector of cells to plot (default is all cells)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>Set color scaling across multiple plots; choose from:
</p>

<ul>
<li> <p>“<code>feature</code>”: Plots per-feature are scaled across splits
</p>
</li>
<li> <p>“<code>all</code>”: Plots per-feature are scaled across all features
</p>
</li>
<li> <p>“<code>none</code>”: Plots are not scaled; <strong>note</strong>: setting
<code>scale</code> to “<code>none</code>” will result in color scales that are
<em>not</em> comparable between plots
</p>
</li>
</ul>
<p>Ignored if <code>blend = TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overlap</code></td>
<td>
<p>Overlay boundaries from a single image to create a single
plot; if <code>TRUE</code>, then boundaries are stacked in the order they're
given (first is lowest)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axes</code></td>
<td>
<p>Keep axes and panel background</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>combine</code></td>
<td>
<p>Combine plots into a single <code>patchworked</code>
ggplot object. If <code>FALSE</code>, return a list of ggplot objects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coord.fixed</code></td>
<td>
<p>Plot cartesian coordinates with fixed aspect ratio</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>combine = TRUE</code>, a <code>patchwork</code>
ggplot object; otherwise, a list of ggplot objects
</p>


</div>