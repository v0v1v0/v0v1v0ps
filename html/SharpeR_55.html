<div class="container">

<table style="width: 100%;"><tr>
<td>sropt_test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>test for optimal Sharpe ratio</h2>

<h3>Description</h3>

<p>Performs one sample tests of Sharpe ratio of the Markowitz portfolio.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sropt_test(X,alternative=c("greater","two.sided","less"),
            zeta.s=0,ope=1,conf.level=0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>a (non-empty) numeric matrix of data values, each row independent,
each column representing an asset, or an object of 
class <code>sropt</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>a character string specifying the alternative hypothesis,
must be one of <code>"two.sided"</code>, <code>"greater"</code> (default) or
<code>"less"</code>.  You can specify just the initial letter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zeta.s</code></td>
<td>
<p>a number indicating the null hypothesis value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ope</code></td>
<td>
<p>the number of observations per 'epoch'. For convenience of
interpretation, The Sharpe ratio is typically quoted in 'annualized' 
units for some epoch, that is, 'per square root epoch', though returns 
are observed at a frequency of <code>ope</code> per epoch. 
The default value is 1, meaning the code will not attempt to guess
what the observation frequency is, and no annualization adjustments
will be made.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>confidence level of the interval. (not used yet)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Suppose <code class="reqn">x_i</code> are <code class="reqn">n</code> independent draws of a <code class="reqn">q</code>-variate
normal random variable with mean <code class="reqn">\mu</code> and covariance matrix
<code class="reqn">\Sigma</code>. This code tests the hypothesis
</p>
<p style="text-align: center;"><code class="reqn">H_0: \mu^{\top}\Sigma^{-1}\mu = \delta_0^2</code>
</p>

<p>The default alternative hypothesis is the one-sided 
</p>
<p style="text-align: center;"><code class="reqn">H_1: \mu^{\top}\Sigma^{-1}\mu &gt; \delta_0^2</code>
</p>

<p>but this can be set otherwise.
</p>
<p>Note there is no 'drag' term here since this represents a linear offset of
the population parameter.
</p>
<p>See ‘The Sharpe Ratio: Statistics and Applications’,
section 6.3.2.
</p>


<h3>Value</h3>

<p>A list with class <code>"htest"</code> containing the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>statistic</code></td>
<td>
<p>the value of the <code class="reqn">T^2</code>-statistic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameter</code></td>
<td>
<p>a list of the degrees of freedom for the statistic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.value</code></td>
<td>
<p>the p-value for the test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int</code></td>
<td>
<p>a confidence interval appropriate to the specified alternative hypothesis. NYI.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimate</code></td>
<td>
<p>the estimated optimal Sharpe, annualized</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>null.value</code></td>
<td>
<p>the specified hypothesized value of the optimal Sharpe.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>a character string describing the alternative hypothesis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>a character string indicating what type of test was performed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.name</code></td>
<td>
<p>a character string giving the name(s) of the data.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Steven E. Pav <a href="mailto:shabbychef@gmail.com">shabbychef@gmail.com</a>
</p>


<h3>References</h3>

<p>Pav, S. E. "The Sharpe Ratio: Statistics and Applications." CRC Press, 2021.
</p>


<h3>See Also</h3>

<p><code>reannualize</code>
</p>
<p><code>sr_test</code>, <code>t.test</code>.
</p>
<p>Other sropt: 
<code>as.sropt()</code>,
<code>confint.sr()</code>,
<code>dsropt()</code>,
<code>is.sropt()</code>,
<code>pco_sropt()</code>,
<code>power.sropt_test()</code>,
<code>reannualize()</code>,
<code>sropt</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# test for uniformity
pvs &lt;- replicate(128,{ x &lt;- sropt_test(matrix(rnorm(1000*4),ncol=4),alternative="two.sided")
                        x$p.value })
plot(ecdf(pvs))
abline(0,1,col='red') 

# input a sropt objects:
nfac &lt;- 5
nyr &lt;- 10
ope &lt;- 253
# simulations with no covariance structure.
# under the null:
set.seed(as.integer(charToRaw("be determinstic")))
Returns &lt;- matrix(rnorm(ope*nyr*nfac,mean=0,sd=0.0125),ncol=nfac)
asro &lt;- as.sropt(Returns,drag=0,ope=ope)
stest &lt;- sropt_test(asro,alternative="two.sided")

</code></pre>


</div>