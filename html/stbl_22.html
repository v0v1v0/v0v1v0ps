<div class="container">

<table style="width: 100%;"><tr>
<td>stabilize_int</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Ensure an integer argument meets expectations</h2>

<h3>Description</h3>

<p><code>to_int()</code> checks whether an argument can be coerced to
integer without losing information, returning it silently if so.
Otherwise an informative error message is signaled.
</p>
<p><code>stabilize_int()</code> can check more details about the argument, but is slower
than <code>to_int()</code>.
</p>
<p><code>stabilize_int_scalar()</code> and <code>to_int_scalar()</code> are optimized to check for
length-1 integer vectors.
</p>


<h3>Usage</h3>

<pre><code class="language-R">stabilize_int(
  x,
  ...,
  allow_null = TRUE,
  allow_na = TRUE,
  coerce_character = TRUE,
  coerce_factor = TRUE,
  min_size = NULL,
  max_size = NULL,
  min_value = NULL,
  max_value = NULL,
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)

stabilize_int_scalar(
  x,
  ...,
  allow_null = TRUE,
  allow_zero_length = TRUE,
  allow_na = TRUE,
  coerce_character = TRUE,
  coerce_factor = TRUE,
  min_value = NULL,
  max_value = NULL,
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)

to_int(
  x,
  allow_null = TRUE,
  coerce_character = TRUE,
  coerce_factor = TRUE,
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)

to_int_scalar(
  x,
  allow_null = TRUE,
  allow_zero_length = TRUE,
  coerce_character = TRUE,
  coerce_factor = TRUE,
  x_arg = caller_arg(x),
  call = caller_env(),
  x_class = object_type(x)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The argument to stabilize.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>These dots are for future extensions and should be empty.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_null</code></td>
<td>
<p>Logical. Is NULL an acceptable value?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_na</code></td>
<td>
<p>Logical. Are NA values ok?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coerce_character</code></td>
<td>
<p>Logical. Should character vectors such as "1" and
"2.0" be coerced to integer?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coerce_factor</code></td>
<td>
<p>Logical. Should factors with values such as "1" and
"2.0" be coerced to integer? Note that this function uses the character
value from the factor, while <code>as.integer()</code> uses the integer index of the
factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_size</code></td>
<td>
<p>Integer. The minimum size of the object. Object size will be
tested using <code>vctrs::vec_size()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_size</code></td>
<td>
<p>Integer. The maximum size of the object. Object size will be
tested using <code>vctrs::vec_size()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_value</code></td>
<td>
<p>Integer scalar. The lowest allowed value for <code>x</code>. If <code>NULL</code>
(default) values are not checked.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_value</code></td>
<td>
<p>Integer scalar. The highest allowed value for <code>x</code>. If <code>NULL</code>
(default) values are not checked.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_arg</code></td>
<td>
<p>Character. An argument name for x. The automatic value will work
in most cases, or pass it through from higher-level functions to make error
messages clearer in unexported functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>The execution environment of the call. See the <code>call</code> argument of
<code>rlang::abort()</code> for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_class</code></td>
<td>
<p>Character. The class name of <code>x</code> to use in error messages. Use
this if you remove a special class from <code>x</code> before checking its coercion,
but want the error message to match the original class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_zero_length</code></td>
<td>
<p>Logical. Are zero-length vectors acceptable?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The argument as an integer.
</p>


<h3>Examples</h3>

<pre><code class="language-R">to_int(1:10)
to_int("1")
to_int(1 + 0i)
to_int(NULL)
try(to_int(c(1, 2, 3.1, 4, 5.2)))
try(to_int("1", coerce_character = FALSE))
try(to_int(c("1", "2", "3.1", "4", "5.2")))

to_int_scalar("1")
try(to_int_scalar(1:10))

stabilize_int(1:10)
stabilize_int("1")
stabilize_int(1 + 0i)
stabilize_int(NULL)
try(stabilize_int(NULL, allow_null = FALSE))
try(stabilize_int(c(1, NA), allow_na = FALSE))
try(stabilize_int(letters))
try(stabilize_int("1", coerce_character = FALSE))
try(stabilize_int(factor(c("1", "a"))))
try(stabilize_int(factor("1"), coerce_factor = FALSE))
try(stabilize_int(1:10, min_value = 3))
try(stabilize_int(1:10, max_value = 7))

stabilize_int_scalar(1L)
stabilize_int_scalar("1")
try(stabilize_int_scalar(1:10))
stabilize_int_scalar(NULL)
try(stabilize_int_scalar(NULL, allow_null = FALSE))
</code></pre>


</div>