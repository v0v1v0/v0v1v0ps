<div class="container">

<table style="width: 100%;"><tr>
<td>TwoStageControl-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class "TwoStageControl"</h2>

<h3>Description</h3>

<p>Class for controlling the setup of samples using a two-stage procedure.
</p>


<h3>Usage</h3>

<pre><code class="language-R">TwoStageControl(..., fun1 = srs, fun2 = srs, size1 = NULL, 
                size2 = NULL, prob1 = NULL, prob2 = NULL, 
                dots1 = list(), dots2 = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>the slots for the new object (see below).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun1</code></td>
<td>
<p>the function to be used for sampling in the first stage (the 
first list component of slot <code>fun</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun2</code></td>
<td>
<p>the function to be used for sampling in the second stage (the 
second list component of slot <code>fun</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size1</code></td>
<td>
<p>the number of PSUs to sample in the first stage (the first list 
component of slot <code>size</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size2</code></td>
<td>
<p>the number of items to sample in the second stage (the second 
list component of slot <code>size</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob1</code></td>
<td>
<p>the probability weights for the first stage (the first list 
component of slot <code>prob</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob2</code></td>
<td>
<p>the probability weights for the second stage (the second list 
component of slot <code>prob</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dots1</code></td>
<td>
<p>additional arguments to be passed to the function for sampling 
in the first stage (the first list component of slot <code>dots</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dots2</code></td>
<td>
<p>additional arguments to be passed to the function for sampling 
in the second stage (the second list component of slot <code>dots</code>).</p>
</td>
</tr>
</table>
<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>new("TwoStageControl", ...)</code> 
or via the constructor <code>TwoStageControl</code>.
</p>


<h3>Slots</h3>


<dl>
<dt>
<code>design</code>:</dt>
<dd>
<p>Object of class <code>"BasicVector"</code> specifying 
variables (columns) to be used for stratified sampling in the first 
stage.</p>
</dd>
<dt>
<code>grouping</code>:</dt>
<dd>
<p>Object of class <code>"BasicVector"</code> specifying 
grouping variables (columns) to be used for sampling primary sampling 
units (PSUs) and secondary sampling units (SSUs), respectively.</p>
</dd>
<dt>
<code>fun</code>:</dt>
<dd>
<p>Object of class <code>"list"</code>; a list of length two 
containing the functions to be used for sampling in the first and second 
stage, respectively (defaults to <code>srs</code> for both stages).  The 
functions should return a vector containing the indices of the sampled 
items.</p>
</dd>
<dt>
<code>size</code>:</dt>
<dd>
<p>Object of class <code>"list"</code>; a list of length two, 
where each component contains an optional non-negative integer giving the 
number of items to sample in the first and second stage, respectively.  
In case of stratified sampling in the first stage, a vector of 
non-negative integers, each giving the number of PSUs to sample from the 
corresponding stratum, may be supplied.  For the second stage, a vector 
of non-negative integers giving the number of items to sample from each 
PSU may be used.</p>
</dd>
<dt>
<code>prob</code>:</dt>
<dd>
<p>Object of class <code>"list"</code>; a list of length two, 
where each component gives optional probability weights for the first and 
second stage, respectively.  Each component may thereby be a numerical 
vector, or a character string or integer vector specifying a variable 
(column) that contains the probability weights.</p>
</dd>
<dt>
<code>dots</code>:</dt>
<dd>
<p>Object of class <code>"list"</code>; a list of length two, 
where each component is again a list containing additional arguments to 
be passed to the corresponding function for sampling in <code>fun</code>.</p>
</dd>
<dt>
<code>k</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code>; a single positive 
integer giving the number of samples to be set up.</p>
</dd>
</dl>
<h3>Details</h3>

<p>There are some restrictions on the argument names of the functions for 
sampling in <code>fun</code>.  If the sampling method needs population data as 
input, the corresponding argument should be called <code>x</code> and should expect 
a <code>data.frame</code>.  If it only needs the population size as input, the 
argument should be called <code>N</code>.  Note that the function is not expected 
to have both <code>x</code> and <code>N</code> as arguments, and that the latter is 
typically much faster.  Furthermore, if the function has arguments for sample 
size and probability weights, they should be called <code>size</code> and 
<code>prob</code>, respectively.  Note that a function with <code>prob</code> as its only 
argument is perfectly valid (for probability proportional to size sampling).  
Further arguments may be supplied as a list via the slot <code>dots</code>.
</p>


<h3>Extends</h3>

<p>Class <code>"VirtualSampleControl"</code>, directly.
Class <code>"OptSampleControl"</code>, by class "VirtualSampleControl", distance 2.
</p>


<h3>Accessor and mutator methods</h3>

<p>In addition to the accessor and mutator methods for the slots inherited from 
<code>"VirtualSampleControl"</code>, the following are available:
</p>

<dl>
<dt><code>getDesign</code></dt>
<dd>
<p><code>signature(x = "TwoStageControl")</code>: get slot 
<code>design</code>.</p>
</dd>
<dt><code>setDesign</code></dt>
<dd>
<p><code>signature(x = "TwoStageControl")</code>: set slot 
<code>design</code>.</p>
</dd>
<dt><code>getGrouping</code></dt>
<dd>
<p><code>signature(x = "TwoStageControl")</code>: get slot 
<code>grouping</code>.</p>
</dd>
<dt><code>setGrouping</code></dt>
<dd>
<p><code>signature(x = "TwoStageControl")</code>: set slot 
<code>grouping</code>.</p>
</dd>
<dt><code>getCollect</code></dt>
<dd>
<p><code>signature(x = "TwoStageControl")</code>: get slot 
<code>collect</code>.</p>
</dd>
<dt><code>setCollect</code></dt>
<dd>
<p><code>signature(x = "TwoStageControl")</code>: set slot 
<code>collect</code>.</p>
</dd>
<dt><code>getFun</code></dt>
<dd>
<p><code>signature(x = "TwoStageControl")</code>: get slot 
<code>fun</code>.</p>
</dd>
<dt><code>setFun</code></dt>
<dd>
<p><code>signature(x = "TwoStageControl")</code>: set slot 
<code>fun</code>.</p>
</dd>
<dt><code>getSize</code></dt>
<dd>
<p><code>signature(x = "TwoStageControl")</code>: get slot 
<code>size</code>.</p>
</dd>
<dt><code>setSize</code></dt>
<dd>
<p><code>signature(x = "TwoStageControl")</code>: set slot 
<code>size</code>.</p>
</dd>
<dt><code>getProb</code></dt>
<dd>
<p><code>signature(x = "TwoStageControl")</code>: get slot 
<code>prob</code>.</p>
</dd>
<dt><code>setProb</code></dt>
<dd>
<p><code>signature(x = "TwoStageControl")</code>: set slot 
<code>prob</code>.</p>
</dd>
<dt><code>getDots</code></dt>
<dd>
<p><code>signature(x = "TwoStageControl")</code>: get slot 
<code>dots</code>.</p>
</dd>
<dt><code>setDots</code></dt>
<dd>
<p><code>signature(x = "TwoStageControl")</code>: set slot 
<code>dots</code>.</p>
</dd>
</dl>
<h3>Methods</h3>

<p>In addition to the methods inherited from 
<code>"VirtualSampleControl"</code>, the following are available:
</p>

<dl>
<dt><code>clusterSetup</code></dt>
<dd>
<p><code>signature(cl = "ANY", x = "data.frame", 
      control = "TwoStageControl")</code>: set up multiple samples on a cluster.</p>
</dd>
<dt><code>setup</code></dt>
<dd>
<p><code>signature(x = "data.frame", 
      control = "TwoStageControl")</code>: set up multiple samples.</p>
</dd>
<dt><code>show</code></dt>
<dd>
<p><code>signature(object = "TwoStageControl")</code>: print the 
object on the <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> console.</p>
</dd>
</dl>
<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in 
Figure 1 of the package vignette <em>An Object-Oriented Framework for 
Statistical Simulation: The <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> Package <code>simFrame</code></em>.  Use 
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>See Also</h3>

<p><code>"VirtualSampleControl"</code>, 
<code>"SampleControl"</code>, <code>"SampleSetup"</code>, 
<code>setup</code>, <code>draw</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
showClass("TwoStageControl")
</code></pre>


</div>