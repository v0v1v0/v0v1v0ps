<div class="container">

<table style="width: 100%;"><tr>
<td>dec</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Unpack shipment and decrypt content</h2>

<h3>Description</h3>

<p>This function tries to reverse the process of enc and hence depend on
the conventions used there.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dec(tarfile, keyfile = "~/.ssh/id_rsa", target_dir = ".")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tarfile</code></td>
<td>
<p>Character string providing full path to the gzip-compressed
tarball holding the shipment payload, including encrypted files.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keyfile</code></td>
<td>
<p>Character string providing the full path to the private RSA
key to be used for decryption of the encrypted key that is part of the
shipment. Default value is set to <code>~/.ssh/id_rsa</code> which is the usual
path for unix type operating systems.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target_dir</code></td>
<td>
<p>Character string providing the full path to where the
decrypted file is to be written. Defaults to the current directory
<code>"."</code>, <em>e.g.</em> where this function is being called from.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Some of the functions used here might be vulnerable to differences between
systems running R. Possible caveats may be the availability of the
(un)tar-function and how binary streams/files are treated.
</p>


<h3>Value</h3>

<p>Invisibly a character string providing the file path of the
decrypted file.
</p>


<h3>See Also</h3>

<p>enc
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Please note that these examples will write files to a local temporary
# directory.

## Make temporary workspace
wd &lt;- tempdir()

## Make a private-public key pair named "id_rsa" and "id_rsa.pub"
keygen(directory = wd, type = "rsa", overwrite_existing = TRUE)

## Make a secured (encrypted) file
saveRDS(iris, file = file.path(wd, "secret.rds"), ascii = TRUE)
pubkey &lt;- readLines(file.path(wd, "id_rsa.pub"))
secure_secret_file &lt;-
  enc(filename = file.path(wd, "secret.rds"),
      pubkey_holder = NULL,
      pubkey = pubkey)

## Decrypt secured file using the private key
secret_file &lt;-
  dec(tarfile = secure_secret_file,
      keyfile = file.path(wd, "id_rsa"),
      target_dir = wd)
</code></pre>


</div>