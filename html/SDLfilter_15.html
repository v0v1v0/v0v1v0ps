<div class="container">

<table style="width: 100%;"><tr>
<td>dupfilter_space</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Filter spatial duplicates</h2>

<h3>Description</h3>

<p>Function to filter spatial duplicates in tracking data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dupfilter_space(
  sdata,
  step.time = 0,
  step.dist = 0,
  conditional = FALSE,
  no.cores = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sdata</code></td>
<td>
<p>A data frame containing columns with the following headers: "id", "DateTime", "lat", "lon", "qi". 
See the data <code>turtle</code> for an example.
The function filters the input data by a unique "id" (e.g. transmitter number, identifier for each animal). 
"DateTime" is the GMT date &amp; time of each location in class <code>POSIXct</code> or <code>character</code> with the following format "2012-06-03 01:33:46".
"lat" and "lon" are the latitude and longitude of each location in decimal degrees. 
"qi" is the quality index associated with each location fix. 
The input values can be either the number of GPS satellites or Argos Location Classes. 
Argos Location Classes will be converted to numerical values, where "A", "B", "Z" will be replaced with "-1", "-2", "-3" respectively.
The greater number indicates a higher accuracy.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>step.time</code></td>
<td>
<p>Consecutive locations less than or equal to <em>step.time</em> apart are considered temporal duplicates.
Default is 0 hours.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>step.dist</code></td>
<td>
<p>Consecutive locations less than or equal to <em>step.dist</em> apart are considered spatial duplicates.
Default is 0 kilometres.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conditional</code></td>
<td>
<p>If TRUE, spatial duplicates are filtered only if they are less than or equal to <em>step.time</em> apart. 
Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>no.cores</code></td>
<td>
<p>An integer specifying the number of cores used for parallel computing. 
Alternatively, type in 'detect' to use the maximum number of available cores minus one.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is a partial component of <code>dupfilter</code>, although works as a stand-alone function.
First it identifies spatial duplicates by searching for consecutive fixes that were located within <em>step.dist</em>.
For each group of spatial duplicates, the function then retains a single fix that is nearest from a previous and to a subsequent location.
</p>


<h3>Value</h3>

<p>The input data frame is returned with spatial duplicates removed.
The following columns are added: "pTime", "sTime", "pDist", "sDist". 
"pTime" and "sTime" are hours from a previous and to a subsequent fix respectively. 
"pDist" and "sDist" are straight distances in kilometres from a previous and to a subsequent fix respectively.
</p>


<h3>Note</h3>

<p>A minimum of two locations per id is required.
</p>


<h3>Author(s)</h3>

<p>Takahiro Shimada
</p>


<h3>References</h3>

<p>Shimada T, Limpus C, Jones R, Hazel J, Groom R, Hamann M (2016) 
Sea turtles return home after intentional displacement from coastal foraging areas. 
<em>Marine Biology</em> 163:1-14 <a href="https://doi.org/10.1007/s00227-015-2771-0">doi:10.1007/s00227-015-2771-0</a>
</p>


<h3>See Also</h3>

<p><code>dupfilter</code>, <code>dupfilter_exact</code>, <code>dupfilter_time</code>, <code>dupfilter_qi</code>, <code>track_param</code>
</p>


</div>