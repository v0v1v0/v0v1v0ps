<div class="container">

<table style="width: 100%;"><tr>
<td>genCluster</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate clustered data</h2>

<h3>Description</h3>

<p>Simulate data set that is one level down in a multilevel data context. The
level "2" data set must contain a field that specifies the number of
individual records in a particular cluster.
</p>


<h3>Usage</h3>

<pre><code class="language-R">genCluster(dtClust, cLevelVar, numIndsVar, level1ID, allLevel2 = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dtClust</code></td>
<td>
<p>Name of existing data set that contains the level "2" data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cLevelVar</code></td>
<td>
<p>Variable name (string) of cluster id in dtClust</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numIndsVar</code></td>
<td>
<p>Variable name (string) of number of observations
per cluster in dtClust. Can also be a single integer value that will
be used for all clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level1ID</code></td>
<td>
<p>Name of id field in new level "1" data set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allLevel2</code></td>
<td>
<p>Indicator: if set to TRUE (default), the returned data set
includes all of the Level 2 data columns. If FALSE, the returned data set
only includes the Levels 1 and 2 ids.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A simulated data table with level "1" data
</p>


<h3>Examples</h3>

<pre><code class="language-R">gen.school &lt;- defData(
  varname = "s0", dist = "normal",
  formula = 0, variance = 3, id = "idSchool"
)
gen.school &lt;- defData(gen.school,
  varname = "nClasses",
  dist = "noZeroPoisson", formula = 3
)

dtSchool &lt;- genData(3, gen.school) #'
dtSchool

dtClass &lt;- genCluster(dtSchool,
  cLevelVar = "idSchool",
  numIndsVar = "nClasses", level1ID = "idClass"
)
dtClass

dtClass &lt;- genCluster(dtSchool,
  cLevelVar = "idSchool",
  numIndsVar = 3, level1ID = "idClass"
)
dtClass
</code></pre>


</div>