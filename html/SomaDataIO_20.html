<div class="container">

<table style="width: 100%;"><tr>
<td>loadAdatsAsList</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Load ADAT files as a list</h2>

<h3>Description</h3>

<p>Load a series of ADATs and return a list of <code>soma_adat</code>
objects, one for each ADAT file.
<code>collapseAdats()</code> concatenates a list of ADATs from <code>loadAdatsAsList()</code>,
while maintaining the relevant attribute entries (mainly the <code>HEADER</code>
element). This makes writing out the final object possible without the
loss of <code>HEADER</code> information.
</p>


<h3>Usage</h3>

<pre><code class="language-R">loadAdatsAsList(files, collapse = FALSE, verbose = interactive(), ...)

collapseAdats(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>files</code></td>
<td>
<p>A character string of files to load.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collapse</code></td>
<td>
<p>Logical. Should the resulting list of ADATs be
collapsed into a single ADAT object?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical. Should the function call be run in <em>verbose</em> mode.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to <code>read_adat()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A list of <code>soma_adat</code> class objects returned from
<code>loadAdatsAsList()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>


<dl>
<dt>
<strong>Note 1</strong>:</dt>
<dd>
<p>The default behavior is to "vertically bind"
(<code>rbind()</code>) on the  <em>intersect</em> of the column variables, with
unique columns silently dropped.</p>
</dd>
<dt>
<strong>Note 2</strong>:</dt>
<dd>
<p>If "vertically binding" on the column <em>union</em> is
desired, use <code>bind_rows()</code>, however this results in <code>NAs</code> in
non-intersecting columns. For many files with little variable
intersection, a sparse RFU-matrix will result
(and will likely break ADAT attributes):
</p>
<div class="sourceCode r"><pre>adats &lt;- loadAdatsAsList(files)
union_adat &lt;- dplyr::bind_rows(adats, .id = "SourceFile")
</pre></div>
</dd>
</dl>
<h3>Value</h3>

<p>A list of ADATs named by <code>files</code>, each a <code>soma_adat</code> object
corresponding to an individual file in <code>files</code>. For <code>collapseAdats()</code>,
a single, collapsed <code>soma_adat</code> object.
</p>


<h3>Author(s)</h3>

<p>Stu Field
</p>


<h3>See Also</h3>

<p><code>read_adat()</code>
</p>
<p>Other IO: 
<code>parseHeader()</code>,
<code>read_adat()</code>,
<code>soma_adat</code>,
<code>write_adat()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># only 1 file in directory
dir(system.file("extdata", package = "SomaDataIO"))

files &lt;- system.file("extdata", package = "SomaDataIO") |&gt;
  dir(pattern = "[.]adat$", full.names = TRUE) |&gt; rev()

adats &lt;- loadAdatsAsList(files)
class(adats)

# collapse into 1 ADAT
collapsed &lt;- collapseAdats(adats)
class(collapsed)

# Alternatively use `collapse = TRUE`

  loadAdatsAsList(files, collapse = TRUE)

</code></pre>


</div>