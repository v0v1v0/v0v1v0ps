<div class="container">

<table style="width: 100%;"><tr>
<td>check_forecasts</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Check forecasts</h2>

<h3>Description</h3>

<p>Function to check the input data before running
<code>score()</code>.
</p>
<p>The data should come in one of three different formats:
</p>

<ul>
<li>
<p> A format for binary predictions (see example_binary)
</p>
</li>
<li>
<p> A sample-based format for discrete or continuous predictions
(see example_continuous and example_integer)
</p>
</li>
<li>
<p> A quantile-based format (see example_quantile)
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">check_forecasts(data)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data.frame or data.table with the predictions and observations.
For scoring using <code>score()</code>, the following columns need to be present:
</p>

<ul>
<li> <p><code>true_value</code> - the true observed values
</p>
</li>
<li> <p><code>prediction</code> - predictions or predictive samples for one
true value. (You only don't need to provide a prediction column if
you want to score quantile forecasts in a wide range format.)</p>
</li>
</ul>
<p>For scoring integer and continuous forecasts a <code>sample</code> column is needed:
</p>

<ul><li> <p><code>sample</code> - an index to identify the predictive samples in the
prediction column generated by one model for one true value. Only
necessary for continuous and integer forecasts, not for
binary predictions.</p>
</li></ul>
<p>For scoring predictions in a quantile-format forecast you should provide
a column called <code>quantile</code>:
</p>

<ul><li> <p><code>quantile</code>: quantile to which the prediction corresponds
</p>
</li></ul>
<p>In addition a <code>model</code> column is suggested and if not present this will be
flagged and added to the input data with all forecasts assigned as an
"unspecified model").
</p>
<p>You can check the format of your data using <code>check_forecasts()</code> and there
are examples for each format (example_quantile, example_continuous,
example_integer, and example_binary).</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A list with elements that give information about what <code>scoringutils</code>
thinks you are trying to do and potential issues.
</p>

<ul>
<li> <p><code>target_type</code> the type of the prediction target as inferred from the
input: 'binary', if all values in <code>true_value</code> are either 0 or 1 and values
in <code>prediction</code> are between 0 and 1, 'discrete' if all true values are
integers.
and 'continuous' if not.
</p>
</li>
<li> <p><code>prediction_type</code> inferred type of the prediction. 'quantile', if there is
a column called 'quantile', else 'discrete' if all values in <code>prediction</code>
are integer, else 'continuous.
</p>
</li>
<li> <p><code>forecast_unit</code> unit of a single forecast, i.e. the grouping that uniquely
defines a single forecast. This is assumed to be all
present columns apart from the following protected columns:
<code>c("prediction", "true_value", "sample", "quantile","range", "boundary")</code>.
It is important that you remove all unnecessary columns before scoring.
</p>
</li>
<li> <p><code>rows_per_forecast</code> a data.frame that shows how many rows (usually
quantiles or samples there are available per forecast. If a forecast model
has several entries, then there a forecasts with differing numbers of
quantiles / samples.
</p>
</li>
<li> <p><code>unique_values</code> A data.frame that shows how many unique values there are
present per model and column in the data. This doesn't directly show missing
values, but rather the maximum number of unique values across the whole data.
</p>
</li>
<li> <p><code>warnings</code> A vector with warnings. These can be ignored if you know what
you are doing.
</p>
</li>
<li> <p><code>errors</code> A vector with issues that will cause an error when running
<code>score()</code>.
</p>
</li>
<li> <p><code>messages</code> A verbal explanation of the information provided above.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Nikos Bosse <a href="mailto:nikosbosse@gmail.com">nikosbosse@gmail.com</a>
</p>


<h3>See Also</h3>

<p>Function to move from sample-based to quantile format:
<code>sample_to_quantile()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">check &lt;- check_forecasts(example_quantile)
print(check)
check_forecasts(example_binary)
</code></pre>


</div>