<div class="container">

<table style="width: 100%;"><tr>
<td>correltable</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create correlation table (with stars for significance)
for scientific publication</h2>

<h3>Description</h3>

<p>The <code>correltable</code> function can be used to create correlation
table (with stars for significance) for scientific publication
This is intended to summarize correlations between (<code>vars</code>)
from an input dataset (<code>data</code>).
Correlations are based on <code>stats::cor</code>, <code>use</code> and <code>method</code>
follow from that function.
Stars indicate significance: <code style="white-space: pre;">⁠*p&lt;.05, **p&lt;.01, ***p&lt;.001⁠</code>
For formatting, variables can be renamed, numbers can be rounded,
upper or lower triangle only can be selected (or whole matrix),
and empty columns/rows can be dropped if using triangles.
For more compact columns, variable names can be numbered in the
rows and column names will be corresponding numbers.
If only cross-correlation between two sets of variables is desired
(no correlations within a set of variables),
<code>vars2</code> and <code>var_names</code> can be used.
This function will drop any non-numeric variables by default.
Requires <code>tidyverse</code> and <code>stats</code> libraries.
</p>


<h3>Usage</h3>

<pre><code class="language-R">correltable(
  data,
  vars = NULL,
  var_names = vars,
  vars2 = NULL,
  var_names2 = vars2,
  method = c("pearson", "spearman"),
  use = c("pairwise", "complete"),
  round_n = 2,
  tri = c("upper", "lower", "all"),
  cutempty = c(FALSE, TRUE),
  colnum = c(FALSE, TRUE),
  html = c(FALSE, TRUE),
  strata = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The input dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>A list of the names of variables to correlate,
e.g. c("Age","height","WASI"),
if NULL, all variables in <code>data</code> will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_names</code></td>
<td>
<p>An optional list to rename the <code>vars</code> colnames
in the output table, e.g. c("Age (years)","Height (inches)","IQ").
Must match <code>vars</code> in length. If not supplied, <code>vars</code> will be printed as is.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars2</code></td>
<td>
<p>If cross-correlation between two sets of variables
is desired, add a second list of  variables to correlate with
<code>vars</code>; Overrides <code>tri</code>, <code>cutempty</code>, and <code>colnum</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_names2</code></td>
<td>
<p>An optional list to rename the <code>vars2</code> colnames
in the output table If not supplied, <code>vars2</code> will be printed as is.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Type of correlation to calculate c("pearson", "spearman"),
based on <code>stats::cor</code>, default = "pearson".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use</code></td>
<td>
<p>Use pairwise.complete.obs or restrict to complete cases
c("pairwise", "complete"), based on <code>stats::cor</code>, default = "pairwise".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>round_n</code></td>
<td>
<p>The number of decimal places to
round all output to (default=2).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tri</code></td>
<td>
<p>Select output formatting c("upper", "lower","all");
KEEP the upper triangle, lower triangle, or all values, default ="upper.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutempty</code></td>
<td>
<p>If keeping only upper/lower triangle with <code>tri</code>,
cut empty row/column, default=FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colnum</code></td>
<td>
<p>For more concise column names, number row names and
just use corresponding numbers as column names,
default=FALSE, if TRUE overrides cutempty.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>html</code></td>
<td>
<p>Format as html in viewer or not (default=F, print in console),
needs library(htmlTable) installed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata</code></td>
<td>
<p>Split table by a 2-level factor variable
with level1 in the upper and level2 in the lower triangle
must have 2+ cases per level, cannot be combined with vars2</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Output Table 1
</p>


<h3>Examples</h3>

<pre><code class="language-R">correltable(data = psydat)
correltable(
  data = psydat, vars = c("Age", "Height", "iq"),
  tri = "lower", html = TRUE
)
correltable(
  data = psydat, vars = c("Age", "Height", "iq"),
  tri = "lower", html = TRUE, strata = "Sex"
)
correltable(
  data = psydat, vars = c("Age", "Height", "iq"),
  var_names = c("Age (months)", "Height (inches)", "IQ"),
  tri = "upper", colnum = TRUE, html = TRUE
)
correltable(
  data = psydat, vars = c("Age", "Height", "iq"),
  var_names = c("Age (months)", "Height (inches)", "IQ"),
  vars2 = c("depressT", "anxT"),
  var_names2 = c("Depression T", "Anxiety T"), html = TRUE
)
</code></pre>


</div>