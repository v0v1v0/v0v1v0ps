<div class="container">

<table style="width: 100%;"><tr>
<td>getSubjData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract data from a subject level domain.</h2>

<h3>Description</h3>

<p>Extracts and returns all rows from the specified <code>domain</code> for the set
of subjects included in <code>animalList</code>.<br></p>


<h3>Usage</h3>

<pre><code class="language-R">getSubjData(dbToken, animalList, domain, colList = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dbToken</code></td>
<td>
<p>Mandatory<br>
Token for the open database connection (see <code>initEnvironment</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>animalList</code></td>
<td>
<p>Mandatory, data.table.<br>
A table with the list of animals to be included in the output data.<br>
The table must include at least columns named 'STUDYID' and 'USUBJID'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>domain</code></td>
<td>
<p>Mandatory, character, not case sensitive.<br>
The name of the domain table to extract data from.<br>
The name must be a subject level domain - i.e. a table including a 'USUBJID'
column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colList</code></td>
<td>
<p>Optional, character, not case sensitive.<br>
The list of columns to be extracted from the specified domain table.<br>
It can be a single string, a vector or a list of multiple strings.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The function returns a data.table with all the rows for the animals
included in <code>animalList</code>.<br>
If no columns have been specified in <code>colList</code>, all the columns in
the table <code>colList</code> are included.<br>
If a list of columns have been specified in <code>colList</code>, these are
included. In addition, a set of columns are always included, whether they
are included in <code>colList</code> or not:
</p>

<ul>
<li>
<p> To ensure each row can be uniquely identified:
</p>

<ul>
<li>
<p> DOMAIN
</p>
</li>
<li>
<p> STUDYID
</p>
</li>
<li>
<p> USUBJID
</p>
</li>
<li>
<p> POOLID (if it exists)
</p>
</li>
<li>
<p> domainSEQ (if it exists)
</p>
</li>
</ul>
</li>
<li>
<p> For finding tables - to support age calculation and evaluation of
study phase:
</p>

<ul>
<li>
<p> domainDTC
</p>
</li>
<li>
<p> domainDY
</p>
</li>
</ul>
</li>
</ul>
<p>The order of the columns are as they are defined for the domain in the
SEND IG.<br>
The data table contains both
</p>

<ul>
<li>
<p> subject level data - i.e. rows where USUBJID is not empty
</p>
</li>
<li>
<p> if applicable for the <code>domain</code>, pool level data - i.e. rows
where POOLID is not empty.<br>
In this case, all pools, which includes any of the subjects included in
<code>animalList</code>, are included
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Extract all columns from DM:
getSubjData(myDbToken, myControlAnimals, 'dm')

# Extract selected columns from LB:
getSubjData(myDbToken, myControlAnimals, 'LB',
            list('LBTESTCD', 'LBCAT',
                 'LBSTRESC', 'LBSTRESN', 'LBSTRESU',
                 'LBSTAT', 'LBREASND',
                 'LBTPT'))

## End(Not run)

</code></pre>


</div>