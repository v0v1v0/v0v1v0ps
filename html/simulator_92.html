<div class="container">

<table style="width: 100%;"><tr>
<td>simulate_from_model</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate from a model.</h2>

<h3>Description</h3>

<p>Given a reference to a <code>Model</code> object, this function calls the
model's <code>simulate</code> function on its <code>params</code>.  It repeats this
<code>nsim</code> times.  For example, when simulating regression with a fixed
design, this function would generate <code>nsim</code> response vectors <code>y</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">simulate_from_model(object, nsim, index = 1, parallel = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object of class <code>ModelRef</code> as returned by
<code>link{generate_model}</code>. Or a list of such objects. If
<code>object</code> is a <code>Simulation</code>, then function is applied to the
referenced models in that simulation and returns the same
<code>Simulation</code> object but with references added to the new draws
created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>number of simulations to be conducted.  If a scalar, then
value repeated for each index.  Otherwise can be a vector of length
<code>length(index)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>a vector of positive integer indices.  Allows simulations to be
carried out in chunks.  Each chunk gets a separate RNG stream,
meaning that the results will be identical whether we run these in
parallel or sequentially.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>either <code>NULL</code> or a list containing <code>socket_names</code>
and (optionally) <code>libraries</code> and <code>save_locally</code>
(see Details for more information)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function creates objects of class <code>Draws</code> and saves each to
file (at dir/files/model_name/r&lt;index&gt;.Rdata). Note: while "files" is the
default, the name of this directory is from getOption("simulator.files"),
which is the value of getOption("simulator.files") when the model was
created.
</p>
<p>If parallel is not NULL, then it must be a list containing
<code>socket_names</code>, which can either be a positive integer specifying the
number of copies to run on localhost or else a character vector of machine
names (e.g., "mycluster-0-0").  The list <code>parallel</code> can also contain
<code>libraries</code>, a character vector of R packages that will be needed on the
slaves and <code>save_locally</code>, a logical that indicates whether the files
generated should be saved on the slaves (i.e., locally) or on the master.
</p>


<h3>See Also</h3>

<p><code>load_draws</code> <code>generate_model</code> <code>run_method</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
 sim &lt;- new_simulation(name = "normal-example",
                       label = "Normal Mean Estimation",
                       dir = tempdir()) %&gt;%
   generate_model(make_my_example_model, n = 20) %&gt;%
   simulate_from_model(nsim = 50, index = 1:3,
     parallel = list(socket_names = 3))
 
## End(Not run)
</code></pre>


</div>