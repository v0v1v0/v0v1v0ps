<div class="container">

<table style="width: 100%;"><tr>
<td>cumdy</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to detect year transitions and calculate cumulative age
of model results</h2>

<h3>Description</h3>

<p>Takes the result of iterative growth modeling and
transforms data from Julian Day (0 - 365) to cumulative
day of the shell age by detecting where transitions
from one year to the next occur and adding full years
(365 days) to simulations in later years.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cumdy(resultarray, threshold = 5, plotyearmarkers = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>resultarray</code></td>
<td>
<p>Array containing the full results of
the optimized growth model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>Artificial threshold value used to recognize
peaks in occurrences of year transitions (default = 5)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotyearmarkers</code></td>
<td>
<p>Should the location of identified year
transitions be plotted? <code>TRUE/FALSE</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A new version of the resultarray with Julian Day model
estimates replaced by estimates of cumulative age of the record
in days.
</p>


<h3>References</h3>

<p>package dependencies: zoo 1.8.7
</p>


<h3>Examples</h3>

<pre><code class="language-R">testarray &lt;- array(NA, dim = c(20, 16, 9)) # Create empty array
# with correct third dimension
windowfill &lt;- seq(50, 500, 50) # Create dummy simulation data 
# (ages) to copy through the array
for(i in 6:length(testarray[1, , 1])){
    testarray[, i, 3] &lt;- c(windowfill, rep(NA, length(testarray[, 1, 3]) -
        length(windowfill)))
    windowfill &lt;- c(NA, (windowfill + 51) %% 365)
}
testarray[, 1, 3] &lt;- seq(1, length(testarray[, 1, 3]), 1) # Add
# dummy /code{D} column.
testarray2 &lt;- cumdy(testarray, 3, FALSE) # Apply function on array
</code></pre>


</div>