<div class="container">

<table style="width: 100%;"><tr>
<td>ssGAMDesign</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate design and model information for <code>spikeSlabGAM</code>
</h2>

<h3>Description</h3>

<p>This function generates the design matrix for a generalized additive (mixed)
model, based on smoothing spline ANOVA-like orthogonal decomposition of the
model terms and their interactions. It parses the formula given to
<code>spikeSlabGAM</code> to provide all the arguments necessary for the
MCMC sampler.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ssGAMDesign(
  formula,
  data,
  specials = c("u", "lin", "fct", "sm", "rnd", "mrf", "srf"),
  minUniqueValues = 6,
  lowRankInteractions = TRUE,
  orthogonalizeInteractions = TRUE,
  decomposition = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>the model formula. Follows the usual R syntax described in
<code>formula</code>. Terms in the formula that are not in the list
of specials are automatically assigned an appropriate special, i.e.
numerical covariates <code>x</code> are treated as <code>lin(x) + sm(x)</code>, factors
<code>f</code> are treated as <code>fct(f)</code> (see <code>specials</code> argument). See
<code>spikeSlabGAM</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>data.frame</code> containing all the variables in the function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>specials</code></td>
<td>
<p>a vector of the types of possible model terms. These must be
implemented as functions generating a design matrix with a label attribute.
See also <code>sm()</code> for an example. The documentation for
<code>spikeSlabGAM</code> contains a list of implemented model term types
and usage examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minUniqueValues</code></td>
<td>
<p>the minimal number of unique values a covariate has to
have in order to not be treated as a factor. Defaults to 6.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lowRankInteractions</code></td>
<td>
<p>should a low-rank approximation of the design
matrix for interaction terms based on a (truncated) spectral decomposition
of the implied covariance matrix be used? defaults to TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>orthogonalizeInteractions</code></td>
<td>
<p>should the design matrices for interaction
terms be projected into the complement of the column space of the
respective main effects?  Can help separate marginal and interaction
effects. Defaults to TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decomposition</code></td>
<td>
<p>which decomposition to use, see <code>sm</code>.
Defaults to the default of <code>sm</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Setting <code>lowRankInteractions</code> to FALSE can result in very large models,
especially if higher-order interactions or interactions between terms with
lots of parameters are involved. Note that numeric covariates with fewer
unique values than <code>minUniqueValues</code> are treated as factors unless
wrapped in a special argument.
</p>
<p>This function is not meant to be called directly by the user,
<code>spikeSlabGAM</code> is the user interface.
</p>


<h3>Value</h3>

<p>a list with components: </p>
<table>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>the left hand side of the
model formula</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Design</code></td>
<td>
<p>the design matrix of the model specified in
formula</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groupIndicators</code></td>
<td>
<p>a factor that maps the columns of
<code>Design</code> to the different model terms</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>H</code></td>
<td>
<p>a matrix containing
the hierarchy of the penalization groups (not used, included for backwards
compatibility)</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Fabian Scheipl
</p>


</div>