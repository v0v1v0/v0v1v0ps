<div class="container">

<table style="width: 100%;"><tr>
<td>str_find</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find partial matching and close distance elements in strings</h2>

<h3>Description</h3>

<p>This function finds the element indices of partial matching or
similar strings in a character vector. Can be used to find exact or
slightly mistyped elements in a string vector.
</p>


<h3>Usage</h3>

<pre><code class="language-R">str_find(string, pattern, precision = 2, partial = 0, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>string</code></td>
<td>
<p>Character vector with string elements.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern</code></td>
<td>
<p>String that should be matched against the elements of <code>string</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>precision</code></td>
<td>
<p>Maximum distance ("precision") between two string elements,
which is allowed to treat them as similar or equal. Smaller values mean
less tolerance in matching.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>partial</code></td>
<td>
<p>Activates similar matching (close distance strings) for parts (substrings)
of the <code>string</code>. Following values are accepted:
</p>

<ul>
<li>
<p> 0 for no partial distance matching
</p>
</li>
<li>
<p> 1 for one-step matching, which means, only substrings of same length as <code>pattern</code> are extracted from <code>string</code> matching
</p>
</li>
<li>
<p> 2 for two-step matching, which means, substrings of same length as <code>pattern</code> as well as strings with a slightly wider range are extracted from <code>string</code> matching
</p>
</li>
</ul>
<p>Default value is 0. See 'Details' for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical; if <code>TRUE</code>, the progress bar is displayed when computing the distance matrix.
Default in <code>FALSE</code>, hence the bar is hidden.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><strong>Computation Details</strong>
<br><br>
Fuzzy string matching is based on regular expressions, in particular
<code>grep(pattern = "(&lt;pattern&gt;){~&lt;precision&gt;}", x = string)</code>. This
means, <code>precision</code> indicates the number of chars inside <code>pattern</code>
that may differ in <code>string</code> to cosinder it as "matching". The higher
<code>precision</code> is, the more tolerant is the search (i.e. yielding more
possible matches). Furthermore, the higher the value for <code>partial</code>
is, the more matches may be found.
<br><br><strong>Partial Distance Matching</strong>
<br><br>
For <code>partial = 1</code>, a substring of <code>length(pattern)</code> is extracted
from <code>string</code>, starting at position 0 in <code>string</code> until
the end of <code>string</code> is reached. Each substring is matched against
<code>pattern</code>, and results with a maximum distance of <code>precision</code>
are considered as "matching". If <code>partial = 2</code>, the range
of the extracted substring is increased by 2, i.e. the extracted substring
is two chars longer and so on.
</p>


<h3>Value</h3>

<p>A numeric vector with index position of elements in <code>string</code> that
partially match or are similar to <code>pattern</code>. Returns <code>-1</code> if no
match was found.
</p>


<h3>Note</h3>

<p>This function does <em>not</em> return the position of a matching string <em>inside</em>
another string, but the element's index of the <code>string</code> vector, where
a (partial) match with <code>pattern</code> was found. Thus, searching for "abc" in
a string "this is abc" will not return 9 (the start position of the substring),
but 1 (the element index, which is always 1 if <code>string</code> only has one element).
</p>


<h3>See Also</h3>

<p><code>group_str</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">string &lt;- c("Hello", "Helo", "Hole", "Apple", "Ape", "New", "Old", "System", "Systemic")
str_find(string, "hel")   # partial match
str_find(string, "stem")  # partial match
str_find(string, "R")     # no match
str_find(string, "saste") # similarity to "System"

# finds two indices, because partial matching now
# also applies to "Systemic"
str_find(string,
        "sytsme",
        partial = 1)

# finds partial matching of similarity
str_find("We are Sex Pistols!", "postils")
</code></pre>


</div>