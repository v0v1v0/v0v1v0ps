<div class="container">

<table style="width: 100%;"><tr>
<td>networkPruning</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prunes Subnetwork and Return Final Pruned Subnetwork Module</h2>

<h3>Description</h3>

<p>Prunes subnetworks with network pruning algorithm (see multi-omics vignette for detail), and save the final pruned subnetwork to the user-defined directory.
The final subnetwork is an .Rdata file with a name 'size_m_net_ind.Rdata', where <code class="reqn">m</code> is the final pruned network size, and ind is the index of the subnetwork module after hierarchical clustering.
</p>


<h3>Usage</h3>

<pre><code class="language-R">networkPruning(
  Abar,
  CorrMatrix,
  data,
  Pheno,
  type,
  ModuleIdx,
  min_mod_size = 10,
  max_mod_size,
  damping = 0.9,
  method = "NetSHy",
  saving_dir
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Abar</code></td>
<td>
<p>Adjacency matrix of subnetwork with size <code class="reqn">m^{*}</code> by <code class="reqn">m^{*}</code> after hierarchical clustering.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CorrMatrix</code></td>
<td>
<p>The correlation matrix of features in <code>Abar</code>, it should be
<code class="reqn">m^{*}</code> by <code class="reqn">m^{*}</code> as well.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The omics data for the subnetwork.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Pheno</code></td>
<td>
<p>The trait (phenotype) data used for network pruning.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A vector with length equal to total number of features in the adjacency matrix
indicating the type of data for each feature. For instance, for a subnetwork with 2 genes and a protein, the <code>type</code> argument should be set to <code>c('gene', 'gene', 'protein')</code>, see multi-omics vignette for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ModuleIdx</code></td>
<td>
<p>The index of the network module that summarization score is
intended to be stored, this is used for naming the subnetwork file in user-defined directory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_mod_size</code></td>
<td>
<p>The minimally possible subnetwork size for the pruned network module,
should be an integer from 1 to the largest possible size of the subnetwork, default is set to 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_mod_size</code></td>
<td>
<p>the maximally possible subnetwork size for the pruned network module,
should be an integer from 1 to the largest possible size of the subnetwork, and it needs to be greater than the value specified in <code>min_mod_size</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>damping</code></td>
<td>
<p>damping parameter for the PageRank algorithm, default is set to 0.9, see <code>igraph</code> package for more detail.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Selection between NetSHy' and 'PCA', specifying the network summarization method used for network pruning, default is set to NetSHy.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>saving_dir</code></td>
<td>
<p>User-defined directory to store pruned subnetwork.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A file stored in the user-defined directory, which contains the
following: (1) correlation_sub: correlation matrix for the subnetwork.
(2) M: adjacency matrix for the subnetwork.
(3) omics_corelation_data: individual molecular feature correlation with phenotype.
(4) pc_correlation: first 3 PCs correlation with phenotype.
(5) pc_loading: principal component loadings.
(6) pca_x1_score: principal component score and phenotype data.
(7) mod_size: number of molecular features in the subnetwork.
(8) sub_type: type of feature for each molecular features.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(SmCCNet)
set.seed(123)
w &lt;- rnorm(20)
w &lt;- w/sqrt(sum(w^2))
labels &lt;- paste0('feature_', 1:20)
abar &lt;- getAbar(w, FeatureLabel = labels)
modules &lt;- getOmicsModules(abar, CutHeight = 0.1)
x &lt;- X1[ ,seq_len(20)]
corr &lt;- stats::cor(x)
# display only example
# networkPruning(abar, corr, data = x, Pheno = Y,
# ModuleIdx = 1,  min_mod_size = 3, max_mod_size = 10, method = 'NetSHy', saving_dir = 
# )

</code></pre>


</div>