<div class="container">

<table style="width: 100%;"><tr>
<td>compareGroups</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compare bullet hole groups</h2>

<h3>Description</h3>

<p>Numerically and graphically compare accuracy, precision, and distribution shape of up to 15 groups of bullet holes.</p>


<h3>Usage</h3>

<pre><code class="language-R">compareGroups(DF, plots = TRUE, xyTopLeft = TRUE, center = FALSE,
              ABalt = c('two.sided', 'less', 'greater'),
              Walt = c('two.sided', 'less', 'greater'),
              CEPtype = 'CorrNormal', CEPlevel = 0.5, CIlevel = 0.95,
              dstTarget, conversion)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>DF</code></td>
<td>
<p>a data frame containing (at least) these variables: <code>series</code> (a <code>factor</code>), and either <code>point.x</code>, <code>point.y</code> or <code>x</code>, <code>y</code> defining the bullet holes. Variables <code>distance</code> (distance to target), <code>aim.x</code>, <code>aim.y</code> (point of aim) are useful - if they are missing, a warning is given and a default assumed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plots</code></td>
<td>
<p>logical: show diagrams?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xyTopLeft</code></td>
<td>
<p>logical: is the origin of the absolute coordinate system in the top-left corner? See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>logical: center groups to mean (0,0) first to compare only with respect to precision?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ABalt</code></td>
<td>
<p>a character string indicating the hypothesis for the Ansari-Bradley-Test for equal variances. Only used when exactly 2 groups are compared.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Walt</code></td>
<td>
<p>a character string indicating the hypothesis for the Wilcoxon-Rank-Sum-Test for equality of average distance to group center (equivalent to the Mann-Whitney-U-Test). Only used when exactly 2 groups are compared.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CEPtype</code></td>
<td>
<p>string indicating which CEP estimate to report from <code>getCEP</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CEPlevel</code></td>
<td>
<p>a numerical value giving the coverage of the confidence ellipse and CEP.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CIlevel</code></td>
<td>
<p>a numerical value giving the level for the confidence intervals (for standard deviations and Rayleigh sigma, MR).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dstTarget</code></td>
<td>
<p>a numerical value giving the distance to the target - used in MOA calculation. Acts as override if variable <code>distance</code> is already included in <code>DF</code>. See <code>getMOA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conversion</code></td>
<td>
<p>how to convert the measurement unit for distance to target to that of the (x,y)-coordinates in MOA calculation. Acts as override if variables <code>dist.unit</code> and <code>point.unit</code> are already included in <code>DF</code>. Example <code>'m2cm'</code>. See <code>getMOA</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By default, OnTarget PC/TDS' 'Export Point Data' places the origin of the absolute coordinate system in the top-left corner. In OnTarget TDS, this setting can be changed by checking the box 'Tools -&gt; Options -&gt; Options tab -&gt; Data Export -&gt; Invert Y-Axis on Export'. In that case, use <code>xyTopLeft=FALSE</code>. If groups appear to be upside-down, <code>xyTopLeft</code> is the setting to change.
</p>
<p>OnTarget PC/TDS' <code>Group</code> variable identifies groups just within one file, whereas factor <code>series</code> is taken to number groups also across different original files. If your data was read with <code>readDataOT1</code>, <code>readDataOT2</code> or <code>readDataMisc</code>, <code>series</code> is added automatically. For data from just one file, you can otherwise copy variable <code>group</code> to <code>series</code> in a data frame called <code>shots</code> with <code>shots$series</code> <code>&lt;-</code> <code>shots$group</code>.<br>
If the data is missing information about the point of aim, (0,0) is assumed. If distance to target is missing, 100 is assumed.
</p>
<p>In addition to the numerical results listed below, this function produces the following diagrams:
</p>

<ul>
<li>
<p> a scatterplot showing all groups as well as their respective center and confidence ellipse
</p>
</li>
<li>
<p> a scatterplot showing all groups as well as their respective (minimum) bounding box and maximum group spread
</p>
</li>
<li>
<p> a scatterplot showing all groups as well as their respective minimum enclosing circle and circle with average distance to center
</p>
</li>
<li>
<p> a boxplot for the distances to group center per group
</p>
</li>
<li>
<p> a stripchart showing the distances to group center per group together with the estimated Rayleigh mean radius and its confidence interval
</p>
</li>
</ul>
<p>If package <code>shiny</code> is installed, an interactive web app for this functionality can be run with <code>runGUI("analyze")</code>.
</p>


<h3>Value</h3>

<p>A list with the results from numerical comparisons and statistical tests.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>ctr</code></td>
<td>
<p>group center offset from the respective point of aim.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distPOA</code></td>
<td>
<p>distances from group centers to point of aim (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MANOVA</code></td>
<td>
<p>MANOVA result from testing equality of group center offset from the respective point of aim (test statistic is Wilk's lambda).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>corXY</code></td>
<td>
<p>group correlation matrices for the (x,y)-coordinates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdXY</code></td>
<td>
<p>list with group standard deviations of the x- and y-coordinates (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdXYci</code></td>
<td>
<p>list with group parametric (chi^2) confidence intervals for the standard deviations of x- and y coordinates (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meanDistToCtr</code></td>
<td>
<p>average distances from points to their respective group center (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxPairDist</code></td>
<td>
<p>maximum pairwise distance between points for each group (center-to-center, = maximum spread, in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bbFoM</code></td>
<td>
<p>minimum-area bounding box figure of merit (average side length) for each group (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bbDiag</code></td>
<td>
<p>minimum-area bounding box diagonal length for each group (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minCircleRad</code></td>
<td>
<p>radius of the minimum enclosing circle for each group (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma</code></td>
<td>
<p>estimated Rayleigh parameter sigma (precision) for each group (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MR</code></td>
<td>
<p>estimated Rayleigh mean radius for each group (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigmaMRci</code></td>
<td>
<p>parametric (chi^2) confidence intervals for Rayleigh sigma and MR (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CEP</code></td>
<td>
<p>Estimate for the circular error probable (CEP) in each group (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AnsariX</code></td>
<td>
<p>Ansari-Bradley-Test result from testing equality of group variances for x-coordinates. When two groups are compared.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AnsariY</code></td>
<td>
<p>Ansari-Bradley-Test result from testing equality of group variances for y-coordinates. When two groups are compared.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Wilcoxon</code></td>
<td>
<p>Wilcoxon-Rank-Sum-Test result from testing equality of average point distances to their respective group center. When two groups are compared.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FlignerX</code></td>
<td>
<p>Fligner-Killeen-Test result from testing equality of group variances for x-coordinates. When more than two groups are compared.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FlignerY</code></td>
<td>
<p>Fligner-Killeen-Test result from testing equality of group variances for y-coordinates. When more than two groups are compared.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Kruskal</code></td>
<td>
<p>Kruskal-Wallis-Test result from testing equality of average point distances to their respective group center. When more than two groups are compared.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>analyzeGroup</code>,
<code>getDistToCtr</code>,
<code>getMaxPairDist</code>,
<code>getMinBBox</code>,
<code>getMinCircle</code>,
<code>getCEP</code>,
<code>getMOA</code>,
<code>getRayParam</code>,
<code>drawEllipse</code>,
<code>anova.mlm</code>,
<code>ansari_test</code>,
<code>fligner_test</code>,
<code>wilcox_test</code>,
<code>kruskal_test</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">cmp &lt;- compareGroups(DF300BLKhl, dstTarget=100, conversion='yd2in')
names(cmp)
cmp$ctr
cmp$meanDistToCtr
cmp$CEP
cmp$Kruskal
</code></pre>


</div>