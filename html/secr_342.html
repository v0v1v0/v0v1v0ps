<div class="container">

<table style="width: 100%;"><tr>
<td>setNumThreads</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Number of Threads</h2>

<h3>Description</h3>

<p>Set or report the number of cores to be used for multi-threaded operations. A wrapper for the RcppParallel function setThreadOptions (Allaire et al. 2019).
</p>


<h3>Usage</h3>

<pre><code class="language-R">
setNumThreads(ncores, ...)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ncores</code></td>
<td>
<p>integer number of threads to use</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments passed to <code>RcppParallel::setThreadOptions</code>, specifically stackSize</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>ncores</code> is NULL then the current value of the environment variable RCPP_PARALLEL_NUM_THREADS is used. RCPP_PARALLEL_NUM_THREADS defaults to 2 at the start of a session (assuming at least 2 logical cores available).
</p>
<p>Calling <code>setNumThreads()</code> with no arguments is a handy way to check how many threads are in use.
</p>
<p>The value of RCPP_PARALLEL_NUM_THREADS is also reset when a multi-threaded function such as <code>secr.fit</code> is called with a non-NULL value of the ncores argument. This value applies in later calls of <code>secr.fit</code> with <code>ncores = NULL</code> until changed.
</p>


<h3>Value</h3>

<p>The new value of the environment variable RCPP_PARALLEL_NUM_THREADS.
</p>


<h3>Note</h3>

<p>The mechanism for setting the number of threads changed between versions 4.1.0 and 4.2.0. The default number of cores is now capped at 2 to meet CRAN requirements. Setting <code>ncores = NULL</code> previously specified one less than the number of available cores.
</p>


<h3>References</h3>

<p>Allaire, J. J., Francois, R., Ushey, K., Vandenbrouck, G., Geelnard, M. and Intel (2019)
RcppParallel: Parallel Programming Tools for 'Rcpp'. R package version 4.4.4.
https://CRAN.R-project.org/package=RcppParallel.
</p>


<h3>See Also</h3>

<p>Parallel,
<code>setThreadOptions</code>
<code>Sys.getenv</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# determine current number of threads

setNumThreads()

## Not run: 

# set new number of threads
setNumThreads(7)

# a call to secr.fit that specifies 'ncores' also sets the 
# number of threads, as we see here

fit &lt;- secr.fit(captdata, trace = FALSE, ncores = 8)
setNumThreads()


## End(Not run)

</code></pre>


</div>