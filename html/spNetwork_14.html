<div class="container">

<table style="width: 100%;"><tr>
<td>build_graph_directed</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Directed network generation</h2>

<h3>Description</h3>

<p>Generate a directed igraph object from a feature collection of linestrings
</p>


<h3>Usage</h3>

<pre><code class="language-R">build_graph_directed(lines, digits, line_weight, direction, attrs = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>lines</code></td>
<td>
<p>A feature collection of linestrings</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>The number of digits to keep from the coordinates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line_weight</code></td>
<td>
<p>The name of the column giving the weight of the lines</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>direction</code></td>
<td>
<p>A column name indicating authorized travelling direction on
lines. if NULL, then all lines can be used in both directions. Must be the
name of a column otherwise. The values of the column must be "FT" (From -
To), "TF" (To - From) or "Both"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attrs</code></td>
<td>
<p>A boolean indicating if the original lines' attributes should be
stored in the final object</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function can be used to generate a directed graph object (igraph
object). It uses the coordinates of the linestrings extremities to create
the nodes of the graph. This is why the number of digits in the coordinates
is important. Too high precision (high number of digits) might break some
connections. The column used to indicate directions can only have the
following values: "FT" (From-To), "TF" (To-From) and "Both".
</p>


<h3>Value</h3>

<p>A list containing the following elements:
</p>

<ul>
<li>
<p> graph: an igraph object;
</p>
</li>
<li>
<p> linelist: the dataframe used to build the graph;
</p>
</li>
<li>
<p> lines: the original feature collection of lines;
</p>
</li>
<li>
<p> spvertices: a feature collection of points representing the vertices
of the graph;
</p>
</li>
<li>
<p> digits : the number of digits kept for the coordinates.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
data(mtl_network)
mtl_network$length &lt;- as.numeric(sf::st_length(mtl_network))
mtl_network$direction &lt;- "Both"
mtl_network[6, "direction"] &lt;- "TF"
mtl_network_directed &lt;- lines_direction(mtl_network, "direction")
graph_result &lt;- build_graph_directed(lines = mtl_network_directed,
        digits = 2,
        line_weight = "length",
        direction = "direction",
        attrs = TRUE)

</code></pre>


</div>