<div class="container">

<table style="width: 100%;"><tr>
<td>str_extract_numbers</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract numbers from a string.</h2>

<h3>Description</h3>

<p>Extract the numbers from a string, where decimals, scientific notation and
thousand separators are optionally allowed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">str_extract_numbers(
  string,
  decimals = FALSE,
  leading_decimals = decimals,
  negs = FALSE,
  sci = FALSE,
  big_mark = "",
  leave_as_string = FALSE,
  commas = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>string</code></td>
<td>
<p>A string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decimals</code></td>
<td>
<p>Do you want to include the possibility of decimal numbers
(<code>TRUE</code>) or not (<code>FALSE</code>, the default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leading_decimals</code></td>
<td>
<p>Do you want to allow a leading decimal point to be
the start of a number?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>negs</code></td>
<td>
<p>Do you want to allow negative numbers? Note that double negatives
are not handled here (see the examples).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sci</code></td>
<td>
<p>Make the search aware of scientific notation e.g. 2e3 is the same
as 2000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>big_mark</code></td>
<td>
<p>A character. Allow this character to be used as a thousands
separator. This character will be removed from between digits before they
are converted to numeric. You may specify many at once by pasting them
together e.g. <code>big_mark = ",_"</code> will allow both commas and underscores.
Internally, this will be used inside a <code style="white-space: pre;">⁠[]⁠</code> regex block so e.g. <code>"a-z"</code>
will behave differently to <code>"az-"</code>. Most common separators (commas, spaces,
underscores) should work fine.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leave_as_string</code></td>
<td>
<p>Do you want to return the number as a string (<code>TRUE</code>)
or as numeric (<code>FALSE</code>, the default)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>commas</code></td>
<td>
<p>Deprecated. Use <code>big_mark</code> instead.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If any part of a string contains an ambiguous number (e.g. <code style="white-space: pre;">⁠1.2.3⁠</code> would be
ambiguous if <code>decimals = TRUE</code> (but not otherwise)), the value returned for
that string will be <code>NA</code> and a <code>warning</code> will be issued.
</p>
<p>With scientific notation, it is assumed that the exponent is not a decimal
number e.g. <code style="white-space: pre;">⁠2e2.4⁠</code> is unacceptable. Thousand separators, however, are
acceptable in the exponent.
</p>
<p>Numbers outside the double precision floating point range (i.e. with absolute
value greater than 1.797693e+308) are read as <code>Inf</code> (or <code>-Inf</code> if they begin
with a minus sign). This is what <code>base::as.numeric()</code> does.
</p>


<h3>Value</h3>

<p>For <code>str_extract_numbers</code> and <code>str_extract_non_numerics</code>, a list of
numeric or character vectors, one list element for each element of
<code>string</code>. For <code>str_nth_number</code> and <code>str_nth_non_numeric</code>, a numeric or
character vector the same length as the vector <code>string</code>.
</p>


<h3>See Also</h3>

<p>Other numeric extractors: 
<code>str_nth_number()</code>,
<code>str_nth_number_after_mth()</code>,
<code>str_nth_number_before_mth()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">strings &lt;- c(
  "abc123def456", "abc-0.12def.345", "abc.12e4def34.5e9",
  "abc1,100def1,230.5", "abc1,100e3,215def4e1,000"
)
str_extract_numbers(strings)
str_extract_numbers(strings, decimals = TRUE)
str_extract_numbers(strings, decimals = TRUE, leading_decimals = TRUE)
str_extract_numbers(strings, big_mark = ",")
str_extract_numbers(strings,
  decimals = TRUE, leading_decimals = TRUE,
  sci = TRUE
)
str_extract_numbers(strings,
  decimals = TRUE, leading_decimals = TRUE,
  sci = TRUE, big_mark = ",", negs = TRUE
)
str_extract_numbers(strings,
  decimals = TRUE, leading_decimals = FALSE,
  sci = FALSE, big_mark = ",", leave_as_string = TRUE
)
str_extract_numbers(c("22", "1.2.3"), decimals = TRUE)
</code></pre>


</div>