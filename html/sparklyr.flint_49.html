<div class="container">

<table style="width: 100%;"><tr>
<td>window_exprs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Time window specifications</h2>

<h3>Description</h3>

<p>Functions for specifying commonly used types of time windows, which should
only be used within the context of summarize_* functions (e.g.,
'summarize_count(ts_rdd, in_past("3s"))'). When passing a time window
specification to some summarize_* function, the Spark connection parameter
('sc') for the time window object will be injected and will be the same Spark
connection the underlying timeseries RDD object is associated with, so, 'sc'
never needs to be specified explicitly.
</p>
<p>Create a sliding time window capuring data within the closed interval of
[current time - duration, current time]
</p>
<p>Create a sliding time window capuring data within the closed interval of
[current time, current time + duration]
</p>


<h3>Usage</h3>

<pre><code class="language-R">in_past(duration, sc)

in_future(duration, sc)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>duration</code></td>
<td>
<p>String representing length of the time window containing a
number followed by a time unit (e.g., "10s" or "10sec"), where time unit
must be one of the following: "d", "day", "h", "hour", "min", "minute",
"s", "sec", "second", "ms", "milli", "millisecond", "</p>
<p style="text-align: center;"><code class="reqn"> \mu </code>
</p>
<p>s",
"micro", "microsecond", "ns", "nano", "nanosecond"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sc</code></td>
<td>
<p>Spark connection (does not need to be specified within the context
of 'summarize_*' functions)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A time window object useable by the Flint time series library
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(sparklyr)
library(sparklyr.flint)

sc &lt;- try_spark_connect(master = "local")

if (!is.null(sc)) {
  sdf &lt;- copy_to(sc, tibble::tibble(t = seq(10), v = seq(10)))
  ts &lt;- fromSDF(sdf, is_sorted = TRUE, time_unit = "SECONDS", time_column = "t")
  ts_count &lt;- summarize_count(ts, column = "v", window = in_past("3s"))
} else {
  message("Unable to establish a Spark connection!")
}


library(sparklyr)
library(sparklyr.flint)

sc &lt;- try_spark_connect(master = "local")

if (!is.null(sc)) {
  sdf &lt;- copy_to(sc, tibble::tibble(t = seq(10), v = seq(10)))
  ts &lt;- fromSDF(sdf, is_sorted = TRUE, time_unit = "SECONDS", time_column = "t")
  ts_count &lt;- summarize_count(ts, column = "v", window = in_future("3s"))
} else {
  message("Unable to establish a Spark connection!")
}

</code></pre>


</div>