<div class="container">

<table style="width: 100%;"><tr>
<td>semanticCoherenceSTS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Semantic Coherence</h2>

<h3>Description</h3>

<p>Calculates semantic coherence for an STS model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">semanticCoherenceSTS(beta, documents, vocab, M = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p>the beta probability  matrix (topic-word distributions) for a given document or alpha-level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>documents</code></td>
<td>
<p>the documents over which to calculate coherence</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vocab</code></td>
<td>
<p>the vocabulary corresponding to the terms in the beta matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>the number of top words to consider per topic</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a numeric vector containing semantic coherence for each topic
</p>


<h3>Examples</h3>

<pre><code class="language-R">#An example using the Gadarian data from the stm package.  From Raw text to 
# fitted model using textProcessor() which leverages the tm Package
library("tm"); library("stm"); library("sts")
temp&lt;-textProcessor(documents=gadarian$open.ended.response,
metadata=gadarian, verbose = FALSE)
out &lt;- prepDocuments(temp$documents, temp$vocab, temp$meta, verbose = FALSE)
X &lt;- model.matrix(~1+out$meta$treatment + out$meta$pid_rep + 
out$meta$treatment * out$meta$pid_rep)[,-1]
X_seed &lt;- as.matrix(out$meta$treatment)
## low max iteration number just for testing
sts_estimate &lt;- sts(X, X_seed, out, numTopics = 3, verbose = FALSE, 
parallelize = FALSE, maxIter = 3, initialization = 'anchor')
full_beta_distn &lt;- exp(sts_estimate$mv + sts_estimate$kappa$kappa_t + 
sts_estimate$kappa$kappa_s %*% diag(apply(sts_estimate$alpha[,3:5], 2, mean)))
full_beta_distn &lt;- t(apply(full_beta_distn, 1, 
function(m) m / colSums(full_beta_distn)))
semanticCoherenceSTS(full_beta_distn, out$documents, out$vocab)
</code></pre>


</div>