<div class="container">

<table style="width: 100%;"><tr>
<td>stepmix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
R interface to stepmix in StepMix python. 
</h2>

<h3>Description</h3>

<p>This function creates a basic R list that will be used to initialize the
stepmix object in python, in order to use the fit and predict function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">stepmix(n_components = 2, n_steps = 1, 
        measurement = "bernoulli", structural = "gaussian_unit",
        assignment = "modal", correction = NULL, 
        abs_tol = 1e-10, rel_tol = 0, max_iter = 1000,
        n_init = 1, init_params = "random", random_state = NULL,
        verbose = 0, progress_bar = 1, measurement_params = NULL,
        structural_params = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n_components</code></td>
<td>
<p>The number of latent class. 2 by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_steps</code></td>
<td>
<p>1, 2, or 3, 1 by default. 
Number of steps in the estimation. Must be one of :
1: run EM on both the measurement and structural models.
</p>
<p>2: first run EM on the measurement model, then on the complete
model, but keep the measurement parameters fixed for the second
step. See Bakk, 2018. 
</p>
<p>3: first run EM on the measurement model, assign class
probabilities, then fit the structural model via maximum
likelihood. See the correction parameter for bias correction.
</p>
<p>See Bakk &amp; Kuha (2018) for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measurement</code></td>
<td>
<p>String describing the measurement model. See
details for the different available model. The default model
is "bernouilli"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>structural</code></td>
<td>
<p>String describing the structural model. See
details for the different available model. The default model
is "bernouilli"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>assignment</code></td>
<td>
<p>String indicating the type of class assignments for
3-step estimation, "modal" by default. Must be one of: 
</p>
<p>soft: keep class responsibilities (posterior probabilities) as is.
</p>
<p>modal: assign 1 to the class with max probability, 0 otherwise
(one-hot encoding).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correction</code></td>
<td>
<p>Bias correction for 3-step estimation. Must be one of :
</p>
<p>None: No correction. Run Naive 3-step.
</p>
<p>BCH: Apply the empirical BCH correction from Vermunt, 2004.
</p>
<p>ML: Apply the ML correction from Vermunt, 2010, Bakk et al., 2013.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abs_tol</code></td>
<td>
<p>The convergence threshold. EM iterations will stop
when the lower bound average gain is below this threshold. The
default value is 1e-3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rel_tol</code></td>
<td>
<p>The convergence threshold. EM iterations will stop
when the relative lower bound average gain is below this threshold.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_iter</code></td>
<td>
<p>The number of EM iterations to perform.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_init</code></td>
<td>
<p>The number of initializations to perform. The best
results are kept.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init_params</code></td>
<td>
<p>"kmeans", or  "random", default="random". The
method used to initialize the weights, the means and the
precisions. Must be one of: 
</p>
<p>kmeans : responsibilities are initialized using kmeans.
</p>
<p>random : responsibilities are initialized randomly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random_state</code></td>
<td>
<p>State instance or NULL, default=NULL. Controls the
random seed given to the method chosen to initialize the
parameters. Pass an int  for reproducible output across multiple
function calls.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Default=0. Enable verbose output. If 1, will print
detailed report of the model and the performance metrics after
fitting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress_bar</code></td>
<td>
<p>Display a tqdm progress bar during fitting</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measurement_params</code></td>
<td>
<p>Default=NULL, Additional params passed to
the measurement model class. Particularly useful to specify
optimization parameters for
stepmix.emission.covariate.Covariate. Ignored if the measurement
descriptor is a nested object (see stepmix.emission.nested.Nested).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>structural_params</code></td>
<td>
<p>Default=NULL, Additional params passed to
the structural model class. Particularly useful to specify
optimization parameters for
stepmix.emission.covariate.Covariate. Ignored if the structural
descriptor is a nested object (see stepmix.emission.nested.Nested).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The options for both the measurement and structural part are describe
here:
</p>
<p>bernoulli: The observed data consists of n_features bernoulli
(binary) random variables.
</p>
<p>bernoulli_nan: the observed data consists of n_features bernoulli
(binary) random variables. Supports missing values. 
</p>
<p>binary: alias for bernoulli.
</p>
<p>binary_nan: alias for bernoulli_nan.
</p>
<p>categorical: alias for multinoulli.
</p>
<p>categorical_nan: alias for multinoulli_nan.
</p>
<p>continuous: alias for gaussian diag.
</p>
<p>continuous_nan: alias for gaussian_diag_nan. supports missing values.
</p>
<p>covariate: covariate model where class probabilities are a multinomial
logistic model of the features. 
</p>
<p>gaussian: alias for gaussian_unit.
</p>
<p>gaussian_nan: alias for gaussian_unit. Supports missing values.
</p>
<p>gaussian_unit: each gaussian component has unit variance. Only fit the mean.
</p>
<p>gaussian_unit_nan: each gaussian component has unit variance. Only fit
the mean. Supports missing values. 
</p>
<p>gaussian_spherical: each gaussian component has its own single variance.
</p>
<p>gaussian_spherical_nan: each gaussian component has its own single
variance. Supports missing values. 
</p>
<p>gaussian_tied: all gaussian components share the same general covariance matrix.
</p>
<p>gaussian_diag: each gaussian component has its own diagonal covariance matrix.
</p>
<p>gaussian_diag_nan: each gaussian component has its own diagonal
covariance matrix. Supports missing values. 
</p>
<p>gaussian_full: each gaussian component has its own general covariance matrix.
</p>
<p>multinoulli: the observed data consists of n_features multinoulli
(categorical) random variables. 
</p>
<p>multinoulli_nan: the observed data consists of n_features multinoulli
(categorical) random variables. Supports missing values. 
</p>


<h3>Value</h3>

<p>It returns a list of type stepmixr that contains the arguments of the
object. 
</p>


<h3>Author(s)</h3>

<p>Éric Lacourse, 
Roxane de la Sablonnière,
Charles-Édouard Giguère,
Sacha Morin,
Robin Legault,
Félix Laliberté,
Zsusza Bakk
</p>


<h3>References</h3>

<p>Bolck, A., Croon, M., and Hagenaars, J. Estimating latent structure
models with categorical variables: One-step versus three-step
estimators. Political analysis, 12(1): 3-27, 2004. 
</p>
<p>Vermunt, J. K. Latent class modeling with covariates: Two improved
three-step approaches. Political analysis, 18 (4):450-469, 2010. 
</p>
<p>Bakk, Z., Tekle, F. B., and Vermunt, J. K. Estimating the association
between latent class membership and external variables using
bias-adjusted three-step approaches. Sociological Methodology,
43(1):272-311, 2013. 
</p>
<p>Bakk, Z. and Kuha, J. Two-step estimation of models between latent
classes and external variables. Psychometrika, 83(4):871-892, 2018 
</p>


<h3>See Also</h3>

<p><code>fit</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
model1 &lt;- stepmix(n_components = 2, n_steps = 3) 

</code></pre>


</div>