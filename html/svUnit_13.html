<div class="container">

<table style="width: 100%;"><tr>
<td>Log</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>SciViews-R log management functions</h2>

<h3>Description</h3>

<p>These functions define the code of test functions. They are designed to check
the result of some test calculation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Log(description = NULL)

createLog(description = NULL, deleteExisting = FALSE)

clearLog()

errorLog(stopit = TRUE, summarize = TRUE)

lastTest()

lastSuite()
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>description</code></td>
<td>
<p>A (short) character string describing this test suite log.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deleteExisting</code></td>
<td>
<p>Do we delete an existing a <code>.Log</code> object already
defined in <code>.GlobalEnv</code> (no, by default)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stopit</code></td>
<td>
<p>Do we issue an error (<code>stop()</code> in case of any error or failure?
This is particularly useful if you want to interrupt R CMD check on packages,
when you included one or more test suites in examples (see <code>?unitTests</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summarize</code></td>
<td>
<p>Should the summary of the log be printed in case we stop
execution of the code when an error is found (see <code style="white-space: pre;">⁠stopit =⁠</code> argument. It is,
indeed, useful to indicate at this time which tests failed or raised an
error. So, this argument should usually be left at its default value.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>svUnit records results of assertions (using the checkxxx() functions) in a
'svSuiteData' object named <code>.Log</code> and located in .GlobalEnv. Hence, this log
is easy to access. However, in order to avoid errors in your code in case
this object was deleted, or not created, it is better to access it using
<code>Log()</code> which take care to create the object if it is missing.
</p>


<h3>Value</h3>

<p><code>Log()</code> and <code>createLog()</code> return the <code>.Log</code> object defined in <code>.GlobalEnv</code> by
reference (it is indeed an environment). So, you can use its content (and
change it, if you write functions to manipulate this log).
</p>
<p><code>clearLog()</code> return invisibly <code>TRUE</code> or <code>FALSE</code>, depending if an existing log
object was deleted or not.
</p>
<p><code>errorLog()</code> is mainly used for its side-effect of stopping code execution
and/or printing a summary of the test runs in the context of example
massaging in R CMD check (see the "Writing R extensions" manual). However,
this function also returns invisibly a contingency table with the number of
successes, failures, errors and deactivated tests recorded so far.
</p>
<p><code>lastTest()</code> and <code>lastSuite()</code> recall results of last test and last suite
run, respectively.
</p>


<h3>Author(s)</h3>

<p>Philippe Grosjean
</p>


<h3>See Also</h3>

<p><code>svSuiteData()</code>, <code>svSuite()</code>, <code>svTest()</code>, <code>checkEquals()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">clearLog()           # Clear the svUnit log

# Two correct tests
(checkTrue(1 &lt; 2))
(checkException(log("a")))
errorLog()           # Nothing, because there is no error

## Not run: 
(checkTrue(1 &gt; 2))    # This test fails
lastTest()            # Print results of last test
errorLog()            # Stop and summarize the tests run so far

## End(Not run)

clearLog()
</code></pre>


</div>