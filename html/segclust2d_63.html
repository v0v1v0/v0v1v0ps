<div class="container">

<table style="width: 100%;"><tr>
<td>prepare_HMM</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prepare HMM output for proper comparison plots</h2>

<h3>Description</h3>

<p><code>prepare_HMM</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">prepare_HMM(data, hmm.model = NULL, diag.var, order.var = diag.var[1])
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hmm.model</code></td>
<td>
<p>hmm.model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diag.var</code></td>
<td>
<p>diag.var</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order.var</code></td>
<td>
<p>order.var</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Example taken from moveHMM package.
# 1. simulate data
# define all the arguments of simData
nbAnimals &lt;- 1
nbStates &lt;- 2
nbCovs &lt;- 2
mu&lt;-c(15,50)
sigma&lt;-c(10,20)
angleMean &lt;- c(pi,0)
kappa &lt;- c(0.7,1.5)
stepPar &lt;- c(mu,sigma)
anglePar &lt;- c(angleMean,kappa)
stepDist &lt;- "gamma"
angleDist &lt;- "vm"
zeroInflation &lt;- FALSE
obsPerAnimal &lt;- c(50,100)

data &lt;- moveHMM::simData(nbAnimals=nbAnimals,nbStates=nbStates,
                stepDist=stepDist,angleDist=angleDist,
                stepPar=stepPar,anglePar=anglePar,nbCovs=nbCovs,
                zeroInflation=zeroInflation,
                obsPerAnimal=obsPerAnimal)

### 2. fit the model to the simulated data
# define initial values for the parameters
mu0 &lt;- c(20,70)
sigma0 &lt;- c(10,30)
kappa0 &lt;- c(1,1)
stepPar0 &lt;- c(mu0,sigma0) # no zero-inflation, so no zero-mass included
anglePar0 &lt;- kappa0 # the angle mean is not estimated,
# so only the concentration parameter is needed
formula &lt;- ~cov1+cos(cov2)
m &lt;- moveHMM::fitHMM(data=data,nbStates=nbStates,stepPar0=stepPar0,
         anglePar0=anglePar0,formula=formula,
         stepDist=stepDist,angleDist=angleDist,angleMean=angleMean)
         
### 3. Transform into a segmentation-class object
res.hmm &lt;- prepare_HMM(data=data, 
hmm.model = m, diag.var = c("step","angle"))
### 4. you can now apply the same function than for segclust2d outputs
plot(res.hmm)
segmap(res.hmm)

## End(Not run)
</code></pre>


</div>