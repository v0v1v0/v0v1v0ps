<div class="container">

<table style="width: 100%;"><tr>
<td>targetall</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Backtest a Fixed-Allocation Trading Strategy</h2>

<h3>Description</h3>

<p>Implements a trading strategy aimed at maintaining a fixed allocation to each 
of several funds, rebalancing when the effective allocations deviate too far 
from the targets.
</p>


<h3>Usage</h3>

<pre><code class="language-R">targetall(tickers = NULL, intercepts = NULL, slopes = NULL, ...,
  tickers.gains = NULL, target.alls = NULL, tol = 0.05,
  rebalance.cost = 0, initial = 10000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tickers</code></td>
<td>
<p>Character vector of ticker symbols that Yahoo! Finance 
recognizes, if you want to download data on the fly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intercepts</code></td>
<td>
<p>Numeric vector of values to add to daily gains for each 
ticker.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slopes</code></td>
<td>
<p>Numeric vector of values to multiply daily gains for each ticker 
by. Slopes are multiplied prior to adding intercepts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to pass along with <code>tickers</code> to 
<code>load_gains</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tickers.gains</code></td>
<td>
<p>Numeric matrix of gains, where each column has gains for 
a particular fund.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target.alls</code></td>
<td>
<p>Numeric vector specifying target allocations to each fund. 
If unspecified, equal allocations are used (e.g. 1/3, 1/3, 1/3 if there are 
3 funds).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>Numeric value indicating how far the effective allocations can 
drift away from the targets before rebalancing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rebalance.cost</code></td>
<td>
<p>Numeric value specifying total cost of each rebalancing 
trade.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initial</code></td>
<td>
<p>Numeric value specifying what value to scale initial prices 
to.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>List containing:
</p>

<ol>
<li>
<p> Numeric matrix named <code>fund.balances</code> giving fund balances over 
time.
</p>
</li>
<li>
<p> Numeric value named <code>rebalance.count</code> giving the number of 
rebalancing trades executed.
</p>
</li>
</ol>
<h3>References</h3>

<p>Ryan, J.A. and Ulrich, J.M. (2017) quantmod: Quantitative Financial Modelling 
Framework. R package version 0.4-12, 
<a href="https://CRAN.R-project.org/package=quantmod">https://CRAN.R-project.org/package=quantmod</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Backtest equal-allocation UPRO/VBLTX/VWEHX strategy
port &lt;- targetall(tickers = c("UPRO", "VBLTX", "VWEHX"))
plot(port$fund.balances[, "Portfolio"])

## End(Not run)

</code></pre>


</div>