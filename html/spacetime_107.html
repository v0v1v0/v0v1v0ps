<div class="container">

<table style="width: 100%;"><tr>
<td>STFDF-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class "STFDF"</h2>

<h3>Description</h3>

<p> A class for spatio-temporal data with full space-time grid; for
n spatial locations and m times, n x m observations are available </p>


<h3>Usage</h3>

<pre><code class="language-R">  STF(sp, time, endTime = delta(time))
  STFDF(sp, time, data, endTime = delta(time))
  ## S4 method for signature 'STFDF'
x[i, j, ..., drop = is(x, "STFDF")]
  ## S4 method for signature 'STFDF,xts'
coerce(from, to, strict=TRUE)
  ## S4 method for signature 'STFDF,Spatial'
coerce(from, to)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sp</code></td>
<td>
<p>object of class Spatial, having <code>n</code> elements</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>object holding time information, of length <code>m</code>;
see ST for details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endTime</code></td>
<td>
<p> vector of class <code>POSIXct</code>, holding end points
of time intervals; by default, time intervals equal the time step
width, see delta </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data frame with <code>n*m</code> rows corresponding to the
observations (spatial index moving fastest)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class STFDF</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>
<p>selection of spatial entities</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>j</code></td>
<td>
<p>selection of temporal entities (see syntax in package xts) </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>selection of attribute(s)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>if TRUE and a single spatial entity is selected, an object
of class xts is returned; if TRUE and a single temporal entity is
selected, and object of the appropriate <code>Spatial</code> class is returned;
if FALSE, no coercion to reduced classes takes place</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>object of class STFDF</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to</code></td>
<td>
<p>target class</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>
<p>ignored</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>the <code>as.data.frame</code> coercion returns the full long table,
with purely spatial attributes and purely time attributes replicated
appropriately. </p>


<h3>Objects from the Class</h3>

<p>Objects of this class represent full space/time data with a full grid 
(or lattice) layout </p>


<h3>Slots</h3>


<dl>
<dt>
<code>sp</code>:</dt>
<dd>
<p>spatial object; see ST-class</p>
</dd>
<dt>
<code>time</code>:</dt>
<dd>
<p>temporal object; see ST-class</p>
</dd>
<dt>
<code>data</code>:</dt>
<dd>
<p>Object of class <code>data.frame</code>, which holds
the measured values; space index cycling first, time order preserved</p>
</dd>
</dl>
<h3>Methods</h3>


<dl>
<dt>[</dt>
<dd>
<p><code>signature(x = "STFDF")</code>: selects spatial entities,        temporal entities, and attributes </p>
</dd> 
<dt>coerce</dt>
<dd>
<p>STFDF,xts</p>
</dd>
<dt>coerce</dt>
<dd>
<p>STFDF,Spatial</p>
</dd>
</dl>
<p>(from) coerces to (wide form) SpatialXxDataFrame,
where SpatialXx is the spatial class of from@sp
</p>
<dl>
<dt>plot</dt>
<dd>
<p><code>signature(x = "STF", y = "missing")</code>: plots space-time
layout </p>
</dd>
<dt>plot</dt>
<dd>
<p><code>signature(x = "STFDF", y = "missing")</code>: plots space-time
layout, indicating full missing valued records </p>
</dd>
</dl>
<h3>Author(s)</h3>

<p> Edzer Pebesma, <a href="mailto:edzer.pebesma@uni-muenster.de">edzer.pebesma@uni-muenster.de</a> </p>


<h3>References</h3>

<p> https://www.jstatsoft.org/v51/i07/ </p>


<h3>Examples</h3>

<pre><code class="language-R">sp = cbind(x = c(0,0,1), y = c(0,1,1))
row.names(sp) = paste("point", 1:nrow(sp), sep="")
library(sp)
sp = SpatialPoints(sp)
time = as.POSIXct("2010-08-05")+3600*(10:13)
m = c(10,20,30) # means for each of the 3 point locations
mydata = rnorm(length(sp)*length(time),mean=rep(m, 4))
IDs = paste("ID",1:length(mydata))
mydata = data.frame(values = signif(mydata,3), ID=IDs)
stfdf = STFDF(sp, time, mydata)
stfdf
stfdf[1:2,]
stfdf[,1:2]
stfdf[,,2]
stfdf[,,"values"]
stfdf[1,]
stfdf[,2]
as(stfdf[,,1], "xts")
as(stfdf[,,2], "xts")
# examples for [[, [[&lt;-, $ and $&lt;- 
stfdf[[1]]
stfdf[["values"]]
stfdf[["newVal"]] &lt;- rnorm(12)
stfdf$ID
stfdf$ID = paste("OldIDs", 1:12, sep="")
stfdf$NewID = paste("NewIDs", 12:1, sep="")
stfdf
x = stfdf[stfdf[1:2,],] 
all.equal(x, stfdf[1:2,]) 
all.equal(stfdf, stfdf[stfdf,]) # converts character to factor...
</code></pre>


</div>