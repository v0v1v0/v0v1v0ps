<div class="container">

<table style="width: 100%;"><tr>
<td>PackageSum2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Add Info from Installed Packages to PackageSummary
</h2>

<h3>Description</h3>

<p>Add information on installed packages to the 
<code>PackageSummary</code> of a <code>findFn</code> object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">PackageSum2(x,
    fields=c("Title", "Version", "Author", "Maintainer", 
      "Packaged", 'helpPages', 'vignette', 'URL'), 
        lib.loc=NULL, ...)
## S3 method for class 'findFn'
PackageSum2(x,
    fields=c("Title", "Version", "Author", "Maintainer",
      "Packaged", 'helpPages', 'vignette', 'URL'), 
        lib.loc=NULL, ...)
## S3 method for class 'data.frame'
PackageSum2(x,
    fields=c("Title", "Version", "Author", "Maintainer",
      "Packaged", 'helpPages', 'vignette', 'URL'), 
        lib.loc=NULL, ...)
## S3 method for class 'list'
PackageSum2(x,
    fields=c("Title", "Version", "Author", "Maintainer",
      "Packaged", 'helpPages', 'vignette', 'URL'), 
        lib.loc=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>a data.frame with columns <code>Package</code> and 
<code>Score</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fields</code></td>
<td>

<p>character vector of names of columns to add to
<code>x</code>. The function first looks  in the components
of <code>packageDescription(x$Package[i])</code>.  
'vignette' is obtained via the function of that name.
</p>
<p>Component 'Packaged' receives special treatment.  If
present, only the portion preceding ';' will be 
retained.  This seems to be a time stamp automatically
generated by something like <code>R CMD build</code>.  It is
absent for packages automatically loaded when R is
started.  In such cases, the third component of 
<code>strsplit(packageDescription( 
    x$Package[i])$Built, ..., ';')</code> will be stored as
'Packaged'.  This seems to be a time stamp 
automatically generated by something like 
<code>R CMD INSTALL --build</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lib.loc</code></td>
<td>

<p>an optional <code>lib.loc</code> argument passed to
<code>packageDescription</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>additional arguments (currently unused)
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>With an object of class <code>findFn</code>, extract the
<code>PackageSummary</code> attribute and pass it to the 
<code>data.frame</code> method.
</p>
<p>With an object of class <code>list</code>, extract the 
<code>PackageSummary</code> component and pass it to the 
<code>data.frame</code> method.
</p>
<p>For a <code>data.frame</code> that is not an <code>findFn</code> 
object, add other columns from <code>attributes</code> of 
<code>packageDescription</code> for installed packages named
in the column <code>Package</code>.  Also, for any packages
that are installed, replace the <code>Date</code> with the
<code>Packaged</code> date.  The <code>Date</code> in Baron's
<code>RSiteSearch</code> database is the date of
acquisition, which will typically be more recent
than the <code>Packaged</code>
date provided the locally installed package has 
the same version as that in Baron's database.  To
get the best information from <code>PackageSum2</code>,
it is wise to first run both
<code>installPackages</code> to ensure that
the packages of greatest interest are installed
locally and <code>update.packages()</code> to make sure
you have the latest versions installed locally. 
Similarly, if <code>PackageSum2</code> does not contain
complete interest on a package of interest, this
can be fixed by installing the package and
rerunning <code>PackageSum2</code>.
</p>


<h3>Value</h3>

<p>a data.frame with additional <code>fields</code> columns
appended to a <code>PackageSummary</code>
<code>data.frame</code>.
</p>


<h3>Author(s)</h3>

<p>Spencer Graves</p>


<h3>See Also</h3>

<p><code>packageSum</code>, which does essentially the
same thing but returns an object of class 
<code>packageSum</code>.  
<code>findFn</code>
<code>PackageSummary</code>
<code>installPackages</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">##
## data.frame method
##
Tstdf &lt;- data.frame(Package=c('grid', 'base'), 
            stringsAsFactors=FALSE)
Tst2 &lt;- PackageSum2(Tstdf)

##
## list method
##
TstList &lt;- list(PackageSummary=Tstdf)

all.equal(Tst2, PackageSum2(TstList))


##
## findFn method
##
Tst.findFn &lt;- data.frame(
    Package=c('grid', 'base')[c(1,1,2)], 
    Score=2:4, Date=LETTERS[1:3], stringsAsFactors=FALSE)
attr(Tst.findFn, 'PackageSummary') &lt;- PackageSummary(
    Tst.findFn)
class(Tst.findFn) &lt;- c('findFn', 'data.frame')
Tst2. &lt;- PackageSum2(Tst.findFn)


all.equal(Tst2, Tst2.[names(Tst2)])


</code></pre>


</div>