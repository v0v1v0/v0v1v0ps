<div class="container">

<table style="width: 100%;"><tr>
<td>syn.ctree, syn.cart</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Synthesis with classification and regression trees (CART)</h2>

<h3>Description</h3>

<p>Generates univariate synthetic data using classification and
regression trees (without or with bootstrap).
</p>


<h3>Usage</h3>

<pre><code class="language-R">syn.ctree(y, x, xp, smoothing = "", proper = FALSE, 
          minbucket = 5, mincriterion = 0.9, ...)
syn.cart(y, x, xp, smoothing = "", proper = FALSE, 
         minbucket = 5, cp = 1e-08, ...)  
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>an original data vector of length <code>n</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a matrix (<code>n</code> x <code>p</code>) of original covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xp</code></td>
<td>
<p>a matrix (<code>k</code> x <code>p</code>) of synthesised covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smoothing</code></td>
<td>
<p>smoothing method for numeric variable. See 
<code>syn.smooth</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proper</code></td>
<td>
<p>for proper synthesis (<code>proper = TRUE</code>) a CART 
model is fitted to a bootstrapped sample of the original data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minbucket</code></td>
<td>
<p>the minimum number of observations in
any terminal node. See <code>rpart.control</code> and
<code>ctree_control</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cp</code></td>
<td>
<p>complexity parameter. Any split that does not
decrease the overall lack of fit by a factor of cp is not
attempted. Small values of <code>cp</code> will grow large trees. 
See <code>rpart.control</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mincriterion</code></td>
<td>
<p><code>1 - p-value</code> of the test that must be 
exceeded for a split to be retained. Small values of 
<code>mincriterion</code> will grow large trees. 
See <code>ctree_control</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional parameters passed to 
<code>ctree_control</code> for <code>syn.ctree</code> and 
<code>rpart.control</code> for <code>syn.cart</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The procedure for synthesis by a CART model is 
as follows: </p>
 <ol>
<li>
<p> Fit a classification 
or regression tree by binary recursive partitioning. 
</p>
</li>
<li>
<p> For each <code>xp</code> find the terminal node. </p>
</li>
<li>
<p> Randomly 
draw a donor from the members of the node and take the observed 
value of <code>y</code> from that draw as the synthetic value.</p>
</li>
</ol>
<p><code>syn.ctree</code> uses <code>ctree</code> function from the
<span class="pkg">party</span> package and <code>syn.cart</code> uses <code>rpart</code>
function from the <span class="pkg">rpart</span> package. They differ, among others, 
in a selection of a splitting variable and a stopping rule for the 
splitting process.
</p>
<p>A Guassian kernel smoothing can be applied to continuous variables 
by setting smoothing parameter to <code>"density"</code>. It is recommended 
as a tool to decrease the disclosure risk. Increasing <code>minbucket</code>
is another means of data protection. 
</p>
<p>CART models were suggested for generation of synthetic data by 
Reiter (2005) and then evaluated by Drechsler and Reiter (2011).
</p>


<h3>Value</h3>

<p>A list with two components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>res</code></td>
<td>
<p>a vector of length <code>k</code> with synthetic values of <code>y</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>the fitted model which is an object of class <code>rpart.object</code> 
or <code>ctree.object</code> that can be printed or plotted.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Reiter, J.P. (2005). Using CART to generate partially synthetic, 
public use microdata. <em>Journal of Official Statistics</em>, 
<b>21</b>(3), 441–462.
</p>
<p>Drechsler, J. and Reiter, J.P. (2011). An empirical evaluation of easily 
implemented, nonparametric methods for generating synthetic datasets.
<em>Computational Statistics and Data Analysis</em>, <b>55</b>(12), 3232–3243.
</p>


<h3>See Also</h3>

<p><code>syn</code>, <code>syn.survctree</code>,
<code>rpart</code>, <code>ctree</code>,
<code>syn.smooth</code>
</p>


</div>