<div class="container">

<table style="width: 100%;"><tr>
<td>RatioRMS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute the ratio between the RMSE of two experiments</h2>

<h3>Description</h3>

<p>Calculate the ratio of the RMSE for two forecasts with the same observation,
that is, RMSE(ens, obs) / RMSE(ens.ref, obs). The p-value is provided by a 
two-sided Fischer test.
</p>


<h3>Usage</h3>

<pre><code class="language-R">RatioRMS(exp1, exp2, obs, time_dim = "sdate", pval = TRUE, ncores = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>exp1</code></td>
<td>
<p>A numeric array with named dimensions of the first experimental 
data. It must have at least 'time_dim' and have the same dimensions as
'exp2' and 'obs'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exp2</code></td>
<td>
<p>A numeric array with named dimensions of the second experimental 
data. It must have at least 'time_dim' and have the same dimensions as 
'exp1' and 'obs'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs</code></td>
<td>
<p>A numeric array with named dimensions of the observational data.
It must have at least 'time_dim' and have the same dimensions as 'exp1' and
'exp2'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_dim</code></td>
<td>
<p>A character string of the dimension name along which RMS is
computed. The default value is 'sdate'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pval</code></td>
<td>
<p>A logical value indicating whether to compute the p-value of Ho:
RMSE1/RMSE2 = 1 or not. The default value is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncores</code></td>
<td>
<p>An integer indicating the number of cores to use for parallel 
computation. The default value is NULL.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing the numeric arrays with dimensions identical with
'exp1', 'exp2', and 'obs', except 'time_dim':
</p>
<table>
<tr style="vertical-align: top;">
<td><code>$ratiorms</code></td>
<td>

<p>The ratio between the RMSE (i.e., RMSE1/RMSE2).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$p.val</code></td>
<td>

<p>The p-value of the two-sided Fisher test with Ho: RMSE1/RMSE2 = 1. Only 
exists if 'pval' is TRUE.
</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">
# Compute DJF seasonal means and anomalies.
initial_month &lt;- 11
mean_start_month &lt;- 12
mean_stop_month &lt;- 2                                
sampleData$mod &lt;- Season(sampleData$mod, monini = initial_month, 
                        moninf = mean_start_month, monsup = mean_stop_month)
sampleData$obs &lt;- Season(sampleData$obs, monini = initial_month, 
                        moninf = mean_start_month, monsup = mean_stop_month)
clim &lt;- Clim(sampleData$mod, sampleData$obs)
ano_exp &lt;- Ano(sampleData$mod, clim$clim_exp)
ano_obs &lt;- Ano(sampleData$obs, clim$clim_obs)
# Generate two experiments with 2 and 1 members from the only experiment 
# available in the sample data. Take only data values for a single forecast
# time step.
ano_exp_1 &lt;- ClimProjDiags::Subset(ano_exp, 'member', c(1, 2))
ano_exp_2 &lt;- ClimProjDiags::Subset(ano_exp, 'member', c(3))
ano_exp_1 &lt;- ClimProjDiags::Subset(ano_exp_1, c('dataset', 'ftime'),
                                  list(1, 1), drop = 'selected')
ano_exp_2 &lt;- ClimProjDiags::Subset(ano_exp_2, c('dataset', 'ftime'),
                                  list(1, 1), drop = 'selected')
ano_obs &lt;- ClimProjDiags::Subset(ano_obs, c('dataset', 'ftime'), list(1, 1), drop = 'selected')
# Compute ensemble mean and provide as inputs to RatioRMS.
rrms &lt;- RatioRMS(MeanDims(ano_exp_1, 'member'), 
                MeanDims(ano_exp_2, 'member'), 
                MeanDims(ano_obs, 'member'))
# Plot the RatioRMS for the first forecast time step.

PlotEquiMap(rrms$ratiorms, sampleData$lon, sampleData$lat, 
           toptitle = 'Ratio RMSE')


</code></pre>


</div>