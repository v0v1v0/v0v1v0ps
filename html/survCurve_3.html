<div class="container">

<table style="width: 100%;"><tr>
<td>nrAtRisk</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Adds number at risk of a survival model to a plot.</h2>

<h3>Description</h3>

<p>This function adds the number at risk of one group (strata) of
a survfit object to an existing plot. If label is specified, it draws
a label for the group right to the number at risks. If any elements of
the "flag" is specified, it also draws a small identifier, with which 
the corresponding curves / confidence intervals of the plot can be
identified near to the label.
</p>


<h3>Usage</h3>

<pre><code class="language-R">nrAtRisk(
  x,
  group,
  ypos = 0.08,
  times,
  interval.times,
  zero.adjust = TRUE,
  zero.value,
  font.text = 1,
  cex.text = 1,
  col.text = "black",
  cex.nr,
  col.nr,
  font.nr,
  label,
  xpos.lab,
  cex.lab,
  col.lab,
  font.lab,
  lty.flag,
  lwd.flag,
  bgcol.flag,
  lncol.flag,
  xlim.flag
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A survfit (survival-package) or a Cuminc (mstate-package) object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>The number of the group (=strata) of which the confidence interval 
should be plotted. If the survfit-object has only one strata, this
argument can be omitted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ypos</code></td>
<td>
<p>A numeric value for the position at the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>An optional vector of numeric values specifying at which times
(x-axis) the number at risk are calculated and plotted. If not specified, 
the defaults depends on "interval.times" value if available, or
the size of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval.times</code></td>
<td>
<p>An optional numeric value which specifies the interval
at which the number at risk values are plotted. Is overwritten by times. If 
not specified, the value depends on the size of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zero.adjust</code></td>
<td>
<p>A logical value. If true, the number at risk at time 0 is not
plotted at the precise position, but slightly adjusted to the left to prevent
the value to be cut-off by the plot margins. Also, the value at x=0 is plotted 
if true. Default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zero.value</code></td>
<td>
<p>A numeric value or string that overwrites the nr at
risk value at x=0 if specified (only if zero.adjust is TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>font.text</code></td>
<td>
<p>Font of the text (nr at risk and label). Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.text</code></td>
<td>
<p>Font-size of the text (nr at risk and label). Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.text</code></td>
<td>
<p>Colour of the text (nr at risk and label). Default is "black".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.nr</code></td>
<td>
<p>Overwrites cex.text for the number-part.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.nr</code></td>
<td>
<p>Overwrites col.text for the number-part.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>font.nr</code></td>
<td>
<p>Overwrites font.text for the number-part.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>String for the group name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xpos.lab</code></td>
<td>
<p>x-position of the label, default is near the right border
of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.lab</code></td>
<td>
<p>Overwrites cex.text for the label-part.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.lab</code></td>
<td>
<p>Overwrites col.text for the label-part.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>font.lab</code></td>
<td>
<p>Overwrites font.text for the label-part.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty.flag</code></td>
<td>
<p>Line-type of the flag. Value is 1 if not specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd.flag</code></td>
<td>
<p>Line-wide of the flag. Value is 1 if not specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bgcol.flag</code></td>
<td>
<p>Background-color of the flag (corresponding to the 
color of the confidence interval in the plot). No color if not value is
specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lncol.flag</code></td>
<td>
<p>color of the line of the flag. Default is "black".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim.flag</code></td>
<td>
<p>Vector with two values, defining the beginning and end of the 
flag on the x-axis. Default depends on the size of the plot.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Draws the number at risk to an existing plot.
</p>


<h3>Examples</h3>

<pre><code class="language-R">  require(survival)
  aml_model &lt;- with(aml, survfit(Surv(time, status)~x))
  col1 &lt;- adjustcolor("red",0.2); col2 &lt;- adjustcolor("blue",0.2)
  survPlot(xmax=50, space.nrAtRisk=0.32)
  confIntArea(aml_model, col=col1, group=1)
  confIntArea(aml_model, col=col2, group=2)
  survCurve(aml_model, group=1)
  survCurve(aml_model, group=2, lty=2)
  nrAtRisk(aml_model, group=1, y=-0.17, bgcol.flag=col1, label="maintain")
  nrAtRisk(aml_model, group=2, y=-0.24, bgcol.flag=col2, lty.flag=2, label="non-maint.")
</code></pre>


</div>