<div class="container">

<table style="width: 100%;"><tr>
<td>effCont-helper</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Helper functions for continuous effectiveness distributions</h2>

<h3>Description</h3>

<p>These are functions to help in the creation and use of continuous effectiveness distributions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cap(x, xmin = 1e-06, xmax = 1 - xmin)

effContMean(qfun, abs.tol = 1e-06, subdivisions = 500)

effContVar(qfun, mu, abs.tol = 1e-06, subdivisions = 500)

effContTrunc(dfun, pfun, qfun, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a sample of effectiveness scores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xmin</code></td>
<td>
<p>lowest value to cap scores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xmax</code></td>
<td>
<p>highest value to cap scores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qfun</code></td>
<td>
<p>a quantile function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abs.tol</code></td>
<td>
<p>absolute accuracy requested, passed to <code>integrate</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subdivisions</code></td>
<td>
<p>the maximum number of subintervals, passed to <code>integrate</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu</code></td>
<td>
<p>the expected value of the distribution (see <code>effContMean</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dfun</code></td>
<td>
<p>a density function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pfun</code></td>
<td>
<p>a distribution function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed to other functions, if any.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>cap</code> caps (censor) a variable from below and above.
</p>
<p><code>effContMean</code> computes the expected value of a distribution by numerical integration of the
given quantile function.
</p>
<p><code>effContVar</code> computes the variance of a distribution by numerical integration of the given
quantile function.
</p>
<p><code>effContTrun</code> computes the density, distribution and quantile functions of the distribution
resulting from truncating a given distribution between 0 and 1.
</p>


<h3>Value</h3>

<p><code>cap</code>: the original vector, but censored.
</p>
<p><code>effContMean</code>: the estimate of the expected value.
</p>
<p><code>effContVar</code>: the estimate of the variance.
</p>
<p><code>effContTrunc</code>: a list with components:
</p>

<table>
<tr>
<td style="text-align: left;">
    <code>td</code> </td>
<td style="text-align: left;"> the truncated density function. </td>
</tr>
<tr>
<td style="text-align: left;">
    <code>tp</code> </td>
<td style="text-align: left;"> the truncated distribution function. </td>
</tr>
<tr>
<td style="text-align: left;">
    <code>tq</code> </td>
<td style="text-align: left;"> the truncated quantile function.
  </td>
</tr>
</table>
<h3>See Also</h3>

<p><code>eff.cont</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">cap(c(0, .5, 1))

effContMean(function(p) qnorm(p, mean = 4))
effContMean(function(p) qbeta(p, 1, 2))

effContVar(function(p) qnorm(p, mean = 2, sd = 4), 2)
effContVar(function(p) qbeta(p, 1, 2), 1/3)

tr &lt;- effContTrunc(dnorm, pnorm, qnorm, mean = .8, sd = .3)
x01 &lt;- seq(0, 1, .01)
plot(x01, tr$d(x01), type = "l")
plot(x01, tr$p(x01), type = "l")
plot(x01, tr$q(x01), type = "l")
</code></pre>


</div>