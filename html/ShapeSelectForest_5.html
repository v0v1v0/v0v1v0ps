<div class="container">

<table style="width: 100%;"><tr>
<td>f2p.raster</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Raster based flat-to-parameter function.
</h2>

<h3>Description</h3>

<p>Applies <code>flat2parameter</code> to each pixel in a raster to produce maps of disturbance parameters.
</p>


<h3>Usage</h3>

<pre><code class="language-R">f2p.raster(years, folder.in, folder.out, OUTPUT.fn, flat.pred.fn, INPUT.bands,
layer.shape = 1, layer.dyr = 2, layer.dur = 5, layer.mag = 3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>years</code></td>
<td>
<p> Vector of the years included in the time series data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>folder.in</code></td>
<td>
<p> Folder (full path) containing the input rasters.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>folder.out</code></td>
<td>
<p> Folder where the output will be written.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OUTPUT.fn</code></td>
<td>
<p> Filename for output. The extension of this filename will specify the output file type. For image files, <code>OUTPUT.fn</code> should end in <code>.img</code> 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flat.pred.fn</code></td>
<td>
<p> Filename of a single layer <code>.img</code> file of the disturbance agents. The agents are specified by the integers from 0 to 6.
</p>

<table>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>0</code> </td>
<td style="text-align: left;"> Unclassified</td>
</tr>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>1</code> </td>
<td style="text-align: left;"> Conversion</td>
</tr>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>2</code> </td>
<td style="text-align: left;"> Fire</td>
</tr>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>3</code> </td>
<td style="text-align: left;"> Harvest</td>
</tr>
<tr>
<td style="text-align: left;">	
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>4</code> </td>
<td style="text-align: left;"> Stable</td>
</tr>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>5</code> </td>
<td style="text-align: left;"> Stress</td>
</tr>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>6</code> </td>
<td style="text-align: left;"> Recovery</td>
</tr>
</table>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>INPUT.bands</code></td>
<td>
<p> Filenames of the multi-layer <code>.img</code> files of the shapes to be used.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layer.shape</code></td>
<td>
<p> Number giving the layer of the shape files containing the shape data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layer.dyr</code></td>
<td>
<p> Number giving the layer of the shape files containing the disturbance year data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layer.dur</code></td>
<td>
<p> Number giving the layer of the shape files containing the disturbance duration data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layer.mag</code></td>
<td>
<p> Number giving the layer of the shape files containing the disturbance magnitude data.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function writes a seven-layer raster with layers for disturbance agent, median disturbance year, median disturbance duration and magnitude of all image files given in <code>INPUT.bands</code>, in the order the filenames are listed in <code>INPUT.bands</code>.
</p>
<p>The layers for shape, dyr and dur need to be the same in all files named in <code>INPUT.bands</code>. The default is <code>layer.shape = 1</code>, <code>layer.dyr = 2</code>, <code>layer.dur = 5</code>, and <code>layer.mag = 3</code>.
</p>
<p>If, for example, <code>INPUT.bands = c(b5.fn, fi.fn, nbr.fn, and ndvi.fn)</code>, then the layers of the output file are:
</p>

<table>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>1</code> </td>
<td style="text-align: left;"> Disturbance Agent</td>
</tr>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>2</code> </td>
<td style="text-align: left;"> Disturbance Year</td>
</tr>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>3</code> </td>
<td style="text-align: left;"> Disturbance Duration</td>
</tr>
<tr>
<td style="text-align: left;">	
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>4</code> </td>
<td style="text-align: left;"> Magnitude B5</td>
</tr>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>5</code> </td>
<td style="text-align: left;"> Magnitude FI</td>
</tr>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>6</code> </td>
<td style="text-align: left;"> Magnitude NBR</td>
</tr>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>7</code> </td>
<td style="text-align: left;"> Magnitude NDVI</td>
</tr>
</table>
<h3>Value</h3>

<p>The function does not return a value. Instead, a multi-band <code>.img</code> map file is created.
</p>


<h3>Author(s)</h3>

<p>Liz Freeman
</p>


<h3>See Also</h3>

<p><code>flat2annual</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
	# define years
	years &lt;- c(1984, 1986:2010)

	# define a folder for all output
	folder.in &lt;- paste(system.file(package = "ShapeSelectForest"), 
	"extdata", "helpexamples", sep = "/")
	folder.out &lt;- getwd()	

	# define filenames
	flat.pred.fn &lt;- "MINI_FLATPRED.img"
	b5.fn &lt;- "MINI_B5.img"
	fi.fn &lt;- "MINI_FI.img"
	nbr.fn &lt;- "MINI_NBR.img"
	ndvi.fn &lt;- "MINI_NDVI.img"
	INPUT.bands &lt;- c(b5.fn, fi.fn, nbr.fn, ndvi.fn)

	# call f2p.raster
	ans &lt;- f2p.raster(years = years, folder.in = folder.in, folder.out = folder.out, 
	OUTPUT.fn = "f2p_example.img", flat.pred.fn = flat.pred.fn, INPUT.bands = INPUT.bands)

## End(Not run)
</code></pre>


</div>