<div class="container">

<table style="width: 100%;"><tr>
<td>LIB_SNN</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Library of the Super Learner for Survival Neural Network
</h2>

<h3>Description</h3>

<p>Fit a 1-layer neural network based on the partial likelihood from a Cox proportional hazards model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">LIB_SNN(times, failures, group=NULL, cov.quanti=NULL, cov.quali=NULL,
data, n.nodes, decay, batch.size, epochs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is NULL: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.nodes</code></td>
<td>
<p>The number of hidden nodes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decay</code></td>
<td>
<p>The value of the weight decay.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>batch.size</code></td>
<td>
<p>The value of batch size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epochs</code></td>
<td>
<p>The value of epochs.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is based is based on the <code>deepsurv</code> from the <code>survivalmodels</code> package. You need to call Python using <code>reticulate</code>. In order to use it, the required Python packages must be installed with <code>reticulate::py_install</code>. Therefore, before running the present <code>LIB_SNN</code> function, you must install  and call for the <code>reticulate</code> and <code>survivalmodels</code> packages, and install <code>pycox</code> by using the following command: <code>install_pycox(pip = TRUE, install_torch = FALSE)</code>.  The <code>survivalSL</code> package functions without these supplementary installations if this learner is not included in the library.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>The estimated model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The data frame used for learning. The first column is entitled <code>times</code> and corresponds to the observed follow-up times. The second column is entitled <code>failures</code> and corresponds to the event indicators. The other columns correspond to the predictors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>A vector of numeric values with the times of the <code>predictions</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictions</code></td>
<td>
<p>A matrix with the predictions of survivals of each subject (lines) for each observed time (columns).</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Katzman, J. L., Shaham, U., Cloninger, A., Bates, J., Jiang, T., &amp; Kluger, Y. (2018). DeepSurv: personalized treatment recommender system using a Cox proportional hazards deep neural network. BMC Medical Research Methodology, 18(1), 24. https://doi.org/10.1186/s12874-018-0482-1
</p>


</div>