<div class="container">

<table style="width: 100%;"><tr>
<td>wrap_function</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Full ShellChron workflow wrapped in a single function</h2>

<h3>Description</h3>

<p>Takes starting parameters and names of input files
and directory and runs through all the steps of the
ShellChron model. Function includes options for plotting
and exporting raw data, which are parsed into underlying
formulae.
</p>


<h3>Usage</h3>

<pre><code class="language-R">wrap_function(
  path = getwd(),
  file_name,
  transfer_function = "KimONeil97",
  t_int = 1,
  T_per = 365,
  d18Ow = 0,
  t_maxtemp = 182.5,
  SCEUApar = c(1, 25, 10000, 5, 0.01, 0.01),
  sinfit = TRUE,
  MC = 1000,
  plot = TRUE,
  plot_export = TRUE,
  export_raw = FALSE,
  export_path = getwd()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>String containing the path to the directory
that contains the input data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file_name</code></td>
<td>
<p>Name of the file that contains d18O data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transfer_function</code></td>
<td>
<p>String containing the name of the
transfer function. Defaults to Kim and O'Neil, 1997.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t_int</code></td>
<td>
<p>Time interval (in days; default = 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T_per</code></td>
<td>
<p>Period of SST sinusoid (in days;
default = 365)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d18Ow</code></td>
<td>
<p>Either a single value (constant d18Ow)
or a vector of length equal to the period in SST data
(365 days by default) containing information about
seasonality in d18Ow. Defaults to constant d18Ow of
0 permille VSMOW (the modern mean ocean value)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t_maxtemp</code></td>
<td>
<p>Timing of the warmest day of the year
(in julian day; default = 182.5, or May 26th halfway
through the year)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SCEUApar</code></td>
<td>
<p>Parameters for SCEUA optimization (iniflg, ngs, maxn, kstop
pcento, peps) For details, refer to Duan et al. (1992) in references</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sinfit</code></td>
<td>
<p>Apply sinusoidal fitting to guess initial parameters for SCEUA
optimization? <code>TRUE/FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MC</code></td>
<td>
<p>Number of Monte Carlo simulations to apply for
error propagation. Default = 1000</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>Should an overview of the results of modeling
be plotted? <code>TRUE/FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_export</code></td>
<td>
<p>Should the overview plot be exported as
a PDF file? <code>TRUE/FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>export_raw</code></td>
<td>
<p>Export tables containing all raw model
results before being merged into tidy tables? <code>TRUE/FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>export_path</code></td>
<td>
<p>Path where result files are exported</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>CSV tables of model results in the current working
directory, optional plots in PDF format and list object of
model results for further processing in the R workspace.
</p>


<h3>References</h3>

<p>function dependencies: data_import, run_model, cumulative_day,
export_results
</p>


<h3>Examples</h3>

<pre><code class="language-R"># find attached dummy data
example &lt;- wrap_function(path = getwd(),
    file_name = system.file("extdata", "Virtual_shell.csv",
    package = "ShellChron"),
    transfer_function = "KimONeil97",
    t_int = 1,
    T_per = 365,
    d18Ow = 0,
    t_maxtemp = 182.5,
    SCEUApar = c(1, 25, 10000, 5, 0.01, 0.01),
    sinfit = TRUE,
    MC = 1000,
    plot = FALSE,
    plot_export = FALSE,
    export_raw = FALSE,
    export_path = tempdir()) # Run function
</code></pre>


</div>