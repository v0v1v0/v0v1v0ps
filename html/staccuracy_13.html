<div class="container">

<table style="width: 100%;"><tr>
<td>winsorize</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Winsorize a numeric vector</h2>

<h3>Description</h3>

<p>Winsorization means truncating the extremes of a numeric range by replacing extreme values with a predetermined minimum and maximum. <code>winsorize()</code> returns the input vector values with values less than or greater than the provided minimum or maximum replaced by the provided minimum or maximum, respectively.
</p>
<p><code>win_mae()</code> and <code>win_rmse()</code> return MAE and RMSE respectively with winsorized predictions. The fundamental idea underlying the winsorization of predictions is that if the actual data has well-defined bounds, then models should not be penalized for being overzealous in predicting beyond the extremes of the data. Models that are overzealous in the boundaries might sometimes be superior within normal ranges; the extremes can be easily corrected by winsorization.
</p>


<h3>Usage</h3>

<pre><code class="language-R">winsorize(x, win_range)

win_mae(actual, pred, win_range = range(actual), na.rm = FALSE)

win_rmse(actual, pred, win_range = range(actual), na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>numeric vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>win_range</code></td>
<td>
<p>numeric(2). The minimum and maximum allowable values for the <code>pred</code> predictions or for <code>x</code>. For functions with <code>pred</code>, <code>win_range</code> defaults to the minimum and maximum values of the provided <code>actual</code> values. For functions with <code>x</code>, there is no default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>actual</code></td>
<td>
<p>numeric vector. Actual (true) values of target outcome data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pred</code></td>
<td>
<p>numeric vector. Predictions corresponding to each respective element in <code>actual</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>logical(1). <code>TRUE</code> if missing values should be removed; <code>FALSE</code> if they should be retained. If <code>TRUE</code>, then if any element of either <code>actual</code> or <code>pred</code> is missing, its paired element will be also removed.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>winsorize()</code> returns a winsorized vector.
</p>
<p><code>win_mae()</code> returns the mean absolute error (MAE) of winsorized predicted values <code>pred</code> compared to the <code>actual</code> values. See <code>mae()</code> for details.
</p>
<p><code>win_rmse()</code> returns the root mean squared error (RMSE) of winsorized predicted values <code>pred</code> compared to the <code>actual</code> values. See <code>rmse()</code> for details.
</p>


<h3>Examples</h3>

<pre><code class="language-R">a &lt;- c(3, 5, 2, 7, 9, 4, 6, 8, 2, 10)
p &lt;- c(2.5, 5.5, 1.5, 6.5, 10.5, 3.5, 6, 7.5, 0.5, 11.5)

a  # the original data
winsorize(a, c(2, 8))  # a winsorized on defined boundaries

# range of the original data
a
range(a)

# some overzealous predictions
p
range(p)

# MAE penalizes overzealous predictions
mae(a, p)

# Winsorized MAE forgives overzealous predictions
win_mae(a, p)

# RMSE penalizes overzealous predictions
rmse(a, p)

# Winsorized RMSE forgives overzealous predictions
win_rmse(a, p)

</code></pre>


</div>