<div class="container">

<table style="width: 100%;"><tr>
<td>getVocalFry</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Subharmonics</h2>

<h3>Description</h3>

<p>Internal soundgen function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getVocalFry(
  rolloff,
  pitch_per_gc,
  subRatio = 2,
  subFreq = 0,
  subDep = 10,
  subWidth = 10000,
  dynamicRange = 80,
  shortestEpoch = 300
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rolloff</code></td>
<td>
<p>matrix of original amplitudes of each harmonic in f0 stack
returned by <code>getRolloff</code> (columns=time, rows=frequency bins)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pitch_per_gc</code></td>
<td>
<p>vector of the same length as ncol(rolloff)): f0 in Hz,
one value per glottal cycle</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subRatio</code></td>
<td>
<p>a positive integer giving the ratio of f0 (the main
fundamental) to g0 (a lower frequency): 1 = no subharmonics, 2 = period
doubling regardless of pitch changes, 3 = period tripling, etc; subRatio
overrides subFreq (anchor format)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subFreq</code></td>
<td>
<p>instead of a specific number of subharmonics (subRatio), we
can specify the approximate g0 frequency (Hz), which is used only if
subRatio = 1 and is adjusted to f0 so f0/g0 is always an integer (anchor
format)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subDep</code></td>
<td>
<p>the depth of subharmonics relative to the main frequency
component (f0), %. 0: no subharmonics; 100: g0 harmonics are as strong as
the nearest f0 harmonic (anchor format)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subWidth</code></td>
<td>
<p>Width of subharmonic sidebands - regulates how rapidly
g-harmonics weaken away from f-harmonics: large values like the default
10000 means that all g0 harmonics are equally strong (anchor format)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dynamicRange</code></td>
<td>
<p>dynamic range, dB. Harmonics and noise more than
dynamicRange under maximum amplitude are discarded to save computational
resources</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shortestEpoch</code></td>
<td>
<p>minimum duration of each epoch with unchanging
subharmonics regime or formant locking, in ms</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Adds subharmonics to the main (f0) harmonic stack, forming sidebands.
</p>


<h3>Value</h3>

<p>Returns a list consisting of a list of rolloff matrices (one matrix
per epoch) and a dataframe of epochs.
</p>


<h3>Examples</h3>

<pre><code class="language-R">pitch_per_gc = c(400, 500, 600, 700)
rolloff = getRolloff(pitch_per_gc, rolloff = -30)
# one epoch, two subharmonics
rolloff_subh = soundgen:::getVocalFry(rolloff, pitch_per_gc,
  subFreq = 200, subDep = 150, shortestEpoch = 100)
# three epochs with 2/3/4 subharmonics
rolloff_subh = soundgen:::getVocalFry(rolloff, pitch_per_gc,
  subFreq = 200, subDep = 150, shortestEpoch = 0)
</code></pre>


</div>