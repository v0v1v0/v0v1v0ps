<div class="container">

<table style="width: 100%;"><tr>
<td>summarize_rep_weights</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Summarize the replicate weights</h2>

<h3>Description</h3>

<p>Summarize the replicate weights of a design
</p>


<h3>Usage</h3>

<pre><code class="language-R">summarize_rep_weights(rep_design, type = "both", by)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rep_design</code></td>
<td>
<p>A replicate design object, created with either the <code>survey</code> or <code>srvyr</code> packages.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Default is <code>"both"</code>. Use <code>type = "overall"</code>, for an overall summary of the replicate weights.
Use <code>type = "specific"</code> for a summary of each column of replicate weights,
with each column of replicate weights summarized in a given row of the summary. <br><br>
Use <code>type = "both"</code> for a list containing both summaries,
with the list containing the names <code>"overall"</code> and <code>"both"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>(Optional) A character vector with the names of variables used to group the summaries.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>type = "both"</code> (the default), the result is a list of data frames
with names <code>"overall"</code> and <code>"specific"</code>. If <code>type = "overall"</code>, the result is
a data frame providing an overall summary of the replicate weights. <br><br>
The contents of the <code>"overall"</code> summary are the following:
</p>

<ul>
<li>
<p> "nrows": Number of rows for the weights
</p>
</li>
<li>
<p> "ncols": Number of columns of replicate weights
</p>
</li>
<li>
<p> "degf_svy_pkg": The degrees of freedom according to the survey package in R
</p>
</li>
<li>
<p> "rank": The matrix rank as determined by a QR decomposition
</p>
</li>
<li>
<p> "avg_wgt_sum": The average column sum
</p>
</li>
<li>
<p> "sd_wgt_sums": The standard deviation of the column sums
</p>
</li>
<li>
<p> "min_rep_wgt": The minimum value of any replicate weight
</p>
</li>
<li>
<p> "max_rep_wgt": The maximum value of any replicate weight
</p>
</li>
</ul>
<p>If <code>type = "specific"</code>, the result is a data frame providing a
summary of each column of replicate weights, with each column of replicate weights
described in a given row of the data frame.
The contents of the <code>"specific"</code> summary are the following:
</p>

<ul>
<li>
<p> "Rep_Column": The name of a given column of replicate weights.
If columns are unnamed, the column number is used instead
</p>
</li>
<li>
<p> "N": The number of entries
</p>
</li>
<li>
<p> "N_NONZERO": The number of nonzero entries
</p>
</li>
<li>
<p> "SUM": The sum of the weights
</p>
</li>
<li>
<p> "MEAN": The average of the weights
</p>
</li>
<li>
<p> "CV": The coefficient of variation of the weights (standard deviation divided by mean)
</p>
</li>
<li>
<p> "MIN": The minimum weight
</p>
</li>
<li>
<p> "MAX": The maximum weight
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
# Load example data
suppressPackageStartupMessages(library(survey))
data(api)

dclus1 &lt;- svydesign(id=~dnum, weights=~pw, data=apiclus1, fpc=~fpc)
dclus1$variables$response_status &lt;- sample(x = c("Respondent", "Nonrespondent",
                                                 "Ineligible", "Unknown eligibility"),
                                           size = nrow(dclus1),
                                           replace = TRUE)
rep_design &lt;- as.svrepdesign(dclus1)

# Adjust weights for cases with unknown eligibility
ue_adjusted_design &lt;- redistribute_weights(
    design = rep_design,
    reduce_if = response_status %in% c("Unknown eligibility"),
    increase_if = !response_status %in% c("Unknown eligibility"),
    by = c("stype")
)

# Summarize replicate weights

summarize_rep_weights(rep_design, type = "both")

# Summarize replicate weights by grouping variables

summarize_rep_weights(ue_adjusted_design, type = 'overall',
                      by = c("response_status"))

summarize_rep_weights(ue_adjusted_design, type = 'overall',
                      by = c("stype", "response_status"))

# Compare replicate weights

rep_wt_summaries &lt;- lapply(list('original' = rep_design,
                                'adjusted' = ue_adjusted_design),
                           summarize_rep_weights,
                           type = "overall")
print(rep_wt_summaries)

</code></pre>


</div>