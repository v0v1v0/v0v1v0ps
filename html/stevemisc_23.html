<div class="container">

<table style="width: 100%;"><tr>
<td>linloess_plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compare Linear Smoother to LOESS Smoother for Your OLS Model</h2>

<h3>Description</h3>

<p><code>linloess_plot()</code> provides a visual diagnostic of the
linearity assumption of the OLS model. Provided an OLS model fit by
<code>lm()</code> in base R, the function extracts the model frame and creates a
faceted scatterplot. For each facet, a linear smoother and LOESS smoother
are estimated over the points. Users who run this function can assess just
how much the linear smoother and LOESS smoother diverge. The more they
diverge, the more the user can determine how much the OLS model is a good
fit as specified. The plot will also point to potential outliers that may
need further consideration.
</p>


<h3>Usage</h3>

<pre><code class="language-R">linloess_plot(
  mod,
  resid = TRUE,
  smoother = "loess",
  se = TRUE,
  span = 0.75,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mod</code></td>
<td>
<p>a fitted OLS model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resid</code></td>
<td>
<p>logical, defaults to <code>TRUE</code>. If <code>FALSE</code>, the y-axis
on these plots are the raw values of the dependent variable. If <code>TRUE</code>,
the y-axis is the model's residuals. Either work well here for the matter
at hand, provided you treat the output here as illustrative or suggestive.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smoother</code></td>
<td>
<p>defaults to "loess", and is passed to the 'method' argument
for the non-linear smoother.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se</code></td>
<td>
<p>logical, defaults to <code>TRUE</code>. If <code>TRUE</code>, gives standard
error estimates with the assorted smoothers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>span</code></td>
<td>
<p>a numeric, defaults to .75. An adjustment to the smoother. Higher
values permit smoother lines and might be warranted in the presence of
sparse pockets of the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>optional parameters, passed to the scatterplot
(<code>geom_point()</code>) component of this function. Useful if you want to make
the smoothers more legible against the points.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function makes an implicit assumption that there is no variable
in the regression formula with the name ".y" or ".resid".
</p>
<p>It may be in your interest (for the sake of rudimentary diagnostic checks) to
disable the standard error bands for particularly ill-fitting linear models.
</p>


<h3>Value</h3>

<p><code>linloess_plot()</code> returns a faceted scatterplot as a
<span class="pkg">ggplot2</span> object. The linear smoother is in solid blue (with blue
standard error bands) and the LOESS smoother is a dashed black line (with
gray/default standard error bands). You can add cosmetic features to it after
the fact. The function may spit warnings to you related to the LOESS smoother,
depending your data. I think these to be fine the extent to which this is
really just a visual aid and an informal diagnostic for the linearity
assumption.
</p>


<h3>Author(s)</h3>

<p>Steven V. Miller
</p>


<h3>Examples</h3>

<pre><code class="language-R">
M1 &lt;- lm(mpg ~ ., data=mtcars)

linloess_plot(M1)
linloess_plot(M1, color="black", pch=21)
</code></pre>


</div>