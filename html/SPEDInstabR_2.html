<div class="container">

<table style="width: 100%;"><tr>
<td>ContrBB</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>BEANPLOTS AND BOXPLOTS OF CONTRIBUTION OF FACTORS</h2>

<h3>Description</h3>

<p>It performs beanplots and boxplots with the contribution of environmental factors to explain the distribution of species.</p>


<h3>Usage</h3>

<pre><code class="language-R">ContrBB(data, vars, Level=NULL, Taxon=NULL, graph="beanplot", order="decreasing",
side="no", beanlines="median", what=c(1,1,1,1), ll=NULL, border="black", OrderCat=NULL,
LabelCat=NULL, XLAB="Variables", YLAB="Percentage of contribution to instability index",
COLOR=NULL, LEGEND=NULL, MTEXT= NULL, TEXT=NULL, ResetPAR=TRUE, PAR=NULL,
BEANPLOT=NULL, BOXPLOT=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data file, which it may be obtained using DataManager of ModestR. See details section for the explanation of the format of the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>Environmental factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Level</code></td>
<td>
<p>Optionaly, a taxonomic level may be selected, i.e., class, family, order, genus or species.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Taxon</code></td>
<td>
<p>Optionally, it is possible to work only with a selected species, just specifying the name of the taxon or taxa selected within the taxonomic level selected in the argument <em>Level</em>, i.e., name of the order, family, etc. Can be a vector, so several taxa.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>graph</code></td>
<td>
<p>Type of plot: "beanplot" or "boxplot".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>If it is NULL the categories are ordered as found in the argument <em>vars</em>, if it is "increasing" are ordered from lesser to greater median or mean according to the method selected in the argument <em>beanlines</em>, if it is "decreasing" are ordered from greater to lesser median or mean, if it is "alhaAZ" are ordered from A to Z and if it is "alphaZA" from Z to A. If the method selected in <em>beanlines="quantiles"</em>, it is used the median for both "increasing" and "decreasing".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>side</code></td>
<td>
<p>The side on which the beans are plot. Default is "no", for symmetric beans. The options "first", "second" and "both" are also supported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beanlines</code></td>
<td>
<p>The method used for determining the average bean lines. Default is value "median", and other options are "mean" and "quantiles".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>what</code></td>
<td>
<p>A vector of four booleans describing what to plot. In the following order, these booleans stand for the total average line, the beans, the bean average, and the beanlines. For example, <em>what=c(0,0,0,1)</em> produces a stripchart.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ll</code></td>
<td>
<p>Length of the beanline per point found.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border</code></td>
<td>
<p>Color of the border around the bean.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OrderCat</code></td>
<td>
<p>It allows to specify a vector with the order in which the categories are shown. If this argument is specified, the argument <em>order</em> is not taken into account.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LabelCat</code></td>
<td>
<p>It allows to specify a vector with the names of the categories.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>XLAB</code></td>
<td>
<p>Legend of X axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>YLAB</code></td>
<td>
<p>Legend of Y axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>COLOR</code></td>
<td>
<p>Vector with the color of the categories or just one color for all categories.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LEGEND</code></td>
<td>
<p>It allows to include a legend to the graph.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MTEXT</code></td>
<td>
<p>It allows to add text on the margins of the graph.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TEXT</code></td>
<td>
<p>It allows to add text in any area of the inner part of the graph.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ResetPAR</code></td>
<td>
<p>If it is FALSE, the default condition of the function PAR is not placed and maintained those defined by the user in previous graphics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PAR</code></td>
<td>
<p>It accesses the function PAR, allowing to modify different aspects of the graph.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BEANPLOT</code></td>
<td>
<p>It allows to specify the characteristics of the function beanplot of the beanplot package (Kampstra, 2008; Kampstra, 2015).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BOXPLOT</code></td>
<td>
<p>It allows to specify the characteristics of the function boxplot of graphics package.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The CSV file required in the argument <em>data</em> has the following format: class, order, family, genus and species, along with the contribution of the environmental variables. This file may be obtained using ModestR (Garcia-Rosello et al., 2013; available at the web site using the following menu: Export/Export checked maps/To RWizard Applications/To SPEDInstab. The default name of this file obtained from ModestR is "Contribution.CSV".
</p>
<p><strong>FUNCTIONS</strong>
</p>
<p>The beanplot is performed with the function beanplot of the beanplot package (Kampstra, 2008; Kampstra, 2015). The boxplot is performed with the function boxplot of graphics package. 
</p>
<p><strong>EXAMPLE</strong>
</p>
<p>In the example, it was estimated the relative contribution of some factors on the distribution of some freshwater species (Guisande et al., 2010; Pelayo-Villamil et al., 2015).
</p>

<table><tr>
<td style="text-align: center;">
<img src="../help/figures/F1.jpg" width="50" alt="F1.jpg">
</td>
</tr></table>
<h3>Value</h3>

<p>A beanplot or boxplot is obtained.</p>


<h3>References</h3>

<p>Garcia-Rosello, E., Guisande, C., Gonzalez-Dacosta, J., Heine, J., Pelayo-Villamil, P., Manjarres-Hernandez, A., Vaamonde, A. &amp; Granado-Lorencio, C. (2013) ModestR: a software tool for managing and analyzing species distribution map databases. <em>Ecography</em>, 36, 1202-1207.
</p>
<p>Guisande, C., Manjarres-Hernandez, A., Pelayo-Villamil, P., Granado-Lorencio, C., Riveiro, I., Acu√±a, A., Prieto-Piraquive, E., Janeiro, E., Matias, J.M., Patti, C., Patti, B., Mazzola, S., Jimenez, S., Duque, V. &amp; Salmeron, F. (2010) IPez: An expert system for the taxonomic identification of fishes based on machine learning techniques. <em>Fisheries Research</em>, 102, 240-247.
</p>
<p>Kampstra, P (2008). Beanplot: A Boxplot Alternative for Visual Comparison of Distributions. <em>Journal of Statistical Software, Code Snippets</em>, 28: 1-9.
</p>
<p>Kampstra, P (2015) Visualization via Beanplots (like Boxplot/Stripchart/Violin Plot). R package version 1.2. Available at: <a href="https://CRAN.R-project.org/package=beanplot">https://CRAN.R-project.org/package=beanplot</a>.
</p>
<p>Pelayo-Villamil, P., Guisande, C., Vari, R.P., Manjarres-Hernandez, A., Garcia-Rosello, E., Gonzalez-Dacosta, J. et al. (2015) Global diversity patterns of freshwater fishes - potential victims of their own success. <em>Diversity and Distributions</em>, 21, 345-356.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(FishFC)

ContrBB(data=FishFC, vars=c("Altitude","Aspect","BIO1","BIO12", "BIO14","BIO15","BIO18",
"BIO19","BIO2","BIO3","BIO4","BIO8","Pop","TPP","Slope","TH24","VI"), graph="boxplot")
</code></pre>


</div>