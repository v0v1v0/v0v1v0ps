<div class="container">

<table style="width: 100%;"><tr>
<td>handle_unfinished</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Handle Unfinished Arrivals</h2>

<h3>Description</h3>

<p>Activity for setting a drop-out trajectory for unfinished arrivals, i.e.,
those dropped from a resource (due to preemption, resource shrinkage or a
rejected <code>seize</code>) or those that <code>leave</code> a trajectory.
</p>


<h3>Usage</h3>

<pre><code class="language-R">handle_unfinished(.trj, handler, ..., tag)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.trj</code></td>
<td>
<p>the trajectory object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>handler</code></td>
<td>
<p>trajectory object to handle unfinished arrivals. A <code>NULL</code>
value will unset the drop-out trajectory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>unused.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tag</code></td>
<td>
<p>activity tag name to perform named rollbacks (see
<code>rollback</code>) or just to better identify your activities.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns the trajectory object.
</p>


<h3>See Also</h3>

<p><code>leave</code>, <code>set_capacity</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">traj &lt;- trajectory() %&gt;%
  log_("arrived") %&gt;%
  handle_unfinished(
    trajectory() %&gt;%
      log_("preempted!")) %&gt;%
  seize("res") %&gt;%
  log_("resource seized") %&gt;%
  timeout(10) %&gt;%
  release("res") %&gt;%
  log_("leaving")

simmer() %&gt;%
  add_resource("res", 1, 0, preemptive=TRUE, queue_size_strict=TRUE) %&gt;%
  add_generator("dummy", traj, at(0)) %&gt;%
  add_generator("priority_dummy", traj, at(5), priority=1) %&gt;%
  run() %&gt;% invisible

</code></pre>


</div>