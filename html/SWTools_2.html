<div class="container">

<table style="width: 100%;"><tr>
<td>AQWPDownload</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to download data from https://water.data.sa.gov.au</h2>

<h3>Description</h3>

<p>For most inputs, valid options will be returned if an unexpected input is provided.
The exception are <strong>Location</strong> and <strong>Dataset</strong>, if the location, or dataset for that location, don't exist no data will be returned.
Browse the Export tab on https://water.data.sa.gov.au to find <strong>Location</strong> and <strong>Dataset</strong> that exists.
</p>


<h3>Usage</h3>

<pre><code class="language-R">AQWPDownload(
  Location,
  Dataset,
  Unit,
  file = "AQWP.json",
  Interval = "Daily",
  Calculation = "Aggregate",
  Calendar = "CALENDARYEAR",
  Step = 1,
  DateRange = "EntirePeriodOfRecord",
  StartTime = NULL,
  EndTime = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Location</code></td>
<td>
<p>A string or vector of strings, with site numbers, e.g. "A4261001"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Dataset</code></td>
<td>
<p>A string or vector of strings, with dataset names, as expected by AWQP, e.g. "Tide Height.Best Availableâ€“Continuous"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Unit</code></td>
<td>
<p>A string or vector of strings, with units, e.g. "Metres" or "mg/L". If only 1 is string is provided it will be used for each site in Location</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>Location and name of json file to download. Defaults to "AQWP.json".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Interval</code></td>
<td>
<p>Interval of output, e.g. "PointsAsRecorded", or "Daily"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Calculation</code></td>
<td>
<p>For larger intervals, what calculation to do, e.g. "Aggregate" (average) or "Maximum"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Calendar</code></td>
<td>
<p>When to start the periods, e.g. "WATERDAY9AM"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Step</code></td>
<td>
<p>How many intervals e.g. 15 with Interval="Minutely" returns 15 minute data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DateRange</code></td>
<td>
<p>Period of data to return, e.g. "EntirePeriodOfRecord" or "Custom". "Years1" seems to not work on AWQP.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>StartTime</code></td>
<td>
<p>Start Date and Time if DateRange="Custom", in a format that as.POSIXct will convert, e.g 2000-01-01 00:00</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>EndTime</code></td>
<td>
<p>End Date and Time if DateRange="Custom", in a format that as.POSIXct will convert, e.g 2001-01-02 00:00</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The lnk created to download the data, which is useful for debugging. The data is saved to "file", that can then be read in with AQWPLoad()
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
Location=c("A4260633","A4261209","A4260572")
Dataset=rep("Tide Height.Best Available--Continuous",3)
Unit=rep("Metres",3)
S="2020-01-01 00:00"
E="2020-01-02 00:00"
AQWPDownload(Location,Dataset,Unit,DateRange="Custom",
StartTime=S,EndTime=E,file=tempfile("AQWP",fileext=".json"))

## End(Not run)

</code></pre>


</div>