<div class="container">

<table style="width: 100%;"><tr>
<td>change_analysis</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Change analysis</h2>

<h3>Description</h3>

<p>This function organizes input and output for the estimation of change between two
samples (for categorical and continuous variables).  The analysis data,
<code>dframe</code>, can be either a data frame or a simple features (<code>sf</code>) object.  If an
<code>sf</code> object is used, coordinates are extracted from the geometry column in the
object, arguments <code>xcoord</code> and <code>ycoord</code> are assigned values
<code>"xcoord"</code> and <code>"ycoord"</code>, respectively, and the geometry column is
dropped from the object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">change_analysis(
  dframe,
  vars_cat = NULL,
  vars_cont = NULL,
  test = "mean",
  subpops = NULL,
  surveyID = "surveyID",
  survey_names = NULL,
  siteID = "siteID",
  weight = "weight",
  revisitwgt = FALSE,
  xcoord = NULL,
  ycoord = NULL,
  stratumID = NULL,
  clusterID = NULL,
  weight1 = NULL,
  xcoord1 = NULL,
  ycoord1 = NULL,
  sizeweight = FALSE,
  sweight = NULL,
  sweight1 = NULL,
  fpc = NULL,
  popsize = NULL,
  vartype = "Local",
  jointprob = "overton",
  conf = 95,
  All_Sites = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dframe</code></td>
<td>
<p>Data to be analyzed (analysis data). A data frame or
<code>sf</code> object containing survey design variables, response
variables, and subpopulation (domain) variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars_cat</code></td>
<td>
<p>Vector composed of character values that identify the
names of categorical response variables in <code>dframe</code>.  The
default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars_cont</code></td>
<td>
<p>Vector composed of character values that identify the
names of continuous response variables in <code>dframe</code>.  The
default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>
<p>Character string or character vector providing the location
measure(s) to use for change estimation for continuous variables.  The
choices are <code>"mean"</code>, <code>"total"</code>, <code>"median"</code>, or some
combination of the three options (e.g., <code>c("mean", "total")</code>).
The default is <code>"mean"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subpops</code></td>
<td>
<p>Vector composed of character values that identify the
names of subpopulation (domain) variables in <code>dframe</code>.
If a value is not provided, the value <code>"All_Sites"</code> is assigned to the
subpops argument and a factor variable named <code>"All_Sites"</code> that takes
the value <code>"All Sites"</code> is added to <code>dframe</code>.  The
default value is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>surveyID</code></td>
<td>
<p>Character value providing name of the survey ID variable in
<code>dframe</code>.  The default value is <code>"surveyID"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>survey_names</code></td>
<td>
<p>Character vector of length two that provides the survey
names contained in the <code>surveyID</code> variable in the <code>dframe</code> data
frame.  The two values in the vector identify the first survey and second
survey, respectively.  If a value is not provided, unique values of the
<code>surveyID</code> variable are assigned to the <code>survey_names</code> argument.
The default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>siteID</code></td>
<td>
<p>Character value providing name of the site ID variable in
<code>dframe</code>.  For a two-stage sample, the site ID variable
identifies stage two site IDs.  The default value is <code>"siteID"</code>. If a
unique site is visited in both surveys, the corresponding <code>siteID</code>
should be the same for both entries.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>Character value providing name of the design weight
variable in <code>dframe</code>.  For a two-stage sample, the
weight variable identifies stage two weights.  The default value is
<code>"weight"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>revisitwgt</code></td>
<td>
<p>Logical value that indicates whether each repeat visit
site has the same design weight in the two surveys, where
<code>TRUE</code> = the weight for each repeat visit site is the same and
<code>FALSE</code> = the weight for each repeat visit site is not the same.  When
this argument is <code>FALSE</code>, all of the repeat visit sites are assigned
equal weights when calculating the covariance component of the change
estimate standard error.  The default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xcoord</code></td>
<td>
<p>Character value providing name of the x-coordinate variable in
<code>dframe</code>.  For a two-stage sample, the x-coordinate
variable identifies stage two x-coordinates.  Note that x-coordinates are
required for calculation of the local mean variance estimator.  If <code>dframe</code>
is an <code>sf</code> object, this argument is not required (as the geometry column
in <code>dframe</code> is used to find the x-coordinate). The default
value is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ycoord</code></td>
<td>
<p>Character value providing name of the y-coordinate variable in
<code>dframe</code>.  For a two-stage sample, the y-coordinate
variable identifies stage two y-coordinates.  Note that y-coordinates are
required for calculation of the local mean variance estimator.  If <code>dframe</code>
is an <code>sf</code> object, this argument is not required (as the geometry column
in <code>dframe</code> is used to find the y-coordinate). The default
value is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stratumID</code></td>
<td>
<p>Character value providing name of the stratum ID variable in
<code>dframe</code>.  The default value is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clusterID</code></td>
<td>
<p>Character value providing the name of the cluster
(stage one) ID variable in <code>dframe</code>.  Note that cluster
IDs are required for a two-stage sample.  The default value is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight1</code></td>
<td>
<p>Character value providing name of the stage one weight
variable in <code>dframe</code>.  The default value is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xcoord1</code></td>
<td>
<p>Character value providing the name of the stage one
x-coordinate variable in <code>dframe</code>.  Note that x
coordinates are required for calculation of the local mean variance
estimator.  The default value is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ycoord1</code></td>
<td>
<p>Character value providing the name of the stage one
y-coordinate variable in <code>dframe</code>.  Note that
y-coordinates are required for calculation of the local mean variance
estimator.  The default value is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sizeweight</code></td>
<td>
<p>Logical value that indicates whether size weights should be
used during estimation, where <code>TRUE</code> uses size weights and
<code>FALSE</code> does not use size weights. To employ size weights for a
single-stage sample, a value must be supplied for argument weight.  To
employ size weights for a two-stage sample, values must be supplied for
arguments <code>weight</code> and <code>weight1</code>. The default value is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sweight</code></td>
<td>
<p>Character value providing the name of the size weight variable
in <code>dframe</code>.  For a two-stage sample, the size weight
variable identifies stage two size weights.  The default value is
<code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sweight1</code></td>
<td>
<p>Character value providing name of the stage one size weight
variable in <code>dframe</code>.  The default value is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fpc</code></td>
<td>
<p>Object that specifies values required for calculation of the
finite population correction factor used during variance estimation. The
object must match the survey design in terms of stratification and whether
the design is single-stage or two-stage.  For an unstratified design, the
object is a vector.  The vector is composed of a single numeric value for a
single-stage design.  For a two-stage unstratified design, the object is a
named vector containing one more than the number of clusters in the sample,
where the first item in the vector specifies the number of clusters in the
population and each subsequent item specifies the number of stage two units
for the cluster.  The name for the first item in the vector is arbitrary.
Subsequent names in the vector identify clusters and must match the cluster
IDs.  For a stratified design, the object is a named list of vectors, where
names must match the strata IDs.  For each stratum, the format of the
vector is identical to the format described for unstratified single-stage
and two-stage designs.  Note that the finite population correction factor
is not used with the local mean variance estimator.
</p>
<p>Example fpc for a single-stage unstratified survey design:
</p>
<p><code style="white-space: pre;">⁠fpc &lt;- 15000⁠</code>
</p>
<p>Example fpc for a single-stage stratified survey design:
</p>
<p><code style="white-space: pre;">⁠fpc &lt;- list(
    Stratum_1 = 9000,
    Stratum_2 = 6000)
   ⁠</code>
</p>
<p>Example fpc for a two-stage unstratified survey design:
</p>
<p><code style="white-space: pre;">⁠fpc &lt;- c(
    Ncluster = 150,
    Cluster_1 = 150,
    Cluster_2 = 75,
    Cluster_3 = 75,
    Cluster_4 = 125,
    Cluster_5 = 75)
  ⁠</code>
</p>
<p>Example fpc for a two-stage stratified survey design:
</p>
<p><code style="white-space: pre;">⁠fpc &lt;- list(
    Stratum_1 = c(
      Ncluster_1 = 100,
      Cluster_1 = 125,
      Cluster_2 = 100,
      Cluster_3 = 100,
      Cluster_4 = 125,
      Cluster_5 = 50),
    Stratum_2 = c(
      Ncluster_2 = 50,
      Cluster_1 = 75,
      Cluster_2 = 150,
      Cluster_3 = 75,
      Cluster_4 = 75,
      Cluster_5 = 125))
  ⁠</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>popsize</code></td>
<td>
<p>Object that provides values for the population argument of the
<code>calibrate</code> or <code>postStratify</code> functions in the survey package. If
a value is provided for popsize, then either the <code>calibrate</code> or
<code>postStratify</code> function is used to modify the survey design object
that is required by functions in the survey package.  Whether to use the
<code>calibrate</code> or <code>postStratify</code> function is dictated by the format
of popsize, which is discussed below.  Post-stratification adjusts the
sampling and replicate weights so that the joint distribution of a set of
post-stratifying variables matches the known population joint distribution.
Calibration, generalized raking, or GREG estimators generalize
post-stratification and raking by calibrating a sample to the marginal
totals of variables in a linear regression model. For the <code>calibrate</code>
function, the object is a named list, where the names identify factor
variables in <code>dframe</code>.  Each element of the list is a
named vector containing the population total for each level of the
associated factor variable.  For the <code>postStratify</code> function, the
object is either a data frame, table, or xtabs object that provides the
population total for all combinations of selected factor variables in the
<code>dframe</code> data frame.  If a data frame is used for <code>popsize</code>, the
variable containing population totals must be the last variable in the data
frame.  If a table is used for <code>popsize</code>, the table must have named
<code>dimnames</code> where the names identify factor variables in the
<code>dframe</code> data frame.  If the popsize argument is equal to <code>NULL</code>,
then neither calibration nor post-stratification is performed.  The default
value is <code>NULL</code>.
</p>
<p>Example popsize for calibration:
</p>
<p><code style="white-space: pre;">⁠popsize &lt;- list(
    Ecoregion = c(
      East = 750,
      Central = 500,
      West = 250),
    Type = c(
      Streams = 1150,
      Rivers = 350))
  ⁠</code>
</p>
<p>Example popsize for post-stratification using a data frame:
</p>
<p><code style="white-space: pre;">⁠popsize &lt;- data.frame(
    Ecoregion = rep(c("East", "Central", "West"),
      rep(2, 3)),
    Type = rep(c("Streams", "Rivers"), 3),
    Total = c(575, 175, 400, 100, 175, 75))
  ⁠</code>
</p>
<p>Example popsize for post-stratification using a table:
</p>
<p><code style="white-space: pre;">⁠popsize &lt;- with(MySurveyFrame,
    table(Ecoregion, Type))⁠</code>
</p>
<p>Example popsize for post-stratification using an xtabs object:
</p>
<p><code style="white-space: pre;">⁠popsize &lt;- xtabs(~Ecoregion + Type,
    data = MySurveyFrame)⁠</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vartype</code></td>
<td>
<p>Character value providing the choice of the variance
estimator, where <code>"Local"</code> indicates the local mean estimator and
<code>"SRS"</code> indicates the simple random sampling estimator.  The default
value is <code>"Local"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jointprob</code></td>
<td>
<p>Character value providing the choice of joint inclusion
probability approximation for use with Horvitz-Thompson and Yates-Grundy
variance estimators, where <code>"overton"</code> indicates the Overton
approximation, <code>"hr"</code> indicates the Hartley-Rao approximation, and
<code>"brewer"</code> equals the Brewer approximation.  The default value is
<code>"overton"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf</code></td>
<td>
<p>Numeric value providing the Gaussian-based confidence level.  The default value
is <code>95</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>All_Sites</code></td>
<td>
<p>A logical variable used when <code>subpops</code> is not
<code>NULL</code>. If <code>All_Sites</code> is <code>TRUE</code>, then alongside the
subpopulation output, output for all sites (ignoring subpopulations) is
returned for each variable in <code>vars</code>. If <code>All_Sites</code> is
<code>FALSE</code>, then alongside the subpopulation output, output for all sites
(ignoring subpopulations) is not returned for each variable in <code>vars</code>.
The default is <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>List of change estimates composed of four items:
(1) <code>catsum</code> contains change estimates for categorical variables,
(2) <code>contsum_mean</code> contains estimates for continuous variables using
the mean, (3) <code>contsum_total</code> contains estimates for continuous
variables using the total, and (4) <code>contsum_median</code> contains estimates for continuous
variables using the median.  The items in the list will contain <code>NULL</code>
for estimates that were not calculated.  Each data frame includes estimates
for all combinations of population Types, subpopulations within types,
response variables, and categories within each response variable (for
categorical variables and continuous variables using the median).  Change
estimates are provided plus standard error estimates and confidence
interval estimates.
</p>
<p>The <code>catsum</code> data frame contains the following variables:
</p>

<dl>
<dt>Survey_1</dt>
<dd>
<p>first survey name</p>
</dd>
<dt>Survey_2</dt>
<dd>
<p>second survey name</p>
</dd>
<dt>Type</dt>
<dd>
<p>subpopulation (domain) name</p>
</dd>
<dt>Subpopulation</dt>
<dd>
<p>subpopulation name within a domain</p>
</dd>
<dt>Indicator</dt>
<dd>
<p>response variable</p>
</dd>
<dt>Category</dt>
<dd>
<p>category of response variable</p>
</dd>
<dt>DiffEst.P</dt>
<dd>
<p>proportion difference estimate (in %; second survey - first survey)</p>
</dd>
<dt>StdError.P</dt>
<dd>
<p>standard error of proportion difference estimate</p>
</dd>
<dt>MarginofError.P</dt>
<dd>
<p>margin of error of proportion difference estimate</p>
</dd>
<dt>LCBxxPct.P</dt>
<dd>
<p>xx% (default 95%) lower confidence bound of proportion difference estimate</p>
</dd>
<dt>UCBxxPct.P</dt>
<dd>
<p>xx% (default 95%) upper confidence bound of proportion difference estimate</p>
</dd>
<dt>Estimate.U</dt>
<dd>
<p>total difference estimate (second survey - first survey)</p>
</dd>
<dt>StdError.U</dt>
<dd>
<p>standard error of total difference estimate</p>
</dd>
<dt>MarginofError.U</dt>
<dd>
<p>margin of error of total difference estimate</p>
</dd>
<dt>LCBxxPct.U</dt>
<dd>
<p>xx% (default 95%) lower confidence bound of total difference estimate</p>
</dd>
<dt>UCBxxPct.U</dt>
<dd>
<p>xx% (default 95%) upper confidence bound of total difference estimate</p>
</dd>
<dt>nResp_1</dt>
<dd>
<p>sample size in the first survey</p>
</dd>
<dt>Estimate.P_1</dt>
<dd>
<p>proportion estimate (in %) from the first survey</p>
</dd>
<dt>StdError.P_1</dt>
<dd>
<p>standard error of proportion estimate from the first survey</p>
</dd>
<dt>MarginofError.P_1</dt>
<dd>
<p>margin of error of proportion estimate from the first survey</p>
</dd>
<dt>LCBxxPct.P_1</dt>
<dd>
<p>xx% (default 95%) lower confidence bound of proportion estimate from the first survey</p>
</dd>
<dt>UCBxxPct.P_1</dt>
<dd>
<p>xx% (default 95%) upper confidence bound of proportion estimate from the first survey</p>
</dd>
<dt>nResp_2</dt>
<dd>
<p>sample size in the second survey</p>
</dd>
<dt>Estimate.U_1</dt>
<dd>
<p>total estimate from the first survey</p>
</dd>
<dt>StdError.U_1</dt>
<dd>
<p>standard error of total estimate from the first survey</p>
</dd>
<dt>MarginofError.U_1</dt>
<dd>
<p>margin of error of total estimate from the first survey</p>
</dd>
<dt>LCBxxPct.U_1</dt>
<dd>
<p>xx% (default 95%) lower confidence bound of total estimate from the first survey</p>
</dd>
<dt>UCBxxPct.U_1</dt>
<dd>
<p>xx% (default 95%) upper confidence bound of total estimate from the first survey</p>
</dd>
<dt>Estimate.P_2</dt>
<dd>
<p>proportion estimate (in %) from the second survey</p>
</dd>
<dt>StdError.P_2</dt>
<dd>
<p>standard error of proportion estimate from the second survey</p>
</dd>
<dt>MarginofError.P_2</dt>
<dd>
<p>margin of error of proportion estimate from the second survey</p>
</dd>
<dt>LCBxxPct.P_2</dt>
<dd>
<p>xx% (default 95%) lower confidence bound of proportion estimate from the second survey</p>
</dd>
<dt>UCBxxPct.P_2</dt>
<dd>
<p>xx% (default 95%) upper confidence bound of proportion estimate from the second survey</p>
</dd>
<dt>Estimate.U_2</dt>
<dd>
<p>total estimate from the second survey</p>
</dd>
<dt>StdError.U_2</dt>
<dd>
<p>standard error of total estimate from the second survey</p>
</dd>
<dt>MarginofError.U_2</dt>
<dd>
<p>margin of error of total estimate from the second survey</p>
</dd>
<dt>LCBxxPct.U_2</dt>
<dd>
<p>xx% (default 95%) lower confidence bound of total estimate from the second survey</p>
</dd>
<dt>UCBxxPct.U_2</dt>
<dd>
<p>xx% (default 95%) upper confidence bound of total estimate from the second survey</p>
</dd>
</dl>
<p>The <code>contsum_mean</code> data frame contains the following variables:
</p>

<dl>
<dt>Survey_1</dt>
<dd>
<p>first survey name</p>
</dd>
<dt>Survey_2</dt>
<dd>
<p>second survey name</p>
</dd>
<dt>Type</dt>
<dd>
<p>subpopulation (domain) name</p>
</dd>
<dt>Subpopulation</dt>
<dd>
<p>subpopulation name within a domain</p>
</dd>
<dt>Indicator</dt>
<dd>
<p>response variable</p>
</dd>
<dt>Statistic</dt>
<dd>
<p>value of percentile</p>
</dd>
<dt>nResp</dt>
<dd>
<p>sample size at or below <code>Value</code></p>
</dd>
<dt>DiffEst</dt>
<dd>
<p>mean difference estimate</p>
</dd>
<dt>StdError</dt>
<dd>
<p>standard error of mean difference estimate</p>
</dd>
<dt>MarginofError</dt>
<dd>
<p>margin of error of mean difference estimate</p>
</dd>
<dt>LCBxxPct</dt>
<dd>
<p>xx% (default 95%) lower confidence bound of mean difference estimate</p>
</dd>
<dt>UCBxxPct</dt>
<dd>
<p>xx% (default 95%) upper confidence bound of mean difference estimate</p>
</dd>
<dt>nResp_1</dt>
<dd>
<p>sample size in the first survey</p>
</dd>
<dt>Estimate_1</dt>
<dd>
<p>mean estimate from the first survey</p>
</dd>
<dt>StdError_1</dt>
<dd>
<p>standard error of mean estimate from the first survey</p>
</dd>
<dt>MarginofError_1</dt>
<dd>
<p>margin of error of mean estimate from the first survey</p>
</dd>
<dt>LCBxxPct_1</dt>
<dd>
<p>xx% (default 95%) lower confidence bound of mean estimate from the first survey</p>
</dd>
<dt>UCBxxPct_1</dt>
<dd>
<p>xx% (default 95%) upper confidence bound of mean estimate from the first survey</p>
</dd>
<dt>nResp_2</dt>
<dd>
<p>sample size in the second survey</p>
</dd>
<dt>Estimate_2</dt>
<dd>
<p>mean estimate from the second survey</p>
</dd>
<dt>StdError_2</dt>
<dd>
<p>standard error of mean estimate from the second survey</p>
</dd>
<dt>MarginofError_2</dt>
<dd>
<p>margin of error of mean estimate from the second survey</p>
</dd>
<dt>LCBxxPct_2</dt>
<dd>
<p>xx% (default 95%) lower confidence bound of mean estimate from the second survey</p>
</dd>
<dt>UCBxxPct_2</dt>
<dd>
<p>xx% (default 95%) upper confidence bound of mean estimate from the second survey</p>
</dd>
</dl>
<p>The <code>contsum_total</code> data frame contains the following variables:
</p>

<dl>
<dt>Survey_1</dt>
<dd>
<p>first survey name</p>
</dd>
<dt>Survey_2</dt>
<dd>
<p>second survey name</p>
</dd>
<dt>Type</dt>
<dd>
<p>subpopulation (domain) name</p>
</dd>
<dt>Subpopulation</dt>
<dd>
<p>subpopulation name within a domain</p>
</dd>
<dt>Indicator</dt>
<dd>
<p>response variable</p>
</dd>
<dt>Statistic</dt>
<dd>
<p>value of percentile</p>
</dd>
<dt>nResp</dt>
<dd>
<p>sample size at or below <code>Value</code></p>
</dd>
<dt>DiffEst</dt>
<dd>
<p>total difference estimate</p>
</dd>
<dt>StdError</dt>
<dd>
<p>standard error of total difference estimate</p>
</dd>
<dt>MarginofError</dt>
<dd>
<p>margin of error of total difference estimate</p>
</dd>
<dt>LCBxxPct</dt>
<dd>
<p>xx% (default 95%) lower confidence bound of total difference estimate</p>
</dd>
<dt>UCBxxPct</dt>
<dd>
<p>xx% (default 95%) upper confidence bound of total difference estimate</p>
</dd>
<dt>nResp_1</dt>
<dd>
<p>sample size in the first survey</p>
</dd>
<dt>Estimate_1</dt>
<dd>
<p>total estimate from the first survey</p>
</dd>
<dt>StdError_1</dt>
<dd>
<p>standard error of total estimate from the first survey</p>
</dd>
<dt>MarginofError_1</dt>
<dd>
<p>margin of error of total estimate from the first survey</p>
</dd>
<dt>LCBxxPct_1</dt>
<dd>
<p>xx% (default 95%) lower confidence bound of total estimate from the first survey</p>
</dd>
<dt>UCBxxPct_1</dt>
<dd>
<p>xx% (default 95%) upper confidence bound of total estimate from the first survey</p>
</dd>
<dt>nResp_2</dt>
<dd>
<p>sample size in the second survey</p>
</dd>
<dt>Estimate_2</dt>
<dd>
<p>total estimate from the second survey</p>
</dd>
<dt>StdError_2</dt>
<dd>
<p>standard error of total estimate from the second survey</p>
</dd>
<dt>MarginofError_2</dt>
<dd>
<p>margin of error of total estimate from the second survey</p>
</dd>
<dt>LCBxxPct_2</dt>
<dd>
<p>xx% (default 95%) lower confidence bound of total estimate from the second survey</p>
</dd>
<dt>UCBxxPct_2</dt>
<dd>
<p>xx% (default 95%) upper confidence bound of total estimate from the second survey</p>
</dd>
</dl>
<p>The <code>contsum_median</code> data frame contains the following variables:
</p>

<dl>
<dt>Survey_1</dt>
<dd>
<p>first survey name</p>
</dd>
<dt>Survey_2</dt>
<dd>
<p>second survey name</p>
</dd>
<dt>Type</dt>
<dd>
<p>subpopulation (domain) name</p>
</dd>
<dt>Subpopulation</dt>
<dd>
<p>subpopulation name within a domain</p>
</dd>
<dt>Indicator</dt>
<dd>
<p>response variable</p>
</dd>
<dt>Category</dt>
<dd>
<p>category of response variable</p>
</dd>
<dt>DiffEst.P</dt>
<dd>
<p>proportion above or below median difference estimate (in %; second survey - first survey)</p>
</dd>
<dt>StdError.P</dt>
<dd>
<p>standard error of proportion above or below median difference estimate</p>
</dd>
<dt>MarginofError.P</dt>
<dd>
<p>margin of error of proportion above or below median difference estimate</p>
</dd>
<dt>LCBxxPct.P</dt>
<dd>
<p>xx% (default 95%) lower confidence bound of proportion above or below median difference estimate</p>
</dd>
<dt>UCBxxPct.P</dt>
<dd>
<p>xx% (default 95%) upper confidence bound of proportion above or below median difference estimate</p>
</dd>
<dt>Estimate.U</dt>
<dd>
<p>total above or below median difference estimate (second survey - first survey)</p>
</dd>
<dt>StdError.U</dt>
<dd>
<p>standard error of total above or below median difference estimate</p>
</dd>
<dt>MarginofError.U</dt>
<dd>
<p>margin of error of total above or below median difference estimate</p>
</dd>
<dt>LCBxxPct.U</dt>
<dd>
<p>xx% (default 95%) lower confidence bound of total above or below median difference estimate</p>
</dd>
<dt>UCBxxPct.U</dt>
<dd>
<p>xx% (default 95%) upper confidence bound of total above or below median difference estimate</p>
</dd>
<dt>nResp_1</dt>
<dd>
<p>sample size in the first survey</p>
</dd>
<dt>Estimate.P_1</dt>
<dd>
<p>proportion above or below median estimate (in %) from the first survey</p>
</dd>
<dt>StdError.P_1</dt>
<dd>
<p>standard error of proportion above or below median estimate from the first survey</p>
</dd>
<dt>MarginofError.P_1</dt>
<dd>
<p>margin of error of proportion above or below median estimate from the first survey</p>
</dd>
<dt>LCBxxPct.P_1</dt>
<dd>
<p>xx% (default 95%) lower confidence bound of proportion above or below median estimate from the first survey</p>
</dd>
<dt>UCBxxPct.P_1</dt>
<dd>
<p>xx% (default 95%) upper confidence bound of proportion above or below median estimate from the first survey</p>
</dd>
<dt>nResp_2</dt>
<dd>
<p>sample size in the second survey</p>
</dd>
<dt>Estimate.U_1</dt>
<dd>
<p>total above or below median estimate from the first survey</p>
</dd>
<dt>StdError.U_1</dt>
<dd>
<p>standard error of total above or below median estimate from the first survey</p>
</dd>
<dt>MarginofError.U_1</dt>
<dd>
<p>margin of error of total above or below median estimate from the first survey</p>
</dd>
<dt>LCBxxPct.U_1</dt>
<dd>
<p>xx% (default 95%) lower confidence bound of total above or below median estimate from the first survey</p>
</dd>
<dt>UCBxxPct.U_1</dt>
<dd>
<p>xx% (default 95%) upper confidence bound of total above or below median estimate from the first survey</p>
</dd>
<dt>Estimate.P_2</dt>
<dd>
<p>proportion above or below median estimate (in %) from the second survey</p>
</dd>
<dt>StdError.P_2</dt>
<dd>
<p>standard error of proportion above or below median estimate from the second survey</p>
</dd>
<dt>MarginofError.P_2</dt>
<dd>
<p>margin of error of proportion above or below median estimate from the second survey</p>
</dd>
<dt>LCBxxPct.P_2</dt>
<dd>
<p>xx% (default 95%) lower confidence bound of proportion above or below median estimate from the second survey</p>
</dd>
<dt>UCBxxPct.P_2</dt>
<dd>
<p>xx% (default 95%) upper confidence bound of proportion above or below median estimate from the second survey</p>
</dd>
<dt>Estimate.U_2</dt>
<dd>
<p>total above or below median estimate from the second survey</p>
</dd>
<dt>StdError.U_2</dt>
<dd>
<p>standard error of total above or below median estimate from the second survey</p>
</dd>
<dt>MarginofError.U_2</dt>
<dd>
<p>margin of error of total above or below median estimate from the second survey</p>
</dd>
<dt>LCBxxPct.U_2</dt>
<dd>
<p>xx% (default 95%) lower confidence bound of total above or below median estimate from the second survey</p>
</dd>
<dt>UCBxxPct.U_2</dt>
<dd>
<p>xx% (default 95%) upper confidence bound of total above or below median estimate from the second survey</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Tom Kincaid <a href="mailto:Kincaid.Tom@epa.gov">Kincaid.Tom@epa.gov</a>
</p>


<h3>See Also</h3>


<dl>
<dt><code>trend_analysis</code></dt>
<dd>
<p> for trend analysis</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R"># Categorical variable example for three resource classes
dframe &lt;- data.frame(
  surveyID = rep(c("Survey 1", "Survey 2"), c(100, 100)),
  siteID = paste0("Site", 1:200),
  wgt = runif(200, 10, 100),
  xcoord = runif(200),
  ycoord = runif(200),
  stratum = rep(rep(c("Stratum 1", "Stratum 2"), c(2, 2)), 50),
  CatVar = rep(c("North", "South"), 100),
  All_Sites = rep("All Sites", 200),
  Resource_Class = sample(c("Good", "Fair", "Poor"), 200, replace = TRUE)
)
myvars &lt;- c("CatVar")
mysubpops &lt;- c("All_Sites", "Resource_Class")
change_analysis(dframe,
  vars_cat = myvars, subpops = mysubpops,
  surveyID = "surveyID", siteID = "siteID", weight = "wgt",
  xcoord = "xcoord", ycoord = "ycoord", stratumID = "stratum"
)
</code></pre>


</div>