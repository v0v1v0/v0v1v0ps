<div class="container">

<table style="width: 100%;"><tr>
<td>add_coverage</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add coverage of central prediction intervals</h2>

<h3>Description</h3>

<p>Adds a column with the coverage of central prediction intervals
to unsummarised scores as produced by <code>score()</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_coverage(scores, by, ranges = c(50, 90))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>scores</code></td>
<td>
<p>A data.table of scores as produced by <code>score()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>character vector with column names to add the coverage for.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ranges</code></td>
<td>
<p>numeric vector of the ranges of the central prediction intervals
for which coverage values shall be added.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The coverage values that are added are computed according to the values
specified in <code>by</code>. If, for example, <code>by = "model"</code>, then there will be one
coverage value for every model and <code>add_coverage()</code> will compute the coverage
for every model across the values present in all other columns which define
the unit of a single forecast.
</p>


<h3>Value</h3>

<p>a data.table with unsummarised scores with columns added for the
coverage of the central prediction intervals. While the overall data.table
is still unsummarised, note that for the coverage columns some level of
summary is present according to the value specified in <code>by</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(magrittr) # pipe operator

score(example_quantile) %&gt;%
  add_coverage(by = c("model", "target_type")) %&gt;%
  summarise_scores(by = c("model", "target_type")) %&gt;%
  summarise_scores(fun = signif, digits = 2)
</code></pre>


</div>