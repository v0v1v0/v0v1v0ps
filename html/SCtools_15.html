<div class="container">

<table style="width: 100%;"><tr>
<td>plot_placebos</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to plot placebos of a synthetic control analysis</h2>

<h3>Description</h3>

<p>Creates plots with the difference between observed units 
and synthetic controls for the treated and control units. 
See Abadie, Diamond, and Hainmueller (2011).
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_placebos(
  tdf = tdf,
  discard.extreme = FALSE,
  mspe.limit = 20,
  xlab = NULL,
  ylab = NULL,
  title = NULL,
  alpha.placebos = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tdf</code></td>
<td>
<p>An object with a list of outcome values for placebos, 
constructed by <code>generate.placebos</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>discard.extreme</code></td>
<td>
<p>Logical. Whether or not units with high pre-treatement 
MSPE should be excluded from the plot. Takes a default of <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mspe.limit</code></td>
<td>
<p>Numerical. Used if <code>discard.extreme</code> is <code>TRUE</code>. 
It indicates how many times the pre-treatment MSPE of a placebo should 
be higher than that of the treated unit to be considered extreme and 
discarded. Default is <code>20</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>Character. Optional. Label of the x axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>Character. Optional. Label of the y axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>Character. Optional. Title of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.placebos</code></td>
<td>
<p>the transparency setting, default of <code>1</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>optional arguments (currently not used)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>p.gaps Gaps plot indicating difference between the treated unit, 
the placebos, and their respective synthetic controls.
</p>


<h3>See Also</h3>

<p><code>generate.placebos</code>, <code>gaps.plot</code>, 
<code>synth</code>, <code>dataprep</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Example with toy data from Synth
library(Synth)
# Load the simulated data
data(synth.data)

# Execute dataprep to produce the necessary matrices for synth
dataprep.out&lt;-
  dataprep(
    foo = synth.data,
    predictors = c("X1"),
    predictors.op = "mean",
    dependent = "Y",
    unit.variable = "unit.num",
    time.variable = "year",
    special.predictors = list(
      list("Y", 1991, "mean")
    ),
    treatment.identifier = 7,
    controls.identifier = c(29, 2, 13, 17),
    time.predictors.prior = c(1984:1989),
    time.optimize.ssr = c(1984:1990),
    unit.names.variable = "name",
    time.plot = 1984:1996
)

# run the synth command to create the synthetic control
synth.out &lt;- synth(dataprep.out, Sigf.ipop=2)

## run the generate.placebos command to reassign treatment status
## to each unit listed as control, one at a time, and generate their
## synthetic versions. Sigf.ipop = 2 for faster computing time. 
## Increase to the default of 5 for better estimates. 
tdf &lt;- generate.placebos(dataprep.out,synth.out, Sigf.ipop = 2, strategy='multicore')

## Plot the gaps in outcome values over time of each unit --
## treated and placebos -- to their synthetic controls

p &lt;- plot_placebos(tdf,discard.extreme=TRUE, mspe.limit=10, xlab='Year')
p

</code></pre>


</div>