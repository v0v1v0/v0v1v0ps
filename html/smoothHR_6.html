<div class="container">

<table style="width: 100%;"><tr>
<td>smoothHR</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Smooth Hazard Ratio Curves Taking a Reference Value</h2>

<h3>Description</h3>

<p>Provides flexible hazard ratio curves allowing non-linear relationships between continuous predictors and survival.
To better understand the effects that each continuous covariate has on the outcome, results are expressed in terms of hazard ratio curves,
taking a specific covariate value as reference. Confidence bands for these curves are also derived.
</p>


<h3>Usage</h3>

<pre><code class="language-R">smoothHR(data, time=NULL, time2=NULL, status=NULL, formula=NULL, coxfit,
status.event=NULL)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data.frame in which to interpret the variables named in the formula or in the arguments <code>time</code>, <code>time2</code>, <code>status</code> and <code>coxfit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>For right censored data, this is the follow up time. For interval data, the first argument is the starting time for the interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time2</code></td>
<td>
<p>Ending time of the interval for interval censored or counting process data only.
Intervals are assumed to be open on the left and closed on the right, (start, end].
For counting process data, event indicates whether an event occurred at the end of the interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>status</code></td>
<td>
<p>The status indicator, normally 0=alive, 1=dead. Other choices are TRUE/FALSE (TRUE = death) or 1/2 (2=death).
For interval censored data, the status indicator is 0=right censored, 1=event at time, 2=left censored, 3=interval censored.
Although unusual, the event indicator can be omitted, in which case all subjects are assumed to have an event.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A formula object, with the terms on the right after the ~ operator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coxfit</code></td>
<td>
<p>An object of class coxph. This argument is optional, being an alternative to the arguments  <code>time</code>, <code>time2</code>, <code>status</code> and <code>formula</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>status.event</code></td>
<td>
<p>The status indicator is a qualitative variable where usually the highest value is left for the event of interest (usually 0=alive, 1=dead).
If that is not the case the <code>status.event</code> indicates which value denotes the event of interest.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>HR</code>. There are methods for <code>print</code>, <code>predict</code> and <code>plot</code>.
<code>HR</code> objects are implemented as a list with elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>dataset</code></td>
<td>
<p>Dataset used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coxfit</code></td>
<td>
<p>The object of class 'coxph' used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phtest</code></td>
<td>
<p>Result from testing the proportional hazards assumption.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Artur Araújo and Luís Meira-Machado</p>


<h3>References</h3>

<p>Cadarso-Suarez, C. and Meira-Machado, L. and Kneib, T. and Gude, F. (2010). Flexible hazard ratio curves for continuous predictors in multi-state models: an application to breast cancer data. <em>Statistical Modelling</em>, <b>10</b>(3), 291-314. <a href="https://doi.org/10.1177/1471082X0801000303">doi:10.1177/1471082X0801000303</a>
</p>
<p>Meira-Machado, L. and Cadarso-Suárez, C. and Gude, F. and Araújo, A. (2013). smoothHR: An R Package for Pointwise Nonparametric Estimation of Hazard Ratio Curves of Continuous Predictors. <em>Computational and Mathematical Methods in Medicine</em>, <b>2013</b>, 11 pages. <a href="https://doi.org/10.1155/2013/745742">doi:10.1155/2013/745742</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Example 1
library(survival)
data(whas500)
fit &lt;- coxph(Surv(lenfol, fstat)~age+hr+gender+diasbp+pspline(bmi)+pspline(los), data=whas500,
x=TRUE)
hr1 &lt;- smoothHR(data=whas500, coxfit=fit)
print(hr1)

# Example 2
hr2 &lt;- smoothHR( data=whas500, time="lenfol", status="fstat", formula=~age+hr+gender+diasbp+
pspline(bmi)+pspline(los) )
print(hr2)
</code></pre>


</div>