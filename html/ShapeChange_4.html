<div class="container">

<table style="width: 100%;"><tr>
<td>jp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Specify a Jump-Point Category in a CHANGEPT Formula</h2>

<h3>Description</h3>

<p>A symbolic routine to define that the underlying mean curve has a jump point in the formula argument to changept.</p>


<h3>Usage</h3>

<pre><code class="language-R">jp(x, trd1 = -1, trd2 = -1, up = TRUE)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The predictor variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trd1</code></td>
<td>
<p>If trd1 is <code class="reqn">-1</code> (<code class="reqn">1</code>), then the estimated curve is constrained to be non-increasing (non-decreasing) on the left of the estimated jump point. The default is trd1 = <code class="reqn">-1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trd2</code></td>
<td>
<p>If trd2 is <code class="reqn">-1</code> (<code class="reqn">1</code>), then the estimated curve is constrained to be non-increasing (non-decreasing) on the right of the estimated jump point. 
The default is trd2 = <code class="reqn">-1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>up</code></td>
<td>
<p>The jump direction at the jump point. The default is up = TRUE, i.e., there is an upward jump; otherwise, there is a downward jump.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For the jump-point case, the user can choose either to impose a shape constraint on the estimated curve or not. If no shape constraint is imposed, only a jump point will be detected by the changept routine; otherwise, a jump point will be detected and the shape of the curve will be constrained according to the parameters trd1 and trd2 in a subinterval which is made of two consecutive knots and contains the jump point.
</p>


<h3>Value</h3>

<p>The vector "x" with five attributes, i.e., nm: the name of x; categ: the category of the change-point, "jump"; trd1 and trd2: <code class="reqn">-1</code>(non-increasing) or <code class="reqn">1</code> (non-decreasing); up: the jump direction.
</p>
<p>The nm and categ attributes are used in the plot routine; the trd1, trd2, and up attributes are used to set up a shape-constrained regression.
</p>


<h3>Author(s)</h3>

<p>Xiyue Liao</p>


<h3>See Also</h3>

<p><code>tp</code>, <code>ip</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
  # simulated curve with an upward jump at .7
  n = 1000
  x = seq(1/n, 1, length = n)

  set.seed(123) 
  y =  4 * sin(5 * x) + 3 * x + (x &gt;= .7) + rnorm(n, sd = 1)
  ans = changept(y ~ jp(x))

  plot(ans)

## End(Not run) 
</code></pre>


</div>