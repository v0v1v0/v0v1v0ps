<div class="container">

<table style="width: 100%;"><tr>
<td>management.prob</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Final felling and thinning functions for Norwegian forest
</h2>

<h3>Description</h3>

<p>Estimates de probability of a stand to be harvested or thinning
following Anton-Fernandez et al. (20012).
</p>


<h3>Usage</h3>

<pre><code class="language-R">management.prob(tr, fl, fun.final.felling = "harv.prob",
fun.thinning = "thin.prob", common.vars, this.period, next.period, ...)

harv.prob(region, skidding.distance.100m, AgeTo5, vuprha.m3.ha,
slope.per, SI.m, SI.spp)

thin.prob(region, skidding.distance.100m, AgeTo5, vuprha.m3.ha, slope.per, SI.m, SI.spp)


</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tr</code></td>
<td>

<p>A <em>trList</em> class object.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fl</code></td>
<td>

<p>A list describing the plot data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun.final.felling</code></td>
<td>

<p>Function to use to calculate final felling.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun.thinning</code></td>
<td>

<p>Function to use to calculate thinning.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>common.vars</code></td>
<td>

<p>A list with at least variables dev.class and vuprha.m3.ha.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>this.period</code></td>
<td>

<p>The period for which to calculate final felling and thinning probability.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>next.period</code></td>
<td>

<p>The next period to the one for which final felling and thinning probability are to be calculated.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Further arguments
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>region</code></td>
<td>

<p>A vector containing the region in Norway where every plot is situated.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skidding.distance.100m</code></td>
<td>

<p>A vector containing skidding for each plot. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AgeTo5</code></td>
<td>

<p>A vector containing number of years to development class 5 for each plot.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vuprha.m3.ha</code></td>
<td>

<p>Volume per ha in cubic meters per ha for each plot.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slope.per</code></td>
<td>

<p>Slope, in percentatge, for each plot.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SI.m</code></td>
<td>

<p>Site index (SI) in m.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SI.spp</code></td>
<td>

<p>Species for which the SI is calculated (1 = spruce, 2 = pine, 3 = deciduous).
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>It returns a list with one element: 
</p>
<table><tr style="vertical-align: top;">
<td><code>mng</code></td>
<td>
<p>a vector with the management to apply to each plot.</p>
</td>
</tr></table>
<h3>Author(s)</h3>

<p>Clara Anton Fernandez <a href="mailto:caf@nibio.no">caf@nibio.no</a>
</p>


<h3>References</h3>

<p>Antón-Fernández, C. and Astrup, R. 2012 Empirical harvest models and
their use in regional business-as-usual scenarios of timber supply  and carbon stock development. <em>Scandinavian Journal of Forest Research</em>, <em>27</em>, 4, 379–392.</p>


<h3>Examples</h3>

<pre><code class="language-R">foo.matrix &lt;-  matrix(0, nrow = length(tr$dbh), ncol = (5 +1))
colnames(foo.matrix) &lt;- paste("t", 0:5, sep = "")
foo.dbh &lt;- foo.height &lt;- foo.matrix
foo.dbh[,1] &lt;- tr$dbh
foo.height[,1] &lt;- tr$height

trl &lt;- list(
  plot.id  = tr$plot.id,
  treeid    = tr$treeid,
  dbh.mm    = foo.dbh,
  height.dm = foo.height,
  yrs.sim   = rep(0, nrow(tr)),
  tree.sp   = factor(tr$tree.sp)
)
tr.i &lt;- trList$new(data = trl, nperiods = as.integer(5))

common.vars &lt;-  prep.common.vars.fun(
  tr = tr.i,
  fl = fl,
  i.period       = 0,
  this.period    = "t0",
  common.vars    = "NULL",
  vars.required  = c("spp", "SBA.m2.ha", "QMD.cm", "vuprha.m3.ha", "AgeTo5"),
  period.length = 5
)
fl$management &lt;- data.frame(matrix(NA, ncol = tr.i$nperiods,
                                   nrow = nrow(tr.i$data$dbh.mm)))
names(fl$management) &lt;- paste0("t", 1:tr.i$nperiods)

management.prob(tr.i,
                fl,
                fun.final.felling = "harv.prob",
                fun.thinning = "thin.prob",
                common.vars = common.vars$res,
                this.period = "t0",
                next.period = "t1")

harv.prob(region = fl$region[1:3],
          skidding.distance.100m = fl$skidding.distance.100[1:3],
          AgeTo5 = c(50, 20, 15),
          vuprha.m3.ha = common.vars$res$vuprha.m3.ha[1:3],
          slope.per = fl$slope.per[1:3],
          SI.m = fl$SI.m[1:3],
          SI.spp = fl$SI.spp[1:3])

thin.prob(region = fl$region[1:3],
          skidding.distance.100m = fl$skidding.distance.100[1:3],
          AgeTo5 = c(50, 20, 15),
          vuprha.m3.ha = common.vars$res$vuprha.m3.ha[1:3],
          slope.per = fl$slope.per[1:3],
          SI.m = fl$SI.m[1:3],
          SI.spp = fl$SI.spp[1:3]
)

</code></pre>


</div>