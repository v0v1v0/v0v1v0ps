<div class="container">

<table style="width: 100%;"><tr>
<td>run_stability_analysis</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Test stability of a decomposition by subsampling or bootstrapping donors. Note that
running this function will replace the decomposition in the project container
with one resulting from the tucker parameters entered here.</h2>

<h3>Description</h3>

<p>Test stability of a decomposition by subsampling or bootstrapping donors. Note that
running this function will replace the decomposition in the project container
with one resulting from the tucker parameters entered here.
</p>


<h3>Usage</h3>

<pre><code class="language-R">run_stability_analysis(
  container,
  ranks,
  tucker_type = "regular",
  rotation_type = "hybrid",
  subset_type = "subset",
  sub_prop = 0.75,
  n_iterations = 100,
  ncores = container$experiment_params$ncores
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>container</code></td>
<td>
<p>environment Project container that stores sub-containers
for each cell type as well as results and plots from all analyses</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ranks</code></td>
<td>
<p>numeric The number of donor, gene, and cell type ranks, respectively,
to decompose to using Tucker decomposition.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tucker_type</code></td>
<td>
<p>character The 'regular' type is the only one implemented
with sparsity constraints (default='regular')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rotation_type</code></td>
<td>
<p>character Set to 'hybrid' to optimize loadings via our hybrid
method (see paper for details). Set to 'ica_dsc' to perform ICA rotation
on resulting donor factor matrix. Set to 'ica_lds' to optimize loadings by the
ICA rotation. (default='hybrid')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset_type</code></td>
<td>
<p>character Set to either 'subset' or 'bootstrap' (default='subset')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub_prop</code></td>
<td>
<p>numeric The proportion of donors to keep when using subset_type='subset' (default=.75)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_iterations</code></td>
<td>
<p>numeric The number of iterations to perform (default=100)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncores</code></td>
<td>
<p>numeric The number of cores to use (default=container$experiment_params$ncores)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The project container with the donor scores stability plot in
container$plots$stability_plot_dsc and the loadings stability plot in
container$plots$stability_plot_lds
</p>


<h3>Examples</h3>

<pre><code class="language-R">test_container &lt;- run_stability_analysis(test_container, ranks=c(2,4),
tucker_type='regular', rotation_type='hybrid', subset_type='subset', 
sub_prop=0.75, n_iterations=5, ncores=1)
</code></pre>


</div>