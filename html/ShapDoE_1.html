<div class="container">

<table style="width: 100%;"><tr>
<td>est.sh</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>The main algorithm for estimating the Shapley value</h2>

<h3>Description</h3>

<p>The main algorithm for estimating the Shapley value
</p>


<h3>Usage</h3>

<pre><code class="language-R">est.sh(method, d, n, val, ..., p = NA, f_d = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>the method used for estimating,'SRS' meas simple random sampling, 'StrRS' means structured simple random sampling, 'LS' means Latin square and 'COA' means component orthogonal array.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>an integer, the number of players.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>an integer, the sample size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>val</code></td>
<td>
<p>the predefined value function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other parameters used in val(sets,...).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>a prime, the bottom number of d.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_d</code></td>
<td>
<p>a vector represents the coefficients of primative polynomial on GF(d). For example the primative polynomial on GF(3^2) is x^2+x+2, then let f_d=c(1,1,2).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a vector including estimated Shapley values of all players.
</p>


<h3>Examples</h3>

<pre><code class="language-R">temp_adjacent&lt;-matrix(0,nrow=8,ncol=8)
temp_adjacent[1,6:8]&lt;-1;temp_adjacent[2,7]&lt;-1;temp_adjacent[c(4,6,7),8]&lt;-1;
temp_adjacent&lt;-temp_adjacent+t(temp_adjacent)
temp_val&lt;-function(sets,adjacent){
  if(length(sets)==1) val&lt;-0
  else{
    subadjacent&lt;-adjacent[sets,sets]
    nsets&lt;-length(sets)
    A&lt;-diag(1,nsets); B&lt;-matrix(0,nsets,nsets)
    for(l in 1:(nsets-1)){
      A&lt;-A%*%subadjacent
      B&lt;-B+A
    }
    val&lt;-ifelse(sum(B==0)&gt;nsets,0,1)
  }
  return(val)
}
est.sh('SRS',8,112,temp_val,temp_adjacent)
est.sh('StrRS',8,112,temp_val,temp_adjacent)
est.sh('LS',8,112,temp_val,temp_adjacent)
est.sh('COA',8,112,temp_val,temp_adjacent,p=2,f_d=c(1,0,1,1))
</code></pre>


</div>