<div class="container">

<table style="width: 100%;"><tr>
<td>sst_rt_serp_history</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get search results history in search region by keywords</h2>

<h3>Description</h3>

<p>This method returns top 100 search results in Google.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sst_rt_serp_history(
  api_token,
  project_id,
  region_id,
  date_from = Sys.Date() - 8,
  date_to = Sys.Date() - 1,
  keywords = NULL,
  sort = "keyword",
  order = "desc",
  page = 1,
  size = 100,
  return_method = "list"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>api_token</code></td>
<td>
<p>(required) Serpstat API token from
<a href="https://serpstat.com/users/profile/">your profile</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>project_id</code></td>
<td>
<p>(required) The ID of your project in Serpstat. You can
find this ID in the URL of any rank tracker report. As an example, in
https://serpstat.com/rank-tracker/keywords/12345/positions?get_params the
ID would be 12345.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>region_id</code></td>
<td>
<p>(required) The ID of a region returned by
<code>sst_rt_project_regions</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date_from</code></td>
<td>
<p>(optional) The date string in 'YYYY-MM-DD' format to
specify the initial date of retrieved data. Default value is current date
minus 8 days.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date_to</code></td>
<td>
<p>(optional) The date string in 'YYYY-MM-DD' format to
specify the final date of retrieved data. Must not exceed date_from + 30
days. Default is yesterday.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keywords</code></td>
<td>
<p>(optional) A vector of keywords for witch the data should be
retrieved. Maximum 1000 keywords per request. By default all the data for
all keywords in the project is returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>(optional) Must be one of 'keyword' (default) to sort the
results alphabetically or 'date' to sort the results by date.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>(optional) The sorting order. Must be one of string 'desc'
(default) for descending sorting or 'asc' for ascending sorting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>page</code></td>
<td>
<p>(optional) Response page number if there are many pages in response. The
default value is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>(optional) Response page size. Must be one of 20, 50, 100, 200, 500.The
default value is 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_method</code></td>
<td>
<p>(optional) Accepted values are 'list' (default) to
return data object as list or 'df' to return data object as data.frame.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns the search engine results for specific dates and region
including positions and URLs.
</p>


<h3>API docs</h3>

<p>Check all the values for request and response fields <a href="https://serpstat.com/api/642-serp-history-by-the-project-keywords-getkeywordsserpresultshistory/">here</a>.
</p>


<h3>API credits consumption</h3>

<p>0
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
api_token &lt;- Sys.getenv('SERPSTAT_API_TOKEN')
project_id &lt;- 12345
region_id  &lt;- sst_rt_project_regions(
  api_token  = api_token,
  project_id = project_id
  )$data$regions[[1]]$id
sst_rt_serp_history(
  api_token     = api_token,
  project_id    = project_id,
  region_id     = region_id,
  date_from     = '2020-12-01',
  date_to       = '2020-12-30',
  keywords      = c('seo', 'ppc', 'serpstat'),
  sort          = 'keyword',
  order         = 'desc',
  page          = 1,
  size          = 100,
  return_method = 'list'
)

## End(Not run)
</code></pre>


</div>