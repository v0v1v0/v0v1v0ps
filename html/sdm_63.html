<div class="container">

<table style="width: 100%;"><tr>
<td>getVarImp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>variable importance</h2>

<h3>Description</h3>

<p>Calculates relative importance of different variables in the models using several approaches.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getVarImp(x,id,wtest,setting,...)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>sdmModels object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>numeric, specify the model (modelID) for which the variable importance values are extracted; OR it can be character with "ensemble" specifying that the variable importance should be calculated based on the ensemble of all the model objects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wtest</code></td>
<td>
<p>specifies which dataset ('training','test.dep','test.indep') should be used (if exist) to calculate the importance of variables </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>setting</code></td>
<td>
<p>an optional list with setting of ensemble function; it is only needed when id = 'ensemble'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments as for <code>getModelId</code> function including <code>species</code>,<code>method</code>, <code>replication</code>, and <code>run</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>getVarImp</code> function returns an object including different measures of variable importance, and if be put in plot function, a barplot is generated. If the ggplot2 package is installed on your machine, the plot is generated using ggplot (unless you turn gg = FALSE), otherwise, the standard barplot is used.
</p>
<p>if <code>id = "ensemble"</code> is used in the function, the ensemble function is called to calculate the relative variable importance based on the ensemble prediction of all models. <code>setting</code> can be specified as an additional argument that will be passed to the ensemble function so check the <code>ensemble</code> function to see how can <code>setting</code> be specified!
</p>


<h3>Author(s)</h3>

<p>Babak Naimi <a href="mailto:naimi.b@gmail.com">naimi.b@gmail.com</a>
</p>
<p><a href="https://www.r-gis.net/">https://www.r-gis.net/</a>
</p>
<p><a href="https://www.biogeoinformatics.org/">https://www.biogeoinformatics.org/</a>
</p>


<h3>References</h3>

<p>Naimi, B., Araujo, M.B. (2016) sdm: a reproducible and extensible R platform for species distribution modelling, Ecography, DOI: 10.1111/ecog.01881
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# if m is a sdmModels object (output of the sdm function) then:

getVarImp(m,id=1) # variable importance 

vi &lt;- getVarImp(m,id=1) 

vi

plot(vi,'auc')

plot(vi,'cor')
#############
# You can get Mean variable importance (and confidence interval) for multiple models:

vi &lt;- getVarImp(m,id=1:10) # specify the modelIDs of the models

vi

plot(vi,'cor')
#----
# you can use the getModelId function to find the id of the specific method, replication, etc.
# or you may put the arguments of the getModelId in the getVarImp function:

vi &lt;- getVarImp(m, method='glm') # Mean variable importance for the method glm

vi

plot(vi)
#################

##### Variable Importance based on ENSEMBLE:

# You can get variable importance based on the ensemble of multiple models:

# setting is passed to the ensemble function

vi &lt;- getVarImp(m,id="ensemble",setting=list(method='weighted',stat='auc'))

vi

plot(vi,'cor')

#----------------

# if you want the ensemble based on a subset of models, you can define
# the id within the setting list:

vi &lt;- getVarImp(m,id="ensemble",
        setting=list(method='weighted',stat='auc',id=1:10))

vi

plot(vi,'cor')


plot(vi, gg = F) # R standard plot is used instead of ggplot



## End(Not run)
</code></pre>


</div>