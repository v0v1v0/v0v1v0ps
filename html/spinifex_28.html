<div class="container">

<table style="width: 100%;"><tr>
<td>manual_tour</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Produce the series of projection bases to rotate a variable into and out
of a projection.</h2>

<h3>Description</h3>

<p>Typically called by <code>array2af()</code>. An array of projections,
the radial tour of the <code>manip_var</code>, which is rotated from phi's starting
position to <code>phi_max</code>, to <code>phi_min</code>, and back to the start position.
</p>


<h3>Usage</h3>

<pre><code class="language-R">manual_tour(
  basis,
  manip_var,
  theta = NULL,
  phi_min = 0,
  phi_max = pi/2,
  data = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>basis</code></td>
<td>
<p>A (p, d) orthonormal numeric matrix.
The linear combination the original variables contribute to projection space.
Defaults to NULL, generating a random basis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>manip_var</code></td>
<td>
<p>Integer column number or string exact column name of the.
variable to manipulate. Required, no default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>Angle in radians of "in-plane" rotation, on the xy plane of the
reference frame. Defaults to theta of the basis for a radial tour.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phi_min</code></td>
<td>
<p>Minimum value phi should move to. Phi is angle in radians of
the "out-of-plane" rotation, the z-axis of the reference frame.
Required, defaults to 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phi_max</code></td>
<td>
<p>Maximum value phi should move to. Phi is angle in radians of
the "out-of-plane" rotation, the z-axis of the reference frame.
Required, defaults to pi/2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Optionally attach data to the basis path.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A (p, d, 4) history_array of the radial tour. The bases set for
phi_start, <code>phi_min</code>, <code>phi_max</code>, and back to phi_start.
</p>


<h3>See Also</h3>

<p>Other manual tour adjacent functions: 
<code>create_manip_space()</code>,
<code>interpolate_manual_tour()</code>,
<code>manip_var_of()</code>,
<code>rotate_manip_space()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(spinifex)
dat  &lt;- scale_sd(wine[, 2:6])
clas &lt;- wine$Type
bas  &lt;- basis_pca(dat)
mv   &lt;- manip_var_of(bas)
manual_tour(basis = bas, manip_var = mv)

## All arguments
manual_tour(basis = bas, manip_var = mv,
            theta = pi / 2, phi_min = pi / 16, phi_max = pi)

## Animating with ggtour() &amp; proto_* (d = 2 case)
mt &lt;- manual_tour(basis = bas, manip_var = mv)
ggt &lt;- ggtour(mt, dat, angle = .2) +
  proto_origin() +
  proto_point(list(color = clas, shape = clas)) +
  proto_basis()

animate_plotly(ggt)


## d = 1 case
## basis could be 1- or 2D; protos_* only use 1st column
mv  &lt;- manip_var_of(bas)
mt  &lt;- manual_tour(basis = bas, manip_var = mv)
ggt &lt;- ggtour(mt, dat, angle = .3) +
  proto_density(aes_args = list(color = clas, fill = clas)) +
  proto_basis1d() +
  proto_origin1d()

animate_plotly(ggt)


## Bring your own basis
bas &lt;- matrix(rnorm(2 * ncol(dat)), ncol = 2)
bas &lt;- orthonormalise(bas) ## manual_tour warns if basis isn't orthonormal
mt  &lt;- manual_tour(basis = bas, manip_var = 1)
ggt &lt;- ggtour(mt, dat, angle = .2) +
  proto_default(aes_args = list(color = clas, shape = clas))

animate_plotly(ggt)

</code></pre>


</div>