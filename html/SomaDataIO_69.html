<div class="container">

<table style="width: 100%;"><tr>
<td>soma_adat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>The <code>soma_adat</code> Class and S3 Methods</h2>

<h3>Description</h3>

<p>The <code>soma_adat</code> data structure is the primary internal <code>R</code> representation
of SomaScan data. A <code>soma_adat</code> is automatically created via <code>read_adat()</code>
when loading a <code style="white-space: pre;">⁠*.adat⁠</code> text file. It consists of a <code>data.frame</code>-like
object with leading columns as clinical variables and SomaScan RFU data
as the remaining variables. Two main attributes corresponding to analyte
and SomaScan run information contained in the <code style="white-space: pre;">⁠*.adat⁠</code> file are added:
</p>

<ul>
<li> <p><code>Header.Meta</code>: information about the SomaScan run, see <code>parseHeader()</code>
or <code>attr(x, "Header.Meta")</code>
</p>
</li>
<li> <p><code>Col.Meta</code>: annotations information about the SomaScan reagents/analytes,
see <code>getAnalyteInfo()</code> or <code>attr(x, "Col.Meta")</code>
</p>
</li>
<li> <p><code>file_specs</code>: parsing specifications for the ingested <code style="white-space: pre;">⁠*.adat⁠</code> file
</p>
</li>
<li> <p><code>row_meta</code>: the names of the non-RFU fields. See <code>getMeta()</code>.
</p>
</li>
</ul>
<p>See <code>groupGenerics()</code> for a details on <code>Math()</code>, <code>Ops()</code>, and <code>Summary()</code>
methods that dispatch on class <code>soma_adat</code>.
<br><br>
See <code>reexports()</code> for a details on re-exported S3 generics from other
packages (mostly <code>dplyr</code> and <code>tidyr</code>) to enable S3 methods to be
dispatched on class <code>soma_adat</code>.
<br><br>
Below is a list of <em>all</em> currently available S3 methods that dispatch on
the <code>soma_adat</code> class:
</p>
<div class="sourceCode"><pre>#&gt;  [1] [              [[             [[&lt;-           [&lt;-           
#&gt;  [5] ==             $              $&lt;-            anti_join     
#&gt;  [9] arrange        count          filter         full_join     
#&gt; [13] getAdatVersion getAnalytes    getMeta        group_by      
#&gt; [17] inner_join     is_seqFormat   left_join      Math          
#&gt; [21] median         merge          mutate         Ops           
#&gt; [25] print          rename         right_join     row.names&lt;-   
#&gt; [29] sample_frac    sample_n       select         semi_join     
#&gt; [33] separate       slice_sample   slice          summary       
#&gt; [37] Summary        transform      ungroup        unite         
#&gt; see '?methods' for accessing help and source code
</pre></div>
<p>The S3 <code>print()</code> method returns summary information parsed from the object
attributes, if present, followed by a dispatch to the <code>tibble()</code> print method.
Rownames are printed as the first column in the print method only.
</p>
<p>The S3 <code>summary()</code> method returns the following for each column of the ADAT
object containing SOMAmer data (clinical meta data is <em>excluded</em>):
</p>

<ul>
<li>
<p> Target (if available)
</p>
</li>
<li>
<p> Minimum value
</p>
</li>
<li>
<p> 1st Quantile
</p>
</li>
<li>
<p> Median
</p>
</li>
<li>
<p> Mean
</p>
</li>
<li>
<p> 3rd Quantile
</p>
</li>
<li>
<p> Maximum value
</p>
</li>
<li>
<p> Standard deviation
</p>
</li>
<li>
<p> Median absolute deviation (<code>mad()</code>)
</p>
</li>
<li>
<p> Interquartile range (<code>IQR()</code>)
</p>
</li>
</ul>
<p>The S3 <code>Extract()</code> method is used for sub-setting a <code>soma_adat</code>
object and relies heavily on the <code>[</code> method that maintains the <code>soma_adat</code>
attributes intact <em>and</em> subsets the <code>Col.Meta</code> so that it is consistent
with the newly created object.
</p>
<p>S3 extraction via <code>$</code> is fully supported, however,
as opposed to the <code>data.frame</code> method, partial matching
is <em>not</em> allowed for class <code>soma_adat</code>.
</p>
<p>S3 extraction via <code>[[</code> is supported, however, we restrict
the usage of <code>[[</code> for <code>soma_adat</code>. Use only a numeric index (e.g. <code>1L</code>)
or a character identifying the column (e.g. <code>"SampleID"</code>).
Do not use <code style="white-space: pre;">⁠[[i,j]]⁠</code> syntax with <code>[[</code>, use <code>[</code> instead.
As with <code>$</code>, partial matching is <em>not</em> allowed.
</p>
<p>S3 assignment via <code>[</code> is supported for class <code>soma_adat</code>.
</p>
<p>S3 assignment via <code>$</code> is fully supported for class <code>soma_adat</code>.
</p>
<p>S3 assignment via <code>[[</code> is supported for class <code>soma_adat</code>.
</p>
<p>S3 <code>median()</code> is <em>not</em> currently supported for the <code>soma_adat</code> class,
however a dispatch is in place to direct users to alternatives.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'soma_adat'
print(x, show_header = FALSE, ...)

## S3 method for class 'soma_adat'
summary(object, tbl = NULL, digits = max(3L, getOption("digits") - 3L), ...)

## S3 method for class 'soma_adat'
x[i, j, drop = TRUE, ...]

## S3 method for class 'soma_adat'
x$name

## S3 method for class 'soma_adat'
x[[i, j, ..., exact = TRUE]]

## S3 replacement method for class 'soma_adat'
x[i, j, ...] &lt;- value

## S3 replacement method for class 'soma_adat'
x$i, j, ... &lt;- value

## S3 replacement method for class 'soma_adat'
x[[i, j, ...]] &lt;- value

## S3 method for class 'soma_adat'
median(x, na.rm = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x, object</code></td>
<td>
<p>A <code>soma_adat</code> class object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_header</code></td>
<td>
<p>Logical. Should all the <code style="white-space: pre;">⁠Header Data⁠</code> information
be displayed instead of the data frame (<code>tibble</code>) object?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tbl</code></td>
<td>
<p>An annotations table. If <code>NULL</code> (default),
annotation information is extracted from the object itself (if possible).
Alternatively, the result of a call to <code>getAnalyteInfo()</code>, from
which Target names can be extracted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Integer. Used for number formatting with <code>signif()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i, j</code></td>
<td>
<p>Row and column indices respectively. If <code>j</code> is omitted,
<code>i</code> is used as the column index.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>Coerce to a vector if fetching one column via <code>tbl[, j]</code>.
Default <code>FALSE</code>, ignored when accessing a column via <code>tbl[j]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>A name or a string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exact</code></td>
<td>
<p>Ignored with a <code>warning()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>A value to store in a row, column, range or cell.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>a logical value indicating whether <code>NA</code>
values should be stripped before the computation proceeds.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The set of S3 methods above return the <code>soma_adat</code> object with
the corresponding S3 method applied.
</p>


<h3>See Also</h3>

<p><code>groupGenerics()</code>
</p>
<p>Other IO: 
<code>loadAdatsAsList()</code>,
<code>parseHeader()</code>,
<code>read_adat()</code>,
<code>write_adat()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># S3 print method
example_data

# show the header info (no RFU data)
print(example_data, show_header = TRUE)

# S3 summary method
# MMP analytes (4)
mmps &lt;- c("seq.2579.17", "seq.2788.55", "seq.2789.26", "seq.4925.54")
mmp_adat &lt;- example_data[, c("Sex", mmps)]
summary(mmp_adat)

# Summarize by group
mmp_adat |&gt;
  split(mmp_adat$Sex) |&gt;
  lapply(summary)

# Alternatively pass annotations with Target info
anno &lt;- getAnalyteInfo(mmp_adat)
summary(mmp_adat, tbl = anno)
</code></pre>


</div>