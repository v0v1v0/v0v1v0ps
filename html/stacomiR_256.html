<div class="container">

<table style="width: 100%;"><tr>
<td>report_ge_weight-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Trend of wet weight in glass eel</h2>

<h3>Description</h3>

<p>In trapping ladders, glass eel are seldom counted, as they are too tiny to handle and too numerous to count.
The usual operation is to weight them, or to use a bucket to measure their volume. These weights or volumes will later
need to be converted to numbers. The glass eel weight may follow a seasonal pattern. It's the case for Anguilla anguilla 
glass eel in the Bay of Biscay. Weights can be modelled using sine wave curves, or more complex gam models. 
This class has a model method to try those models, which can also be used to extact coefficients manually
to manually test more complex models.
Some plots are provided to display the coefficients stored in the database, and the model results. A parameter provided in 
the graphical interface or in the command line (slot liste) takes values '1', '&gt;1', 'tous' which mean respectively use
only individual sample of glass eels, or use 'group weights' which can be more close to the real weight of glass eel
during counts as glass eel are not completely drained from their water during handling to preserve their mucus. The list choice
'tous' means that both individual and group weights are selected.
</p>


<h3>Slots</h3>


<dl>
<dt><code>data</code></dt>
<dd>
<p>A <code>'data.frame'</code> data for report lot</p>
</dd>
<dt><code>calcdata</code></dt>
<dd>
<p>A list containing two processed data frames, data and coe</p>
</dd>
<dt><code>dc</code></dt>
<dd>
<p>Object of class <code>ref_dc-class</code>, the counting device</p>
</dd>
<dt><code>start_year</code></dt>
<dd>
<p>Object of class <code>ref_year-class</code>. ref_year allows to choose the year of beginning</p>
</dd>
<dt><code>end_year</code></dt>
<dd>
<p>Object of class <code>ref_year-class</code>
ref_year allows to choose last year of the report</p>
</dd>
<dt><code>coe</code></dt>
<dd>
<p>Object of class <code>ref_coe-class</code> class loading coefficient
of conversion between quantity (weights or volumes of glass eel) and numbers</p>
</dd>
<dt><code>liste</code></dt>
<dd>
<p>Object of class <code>ref_list-class</code> ref_list referential
class choose within a list, here the choice is whether subsamples or not. Subsamples
in the stacomi database are samples with a non null value for parent sample. Migration
counts are never made on subsamples but those can be integrated to calculate mean weights.</p>
</dd>
</dl>
<h3>Note</h3>

<p>In this class some tools are available to import glass eel measurement from
experimental fishing in the estuary. For the charge method dates for the
request are from august to august (a glass eel season)
</p>


<h3>Author(s)</h3>

<p>Cedric Briand <a href="mailto:cedric.briand@eptb-vilaine.fr">cedric.briand@eptb-vilaine.fr</a>
</p>


<h3>See Also</h3>

<p>Other report Objects: 
<code>report_annual-class</code>,
<code>report_dc-class</code>,
<code>report_df-class</code>,
<code>report_env-class</code>,
<code>report_mig-class</code>,
<code>report_mig_char-class</code>,
<code>report_mig_env-class</code>,
<code>report_mig_interannual-class</code>,
<code>report_mig_mult-class</code>,
<code>report_sample_char-class</code>,
<code>report_sea_age-class</code>,
<code>report_silver_eel-class</code>,
<code>report_species-class</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">require(stacomiR)
# launching stacomi without selecting the scheme or interface
stacomi(
	database_expected=FALSE, sch='iav')
# this requires a working database with the schema iav
# prompt for user and password but you can set appropriate options for host, port and dbname
## Not run: 
	stacomi(
			database_expected=TRUE, sch='iav')	
	if (interactive()){
		if (!exists("user")){
			user &lt;- readline(prompt="Enter user: ")
			password &lt;- readline(prompt="Enter password: ")	
		}	
	}
	options(					
			stacomiR.dbname = "bd_contmig_nat",
			stacomiR.host ="localhost",
			stacomiR.port = "5432",
			stacomiR.user = user,
			stacomiR.user = password						
	)	
  #create an instance of the class
  r_gew&lt;-new("report_ge_weight")
  r_gew@liste&lt;-charge(object=r_gew@liste,listechoice=c("=1","&gt;1","tous"),label="")
  # here I'm using weights when number are larger than 1i.e.wet weight
  # always choose a date from one year to the next eg 2010 to 2011
  # as the dates are from august to august
  r_gew&lt;-choice_c(r_gew,
	  dc=c(6),			
	  start_year="2009",
	  end_year="2015",
	  selectedvalue="&gt;1",
	  silent=FALSE)
  r_gew&lt;-connect(r_gew)	
  r_gew&lt;-calcule(r_gew)

## End(Not run)	
# load the dataset generated by previous lines
data("r_gew")
# the calculation will fill the slot calcdata

# A ggplot showing the trend in weight
plot(r_gew, plot.type=1)
# A plot showing both the data and the trend as recorded in the database
plot(r_gew, plot.type=2)
# Same as plot.type=1 but with size according to size of the sample,
# usefull for wet weights where weight are recorded on a number of glass eel
plot(r_gew, plot.type=3)
## Not run: 
# First model with nls, see Guerault and Desaunay (1993) 
  model(r_gew,model.type="seasonal")
  model(r_gew,model.type="seasonal1")

## End(Not run)
</code></pre>


</div>