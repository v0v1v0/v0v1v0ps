<div class="container">

<table style="width: 100%;"><tr>
<td>affichage.moodle</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Aide aux affichages dans les textes des questions
</h2>

<h3>Description</h3>

<p>Ces fonctions permettent de créer une chaîne de caractère au format
HTML, qui peut ensuite être intégrée au texte d'une question (énoncé,
réponse, commentaire...).
</p>


<h3>Usage</h3>

<pre><code class="language-R">afficher_echantillon.moodle( x, tableau = TRUE, trier = FALSE,
                             n.chiffres = get( "nombre.chiffres",
                                               envir = SARP.Moodle.env ),
                             marge = c( 10, 10, 1, 1 ), ... )

afficher_echantillons.moodle( x, trier = FALSE,
                              n.chiffres = get( "nombre.chiffres",
                                                envir = SARP.Moodle.env ),
                              marge = c( 10, 10, 1, 1 ),
                              pre.texte = paste0( "\u00c9chantillon\u00a0",
                                                  1:length( x ) ),
                              couleur.trait = "Black", lg.trait = "2",
                              ... )

afficher_nombre.moodle( x,
                        dec = get( "decimal", envir = SARP.Moodle.env ),
                        n.chiffres = get( "nombre.chiffres",
                                          envir = SARP.Moodle.env ),
                        unite = "" )

afficher_poly.moodle( degre, variable, a, ... )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>L'élément à convertir au format HTML. Voyez les détails pour
plus de précisions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.chiffres</code></td>
<td>
<p> Le nombre de chiffres à conserver pour l'affichage.
Si le nombre est plus petit, en valeur absolue, que 10^-n.chiffres,
il ne peut pas être affiché avec ce nombre de décimales : c'est
alors le nombre de chiffres significatifs. Sinon, c'est le nombre de
décimales. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trier</code></td>
<td>
<p>Si <code>TRUE</code>, les valeurs de l'échantillon sont triées
par ordre croissant avant d'être converties en code HTML.  S'il y a
plusieurs échantillons, chacun est trié séparément. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marge</code></td>
<td>
<p>Les marges à laisser au sein de chaque case du tableau
affichant les résultats. Ce doit être un vecteur de quatre valeurs
entières, correspondant dans l'ordre aux marges gauche, droite,
haute et basse, exprimées en pixels. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Autres options pour
<code>sortie_R.moodle.numeric</code>, qui est appelé pour
l'affichage sous forme de tableau.</p>
</td>
</tr>
</table>
<p>Options pour <code>afficher_echantillon.moodle</code>
</p>
<table><tr style="vertical-align: top;">
<td><code>tableau</code></td>
<td>
<p>Si <code>TRUE</code>, un tableau HTML est construit. Sinon,
une simple énumération des valeurs est préparée. </p>
</td>
</tr></table>
<p>Options pour <code>afficher_echantillons.moodle</code>
</p>
<table>
<tr style="vertical-align: top;">
<td><code>pre.texte</code></td>
<td>
<p>Les textes à afficher au début de chaque ligne,
permettant d'identifier les échantillons. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>couleur.trait</code></td>
<td>
<p>La couleur des filets du tableau (ce doit être
une couleur valable en CSS)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lg.trait</code></td>
<td>
<p>L'épaisseur des filets du tableau (exprimée en
pixels)</p>
</td>
</tr>
</table>
<p>Options pour <code>afficher_nombre.moodle</code>
</p>
<table>
<tr style="vertical-align: top;">
<td><code>dec</code></td>
<td>
<p> Le symbole à utiliser comme séparateur décimal. Par
défaut, celui indiqué à la création du questionnaire. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unite</code></td>
<td>
<p> L'unité à utiliser pour l'affichage de la valeur. </p>
</td>
</tr>
</table>
<p>Options pour <code>afficher_poly.moodle</code>
</p>
<table>
<tr style="vertical-align: top;">
<td><code>degre</code></td>
<td>
<p> Le degré du polynome. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variable</code></td>
<td>
<p> Le texte correspondant à la variable du polynome. Ce
texte peut être quelconque et inclure des balises HTML. S'il
correspond à une unique lettre minuscule (typiquement, x), les
balises de mise en italique sont automatiquement ajoutées, afin de
se conformer aux règles typographiques françaises. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p> Vecteur de longueur <code>degre + 1</code> donnant les
coefficients du polynôme, par degré décroissant. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Pour <code>afficher_echantillon.moodle</code>, <code>x</code> peut être un
vecteur ou une liste; chaque élément est converti en texte avec
<code>afficher_nombre.moodle</code>. La liste des valeurs est alors créée,
soit sous la forme (x1 ; x2 ; ...), soit sous la forme d'un tableau
d'une ligne, avec un filet au-dessus et en-dessous.
</p>
<p>Pour <code>afficher_echantillon.moodle</code>, <code>x</code> doit être une liste,
dont chaque élément est un échantillon. Un tableau est alors créé,
avec une ligne par échantillon (la ligne commençant par le texte
fourni dans <code>pre.texte</code> et permettant d'identifier
l'échantillon). Chaque valeur de chaque échantillon est convertie en
texte avec <code>afficher_nombre.moodle</code>.
</p>
<p>Pour <code>afficher_nombre.moodle</code>, <code>x</code> doit être un vecteur
contenant au plus une seule valeur (dans le cas contraire, seule la
première est utilisée, les autres sont ignorées avec un
avertissement). S'il est de longueur nulle, le symbole de l'ensemble
vide (entité <code>&amp;empty;</code>) est renvoyé, mis en forme avec le style
utilisé pour les messages d'erreur. Les valeurs manquantes (<code>NA</code>)
ou non-numériques (<code>NaN</code>) sont affichées avec ces caractères, et
le style des messages d'erreur. Les valeurs infinies (<code>Inf</code> et
<code>-Inf</code>) sont affichées avec le symbole <code class="reqn">\infty</code>
(entité <code>&amp;infin;</code>). Les chaînes de caractère sont affichées
inchangées. Enfin, les nombres sont mis en forme avec le symbole
<code>dec</code> comme séparateur décimal, un signe moins correct (entité
<code>&amp;minus;</code>) et, si nécessaire, une puissance de 10 correcte (soit
<code>&amp;thinsp;&amp;times;&amp;thinsp;10&lt;sup&gt;n&lt;/sup&gt;</code>, où <code class="reqn">n</code> est la
puissance, pour avoir <code class="reqn">\times 10^n</code> avec des espacements
corrects).
</p>
<p>La fonction <code>afficher_poly.moodle</code> permet de créer le code HTML
d'affichage d'un polynome de degré quelconque ; l'affichage se fait
par puissances décroissantes (<code class="reqn">a\,x + b</code> pour un polynôme
de degré 1, par exemple).
</p>


<h3>Value</h3>

<p>Ces fonctions renvoient une unique chaîne de caractères, au
format HTML, qui peut être utilisée pour construire le texte d'un
énoncé, d'une réponse affichée, d'un commentaire...  </p>


<h3>Author(s)</h3>

<p>Emmanuel Curis <a href="mailto:emmanuel.curis@parisdescartes.fr">emmanuel.curis@parisdescartes.fr</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Commencer un nouveau questionnaire
q &lt;- debuter_xml.moodle( "exemple.affichages" )

# Catégorie : exemples
categorie.moodle( "Exemples SARP/Affichages" )

# Signe moins, décimale
vrai_faux.moodle( "Quelle est l'écriture correcte de l'opposé de cinq huitièmes&amp;thinsp;?",
                  afficher_nombre.moodle( -5/8 ), -5/8 )

# Affichage des puissances
vrai_faux.moodle( paste( "L'inverse de", afficher_nombre.moodle( 10^8 ),
                         "est", afficher_nombre.moodle( 10^-8 ) ) )

# Affichage d'un échantillon
e &lt;- rnorm( 10 ) * 2 + 20 
numerique.moodle( paste0( "Donnez la plus petite valeur de l'échantillon ci-dessous.",
                          afficher_echantillon.moodle( e ) ),
                  min( e ) )

# Affichage de deux échantillons
e1 &lt;- rnorm( 10 ) * 2 + 20
e2 &lt;- rnorm( 5 ) * 1 + 5
d &lt;- mean( e1 ) - mean( e2 )
numerique.moodle( paste0( "Donnez la différence des moyennes des deux échantillons ci-dessous.",
                          afficher_echantillons.moodle( list( e1, e2 ) ) ),
                  c( d, -d ), notes = c( 100, 100 ) )

# Affichage d'un polynôme
numerique.moodle( paste0( "Quelle est la solution de l'équation ",
                          afficher_poly.moodle( 1, 'x', c( 2, -3 ) ),
                          " = 0&amp;thinsp;?" ),
                  3/2 )

# On termine le questionnaire
finir_xml.moodle( )

# Importez le fichier exemple.affichages.xml dans Moodle pour voir le résultat...
print(
"Importez le fichier exemple.affichages.xml dans Moodle pour voir le résultat..." )

## End(Not run)
</code></pre>


</div>