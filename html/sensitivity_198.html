<div class="container">

<table style="width: 100%;"><tr>
<td>sobolrank</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>First-order sensitivity indices estimation via ranking</h2>

<h3>Description</h3>

 <p><code>sobolrank</code> implements the estimation of all first-order indices using only N model evaluations 
via ranking following Gamboa et al. (2020) and inspired by Chatterjee (2019).
</p>


<h3>Usage</h3>

<pre><code class="language-R">sobolrank(model = NULL, X, nboot = 0, conf = 0.95, nsample = round(0.8*nrow(X)), 
          ...)
## S3 method for class 'sobolrank'
tell(x, y = NULL, ...)
## S3 method for class 'sobolrank'
print(x, ...)
## S3 method for class 'sobolrank'
plot(x, ylim = c(0, 1), ...)
## S3 method for class 'sobolrank'
ggplot(data, mapping = aes(), ..., environment
                 = parent.frame(), ylim = c(0, 1))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>a function, or a model with a <code>predict</code> method,
defining the model to analyze.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>a random sample of the inputs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nboot</code></td>
<td>
<p>the number of bootstrap replicates, see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf</code></td>
<td>
<p>the confidence level for confidence intervals, see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsample</code></td>
<td>
<p>the size of the bootstrap sample, see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a list of class <code>"sobolrank"</code> storing the state of the
sensitivity study (parameters, data, estimates).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a list of class <code>"sobolrank"</code> storing the state of the
sensitivity study (parameters, data, estimates).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>a vector of model responses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>y-coordinate plotting limits.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mapping</code></td>
<td>
<p>Default list of aesthetic mappings to use for plot. If not specified, 
must be supplied in each layer added to the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>environment</code></td>
<td>
<p>[Deprecated] Used prior to tidy evaluation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>any other arguments for <code>model</code> which are passed
unchanged each time it is called.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The estimator used by sobolrank is defined in Gamboa et al. (2020).
It is based on ranking the inputs as was first proposed by Chatterjee (2019) for a Cramer-Von Mises based estimator.
All first-order indices can be estimated with a single sample of size N.
Since boostrap creates ties which are not accounted for in the algorithm, confidence intervals are obtained by 
sampling without replacement with a sample size <code>nsample</code>.
</p>


<h3>Value</h3>

<p><code>sobolrank</code> returns a list of class <code>"sobolrank"</code>, containing all
the input arguments detailed before, plus the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>the matched call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>a <code>data.frame</code> containing the design of experiments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>a vector of model responses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S</code></td>
<td>
<p>the estimations of the Sobol' sensitivity indices.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Sebastien Da Veiga
</p>


<h3>References</h3>

<p>Gamboa, F., Gremaud, P., Klein, T., &amp; Lagnoux, A., 2022, <em>Global Sensitivity Analysis: 
a novel generation of mighty estimators based on rank statistics</em>, 
Bernoulli 28: 2345-2374.
</p>
<p>Chatterjee, S., 2021, <em>A new coefficient of correlation</em>, Journal of the American 
Statistical Association, 116:2009-2022. 
</p>


<h3>See Also</h3>

<p><code>sobol, sobol2002, sobolSalt, sobol2007, soboljansen, sobolmartinez,
  sobolSmthSpl, sobolEff, sobolshap_knn</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Test case : the non-monotonic Sobol g-function
# Example with a call to a numerical model
library(boot)
n &lt;- 1000
X &lt;- data.frame(matrix(runif(8 * n), nrow = n))
x &lt;- sobolrank(model = sobol.fun, X = X, nboot = 100)
print(x)
library(ggplot2)
ggplot(x)
# Test case : the Ishigami function
# Example with given data
n &lt;- 500
X &lt;- data.frame(matrix(-pi+2*pi*runif(3 * n), nrow = n))
Y &lt;- ishigami.fun(X)
x &lt;- sobolrank(model = NULL, X)
tell(x,Y)
print(x)
ggplot(x)
</code></pre>


</div>