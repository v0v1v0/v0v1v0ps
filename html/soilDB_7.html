<div class="container">

<table style="width: 100%;"><tr>
<td>downloadSSURGO</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get SSURGO ZIP files from Web Soil Survey 'Download Soils Data'</h2>

<h3>Description</h3>

<p>Download ZIP files containing spatial (ESRI shapefile) and tabular (TXT) files with standard SSURGO format; optionally including the corresponding SSURGO Template Database with <code>include_template=TRUE</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">downloadSSURGO(
  WHERE = NULL,
  areasymbols = NULL,
  destdir = tempdir(),
  exdir = destdir,
  include_template = FALSE,
  db = c("SSURGO", "STATSGO"),
  extract = TRUE,
  remove_zip = FALSE,
  overwrite = FALSE,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>WHERE</code></td>
<td>
<p>A SQL <code>WHERE</code> clause expression used to filter records in <code>sacatalog</code> table. Alternately <code>WHERE</code> can be any spatial object supported by <code>SDA_spatialQuery()</code> for defining the target extent.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>areasymbols</code></td>
<td>
<p>Character vector of soil survey area symbols e.g. <code>c("CA067", "CA077")</code>. Used in lieu of <code>WHERE</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>destdir</code></td>
<td>
<p>Directory to download ZIP files into. Default <code>tempdir()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exdir</code></td>
<td>
<p>Directory to extract ZIP archives into. May be a directory that does not yet exist. Each ZIP file will extract to a folder labeled with <code>areasymbol</code> in this directory. Default: <code>destdir</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_template</code></td>
<td>
<p>Include the (possibly state-specific) MS Access template database? Default: <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>db</code></td>
<td>
<p>Either <code>"SSURGO"</code> (default; detailed soil map) or <code>"STATSGO"</code> (general soil map).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extract</code></td>
<td>
<p>Logical. Extract ZIP files to <code>exdir</code>? Default: <code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_zip</code></td>
<td>
<p>Logical. Remove ZIP files after extracting? Default: <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Logical. Overwrite by re-extracting if directory already exists? Default: <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>Logical. Passed to <code>curl::curl_download()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>To specify the Soil Survey Areas you would like to obtain data you use a <code>WHERE</code> clause for query of <code>sacatalog</code> table such as <code>areasymbol = 'CA067'</code>, <code>"areasymbol IN ('CA628', 'CA067')"</code> or  <code style="white-space: pre;">⁠areasymbol LIKE 'CT%'⁠</code>.
</p>
<p>When <code>db="STATSGO"</code> the <code>WHERE</code> argument is not supported. Allowed <code>areasymbols</code> include <code>"US"</code> and two-letter state codes e.g. <code>"WY"</code> for the Wyoming general soils map.
</p>
<p>Pipe-delimited TXT files are found in <em>/tabular/</em> folder extracted from a SSURGO ZIP. The files are named for tables in the SSURGO schema. There is no header / the files do not have column names. See the <em>Soil Data Access Tables and Columns Report</em>: <a href="https://sdmdataaccess.nrcs.usda.gov/documents/TablesAndColumnsReport.pdf">https://sdmdataaccess.nrcs.usda.gov/documents/TablesAndColumnsReport.pdf</a> for details on tables, column names and metadata including the default sequence of columns used in TXT files. The function returns a <code>try-error</code> if the <code>WHERE</code>/<code>areasymbols</code> arguments result in
</p>
<p>Several ESRI shapefiles are found in the <em>/spatial/</em> folder extracted from a SSURGO ZIP. These have prefix <code>soilmu_</code> (mapunit), <code>soilsa_</code> (survey area), <code>soilsf_</code> (special features). There will also be a TXT file with prefix <code>soilsf_</code> describing any special features. Shapefile names then have an <code>a_</code> (polygon), <code>l_</code> (line), <code>p_</code> (point) followed by the soil survey area symbol.
</p>


<h3>Value</h3>

<p>Character. Paths to downloaded ZIP files (invisibly). May not exist if <code>remove_zip = TRUE</code>.
</p>


<h3>See Also</h3>

<p><code>createSSURGO()</code>
</p>


</div>