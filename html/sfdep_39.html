<div class="container">

<table style="width: 100%;"><tr>
<td>is_spacetime_cube</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Test if a spacetime object is a spacetime cube</h2>

<h3>Description</h3>

<p>Given an object with class <code>spacetime</code>, determine if it is a <em>spacetime cube</em>.
If the time-series is is irregular a warning is emitted
(see <code>validate_spacetime()</code> for more on the restrictions on the time column.
</p>


<h3>Usage</h3>

<pre><code class="language-R">is_spacetime_cube(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a spacetime object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>unused</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A spacetime object is a spacetime cube when it contains a regular time-series
representation of each geometry. That is, only one observation for at each
time period per geography is present.
</p>
<p>The number of rows in a spacetime cube is the number of geographies multiplied
by the number of time periods. For example if there are 10 locations and 20
time periods, the number of rows must be 200.
</p>


<h3>Value</h3>

<p>A logical scalar.
</p>


<h3>Validation</h3>

<p><code>is_spacetime_cube()</code> runs a number of checks that to ensure that the provided
object is in fact a spacetime cube. It checks that:
</p>

<ul>
<li>
<p> the number of rows is equal to the number of locations multiplied by the number
of time periods
</p>
</li>
<li>
<p> each time period has an equal number of observations
</p>
</li>
<li>
<p> each location has an equal number of observations
</p>
</li>
<li>
<p> each combination of time period and location has only one observation
</p>
</li>
<li>
<p> that the time-series is regular
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
if (requireNamespace("zoo", quietly = TRUE)) {
df_fp &lt;- system.file("extdata", "bos-ecometric.csv", package = "sfdep")
geo_fp &lt;- system.file("extdata", "bos-ecometric.geojson", package = "sfdep")

# read in data
df &lt;- read.csv(
  df_fp, colClasses = c("character", "character", "integer", "double", "Date")
)
geo &lt;- sf::st_read(geo_fp)

# Create spacetime object called `bos`
bos &lt;- spacetime(df, geo,
                .loc_col = ".region_id",
                .time_col = "time_period")

is_spacetime_cube(bos)
is_spacetime_cube(bos[round(runif(1000, 0, nrow(bos))),])
is_spacetime_cube(guerry)
}
</code></pre>


</div>