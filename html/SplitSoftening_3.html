<div class="container">

<table style="width: 100%;"><tr>
<td>softening.by.data.range</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Make split softening based on data ranges.</h2>

<h3>Description</h3>

<p>This softening configures each softening parameter in the tree
according to ‘data ranges’ appropriate to tree nodes.
The parameters are configured such that in each node the distance of the boundary of the softened area from split value is
<code>factor</code> * the distance from the split value to the furthest data point in the tree node
projected to the direction from the split value to the boundary.
</p>


<h3>Usage</h3>

<pre><code class="language-R">softening.by.data.range(tr, ds, factor = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tr</code></td>
<td>
<p>The soft tree</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ds</code></td>
<td>
<p>The data set to be used for determining data boundaries</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>factor</code></td>
<td>
<p>The scalar factor</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The soft tree with the new softening parameters
</p>


<h3>Examples</h3>

<pre><code class="language-R">
if(require(tree)) {
  train.data &lt;- iris[c(TRUE,FALSE),]
  test.data &lt;- iris[c(FALSE,TRUE),]
  tr &lt;- tree( Species~., train.data )
  
  # tree with "zero softening"
  s0 &lt;- softsplits( tr )
  # softened tree
  s1 &lt;- softening.by.data.range( s0, train.data, .5 )
  
  response0 &lt;- predictSoftsplits( s0, test.data )
  response1 &lt;- predictSoftsplits( s1, test.data )
  # get class with the highest response
  classification0 &lt;- levels(train.data$Species)[apply( response0, 1, which.max )]
  classification1 &lt;- levels(train.data$Species)[apply( response1, 1, which.max )]
  
  # compare classifiction to the labels
  table( classification0, test.data$Species )
  table( classification1, test.data$Species )
}


</code></pre>


</div>