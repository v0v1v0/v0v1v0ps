<div class="container">

<table style="width: 100%;"><tr>
<td>irefit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Iterative refitting</h2>

<h3>Description</h3>

<p>Iterative sparsifcation based refitting.
</p>


<h3>Usage</h3>

<pre><code class="language-R">irefit(
  network,
  func,
  tol,
  rank = "none",
  connected = FALSE,
  directed = FALSE,
  per = 0.5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>network</code></td>
<td>
<p>Weighted adjacency matrix, weighted <code>igraph</code> network, or edge list formatted | n1 | n2 | weight | with colnames <code>c("n1", "n2", "weight")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>func</code></td>
<td>
<p>Model function whose input is the network and whose output is a single real value or a list of reevaluated weights in the first index and a real value in the second.<br>
A wrapper function may have to be written.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>Allowed error around the original output of <code>func</code> approximated by the sparsified network within which edges are removed. Specifies if method converges.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rank</code></td>
<td>
<p>Ranking of edges. Lower ranked edges are removed first. Must be the same length as <code>nrow(E_List)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>connected</code></td>
<td>
<p>If TRUE, connectivity of the network is prioritized over scoring by <code>func</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>directed</code></td>
<td>
<p>If <code>TRUE</code>, specifies that the inputted network is directed. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>per</code></td>
<td>
<p>Percentage of edges to add/remove from the sparsifier at each step.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Sparsified network, <code>H</code>, which still maintains evaluator function, <code>func</code>, plus/minus <code>tol</code>.
</p>


<h3>Author(s)</h3>

<p>Alexander Mercier
</p>
<p>Andrew Kramer
</p>


<h3>Examples</h3>

<pre><code class="language-R">#Set scoring function
mean.weight.degree &lt;- function(graph){
graph.ob &lt;- igraph::graph_from_edgelist(graph[,1:2])
igraph::E(graph.ob)$weight &lt;- graph[,3]
return(mean(igraph::strength(graph.ob)))
}

#Generate random graph
g &lt;- igraph::erdos.renyi.game(100, 0.1)
igraph::E(g)$weight &lt;- rexp(length(igraph::E(g)), rate=10) #random edge weights from exp(10)
E_List &lt;- cbind(igraph::as_edgelist(g), igraph::E(g)$weight)
colnames(E_List) &lt;- c("n1", "n2", "weight")
sparse_dist &lt;- simplifyNet::irefit(E_List, func=mean.weight.degree, tol = 0.1)
</code></pre>


</div>