<div class="container">

<table style="width: 100%;"><tr>
<td>twinstim_methods</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Print, Summary and Extraction Methods for <code>"twinstim"</code> Objects
</h2>

<h3>Description</h3>

<p>Besides <code>print</code> and <code>summary</code> methods there
are also some standard extraction methods defined for objects of class
<code>"twinstim"</code>: <code>vcov</code>, <code>logLik</code>, and
<code>nobs</code>. This
also enables the use of, e.g., <code>confint</code> and
<code>AIC</code>. The model <code>summary</code> can be exported to LaTeX
by the corresponding <code>toLatex</code> or <code>xtable</code>
methods.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'twinstim'
print(x, digits = max(3, getOption("digits") - 3), ...)
## S3 method for class 'twinstim'
summary(object, test.iaf = FALSE,
        correlation = FALSE, symbolic.cor = FALSE, runtime = FALSE, ...)

## S3 method for class 'twinstim'
coeflist(x, ...)
## S3 method for class 'twinstim'
vcov(object, ...)
## S3 method for class 'twinstim'
logLik(object, ...)
## S3 method for class 'twinstim'
nobs(object, ...)

## S3 method for class 'summary.twinstim'
print(x,
      digits = max(3, getOption("digits") - 3), symbolic.cor = x$symbolic.cor,
      signif.stars = getOption("show.signif.stars"), ...)

## S3 method for class 'summary.twinstim'
toLatex(object,
        digits = max(3, getOption("digits") - 3), eps.Pvalue = 1e-4,
        align = "lrrrr", booktabs = getOption("xtable.booktabs", FALSE),
        withAIC = FALSE, ...)
## S3 method for class 'summary.twinstim'
xtable(x, caption = NULL, label = NULL,
      align = c("l", "r", "r", "r"), digits = 3,
      display = c("s", "f", "s", "s"), ...,
      ci.level = 0.95, ci.fmt = "%4.2f", ci.to = "--",
      eps.Pvalue = 1e-4)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x, object</code></td>
<td>
<p>an object of class <code>"twinstim"</code> or
<code>"summary.twinstim"</code>, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>

<p>integer, used for number formatting with <code>signif()</code>.  Minimum number of
significant digits to be printed in values.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test.iaf</code></td>
<td>
<p>logical indicating if the simple Wald z- and p-values
should be calculated for parameters of the interaction functions
<code>siaf</code> and <code>tiaf</code>.
Because it is often invalid or meaningless to do so, the default is
<code>FALSE</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correlation</code></td>
<td>

<p>logical. If <code>TRUE</code>, the correlation matrix of the estimated parameters
is returned and printed.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symbolic.cor</code></td>
<td>

<p>logical. If <code>TRUE</code>, print the correlations in a symbolic form (see
<code>symnum</code>) rather than as numbers.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>runtime</code></td>
<td>

<p>logical. If <code>TRUE</code>, the summary additionally includes the time
elapsed and the number of log-likelihood and score function evaluations
during model fitting.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>signif.stars</code></td>
<td>
<p>logical. If <code>TRUE</code>, “significance
stars” are printed for each coefficient.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eps.Pvalue</code></td>
<td>
<p>passed to <code>format.pval</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>booktabs</code></td>
<td>
<p>logical indicating if the <code>toprule</code>,
<code>midrule</code> and <code>bottomrule</code> commands from the LaTeX package
<span class="pkg">booktabs</span> should be used for horizontal lines rather than <code>hline</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>withAIC</code></td>
<td>
<p>logical indicating if the AIC and the log-likelihood of
the model should be included below the table of coefficients in the
LaTeX tabular.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>caption,label,align,display</code></td>
<td>
<p>see <code>xtable</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.level,ci.fmt,ci.to</code></td>
<td>
<p>the confidence intervals are calculated
at level <code>ci.level</code> and printed using <code>sprintf</code>
with format <code>ci.fmt</code> and separator <code>ci.to</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>For <code>print.summary.twinstim</code>, arguments passed to
<code>printCoefmat</code>.<br>
For all other methods: unused (argument of the generic).
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The estimated coefficients and standard Wald-type confidence intervals
can be extracted using the default <code>coef</code> and
<code>confint</code> methods from package <span class="pkg">stats</span>.
Note, however, that there is the useful <code>coeflist</code> method to
list the coefficients by model component.
</p>
<p>The <code>print</code> and <code>summary</code> methods allow the compact or comprehensive
representation of the fitting results, respectively.  The former only prints
the original function call, the estimated coefficients and the maximum
log-likelihood value.  The latter prints the whole coefficient matrix
with standard errors, z- and p-values (see <code>printCoefmat</code>)
– separately for the endemic and the epidemic component – and 
additionally the AIC, the achieved log-likelihood, the number of
log-likelihood and score evaluations, and the runtime.
They both append a big “WARNING”, if the optimization algorithm
did not converge.
</p>
<p>The <code>toLatex</code> method is essentially a
translation of the printed summary table of coefficients to LaTeX
code (using <span class="pkg">xtable</span>). However, the <code>xtable</code> method does a
different job in that it first converts coefficients to rate ratios
(RR, i.e., the <code>exp</code>-transformation) and gives confidence
intervals for those instead of standard errors and z-values.
Intercepts and interaction function parameters are ignored by the
<code>xtable</code> method.
</p>


<h3>Value</h3>

<p>The <code>print</code> methods return their first argument, invisibly, as
they always should.
The <code>vcov</code> method returns the estimated variance-covariance
matrix of the parameters, which is the inverse of
<code>object$fisherinfo</code> (estimate of the <em>expected</em> Fisher
information matrix). This <code>"fisherinfo"</code> is not always available
(see <code>twinstim</code>), in which case
<code>object$fisherinfo.observed</code> is used if available or an error is
returned otherwise. 
The <code>logLik</code> and <code>nobs</code> methods return the maximum
log-likelihood value of the model, and the number of events (excluding
events of the prehistory), respectively.
</p>
<p>The <code>summary</code> method returns a list containing some summary
statistics of the model, which is nicely printed by the corresponding
<code>print</code> method.
</p>
<p>The <code>toLatex</code> method returns a character vector of class
<code>"Latex"</code>, each element containing one line of LaTeX code (see
<code>print.Latex</code>).
The <code>xtable</code> method returns an object of class
<code>"xtable"</code>. Note that the column name of the confidence
interval, e.g. “95% CI”, contains the percent symbol that may
need to be escaped when printing the <code>"xtable"</code> in the output
format (see <code>sanitize.text.function</code> in
<code>print.xtable</code>). This may also hold for row names.
</p>


<h3>Author(s)</h3>

<p>Sebastian Meyer
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load a fit of the 'imdepi' data, see the example in ?twinstim
data("imdepifit")

# print method
imdepifit

# extract point estimates (in a single vector or listed by model component)
coef(imdepifit)
coeflist(imdepifit)

# variance-covariance matrix of endemic parameters
# (inverse of expected Fisher information)
unname(vcov(imdepifit)[1:4,1:4])

# the default confint() method may be used for Wald CI's
confint(imdepifit, parm="e.typeC", level=0.95)

# log-likelihood and AIC of the fitted model
logLik(imdepifit)
AIC(imdepifit)
nobs(imdepifit)

# produce a summary with parameter correlations and runtime information
(s &lt;- summary(imdepifit, correlation=TRUE, symbolic.cor=TRUE, runtime=TRUE))

# create LaTeX code of coefficient table
toLatex(s, digits=2)

# or using the xtable-method (which produces rate ratios)
xtable(s)

</code></pre>


</div>