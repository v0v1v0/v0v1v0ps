<div class="container">

<table style="width: 100%;"><tr>
<td>Streetscape-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Streetscape-Class</h2>

<h3>Description</h3>

<p>The output of strview_search family
functions is constructed in this data format -
A specialized data frame for streetscape package for
initializing the object with streetscape data and
extracting and decoding segmentation information
of streetscape dataframe.
</p>


<h3>Fields</h3>


<dl>
<dt><code>data</code></dt>
<dd>
<p>A data frame containing metadata of Mapillary
street view images</p>
</dd>
<dt><code>epsg</code></dt>
<dd>
<p>A numeric epsg code</p>
</dd>
</dl>
<h3>Methods</h3>


<dl>
<dt><code>decodeDetection()</code></dt>
<dd>
<p>Regenerate a dataframe with decoded segmentation.
'detections' column will be updated and
a new column 'segmentation' will be added.</p>
</dd>
<dt><code>download_data(path, items)</code></dt>
<dd>
<p>Download street view images (and segmentations in sf format if applicable)</p>
</dd>
<dt><code>get_mask(index)</code></dt>
<dd>
<p>Convert the semantic segmentation of a street view image
from the StreetscapeDataFrame into sf polygons</p>
</dd>
<dt><code>gvi(level)</code></dt>
<dd>
<p>Calculate green view index (GVI) for each collected image by
segmenting green pixels and quantifing the percentage in
street view images. This method adds a new column of
greeness percetage to the dataframe</p>
</dd>
<dt><code>mapPreview(maptype = "meta", fields = c())</code></dt>
<dd>
<p>Plot data points in an ineractive map view</p>
</dd>
</dl>
<h3>Class Methods</h3>



<h4>Method list</h4>


<ul>
<li> <p><a href="#method-decodeDetection"><code>StreetscapeDataFrame$decodeDetection()</code></a>
</p>
</li>
<li> <p><a href="#method-gvi"><code>StreetscapeDataFrame$gvi()</code></a>
</p>
</li>
<li> <p><a href="#method-get_mask"><code>StreetscapeDataFrame$get_mask()</code></a>
</p>
</li>
<li> <p><a href="#method-mapPreview"><code>StreetscapeDataFrame$mapPreview()</code></a>
</p>
</li>
<li> <p><a href="#method-download_data"><code>StreetscapeDataFrame$download_data()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-decodeDetection"></a>


<h4>Method <code>decodeDetection()</code>
</h4>



<h5>Usage</h5>

<p><code>scdataframe$decodeDetection()</code>
</p>


<hr>
<a id="method-gvi"></a>


<h4>Method <code>gvi()</code>
</h4>



<h5>Usage</h5>

<p><code>scdataframe$gvi(level = 1)</code>
</p>



<h5>Arguments</h5>


<dl>
<dt><code>level</code></dt>
<dd>
<p>numeric, indicating the resolution level of images
for calculating the green view index.
1 - the 256px wide thumbnail;
2 - the 1024px wide thumbnail;
3 - the 2048px wide thumbnail;
4 - the original wide thumbnail.
The default is level = 1
</p>
</dd>
</dl>
<hr>
<a id="method-get_mask"></a>


<h4>Method <code>get_mask()</code>
</h4>



<h5>Usage</h5>

<p><code>scdataframe$get_mask(index = 1)</code>
</p>



<h5>Arguments</h5>


<dl>
<dt><code>index</code></dt>
<dd>
<p>numeric, the row index of the dataframe
of StreetscapeDataFrame class</p>
</dd>
</dl>
<hr>
<a id="method-mapPreview"></a>


<h4>Method <code>mapPreview()</code>
</h4>



<h5>Usage</h5>

<p><code>scdataframe$mapPreview(maptype = 'meta')</code>
</p>



<h5>Arguments</h5>


<dl>
<dt><code>maptype</code></dt>
<dd>
<p>character or character,
specifying what type of information to be mapped:
'meta' - image meta,
'seg' - segmentation proportion,
and 'gvi' - GVI".</p>
</dd>
<dt><code>fields</code></dt>
<dd>
<p>vector (optional), a vector of fields
indicates the information of images to be included
for the 'meta' map. The fields of 'id', 'is_pano',
'height', 'width', 'lon', and 'lat' are already included</p>
</dd>
</dl>
<hr>
<a id="method-download_data"></a>


<h4>Method <code>download_data()</code>
</h4>



<h5>Usage</h5>

<p><code>scdataframe$download_data(path = 'path/to/download',
 items = c('image', 'mask'))</code>
</p>



<h5>Arguments</h5>


<dl>
<dt><code>path</code></dt>
<dd>
<p>character, directory for downloading street view images
or segmentation masks or both</p>
</dd>
<dt><code>items</code></dt>
<dd>
<p>character or vector, specifying what to download:
'image' - 'original street view image;
'mask' - semantic segmentation (sf objects in .geojson format)"</p>
</dd>
</dl>
</div>