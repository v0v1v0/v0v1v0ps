<div class="container">

<table style="width: 100%;"><tr>
<td>aapc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Average annual per cent change in segmented trend analysis
</h2>

<h3>Description</h3>

<p>Computes the average annual per cent change  to summarize piecewise linear relationships in segmented regression models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">aapc(ogg, parm, exp.it = FALSE, conf.level = 0.95, wrong.se = TRUE, 
    .vcov=NULL, .coef=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ogg</code></td>
<td>
<p> the fitted model returned by <code>segmented</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parm</code></td>
<td>
<p> the <em>single</em> segmented variable of interest. It can be missing if the model includes a single segmented covariate. If missing and <code>ogg</code> includes several segmented variables, the first one is considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exp.it</code></td>
<td>
<p>logical. If <code>TRUE</code>, the per cent change is computed, namely <code class="reqn">\exp(\hat\mu)-1</code> where 
<code class="reqn">\mu=\sum_j \beta_jw_j</code>, see ‘Details’.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>the confidence level desidered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wrong.se</code></td>
<td>
<p>logical, if <code>TRUE</code>, the 'wrong” standard error (as discussed in Clegg et al. (2009)) ignoring 
uncertainty in the breakpoint estimate is returned as an attribute <code>"wrong.se"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.vcov</code></td>
<td>
<p> The <em>full</em> covariance matrix of estimates. If unspecified (i.e. <code>NULL</code>), the covariance matrix is computed internally by <code>vcov(ogg,...)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.coef</code></td>
<td>
<p> The regression parameter estimates. If unspecified (i.e. <code>NULL</code>), it is computed internally by <code>coef(ogg)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments to be passed on to <code>vcov.segmented()</code>, such as <code>var.diff</code> or <code>is</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>To summarize the fitted piecewise linear relationship, Clegg et al. (2009) proposed the 'average annual per cent change' (AAPC)
computed as the sum of the slopes (<code class="reqn">\beta_j</code>) weighted by corresponding covariate sub-interval width (<code class="reqn">w_j</code>), namely 
<code class="reqn">\mu=\sum_j \beta_jw_j</code>. Since the weights are the breakpoint differences, the standard error of the AAPC should account
for uncertainty in the breakpoint estimate, as discussed in Muggeo (2010) and implemented by <code>aapc()</code>.
</p>


<h3>Value</h3>

<p><code>aapc</code> returns a numeric vector including point estimate, standard error and confidence interval for the AAPC relevant to variable specified in <code>parm</code>.
</p>


<h3>Note</h3>

<p><code>exp.it=TRUE</code> would be appropriate only if the response variable is the log of (any) counts.
</p>


<h3>Author(s)</h3>

<p>Vito M. R. Muggeo, <a href="mailto:vito.muggeo@unipa.it">vito.muggeo@unipa.it</a> </p>


<h3>References</h3>

<p>Clegg LX, Hankey BF, Tiwari R, Feuer EJ, Edwards BK (2009) Estimating average annual per cent change in trend analysis. 
<em>Statistics in Medicine</em>, <b>28</b>; 3670-3682.
</p>
<p>Muggeo, V.M.R. (2010) Comment on ‘Estimating average annual per cent change in trend analysis’ by Clegg et al., 
Statistics in Medicine; 28, 3670-3682. <em>Statistics in Medicine</em>, <b>29</b>, 1958–1960.
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(12)
x&lt;-1:20
y&lt;-2-.5*x+.7*pmax(x-9,0)-.8*pmax(x-15,0)+rnorm(20)*.3
o&lt;-lm(y~x)
os&lt;-segmented(o, psi=c(5,12))
aapc(os)
</code></pre>


</div>