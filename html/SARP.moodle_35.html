<div class="container">

<table style="width: 100%;"><tr>
<td>lier_fichier.moodle</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Insérer un lien vers un fichier dans une question
</h2>

<h3>Description</h3>

<p>Cette fonction permet de créer un liens vers un fichier à télécharger dans les
questions Moodle (texte, mais aussi réponses).
</p>


<h3>Usage</h3>

<pre><code class="language-R">lier_fichier.moodle( nom.fichier, texte.lien = NULL, interne = TRUE )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nom.fichier</code></td>
<td>
<p>Le nom du fichier vers lequel pointera le lien. Si
le fichier est externe au fichier XML, ce doit être le nom tel qu'il apparaîtra
dans le dossier moodle : attention aux conversions de caractères que
peut faire Moodle lors de l'import d'un fichier... Ce doit être un
vecteur de type <code>character</code> contenant un seul élément. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>texte.lien</code></td>
<td>
<p> Un vecteur de chaîne de caractère, ne contenant
qu'un seul élément, indiquant le texte à afficher comme lien vers le
fichier. S'il est absent, le nom du fichier entre crochets est utilisé.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interne</code></td>
<td>
<p> Indique si le fichier est déjà sur Moodle (<code>FALSE</code>)
ou si elle est incluse dans le fichier XML (<code>TRUE</code>). Dans le
premier cas, l'URL de base doit avoir été définie par
<code>definir_dossier.image.moodle</code> (voyez les détails, ci-après).
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>La fonction <code>lier_fichier.moodle</code> crée une balise HTML <code>&lt;a href=&gt;</code>
avec une URL pointant vers le fichier. Cette URL est obtenue en
concaténant une racine et le nom du fichier indiqué.
</p>
<p>Pour un fichier extérieur au fichier XML, la racine, définie avec la
fonction <code>definir_dossier.image.moodle</code>, peut être
n'importe quel schéma d'URL valide. Le plus souvent, ce sera soit une
URL vers un site externe qui contient les fichiers soit, encore plus
fréquent, une URL référençant le fichier dans Moodle. Il faut alors
préciser <code>interne = FALSE</code> lors de l'appel à
<code>lier_fichier.moodle</code>
</p>
<p>Par défaut, le fichier est inclus dans le fichier XML. Lors de la
création de la question, les balises ainsi générées seront identifiées
et les fichiers encodés dans le fichier XML, avec la fonction
<code>coder_image.moodle</code>. Attention cependant, les chemins d'accès
locaux étant perdus, les fichiers  doivent se
trouver dans le répertoire de travail au moment de la création de la
question. Il est cependant possible d'indiquer un dossier local
différent, avec <code>definir_dossier.image.moodle</code>, en
précisant <code>local = TRUE</code>.
</p>


<h3>Value</h3>

<p> La fonction <code>lier_fichier.moodle</code> renvoie une chaîne de
caractère qui contient le code HTML créé. Cette chaîne peut ensuite
être utilisée, directement ou après concaténation avec d'autres
éléments, dans la constitution des textes ou des réponses de n'importe
quelle question moodle.
</p>


<h3>Attention</h3>

<p>Vous devez appeler au moins une fois la fonction
<code>definir_dossier.image.moodle</code> pour pouvoir ensuite lier des
fichiers externes au fichier XML. Au moment de la création du fichier
XML, il n'y a aucun moyen de vérifier que l'URL indiquée est
correcte...
</p>


<h3>Astuce</h3>

<p>Pour importer plusieurs fichiers en une fois, sans les
inclure au fichier XML, vous avez tout intérêt à les regrouper dans
une archive au format zip, que vous décompresserez après l'avoir
importée dans le dossier moodle ciblé.
</p>


<h3>Author(s)</h3>

<p>Emmanuel Curis <a href="mailto:emmanuel.curis@parisdescartes.fr">emmanuel.curis@parisdescartes.fr</a>
</p>


<h3>See Also</h3>

<p><code>inserer_formule.moodle</code> pour insérer une formule
mathématique à l'aide d'un code latex;
<code>inserer_SMILES.moodle</code> pour insérer une formule chimique
à l'aide d'un code SMILES ; <code>lier_image.moodle pour
    insérer une image (balise img)</code>
</p>


</div>