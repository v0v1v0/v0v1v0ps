<div class="container">

<table style="width: 100%;"><tr>
<td>plot.STMpermute</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot an STM permutation test.</h2>

<h3>Description</h3>

<p>Plots the results of a permutation test run using
<code>permutationTest</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'STMpermute'
plot(x, topic, type = c("match", "largest"), xlim = NULL, ylim = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Object from the output of <code>permutationTest</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>topic</code></td>
<td>
<p>Integer indicating which topic to plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Character string indicating what topic comparison to use.
"match" uses the Hungarian aligned method and "largest" uses the largest
mean in direction of reference topic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>Range of the X-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>Range of the Y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other parameters which may be passed to plot.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function plots the output of <code>permutationTest</code> by stacking
horizontal confidence intervals for the effects of the permuted variable.
In choosing the topic in the permuted runs of stm to plot the effect for,
two methods are available, "match" and "largest". The former uses Kuhn's
(1955) Hungarian method to align the topics, and then uses the model's best
match of the reference topic.  The latter uses the topic which has the
expected effect size in the direction of the reference model effect; thus,
we would expect this method to be quite conservative.
</p>


<h3>See Also</h3>

<p><code>permutationTest</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 

temp&lt;-textProcessor(documents=gadarian$open.ended.response,metadata=gadarian)
out &lt;- prepDocuments(temp$documents, temp$vocab, temp$meta)
documents &lt;- out$documents
vocab &lt;- out$vocab
meta &lt;- out$meta
set.seed(02138)
mod.out &lt;- stm(documents, vocab, 3, prevalence=~treatment + s(pid_rep), data=meta)
summary(mod.out)
prep &lt;- estimateEffect(1:3 ~ treatment + s(pid_rep), mod.out, meta)
plot(prep, "treatment", model=mod.out,
     method="difference",cov.value1=1,cov.value2=0)
test &lt;- permutationTest(formula=~ treatment + s(pid_rep), stmobj=mod.out, 
                        treatment="treatment", nruns=25, documents=documents,
                        vocab=vocab,data=meta, stmverbose=FALSE)
plot(test,2, xlab="Effect", ylab="Model Index", main="Topic 2 Placebo Test")

## End(Not run)
</code></pre>


</div>