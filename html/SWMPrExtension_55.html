<div class="container">

<table style="width: 100%;"><tr>
<td>threshold_criteria_plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Water Quality Threshold Plot For Parameters With Criteria</h2>

<h3>Description</h3>

<p>Observed data compared against user-defined water quality thresholds
</p>


<h3>Usage</h3>

<pre><code class="language-R">threshold_criteria_plot(swmpr_in, ...)

## S3 method for class 'swmpr'
threshold_criteria_plot(
  swmpr_in,
  param = NULL,
  rng = NULL,
  thresholds = NULL,
  threshold_labs = c("Good", "Fair", "Poor"),
  threshold_cols = c("#ABD9E9", "#FFFFCC", "#FEC596"),
  crit_threshold = NULL,
  log_trans = FALSE,
  monthly_smooth = FALSE,
  plot_title = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>swmpr_in</code></td>
<td>
<p>input swmpr object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed to other methods. See <code>y_labeler</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param</code></td>
<td>
<p>chr string of the variable to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rng</code></td>
<td>
<p>num, years to include in the plot. This variable can either be one year (e.g., <code>rng = 2012</code>), or two years (e.g. <code>rng = c(2012, 2016)</code>) , If range is not specified then the entire data set will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thresholds</code></td>
<td>
<p>numeric vector, numeric criteria that will be plotted in the background</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold_labs</code></td>
<td>
<p>chr vector of labels for categories created by <code>thresholds</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold_cols</code></td>
<td>
<p>chr vector of color values for categories created by <code>thresholds</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crit_threshold</code></td>
<td>
<p>num, value at which the critical threshold line should be plotted. Typically the same value used to establish the 'Poor' threshold.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log_trans</code></td>
<td>
<p>logical, should y-axis be log? Defaults to <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>monthly_smooth</code></td>
<td>
<p>logical, calculate a monthly average? Defaults to <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_title</code></td>
<td>
<p>logical, should the station name be included as the plot title? Defaults to <code>FALSE</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function visualizes exceedances of numeric criteria which are specified using <code>thresholds</code>. Suggested numeric criteria for several parameters (dissolved oxygen, dissolved inorganic phosphorus, dissolved inorganic nitrogen, and chlorophyll-a) can be found in the USEPA National Coastal Condition Report (2012).
</p>
<p>If the parameter of interest does not have numeric criteria, then <code>threshold_percentile_plot</code> is recommended.
</p>


<h3>Value</h3>

<p>Returns a <code>ggplot</code> object
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>References</h3>

<p>United States Environmental Protection Agency (USEPA). 2012. "National Coastal Condition Report IV."
https://www.epa.gov/national-aquatic-resource-surveys/national-coastal-condition-report-iv-2012
</p>


<h3>See Also</h3>

<p><code>ggplot</code>,<code>y_labeler</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(apacpwq)
dat_wq &lt;- apacpwq

dat_wq &lt;- qaqc(dat_wq, qaqc_keep = c(0, 3, 5))

## Due to the volume of instantaneous data, these plots are a bit slow
x &lt;-
  threshold_criteria_plot(dat_wq, param = 'do_mgl'
                 , rng = 2012
                 , thresholds = c(2, 5)
                 , threshold_labs = c('Poor', 'Fair', 'Good')
                 , monthly_smooth = TRUE
                 , threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9'))


y &lt;-
  threshold_criteria_plot(dat_wq, param = 'do_mgl'
                 , thresholds = c(2, 5)
                 , threshold_labs = c('Poor', 'Fair', 'Good')
                 , threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9'))

z &lt;-
  threshold_criteria_plot(dat_wq, param = 'do_mgl'
                 , rng = 2012
                 , thresholds = c(2, 5)
                 , threshold_labs = c('Poor', 'Fair', 'Good')
                 , threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9')
                 , monthly_smooth = TRUE)

## A few examples with only two thresholds
x1 &lt;-
  threshold_criteria_plot(dat_wq, param = 'do_mgl'
                 , rng = 2012
                 , thresholds = c(2, 2)

                  # A dummy blank ('') value must be added as a threshold label
                 , threshold_labs = c('Poor', '', 'Good')
                 , threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9')
                 , monthly_smooth = TRUE)

y1 &lt;-
  threshold_criteria_plot(dat_wq, param = 'do_mgl'
                 , rng = 2012
                 , thresholds = c(5, 5)

                 # A dummy blank ('') value must be added as a threshold label
                 , threshold_labs = c('Poor', '', 'Good')
                 , threshold_cols = c('#FEC596', '#FEC596', '#ABD9E9')
                 , monthly_smooth = TRUE)

z1 &lt;-
  threshold_criteria_plot(dat_wq, param = 'do_mgl'
                 , rng = 2012
                 , thresholds = c(2, 5)
                 , threshold_labs = c('Poor', 'Good', 'Poor')
                 , threshold_cols = c('#FEC596', '#ABD9E9', '#FEC596')
                 , monthly_smooth = TRUE)


data(apacpnut)
dat_nut &lt;- apacpnut

dat_nut &lt;- qaqc(dat_nut, qaqc_keep = c(0, 3, 5))
dat_nut &lt;- rem_reps(dat_nut)

x2 &lt;-
  threshold_criteria_plot(dat_nut, param = 'chla_n'
                 , thresholds = c(2, 5)
                 , threshold_labs = c('Good', 'Fair', 'Poor'))


y2 &lt;-
  threshold_criteria_plot(dat_nut, param = 'chla_n'
                 , rng = 2012
                 , thresholds = c(2, 5)
                 , threshold_labs = c('Good', 'Fair', 'Poor'))

## Nutrient plots are not capable of accidentally displaying any kind of smooth
z2 &lt;-
  threshold_criteria_plot(dat_nut, param = 'chla_n'
                 , rng = 2012
                 , thresholds = c(2, 5)
                 , threshold_labs = c('Good', 'Fair', 'Poor')
                 , monthly_smooth = TRUE)

</code></pre>


</div>