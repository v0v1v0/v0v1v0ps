<div class="container">

<table style="width: 100%;"><tr>
<td>report_df-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Report on fishway operation</h2>

<h3>Description</h3>

<p>Fishways (DF) are of various nature, from very simple eel ladders fed by water discharged from the river,
to more complex fishways with levels adjusted by the opening of various gates and regulators.
The objective of this class is to provide an assessment of the working status of a fishway throughout the year.
A number of fishes ascending a fishway has meaning only if we know that the fishway is operational, and that the counting
operated on the fishway has remained operational.
In the database the operation of the fishway (DF) and counting device (DC) is agregated in one table (t_periodefonctdispositif_per).
The column  per_etat_fonctionnement indicates whether the fishway is operational (with a boolean) and the column per_tar_code indicates
the status of either the fishway or DC. In the database four types of operation are set,  "1"=normal operation,
"2"=Device stopped in normal operation (ie lift ascending, high tide...),
"3"="Stopped for maintenance or other problem",
"4"="Works but not fully operational,i.e.flow problem, flood, clogged with debris...",
"5"="Not known")
</p>


<h3>Slots</h3>


<dl>
<dt><code>data</code></dt>
<dd>
<p>A data frame</p>
</dd>
<dt><code>df</code></dt>
<dd>
<p>An object of class <code>ref_df-class</code></p>
</dd>
<dt><code>horodatedebut</code></dt>
<dd>
<p>An object of class <code>ref_horodate-class</code></p>
</dd>
<dt><code>horodatefin</code></dt>
<dd>
<p>An object of class <code>ref_horodate-class</code></p>
</dd>
</dl>
<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form
<code>new("report_df")</code>.
</p>


<h3>Author(s)</h3>

<p>Cedric Briand <a href="mailto:cedric.briand@eptb-vilaine.fr">cedric.briand@eptb-vilaine.fr</a>
</p>


<h3>See Also</h3>

<p>Other report Objects: 
<code>report_annual-class</code>,
<code>report_dc-class</code>,
<code>report_env-class</code>,
<code>report_ge_weight-class</code>,
<code>report_mig-class</code>,
<code>report_mig_char-class</code>,
<code>report_mig_env-class</code>,
<code>report_mig_interannual-class</code>,
<code>report_mig_mult-class</code>,
<code>report_sample_char-class</code>,
<code>report_sea_age-class</code>,
<code>report_silver_eel-class</code>,
<code>report_species-class</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">stacomi(
	database_expected=FALSE)
# An example that will work with the database installed only and schema iav in the database
# prompt for user and password but you can set appropriate options for host, port and dbname

## Not run: 
	stacomi(
			database_expected=TRUE, sch='iav')	
	if (interactive()){
		if (!exists("user")){
			user &lt;- readline(prompt="Enter user: ")
			password &lt;- readline(prompt="Enter password: ")	
		}	
	}
	options(					
			stacomiR.dbname = "bd_contmig_nat",
			stacomiR.host ="localhost",
			stacomiR.port = "5432",
			stacomiR.user = user,
			stacomiR.user = password						
	)	
  r_df=new("report_df")
  r_df&lt;-choice_c(r_df,
	  1,
	  horodatedebut="2015-01-01",
	  horodatefin="2015-12-31",
	  silent=TRUE)
  Sys.setenv(TZ='GMT')
  # the times at Arzal are recorded continuously
  # they are converted to date when a time appears while the hour is changing
  # hence the following
  r_df&lt;-connect(r_df)

## End(Not run)

data("r_df")
plot(r_df,plot.type="4")
# the following examples work but take a while to compute
## Not run: 
  plot(r_df,plot.type="1")
  plot(r_df,plot.type="2",main="A nice title")
  plot(r_df,plot.type="3",main="A nice title")	

## End(Not run)





</code></pre>


</div>