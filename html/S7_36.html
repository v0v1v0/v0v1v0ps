<div class="container">

<table style="width: 100%;"><tr>
<td>new_union</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Define a class union</h2>

<h3>Description</h3>

<p>A class union represents a list of possible classes. You can create it
with <code>new_union(a, b, c)</code> or <code>a | b | c</code>. Unions can be used in two
places:
</p>

<ul>
<li>
<p> To allow a property to be one of a set of classes,
<code>new_property(class_integer | Range)</code>. The default <code>default</code> value for the
property will be the constructor of the first object in the union.
This means if you want to create an "optional" property (i.e. one that
can be <code>NULL</code> or of a specified type), you'll need to write (e.g.)
<code>NULL | class_integer</code>.
</p>
</li>
<li>
<p> As a convenient short-hand to define methods for multiple classes.
<code>method(foo, X | Y) &lt;- f</code> is short-hand for
<code style="white-space: pre;">⁠method(foo, X) &lt;- f; method(foo, Y) &lt;- foo⁠</code>
</p>
</li>
</ul>
<p>S7 includes built-in unions for "numeric" (integer and double vectors),
"atomic" (logical, numeric, complex, character, and raw vectors) and
"vector" (atomic vectors, lists, and expressions).
</p>


<h3>Usage</h3>

<pre><code class="language-R">new_union(...)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>The classes to include in the union. See <code>as_class()</code> for
details.</p>
</td>
</tr></table>
<h3>Value</h3>

<p>An S7 union, i.e. a list with class <code>S7_union</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">logical_or_character &lt;- new_union(class_logical, class_character)
logical_or_character
# or with shortcut syntax
logical_or_character &lt;- class_logical | class_character

Foo &lt;- new_class("Foo", properties = list(x = logical_or_character))
Foo(x = TRUE)
Foo(x = letters[1:5])
try(Foo(1:3))

bar &lt;- new_generic("bar", "x")
# Use built-in union
method(bar, class_atomic) &lt;- function(x) "Hi!"
bar
bar(TRUE)
bar(letters)
try(bar(NULL))
</code></pre>


</div>