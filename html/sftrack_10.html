<div class="container">

<table style="width: 100%;"><tr>
<td>as_sftrack</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert objects into sftrack objects.</h2>

<h3>Description</h3>

<p>This function converts x,y,z data into an sftrack object with a sf_geometry column of sf_POINTS.
Creates a 'grouping' column to group movement data and sets dedicated time and error columns.
</p>
<p>Raw data inputted in two ways: vector or data.frame. 'Vector' inputs gives the argument as a vector where
length = nrow(data). 'Data.frame' inputs gives the arguments as the column name of 'data' where the input can be found.
Either input is allowed on any given argument.
</p>
<p>Some options are global and required regardless
</p>


<h3>Usage</h3>

<pre><code class="language-R">as_sftrack(data = data.frame(), ...)

## S3 method for class 'data.frame'
as_sftrack(
  data = data.frame(),
  ...,
  coords = c("x", "y"),
  group = "id",
  active_group = NA,
  time = "time",
  error = NA,
  crs = NA,
  zeroNA = FALSE,
  group_name = "sft_group",
  timestamp_name = "sft_timestamp",
  error_name = "sft_error",
  overwrite_names = FALSE
)

## S3 method for class 'sftraj'
as_sftrack(data, ...)

## S3 method for class 'ltraj'
as_sftrack(data, ...)

## S3 method for class 'sf'
as_sftrack(
  data,
  ...,
  coords,
  group,
  active_group = NA,
  time,
  error = NA,
  group_name = "sft_group",
  timestamp_name = "sft_timestamp",
  error_name = "sft_error",
  overwrite_names = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data.frame of the movement data, if supplied all data.frame inputs, than is optional</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>extra information to be passed on to as_sftrack</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coords</code></td>
<td>
<p>a character vector describing where the x,y,z coordinates are located in 'data' or a list with x,y,z (optional) vectors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>a list of named vectors describing multiple grouping variables or  a character vector naming the other grouping columns in 'data'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>active_group</code></td>
<td>
<p>a character vector of the burst names to be 'active' to group data by for analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>a vector of time information, can be either POSIX or an integer or a character string naming the column in 'data' where the time information is located</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error</code></td>
<td>
<p>(optional) a vector of error information for the movement dataa character string naming the column in 'data' where the error information is located</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crs</code></td>
<td>
<p>Coordinate reference system to be assigned; object of class 'crs'. Defaults to NA</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zeroNA</code></td>
<td>
<p>logical whether to convert 0s in spatial data into NAs. Defaults to FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_name</code></td>
<td>
<p>(optional) new column name for grouping data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timestamp_name</code></td>
<td>
<p>(optional) new column name for time data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error_name</code></td>
<td>
<p>(optional) new column name for error data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite_names</code></td>
<td>
<p>T/F Whether to overwrite data if a group/time/error column name is supplied but already in data</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Convert objects into sftrack objects.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#'
data("raccoon")
raccoon$timestamp &lt;- as.POSIXct(raccoon$timestamp, "EST")
burstz &lt;- list(id = raccoon$animal_id, month = as.POSIXlt(raccoon$timestamp)$mon)
# Input is a data.frame
my_track &lt;- as_sftrack(raccoon,
  group = burstz, time = "timestamp",
  error = NA, coords = c("longitude", "latitude")
)

# Input is a ltraj
library("adehabitatLT")
ltraj_df &lt;- as.ltraj(
  xy = raccoon[, c("longitude", "latitude")],
  date = as.POSIXct(raccoon$timestamp),
  id = raccoon$animal_id, typeII = TRUE,
  infolocs = raccoon[, 1:6]
)

my_sftrack &lt;- as_sftrack(ltraj_df)
head(my_sftrack)

# Input is a sf object
library("sf")
df1 &lt;- raccoon[!is.na(raccoon$latitude), ]
sf_df &lt;- st_as_sf(df1, coords = c("longitude", "latitude"))

new_sftrack &lt;- as_sftrack(sf_df, group = c(id = "animal_id"), time = "timestamp")
head(new_sftrack)

# Input is an sftraj object
my_traj &lt;- as_sftraj(raccoon,
  time = "timestamp",
  error = NA, coords = c("longitude", "latitude"),
  group = burstz
)

new_track &lt;- as_sftrack(my_traj)
head(new_track)
######################
# Builder
</code></pre>


</div>