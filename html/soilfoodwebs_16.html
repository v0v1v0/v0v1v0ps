<div class="container">

<table style="width: 100%;"><tr>
<td>corrstoich</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Correct stoichiometry</h2>

<h3>Description</h3>

<p>Correct stoichiometry
</p>


<h3>Usage</h3>

<pre><code class="language-R">corrstoich(
  usin,
  forceProd = FALSE,
  dietlimits = c(NA),
  Immobilizationlimit = Inf
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>usin</code></td>
<td>
<p># Community in which to correct stoichiometry.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forceProd</code></td>
<td>
<p>Boolean: Should we force organisms to only change their production efficiency and not their diet?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dietlimits</code></td>
<td>
<p>A matrix the same size as imat that gives the diet limits as a proportion of the total diet. All values must be between 0 and 1. Leaving it as NA sets the limits of all diet items to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Immobilizationlimit</code></td>
<td>
<p>Set a limit for the maximum rate of immobilization of inorganic nitrogen for the food web per time step.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A function that corrects trophic species production efficiency and/or diet composition to balance carbon and nitrogen demands.
</p>


<h3>Value</h3>

<p>The modified community with new production efficiencies and diets.
</p>


<h3>Examples</h3>

<pre><code class="language-R">corrstoich(intro_comm)
# To force the correction to modify production efficiency only.

corrstoich(intro_comm, forceProd = TRUE)

# Set limits on the composition of the animal diet
DL = intro_comm$imat # copy over the feeding matrix to use for the diet limits.
# Oribatid 1 can only have up to 20% of its diet from each fungal species
DL["Orib1",] = c(0,0,0,0.2,0.2,1,1)
# Oribatid 2 can only have up to 10% of its diet from fungi 1
DL["Orib2",] = c(0,0,0,0.1,1,1,1)

# Run them with the limits:
corrstoich(intro_comm, dietlimits = DL)
</code></pre>


</div>