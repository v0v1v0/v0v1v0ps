<div class="container">

<table style="width: 100%;"><tr>
<td>sprintf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Format Strings</h2>

<h3>Description</h3>

<p><code>sprintf</code> creates strings from a given template and the arguments
provided. A new function (present in C and many other languages),
<code>printf</code>, displays formatted strings.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sprintf(fmt, ..., na_string = NA_character_)

printf(fmt, ..., file = "", sep = "\n", append = FALSE, na_string = "NA")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fmt</code></td>
<td>
<p>character vector of format strings</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>vectors with data to format
(coercible to integer, real, or character)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_string</code></td>
<td>
<p>single string to represent missing values;
if <code>NA</code>, missing values in <code>...</code>
result in the corresponding outputs be missing too</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>see <code>cat</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>see <code>cat</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>see <code>cat</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note that the purpose of <code>printf</code> is to display a string, not
to create a new one for use elsewhere, therefore this function,
as an exception, treats missing values as <code>"NA"</code> strings.
</p>


<h3>Value</h3>

<p><code>sprintf</code> returns a character vector (in UTF-8).
No attributes are preserved.
<code>printf</code> returns 'nothing'.
</p>


<h3>Differences from Base R</h3>

<p>Replacement for base <code>sprintf</code>
implemented with <code>stri_sprintf</code>.
</p>

<ul>
<li>
<p> missing values in <code>...</code> are treated as <code>"NA"</code> strings
<b>[fixed in <code>sprintf</code>, left in <code>printf</code>, but see the
<code>na_string</code> argument]</b>
</p>
</li>
<li>
<p> partial recycling results in an error
<b>[fixed here â€“ warning given]</b>
</p>
</li>
<li>
<p> input objects' attributes are not preserved
<b>[not fixed, somewhat tricky]</b>
</p>
</li>
<li>
<p> in to-string conversions, field widths and precisions are
interpreted as bytes which is of course problematic for text in UTF-8
<b>[fixed by interpreting these as Unicode code point widths]</b>
</p>
</li>
<li> <p><code>fmt</code> is limited to 8192 bytes and the number of arguments
passed via <code>...</code> to 99 (note that we can easily
exceed this limit by using <code>do.call</code>)
<b>[rewritten from scratch, there is no limit anymore]</b>
</p>
</li>
<li>
<p> unused values in <code>...</code> are evaluated anyway (should not
evaluation be lazy?)
<b>[not fixed here because this is somewhat questionable;
in both base R and our case, a warning is given if this is the case;
moreover, the length of the longest argument always
determines the length of the output]</b>
</p>
</li>
<li>
<p> coercion of each argument can only be done once
<b>[fixed here - can coerce to integer, real, and character]</b>
</p>
</li>
<li>
<p> either width or precision can be fetched from <code>...</code>,
but not both
<b>[fixed here - two asterisks are allowed in format specifiers]</b>
</p>
</li>
<li> <p><code>NA</code>/<code>NaNs</code> are not prefixed by a sign/space even if
we explicitly request this
<b>[fixed here - prefixed by a space]</b>
</p>
</li>
<li>
<p> the outputs are implementation-dependent; the format strings
are passed down to the system (<code>libc</code>) <code>sprintf</code> function
<b>[not fixed here (yet), but the format specifiers
are normalised more eagerly]</b>
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p><a href="https://www.gagolewski.com/">Marek Gagolewski</a>
</p>


<h3>See Also</h3>

<p>The official online manual of <span class="pkg">stringx</span> at <a href="https://stringx.gagolewski.com/">https://stringx.gagolewski.com/</a>
</p>
<p>Related function(s): <code>paste</code>, <code>strrep</code>,
<code>strtrim</code>, <code>substr</code>, <code>nchar</code>,
<code>strwrap</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># UTF-8 number of bytes vs Unicode code point width:
l &lt;- c("e", "e\u00b2", "\u03c0", "\u03c0\u00b2", "\U0001f602\U0001f603")
r &lt;- c(exp(1), exp(2), pi, pi^2, NaN)
cat(base::sprintf("%8s=%+.3f", l, r), sep="\n")
cat(stringx::sprintf("%8s=%+.3f", l, r), sep="\n")

</code></pre>


</div>