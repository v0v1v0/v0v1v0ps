<div class="container">

<table style="width: 100%;"><tr>
<td>blockmodel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Generate Blockmodels Based on Partitions of Network Positions </h2>

<h3>Description</h3>

<p>Given a set of equivalence classes (in the form of an <code>equiv.clust</code> object, <code>hclust</code> object, or membership vector) and one or more graphs, <code>blockmodel</code> will form a blockmodel of the input graph(s) based on the classes in question, using the specified block content type.
</p>


<h3>Usage</h3>

<pre><code class="language-R">blockmodel(dat, ec, k=NULL, h=NULL, block.content="density", 
    plabels=NULL, glabels=NULL, rlabels=NULL, mode="digraph", 
    diag=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p> one or more input graphs. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ec</code></td>
<td>
<p> equivalence classes, in the form of an object of class <code>equiv.clust</code> or <code>hclust</code>, or a membership vector. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p> the number of classes to form (using <code>cutree</code>). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p> the height at which to split classes (using <code>cutree</code>). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>block.content</code></td>
<td>
<p> string indicating block content type (see below).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plabels</code></td>
<td>
<p> a vector of labels to be applied to the individual nodes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>glabels</code></td>
<td>
<p> a vector of labels to be applied to the graphs being modeled. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rlabels</code></td>
<td>
<p> a vector of labels to be applied to the (reduced) roles. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p> a string indicating whether we are dealing with graphs or digraphs. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diag</code></td>
<td>
<p> a boolean indicating whether loops are permitted. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Unless a vector of classes is specified, <code>blockmodel</code> forms its eponymous models by using <code>cutree</code> to cut an equivalence clustering in the fashion specified by <code>k</code> and <code>h</code>.  After forming clusters (roles), the input graphs are reordered and blockmodel reduction is applied.  Currently supported reductions are:
</p>

<ol>
<li> <p><code>density</code>: block density, computed as the mean value of the block
</p>
</li>
<li> <p><code>meanrowsum</code>: mean row sums for the block
</p>
</li>
<li> <p><code>meancolsum</code>: mean column sums for the block
</p>
</li>
<li> <p><code>sum</code>: total block sum
</p>
</li>
<li> <p><code>median</code>: median block value
</p>
</li>
<li> <p><code>min</code>: minimum block value
</p>
</li>
<li> <p><code>max</code>: maximum block value
</p>
</li>
<li> <p><code>types</code>: semi-intelligent coding of blocks by “type.”  Currently recognized types are (in order of precedence) “<code>NA</code>” (i.e., blocks with no valid data), “null” (i.e., all values equal to zero), “complete” (i.e., all values equal to 1), “1 covered” (i.e., all rows/cols contain a 1), “1 row-covered” (i.e., all rows contain a 1), “1 col-covered” (i.e., all cols contain a 1), and “other” (i.e., none of the above). 
</p>
</li>
</ol>
<p>Density or median-based reductions are probably the most interpretable for most conventional analyses, though type-based reduction can be useful in examining certain equivalence class hypotheses (e.g., 1 covered and null blocks can be used to infer regular equivalence classes).  Once a given reduction is performed, the model can be analyzed and/or expansion can be used to generate new graphs based on the inferred role structure.
</p>


<h3>Value</h3>

<p>An object of class <code>blockmodel</code>.
</p>


<h3>Author(s)</h3>

<p> Carter T. Butts <a href="mailto:buttsc@uci.edu">buttsc@uci.edu</a> </p>


<h3>References</h3>

<p>Doreian, P.; Batagelj, V.; and Ferligoj, A.  (2005).  <em>Generalized Blockmodeling.</em>  Cambridge: Cambridge University Press.
</p>
<p>White, H.C.; Boorman, S.A.; and Breiger, R.L.  (1976).  “Social Structure from Multiple Networks I: Blockmodels of Roles and Positions.”  <em>American Journal of Sociology</em>, 81, 730-779.</p>


<h3>See Also</h3>

 <p><code>equiv.clust</code>, <code>blockmodel.expand</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">#Create a random graph with _some_ edge structure
g.p&lt;-sapply(runif(20,0,1),rep,20)  #Create a matrix of edge 
                                   #probabilities
g&lt;-rgraph(20,tprob=g.p)            #Draw from a Bernoulli graph 
                                   #distribution

#Cluster based on structural equivalence
eq&lt;-equiv.clust(g)

#Form a blockmodel with distance relaxation of 10
b&lt;-blockmodel(g,eq,h=10)
plot(b)                            #Plot it
</code></pre>


</div>