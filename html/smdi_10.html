<div class="container">

<table style="width: 100%;"><tr>
<td>smdi_diagnose</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Computes three group missing data summary diagnostics</h2>

<h3>Description</h3>

<p>This function bundles and calls all three group diagnostics and returns the most important summary metrics.
For more information and details, please refer to the individual functions.
</p>
<p>Important: don't include variables like ID variables, ZIP codes, dates, etc.
</p>


<h3>Usage</h3>

<pre><code class="language-R">smdi_diagnose(
  data = NULL,
  covar = NULL,
  median = TRUE,
  includeNA = FALSE,
  train_test_ratio = c(0.7, 0.3),
  set_seed = 42,
  ntree = 1000,
  n_cores = 1,
  model = c("logistic", "linear", "cox"),
  form_lhs = NULL,
  exponentiated = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>dataframe or tibble object with partially observed/missing variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covar</code></td>
<td>
<p>character covariate or covariate vector with partially observed variable/column name(s) to investigate. If NULL, the function automatically includes all columns with at least one missing observation and all remaining covariates will be used as predictors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>median</code></td>
<td>
<p>logical if the median (= TRUE; recommended default) or mean of all absolute standardized mean differences (asmd) should be computed (smdi_asmd())</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>includeNA</code></td>
<td>
<p>logical, should missingness of other partially observed covariates be explicitly modeled for computation of absolute standardized mean differences (default is FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>train_test_ratio</code></td>
<td>
<p>numeric vector to indicate the test/train split ratio for random forest missingness prediction model, e.g. c(.7, .3) is the default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>set_seed</code></td>
<td>
<p>seed for reproducibility of random forest missingness prediction model, defaults to 42</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ntree</code></td>
<td>
<p>integer, number of trees for random forest missingness prediction model (defaults to 1000 trees)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_cores</code></td>
<td>
<p>integer, if &gt;1, computations will be parallelized across amount of cores specified in n_cores (only UNIX systems)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>character describing which outcome model to fit to assess the association between covar missingness indicator and outcome. Currently supported are models of type logistic, linear and cox (see smdi_outcome)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>form_lhs</code></td>
<td>
<p>string specifying the left-hand side of the outcome formula (see smdi_outcome)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exponentiated</code></td>
<td>
<p>logical, should results of outcome regression to assess association between missingness and outcome be exponentiated (default is FALSE)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Wrapper for individual diagnostics function.
</p>


<h3>Value</h3>

<p>smdi object including a summary table of all three smdi group diagnostics:
</p>
<p><strong>Group 1 diagnostic:</strong>
</p>

<ul>
<li> <p><code>asmd_mean</code> or <code>asmd_median</code>: average/median absolute standardized mean difference (and min, max) of patient characteristics between those without (1) and with (0) observed covariate
</p>
</li>
<li>
<p> hotteling_p: p-value of hotelling test. Rejecting the H0 means that Hotelling's test detects a significant difference in the distribution between patients without (1) and with (0) the observed covariate
</p>
</li>
</ul>
<p><strong>Group 2 diagnostic:</strong>
</p>

<ul><li> <p><code>rf_auc</code>: The area under the receiver operating curve (AUC) as a measure of the ability to predict the missingness of the partially observed covariate
</p>
</li></ul>
<p><strong>Group 3 diagnostic:</strong>
</p>

<ul>
<li> <p><code>estimate_univariate</code>: univariate association between missingness indicator of covar and outcome
</p>
</li>
<li> <p><code>estimate_adjusted</code>: association between missingness indicator of covar and outcome conditional on other fully observed covariates and missing indicator variables of other partially observed covariates
</p>
</li>
</ul>
<h3>References</h3>

<p>TBD
</p>


<h3>See Also</h3>

<p><code>smdi_asmd</code>
<code>smdi_hotelling</code>
<code>smdi_little</code>
<code>smdi_rf</code>
<code>smdi_outcome</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(smdi)

smdi_diagnose(
 data = smdi_data,
 covar = "egfr_cat",
 model = "cox",
 form_lhs = "Surv(eventtime, status)"
 )

</code></pre>


</div>