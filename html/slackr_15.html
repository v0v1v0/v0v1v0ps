<div class="container">

<table style="width: 100%;"><tr>
<td>slackr_history</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reads history of a channel.</h2>

<h3>Description</h3>

<p>Returns a dataframe of post history in a channel.
</p>


<h3>Usage</h3>

<pre><code class="language-R">slackr_history(
  message_count = 100,
  channel = Sys.getenv("SLACK_CHANNEL"),
  token = Sys.getenv("SLACK_TOKEN"),
  posted_to_time = as.numeric(Sys.time()),
  duration = NULL,
  posted_from_time = 0,
  paginate = FALSE,
  inclusive = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>message_count</code></td>
<td>
<p>The number of messages to retrieve (only when <code>paginate = FALSE</code>).
Corresponds to <code>limit</code> in the <a href="https://api.slack.com/methods/conversations.history">conversations.history</a> docs.
Note: If using pagination, setting a value of (e.g.) 1 will result in paginating
through the channel's history one message at a time. Slack recommends using a value of 200. (Default: 100)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>channel</code></td>
<td>
<p>Channel, private group, or IM channel to send message to. Can be an encoded ID, or a name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>posted_to_time</code></td>
<td>
<p>Timestamp of the last post to consider.
Corresponds to <code>latest</code> in the <a href="https://api.slack.com/methods/conversations.history">conversations.history</a> docs.
Default: current time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>duration</code></td>
<td>
<p>Number of hours of history to retrieve.  If neither <code>duration</code>
nor <code>posted_from_time</code> is specified, there is no time limit on the retrieved
history. (default: <code>NULL</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>posted_from_time</code></td>
<td>
<p>Timestamp of the first post time to consider. If both
posted_to_time and duration is specifed, they take precedence.
Corresponds to <code>oldest</code> in the <a href="https://api.slack.com/methods/conversations.history">conversations.history</a>
docs.
Default: 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paginate</code></td>
<td>
<p>If TRUE, uses the Slack API pagination mechanism, and will retrieve all history inside the timeframe.  Otherwise, makes a single call to the API and retrieves a maximum of <code>message_count</code> messages.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inclusive</code></td>
<td>
<p>Include messages with oldest or latest timestamps in results. Ignored unless either timestamp is specified.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>tibble</code> with message metadata
</p>


<h3>Scopes</h3>

<p>You need one or more of these scopes enabled in your slack app: *
channels:history * groups:history * im:history * mpim:history
</p>


<h3>References</h3>

<p><a href="https://api.slack.com/methods/conversations.history">https://api.slack.com/methods/conversations.history</a>
</p>


</div>