<div class="container">

<table style="width: 100%;"><tr>
<td>new_labelling</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reference figures, tables and equations in R Markdown documents</h2>

<h3>Description</h3>

<p>These functions return closures that allow for constructing a series of
numbered items and to reference them. The number is create the first time a
label is encountered, and provided again for further use of the same label.
</p>


<h3>Usage</h3>

<pre><code class="language-R">new_labelling(
  type = c("arabic", "roman"),
  string_html = paste0("&lt;style&gt;.++++-%%%%::after{content:\"####\"}&lt;/style&gt;",
    "&lt;span class=\"figheader\"&gt;Figure\\ ####: &lt;/span&gt;@@@@"),
  string_latex = "@@@@",
  string_word = "[Figure\\ ####:]{#++++:%%%%} @@@@",
  string_ref_html = "&lt;a class=\"++++-%%%%\" href=\"#++++:%%%%\"&gt;&lt;/a&gt;",
  string_ref_latex = "\\ref{++++:%%%%}",
  string_ref_word = "[####](#++++:%%%%)",
  name = "fig"
)

newLabelling(
  type = c("arabic", "roman"),
  string_html = paste0("&lt;style&gt;.++++-%%%%::after{content:\"####\"}&lt;/style&gt;",
    "&lt;span class=\"figheader\"&gt;Figure\\ ####: &lt;/span&gt;@@@@"),
  string_latex = "@@@@",
  string_word = "[Figure\\ ####:]{#++++:%%%%} @@@@",
  string_ref_html = "&lt;a class=\"++++-%%%%\" href=\"#++++:%%%%\"&gt;&lt;/a&gt;",
  string_ref_latex = "\\ref{++++:%%%%}",
  string_ref_word = "[####](#++++:%%%%)",
  name = "fig"
)

fig(
  caption = "",
  label = knitr::opts_current$get("label"),
  ref = NULL,
  reset = FALSE
)

tab(
  caption = "",
  label = knitr::opts_current$get("label"),
  ref = NULL,
  reset = FALSE
)

eq(label, ref, reset = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The type of numbering (arabic or roman).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>string_html</code></td>
<td>
<p>The string prototyping the legend, with <code style="white-space: pre;">⁠++++⁠</code> being the
name (<code>fig</code> by default) <code style="white-space: pre;">⁠@@⁠</code> being a placeholder for the text, <code style="white-space: pre;">⁠####⁠</code> as a
placeholder for the number, or <code style="white-space: pre;">⁠%%%%⁠</code> as a placeholder for the label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>string_latex</code></td>
<td>
<p>Idem for LaTeX.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>string_word</code></td>
<td>
<p>Idem for Word.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>string_ref_html</code></td>
<td>
<p>Idem for reference in HTML format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>string_ref_latex</code></td>
<td>
<p>Idem for reference in LaTeX format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>string_ref_word</code></td>
<td>
<p>Idem for reference in Word format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>The name to use before the number, e.g., "Fig." to get "Fig. 1"
as cross-reference text for the first figure. If you provide <code>name = NULL</code>,
only the number is produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>caption</code></td>
<td>
<p>The test of the caption.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>A short string uniquely identifying the item within the
collection. To set a label in and equation, give a name instead of a string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref</code></td>
<td>
<p>The reference to the label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reset</code></td>
<td>
<p>If <code>TRUE</code>, the collection is reset. Useful if you want to
restart numbering at the beginning of each chapter.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A new labelling type is created using <code>new_labelling()</code> which is a function
factory (a function that creates functions).
</p>


<h3>Value</h3>

<p>The function returns a caption if <code style="white-space: pre;">⁠text =⁠</code> is provided, or an anchor if it is
missing. If <code style="white-space: pre;">⁠text=⁠</code> contains a name, it returns a link.
Same for the <code style="white-space: pre;">⁠label=⁠</code> for <code>eq()</code>: if it is a text, a couple label + tag to
place inside display equations is produced, and if it is a name, a link is
provided. <code>new_labelling()</code> creates a new labelling function, which has the
same arguments as <code>fig()</code>.
</p>


<h3>Author(s)</h3>

<p>Philippe Grosjean
</p>


<h3>Examples</h3>

<pre><code class="language-R"># These function are supposed to be used in an R Markdown document
# see the svSweave vignette
# Produce a caption that contains the required code to number and reference
# a figure in HTML documents
fig("A caption", label = "a_label")
# Produce a reference to that figure
fig$a_label
</code></pre>


</div>