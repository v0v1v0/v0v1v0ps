<div class="container">

<table style="width: 100%;"><tr>
<td>showtext_begin</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rendering Text for R Graphics Devices</h2>

<h3>Description</h3>

<p>The two versions of this function are equivalent, but the
"underscore" naming is preferred.
</p>
<p>Calling this function will use <span class="pkg">showtext</span> to render text
for the current graphics device. The main advantage of
<span class="pkg">showtext</span> is that user can use any supported font file for
the text rendering, and text glyphs will be converted
into polygons (for vector graphics) or raster images
(for bitmap and on-screen graphics),
thus producing device independent output on all platforms.
This function would be useful if you want to use non-standard fonts
in the graphics device. The usage of this function is easy:
simply open the graphics device, and "claim" that you want to use
<span class="pkg">showtext</span> by calling this function.
See the <strong>Examples</strong> section for details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">showtext_begin()

showtext.begin()
</code></pre>


<h3>Details</h3>

<p>This package uses FreeType to load font files and render
text characters. The font loading part is done by function
<code>font_add()</code> in the <span class="pkg">sysfonts</span>
package. Users could read the help page of
<code>font_paths()</code>,
<code>font_files()</code> and
<code>font_add()</code> to learn how to load
a font file into R. <span class="pkg">showtext</span> package
has a built-in font file of the WenQuanYi Micro Hei
family, and it will be loaded automatically, so users can
use this function directly without any extra settings.
</p>
<p>The mechanism of this function is that it can replace the
text rendering functions contained in the current device.
<span class="pkg">showtext</span> will first use FreeType to analyze the
outline of each character in the text, and then call some
low-level drawing functions in the current device to draw
the glyph. As a result, glyphs of the text will be finally
converted into polygons or raster images, which means that
the system where the graph is viewed does not need to install
the fonts that create the graph.
</p>
<p>Notice that this function is only effective to the current
<strong>ACTIVE</strong> device. So to use this function, the device
you want to work with must have already been opened (through
functions like <code>png()</code>,
<code>pdf()</code>, etc.).
</p>
<p>To switch back, users can call <code>showtext_end()</code>
to restore the original device functions. See examples
below for the usage of these functions.
</p>


<h3>Author(s)</h3>

<p>Yixuan Qiu &lt;<a href="https://statr.me/">https://statr.me/</a>&gt;
</p>


<h3>See Also</h3>

<p><code>showtext_opts()</code>, <code>showtext_auto()</code>,
<code>showtext_end()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
old = setwd(tempdir())

###  Enable pdf() to draw Chinese characters nicely  ###
###  Requires the simkai.ttf font file, usually      ###
###  installed in Windows                            ###

## First, open the device
pdf("showtext-ex1.pdf")

## For now we are using the original device functions to draw axis labels
plot(1, type = "n")

## Then turn showtext on and draw some characters
showtext_begin()
text(1, 1.2, intToUtf8(c(21315, 31179, 19975, 36733)), cex = 5)

## Use another font
if("simkai.ttf" %in% font_files()) font_add("kaishu", "simkai.ttf")
text(1, 0.8, intToUtf8(c(19968, 32479, 27743, 28246)),
     cex = 5, family = "kaishu")
     
## Turn showtext off
showtext_end()

## Also turn off the device
dev.off()


###  Download font file from web  ###

download.file("http://fontpro.com/download-family.php?file=36289",
              "newrocker.ttf", mode="wb")
download.file("http://fontpro.com/download-family.php?file=35128",
              "cutetumblr.ttf", mode ="wb")

font_add("newrocker", "newrocker.ttf")
font_add("cutetumblr", "cutetumblr.ttf")

png("showtext-ex2.png", 800, 500)
plot(1, type = "n")
showtext_begin()
text(1, 1.2, "Let me tell you a story", cex = 4, family = "newrocker")
text(1, 0.8, "Long long ago...", cex = 4, family = "cutetumblr")
showtext_end()
dev.off()

setwd(old)


## End(Not run)
</code></pre>


</div>