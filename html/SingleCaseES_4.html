<div class="container">

<table style="width: 100%;"><tr>
<td>calc_phase_pairs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate phase pair numbers</h2>

<h3>Description</h3>

<p>Calculates a vector containing a unique phase number for every
sequential occurrence of a phase or treatment condition. This is useful for
creating a grouping variable to be used in calculating effect sizes for
each pair of A-B phases within treatment reversal designs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calc_phase_pairs(x, session = seq_along(x))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>vector of phase/condition labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>session</code></td>
<td>
<p>numeric vector of measurement occasions, used to sort <code>x</code>
before calculating phase pairs.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector containing an integer phase number for every observation.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Basic use-case
x &lt;- rep(c("A","B","C","B","C","A","C"), c(4:10))
calc_phase_pairs(x)

# Using session argument to handle sort order
session &lt;- sample(seq_along(x))
x_scrambled &lt;- x[session]
dat &lt;- data.frame(
  x = x_scrambled,
  session = session,
  phase_pair = calc_phase_pairs(x_scrambled, session = session)
)
dat_sorted &lt;- dat[order(session),]
identical(x, dat_sorted$x)

# With a grouped data.frame
library(dplyr)
Schmidt2007 %&gt;%
  group_by(Behavior_type, Case_pseudonym) %&gt;%
  mutate(phase_pair = calc_phase_pairs(Condition, session = Session_number))

</code></pre>


</div>