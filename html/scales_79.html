<div class="container">

<table style="width: 100%;"><tr>
<td>label_date</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Label date/times</h2>

<h3>Description</h3>

<p><code>label_date()</code> and <code>label_time()</code> label date/times using date/time format
strings. <code>label_date_short()</code> automatically constructs a short format string
sufficient to uniquely identify labels. It's inspired by matplotlib's
<a href="https://matplotlib.org/stable/api/dates_api.html#matplotlib.dates.ConciseDateFormatter"><code>ConciseDateFormatter</code></a>,
but uses a slightly different approach: <code>ConciseDateFormatter</code> formats
"firsts" (e.g. first day of month, first day of day) specially;
<code>date_short()</code> formats changes (e.g. new month, new year) specially.
<code>label_timespan()</code> is intended to show time passed and adds common time units
suffix to the input (ns, us, ms, s, m, h, d, w).
</p>


<h3>Usage</h3>

<pre><code class="language-R">label_date(format = "%Y-%m-%d", tz = "UTC", locale = NULL)

label_date_short(format = c("%Y", "%b", "%d", "%H:%M"), sep = "\n")

label_time(format = "%H:%M:%S", tz = "UTC", locale = NULL)

label_timespan(
  unit = c("secs", "mins", "hours", "days", "weeks"),
  space = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>For <code>date_format()</code> and <code>time_format()</code> a date/time format
string using standard POSIX specification.  See <code>strptime()</code> for details.
</p>
<p>For <code>date_short()</code> a character vector of length 4 giving the format
components to use for year, month, day, and hour respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tz</code></td>
<td>
<p>a time zone name, see <code>timezones()</code>. Defaults
to UTC</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locale</code></td>
<td>
<p>Locale to use when for day and month names. The default
uses the current locale. Setting this argument requires stringi, and you
can see a complete list of supported locales with
<code>stringi::stri_locale_list()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>Separator to use when combining date formats into a single string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p>The unit used to interpret numeric input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>space</code></td>
<td>
<p>Add a space before the time unit?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Arguments passed on to <code>number</code>
</p>

<dl>
<dt><code>accuracy</code></dt>
<dd>
<p>A number to round to. Use (e.g.) <code>0.01</code> to show 2 decimal
places of precision. If <code>NULL</code>, the default, uses a heuristic that should
ensure breaks have the minimum number of digits needed to show the
difference between adjacent values.
</p>
<p>Applied to rescaled data.</p>
</dd>
<dt><code>scale</code></dt>
<dd>
<p>A scaling factor: <code>x</code> will be multiplied by <code>scale</code> before
formatting. This is useful if the underlying data is very small or very
large.</p>
</dd>
<dt><code>prefix</code></dt>
<dd>
<p>Additional text to display before the number. The suffix is
applied to absolute value before <code>style_positive</code> and <code>style_negative</code> are
processed so that <code>prefix = "$"</code> will yield (e.g.) <code style="white-space: pre;">⁠-$1⁠</code> and <code style="white-space: pre;">⁠($1)⁠</code>.</p>
</dd>
<dt><code>suffix</code></dt>
<dd>
<p>Additional text to display after the number.</p>
</dd>
<dt><code>big.mark</code></dt>
<dd>
<p>Character used between every 3 digits to separate thousands.</p>
</dd>
<dt><code>decimal.mark</code></dt>
<dd>
<p>The character to be used to indicate the numeric
decimal point.</p>
</dd>
<dt><code>style_positive</code></dt>
<dd>
<p>A string that determines the style of positive numbers:
</p>

<ul>
<li> <p><code>"none"</code> (the default): no change, e.g. <code>1</code>.
</p>
</li>
<li> <p><code>"plus"</code>: preceded by <code>+</code>, e.g. <code>+1</code>.
</p>
</li>
<li> <p><code>"space"</code>: preceded by a Unicode "figure space", i.e., a space equally
as wide as a number or <code>+</code>. Compared to <code>"none"</code>, adding a figure space
can ensure numbers remain properly aligned when they are left- or
right-justified.
</p>
</li>
</ul>
</dd>
<dt><code>style_negative</code></dt>
<dd>
<p>A string that determines the style of negative numbers:
</p>

<ul>
<li> <p><code>"hyphen"</code> (the default): preceded by a standard hypen <code>-</code>, e.g. <code>-1</code>.
</p>
</li>
<li> <p><code>"minus"</code>, uses a proper Unicode minus symbol. This is a typographical
nicety that ensures <code>-</code> aligns with the horizontal bar of the
the horizontal bar of <code>+</code>.
</p>
</li>
<li> <p><code>"parens"</code>, wrapped in parentheses, e.g. <code>(1)</code>.
</p>
</li>
</ul>
</dd>
<dt><code>trim</code></dt>
<dd>
<p>Logical, if <code>FALSE</code>, values are right-justified to a common
width (see <code>base::format()</code>).</p>
</dd>
</dl>
</td>
</tr>
</table>
<h3>Value</h3>

<p>All <code>label_()</code> functions return a "labelling" function, i.e. a function that
takes a vector <code>x</code> and returns a character vector of <code>length(x)</code> giving a
label for each input value.
</p>
<p>Labelling functions are designed to be used with the <code>labels</code> argument of
ggplot2 scales. The examples demonstrate their use with x scales, but
they work similarly for all scales, including those that generate legends
rather than axes.
</p>


<h3>Examples</h3>

<pre><code class="language-R">date_range &lt;- function(start, days) {
  start &lt;- as.POSIXct(start)
  c(start, start + days * 24 * 60 * 60)
}

two_months &lt;- date_range("2020-05-01", 60)
demo_datetime(two_months)
demo_datetime(two_months, labels = date_format("%m/%d"))
demo_datetime(two_months, labels = date_format("%e %b", locale = "fr"))
demo_datetime(two_months, labels = date_format("%e %B", locale = "es"))
# ggplot2 provides a short-hand:
demo_datetime(two_months, date_labels = "%m/%d")

# An alternative labelling system is label_date_short()
demo_datetime(two_months, date_breaks = "7 days", labels = label_date_short())
# This is particularly effective for dense labels
one_year &lt;- date_range("2020-05-01", 365)
demo_datetime(one_year, date_breaks = "month")
demo_datetime(one_year, date_breaks = "month", labels = label_date_short())
</code></pre>


</div>