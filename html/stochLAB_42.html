<div class="container">

<table style="width: 100%;"><tr>
<td>validate_inputs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Input validator</h2>

<h3>Description</h3>

<p>Input validator
</p>


<h3>Usage</h3>

<pre><code class="language-R">validate_inputs(
  model_options,
  n_iter = NULL,
  flt_speed_pars = NULL,
  flight_speed = NULL,
  body_lt_pars = NULL,
  body_lt = NULL,
  wing_span_pars = NULL,
  wing_span = NULL,
  avoid_bsc_pars = NULL,
  avoid_rt_basic = NULL,
  avoid_ext_pars = NULL,
  avoid_rt_ext = NULL,
  noct_act_pars = NULL,
  noct_activity = NULL,
  prop_crh_pars = NULL,
  bird_dens_opt = NULL,
  bird_dens_dt = NULL,
  chord_prof = NULL,
  dens_month = NULL,
  turb_oper_month = NULL,
  flight_type = NULL,
  prop_upwind = NULL,
  gen_fhd_boots = NULL,
  site_fhd_boots = NULL,
  n_blades = NULL,
  air_gap_pars = NULL,
  rtr_radius_pars = NULL,
  rotor_radius = NULL,
  blade_width = NULL,
  blade_pitch = NULL,
  hub_height = NULL,
  bld_width_pars = NULL,
  rtn_pitch_opt = NULL,
  bld_pitch_pars = NULL,
  rtn_speed_pars = NULL,
  rotor_speed = NULL,
  n_turbines = NULL,
  windspd_pars = NULL,
  rtn_pitch_windspd_dt = NULL,
  trb_wind_avbl = NULL,
  trb_downtime_pars = NULL,
  wf_n_trbs = NULL,
  wf_width = NULL,
  wf_latitude = NULL,
  tidal_offset = NULL,
  gen_fhd = NULL,
  site_fhd = NULL,
  lrg_arr_corr = NULL,
  xinc = NULL,
  yinc = NULL,
  seed = NULL,
  verbose = NULL,
  out_format = NULL,
  out_sampled_pars = NULL,
  out_period = NULL,
  season_specs = NULL,
  popn_estim_pars = NULL,
  fn = "scrm"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model_options</code></td>
<td>
<p>Character vector, the model options for calculating collision
risk (see <strong>Details</strong> section below).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_iter</code></td>
<td>
<p>An integer. The number of iterations for the model simulation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flt_speed_pars</code></td>
<td>
<p>A single row data frame with columns <code>mean</code> and <code>sd</code>,
the mean and standard deviation of the species flying speed, in metres/sec.
Assumed to follow a Truncated Normal with lower bound at 0 (<em>tnorm-lw0</em>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flight_speed</code></td>
<td>
<p>Numeric value. The bird flying speed (<code class="reqn">v</code>), in
metres/sec.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>body_lt_pars</code></td>
<td>
<p>A single row data frame with columns <code>mean</code> and <code>sd</code>, the
mean and standard deviation of the species body length, in metres. Assumed
to follow a <em>tnorm-lw0</em> distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>body_lt</code></td>
<td>
<p>Numeric value. The length of the bird (<code class="reqn">L</code>), in metres.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wing_span_pars</code></td>
<td>
<p>A single row data frame with columns <code>mean</code> and <code>sd</code>,
the mean and standard deviation of the species wingspan, in metres. Assumed
to follow a <em>tnorm-lw0</em> distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wing_span</code></td>
<td>
<p>Numeric value. The wingspan of the bird (<code class="reqn">W</code>), in
metres.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>avoid_bsc_pars, avoid_ext_pars</code></td>
<td>
<p>Single row data frames with columns
<code>mean</code> and <code>sd</code>, the mean and standard deviation of the species avoidance
rate to be used in the basic model (Options 1 and 2) and extended model
(Options 3 and 4) calculations (see <strong>Details</strong> section). Avoidance rate
expresses the probability that a bird flying on a collision course with a
turbine will take evading action to avoid collision, and it is assumed to
follow a Beta distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>avoid_rt_basic, avoid_rt_ext</code></td>
<td>
<p>Numeric values. The avoidance rate for,
respectively, the basic model (i.e. required for model Options 1 and 2) and
the extended model (i.e. required for Options 3 and 4). Avoidance rate
expresses the probability that a bird flying on a collision course with a
turbine will take evading action to avoid collision.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noct_act_pars</code></td>
<td>
<p>A single row data frame with columns <code>mean</code> and <code>sd</code>,
The mean and standard deviation of the species nocturnal flight activity
level, expressed as a proportion of daytime activity levels, and assumed to
be Beta distributed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noct_activity</code></td>
<td>
<p>A numeric value. The nocturnal flight activity level,
expressed as a proportion of daytime activity levels (<code class="reqn">f_night</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop_crh_pars</code></td>
<td>
<p>Required only for model Option 1, a single row data
frame with columns <code>mean</code> and <code>sd</code>. The mean and standard deviation of the
proportion of flights at collision risk height derived from site survey,
assumed to be Beta distributed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bird_dens_opt</code></td>
<td>
<p>Option for specifying the random sampling mechanism for bird
densities:
</p>

<ul>
<li> <p><code>"tnorm"</code>: Sampling of density estimates from a <em>tnorm-lw0</em> distribution
(default value),
</p>
</li>
<li> <p><code>"resample"</code>: Re-sample draws of bird density estimates (e.g. bootstrap
samples),
</p>
</li>
<li> <p><code>"qtiles"</code>: Sampling from a set of quantile estimates of bird densities.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bird_dens_dt</code></td>
<td>
<p>A data frame with monthly estimates of bird density
within the windfarm footprint, expressed as the number of daytime in-flight
birds/km^2 per month. Data frame format requirements:
</p>

<ul>
<li>
<p> If <code>bird_dens_opt = "tnorm"</code>, <code>bird_dens_dt</code> must contain the following
columns:
</p>

<ul>
<li> <p><code>month</code>, (unique) month names,
</p>
</li>
<li> <p><code>mean</code>, the mean number of birds in flight at any height per square
kilometre in each month,
</p>
</li>
<li> <p><code>sd</code>, idem, for standard deviation.
</p>
</li>
</ul>
</li>
<li>
<p> If <code>bird_dens_opt = "resample"</code>, <code>bird_dens_dt</code> columns must be named as
months (i.e. <code>Jan</code>, <code>Feb</code>, ...), each containing random samples of monthly
density estimates.
</p>
</li>
<li>
<p> If <code>bird_dens_opt = "qtiles"</code>, <code>bird_dens_dt</code> must comply with:
</p>

<ul>
<li>
<p> First column named as <code>p</code>, giving reference probabilities,
</p>
</li>
<li>
<p> Remaining columns named as months (i.e. <code>Jan</code>, <code>Feb</code>, ...), each
giving the quantile estimates of bird density in a given month, for the
reference probabilities in column <code>p</code>.
</p>
</li>
</ul>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chord_prof</code></td>
<td>
<p>A data frame with the chord taper profile of the rotor
blade. Function expects two named columns:
</p>

<ul>
<li>
<p><code>pp_radius</code>, equidistant intervals of radius at bird passage point,
as a proportion of <code>rotor_radius</code>, within the range <code class="reqn">[0, 1]</code>.
</p>
</li>
<li>
<p><code>chord</code>, the chord width at <code>pp_radius</code>, as a proportion
of <code>blade_width</code>.
</p>
</li>
</ul>
<p>Defaults to a generic profile for a typical modern 5MW turbine. See
<code>chord_prof_5MW()</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dens_month</code></td>
<td>
<p>Data frame, containing estimates of daytime in-flight
bird densities per month within the windfarm footprint, in birds/km^2. It
must contain the following named columns:
</p>

<ul>
<li> <p><code>month</code>, the month names.
</p>
</li>
<li>
<p><code>dens</code>, the number of birds in flight at any height per
square kilometre in each month.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>turb_oper_month</code></td>
<td>
<p>Data frame, holding the proportion of time during
which turbines are operational per month. The following named column are
expected:
</p>

<ul>
<li>
<p><code>month</code>, the month names.
</p>
</li>
<li>
<p><code>prop_oper</code>, the proportion of time operating, per month.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flight_type</code></td>
<td>
<p>A character string, either 'flapping' or 'gliding',
indicating the species' characteristic flight type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop_upwind</code></td>
<td>
<p>Numeric value between 0-1 giving the proportion of
flights upwind - defaults to 0.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gen_fhd_boots</code></td>
<td>
<p>Required only for model Options 2 and 3, a data frame
with bootstrap samples of flight height distributions (FHD) of the species
derived from general (country/regional level) data. FHD provides relative
frequency distribution of bird flights at 1-+
-metre height bands, starting
from sea surface. The first column must be named as <code>height</code>,
expressing the lower bound of the height band (thus it's first element must
be 0). Each remaining column should provide a bootstrap sample of the
proportion of bird flights at each height band, with no column naming
requirements.
</p>
<p><strong>NOTE:</strong> generic_fhd_bootstraps is a list object with generic FHD
bootstrap estimates for 25 seabird species from Johnson et al
(2014) <a href="https://doi.org/10.1111/1365-2664.12191">doi:10.1111/1365-2664.12191</a>
(see usage in Example Section below).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>site_fhd_boots</code></td>
<td>
<p>Required only for model Option 4, a data frame similar
to <code>gen_fhd_boots</code>, but for FHD estimates derived from site-specific
data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_blades</code></td>
<td>
<p>An integer, the number of blades in rotor (<code class="reqn">b</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>air_gap_pars</code></td>
<td>
<p>A single row data frame with columns <code>mean</code> and <code>sd</code>, the
mean and standard deviation of the tip clearance gap, in metres, i.e. the
distance between the minimum rotor tip height and the highest astronomical
tide (HAT). Assumed to follow a <em>tnorm-lw0</em> distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rtr_radius_pars</code></td>
<td>
<p>A single row data frame with columns <code>mean</code> and <code>sd</code>,
the mean and standard deviation of the radius of the rotor, in metres.
Assumed to follow a <em>tnorm-lw0</em> distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rotor_radius</code></td>
<td>
<p>Numeric value. The radius of the rotor (<code class="reqn">R</code>), in
metres.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blade_width</code></td>
<td>
<p>Numeric value, giving the maximum blade width, in metres.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blade_pitch</code></td>
<td>
<p>Numeric value. The average blade pitch angle, the angle
between the blade surface and the rotor plane (<code class="reqn">\gamma</code>), in radians.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hub_height</code></td>
<td>
<p>A numeric value, the height of the rotor hub (<code class="reqn">H</code>), given by the
sum of rotor radius and minimum blade clearance above the highest
astronomical tide (HAT), in metres.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bld_width_pars</code></td>
<td>
<p>A single row data frame with columns <code>mean</code> and <code>sd</code>,
the mean and standard deviation of the maximum blade width, in metres.
Assumed to be <em>tnorm-lw0</em> distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rtn_pitch_opt</code></td>
<td>
<p>a character string, the option for specifying
the sampling mechanism for rotation speed and blade pitch:
</p>

<ul>
<li> <p><code>"probDist"</code>: sample rotation speed and blade pitch values from a
<em>tnorm-lw0</em> distribution (default value).
</p>
</li>
<li> <p><code>"windSpeedReltn"</code>: generate rotation speed and blade pitch values as a
function of wind speed intensity.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bld_pitch_pars</code></td>
<td>
<p>Only required if <code>rtn_pitch_opt = "probDist"</code>, a single
row data frame with columns <code>mean</code> and <code>sd</code>, the mean and standard
deviation of the blade pitch angle, i.e. the angle between the blade
surface and the rotor plane, in degrees. Assumed to follow a
<em>tnorm-lw0</em> distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rtn_speed_pars</code></td>
<td>
<p>Only required if <code>rtn_pitch_opt = "probDist"</code>, a
single row data frame with columns <code>mean</code> and <code>sd</code>, the mean and standard
deviation of the operational rotation speed, in revolutions per minute.
Assumed to follow a <em>tnorm-lw0</em> distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rotor_speed</code></td>
<td>
<p>Numeric value. The operational rotation speed, in
revolutions/min.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_turbines</code></td>
<td>
<p>Integer, the number of turbines on the wind farm
(<code class="reqn">T</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>windspd_pars</code></td>
<td>
<p>Only required if <code>rtn_pitch_opt = "windSpeedReltn"</code>,
a single row data frame with columns <code>mean</code> and <code>sd</code>, the mean and the
standard deviation of wind speed at the windfarm site, in metres/sec.
Assumed to follow a <em>tnorm-lw0</em> distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rtn_pitch_windspd_dt</code></td>
<td>
<p>Only required if <code>rtn_pitch_opt = "windSpeedReltn"</code>,
a data frame giving the relationship between wind speed, rotation speed
and blade pitch values. It must contain the columns:
</p>

<ul>
<li> <p><code>wind_speed</code>, wind speed in m/s,
</p>
</li>
<li> <p><code>rtn_speed</code>, rotation speed in rpm,
</p>
</li>
<li> <p><code>bld_pitch</code>, blade pitch values in degrees.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trb_wind_avbl</code></td>
<td>
<p>A data frame with the monthly estimates of operational
wind availability. It must contain the columns:
</p>

<ul>
<li> <p><code>month</code>, (unique) month names,
</p>
</li>
<li> <p><code>pctg</code>, the percentage of time wind conditions allow for turbine operation
per month.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trb_downtime_pars</code></td>
<td>
<p>A data frame with monthly estimates of maintenance
downtime, assumed to follow a <em>tnorm-lw0</em> distribution. It
must contain the following columns:
</p>

<ul>
<li> <p><code>month</code>, (unique) month names,
</p>
</li>
<li> <p><code>mean</code>, numeric, the mean percentage of time in each month when turbines
are not operating due to maintenance,
</p>
</li>
<li> <p><code>sd</code>, the standard deviation of monthly maintenance downtime.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wf_n_trbs</code></td>
<td>
<p>Integer, the number of turbines on the windfarm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wf_width</code></td>
<td>
<p>Numeric value, the approximate longitudinal width of the
wind farm, in kilometres (<code class="reqn">w</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wf_latitude</code></td>
<td>
<p>A decimal value. The latitude of the centroid of the
windfarm, in degrees.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tidal_offset</code></td>
<td>
<p>A numeric value, the tidal offset, the difference between
HAT and mean sea level, in metres.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gen_fhd, site_fhd</code></td>
<td>
<p>Data frame objects, with flight height distributions
(fhd) of the species - the relative frequency distribution of bird flights
at 1-metre height intervals from sea surface.
Specifically:
</p>

<ul>
<li>
<p><code>gen_fhd</code>, Data frame with the species' generic fhd derived
from combining wider survey data. Only required for model Options 2 and 3
</p>
</li>
<li>
<p><code>site_fhd</code>, Data frame with the species' site-specific fhd
derived from local survey data. Only required for model Option 4
</p>
</li>
</ul>
<p>Data frames must contain the following named columns:
</p>

<ul>
<li>
<p><code>height</code>, integers representing height bands from sea surface,
in metres. Function expects 0 as the first value, representing the 0-1m
band.
</p>
</li>
<li>
<p><code>prop</code>, the proportion of flights at each height band.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lrg_arr_corr</code></td>
<td>
<p>Boolean value. If TRUE, the large array correction will
be applied. This is a correction factor to account for the decay in
bird density at later rows in wind farms with a large array of turbines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yinc, xinc</code></td>
<td>
<p>numeric values, the increments along the y-axis and x-axis
for numerical integration across segments of the rotor circle. Chosen
values express proportion of rotor radius. By default these are set to
0.05, i.e. integration will be performed at a resolution of one twentieth
of the rotor radius.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Integer, the random seed for random number generation, for analysis reproducibility.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical, print model run progress on the console?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out_format</code></td>
<td>
<p>Output format specification. Possible values are:
</p>

<ul>
<li> <p><code>"draws"</code>: returns stochastic draws of collisions estimates (default value),
</p>
</li>
<li> <p><code>"summaries"</code>: returns summary statistics of collisions estimates.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out_sampled_pars</code></td>
<td>
<p>Logical, whether to output summary statistics of values
sampled for each stochastic model parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out_period</code></td>
<td>
<p>Controls level of temporal aggregation of collision
outputs. Possible values are:
</p>

<ul>
<li> <p><code>"months"</code>: monthly collisions (default value),
</p>
</li>
<li> <p><code>"seasons"</code>: collisions per user-defined season,
</p>
</li>
<li> <p><code>"annum"</code>: total collisions over 12 months.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>season_specs</code></td>
<td>
<p>Only required if <code>out_period = "seasons"</code>, a data frame
defining the seasons for aggregating over collision estimates. It must
comprise the following columns:
</p>

<ul>
<li> <p><code>season_id</code>, (unique) season identifier,
</p>
</li>
<li> <p><code>start_month</code>, name of the season's first month,
</p>
</li>
<li> <p><code>end_month</code>, name of the season's last month.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>popn_estim_pars</code></td>
<td>
<p>A single row data frame with columns <code>mean</code> and <code>sd</code>.
The population estimate of the species expected to fly through the wind farm
area.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fn</code></td>
<td>
<p>a character string specifying the parent function whose inputs are being checked:
</p>

<ul>
<li> <p><code>"scrm"</code>: checks <code>stoch_crm()</code> inputs
</p>
</li>
<li> <p><code>"crm"</code>: checks <code>band_crm()</code> inputs
</p>
</li>
<li> <p><code>"mcrm"</code>: checks <code>mig_stoch_crm()</code> inputs
</p>
</li>
</ul>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Nothing returned from this function
</p>


<h3>Examples</h3>

<pre><code class="language-R">  validate_inputs(model_options=c(1),
               avoid_bsc_pars=data.frame(mean=0.99,sd=0.001),
               prop_crh_pars=data.frame(mean=0.01,sd=0.01),
               air_gap_pars = data.frame(mean=21,sd=0),
               rtr_radius_pars = data.frame(mean=100,sd=0),
               bld_pitch_pars = data.frame(mean=15,sd=0),
               rtn_pitch_opt = "probDist",
               rtn_speed_pars = data.frame(mean=14,sd=5),
               out_period = "months",
               lrg_arr_corr = TRUE,
               fn="scrm")
</code></pre>


</div>