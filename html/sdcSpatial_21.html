<div class="container">

<table style="width: 100%;"><tr>
<td>sdc_raster</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a raster map with privacy awareness</h2>

<h3>Description</h3>

<p><code>sdc_raster</code> creates multiple <code>raster::raster</code> objects
("count", "mean", "sum") from supplied point data <code>x</code> and calculates
the sensitivity to privacy disclosure for each raster location.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sdc_raster(
  x,
  variable,
  r = 200,
  max_risk = 0.95,
  min_count = 10,
  risk_type = c("external", "internal", "discrete"),
  ...,
  field = variable
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>sp::SpatialPointsDataFrame, sf::sf or a two column matrix or data.frame
that is used to create a raster map.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variable</code></td>
<td>
<p>name of data column or <code>numeric</code> with same length as <code>x</code>
to be used for the data in the raster map.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>either a desired resolution or a pre-existing raster object.
In the first case, the crs of <code>x</code> (if present) will be used, in the latter
the properties of the <code>r</code> will be kept.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_risk</code></td>
<td>
<p><code>numeric</code>, the maximum_risk score (<code>disclosure_risk</code>)
before a cell in the map is considered sensitive.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_count</code></td>
<td>
<p><code>numeric</code>, a raster cell with less then <code>min_count</code>
observations is considered sensitived.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>risk_type</code></td>
<td>
<p>passed on to <code>disclosure_risk()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>passed through to <code>raster::rasterize()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>field</code></td>
<td>
<p>synonym for <code>variable</code>. If both supplied, <code>field</code> has precedence.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A <code>sdc_raster</code> object is the vehicle that does the book keeping for calculating
sensitivity. Protection methods work upon a <code>sdc_raster</code> and return a new
<code>sdc_raster</code> in which the sensitivity is reduced.
The sensitivity of the map can be assessed with sensitivity_score,
<code>plot.sdc_raster()</code>, <code>plot_sensitive()</code> or <code>print</code>.
Reducing the sensitivity can be done with <code>protect_smooth()</code>,
<code>protect_quadtree()</code> and <code>remove_sensitive()</code>. Raster maps for <code>mean</code>,
<code>sum</code> and <code>count</code> data can be extracted from the <code style="white-space: pre;">⁠$value⁠</code> (<code>brick()</code>).
</p>


<h3>Value</h3>

<p>object of <code>class</code> "sdc_raster":
</p>

<ul>
<li> <p><code style="white-space: pre;">⁠$value⁠</code>: <code>raster::brick()</code> object with different layers e.g. <code>count</code>, <code>sum</code>, <code>mean</code>, <code>scale</code>.
</p>
</li>
<li> <p><code style="white-space: pre;">⁠$max_risk⁠</code>: see above.
</p>
</li>
<li> <p><code style="white-space: pre;">⁠$min_count⁠</code>: see above.
of protection operation <code>protect_smooth()</code> or <code>protect_quadtree()</code>.
</p>
</li>
<li> <p><code style="white-space: pre;">⁠$type⁠</code>: data type of <code>variable</code>, either <code>numeric</code> or <code>logical</code>
</p>
</li>
<li> <p><code style="white-space: pre;">⁠$risk_type⁠</code>, "external", "internal" or "discrete" (see <code>disclosure_risk()</code>)
</p>
</li>
</ul>
<h3>See Also</h3>

<p>Other sensitive: 
<code>disclosure_risk()</code>,
<code>is_sensitive_at()</code>,
<code>is_sensitive()</code>,
<code>plot_sensitive()</code>,
<code>remove_sensitive()</code>,
<code>sensitivity_score()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(raster)
prod &lt;- sdc_raster(enterprises, field = "production", r = 500)
print(prod)

prod &lt;- sdc_raster(enterprises, field = "production", r = 1e3)
print(prod)

# get raster with the average production per cell averaged over the enterprises
prod_mean &lt;- mean(prod)
summary(prod_mean)

# get raster with the total production per cell
prod_total &lt;- sum(prod)
summary(prod_total)

</code></pre>


</div>