<div class="container">

<table style="width: 100%;"><tr>
<td>get_collisions_extended</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Number of collisions based on the extended model</h2>

<h3>Description</h3>

<p>Calculates the expected number of collisions under the extended model, i.e.
taking into account the distribution of bird flight heights at risk height
(above the minimum and below the  maximum height of the rotor blade)
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_collisions_extended(
  rotor_grids,
  d_y,
  rotor_radius,
  blade_width,
  rotor_speed,
  blade_pitch,
  flight_type,
  wing_span,
  flight_speed,
  body_lt,
  n_blades,
  prop_upwind,
  avoidance_rate,
  flux_factor,
  mth_prop_oper,
  lac_factor
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rotor_grids</code></td>
<td>
<p>A list object containing geometric attributes of the rotor
at equidistant points within its unit circle. This object should be
built via the function <code>generate_rotor_grids()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d_y</code></td>
<td>
<p>a vector with the proportion of birds at height bands within the
rotor disc</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rotor_radius</code></td>
<td>
<p>Numeric value. The radius of the rotor (<code class="reqn">R</code>), in
metres.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blade_width</code></td>
<td>
<p>Numeric value, giving the maximum blade width, in metres.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rotor_speed</code></td>
<td>
<p>Numeric value. The operational rotation speed, in
revolutions/min.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blade_pitch</code></td>
<td>
<p>Numeric value. The average blade pitch angle, the angle
between the blade surface and the rotor plane (<code class="reqn">\gamma</code>), in radians.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flight_type</code></td>
<td>
<p>A character string, either 'flapping' or 'gliding',
indicating the species' characteristic flight type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wing_span</code></td>
<td>
<p>Numeric value. The wingspan of the bird (<code class="reqn">W</code>), in
metres.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flight_speed</code></td>
<td>
<p>Numeric value. The bird flying speed (<code class="reqn">v</code>), in
metres/sec.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>body_lt</code></td>
<td>
<p>Numeric value. The length of the bird (<code class="reqn">L</code>), in metres.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_blades</code></td>
<td>
<p>An integer, the number of blades in rotor (<code class="reqn">b</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop_upwind</code></td>
<td>
<p>Numeric value between 0-1 giving the proportion of
flights upwind - defaults to 0.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>avoidance_rate</code></td>
<td>
<p>a numeric value within the interval <code class="reqn">[0, 1]</code>. The
avoidance rate, expressing the probability that a bird flying on a
collision course with a turbine will take evading action to avoid
collision.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flux_factor</code></td>
<td>
<p>a vector containing the flux factor for each month</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mth_prop_oper</code></td>
<td>
<p>A numeric vector, the proportion of time during which
turbines are operational per month.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lac_factor</code></td>
<td>
<p>A numerical value, the large array correction factor.
Defaults to 1, meaning large array correction is not applicable.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Numeric vector with the expected number of collisions per month based
on the extended model
</p>


<h3>Note</h3>

<p>The original Masden code for extendend model (Option 3) included the
calculation of the "Flux Integral" and "Average collision risk for single
rotor transit". These quantities are not required for the calculation of
collisions under the extended model, nor are used anywhere else in the package.
Therefore, those calculations were dropped from the current implementation to
keep computations to a minimum required.
</p>


<h3>See Also</h3>

<p><code>generate_rotor_grids()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
 rotor_grids &lt;- generate_rotor_grids(yinc = 0.05, xinc = 0.05, chord_prof_5MW)

 gen_fhd_dat &lt;- Johnston_Flight_heights_SOSS %&gt;%
      dplyr::filter(variable=="Gannet.est") %&gt;%
      dplyr::select(height,prop)

 gen_fhd &lt;- gen_fhd_dat$prop

 gen_fhd_at_rotor &lt;-
    get_fhd_rotor(
      hub_height = 150,
      fhd = gen_fhd,
      rotor_radius = 120,
      tidal_offset = 2.5,
      yinc = 0.05)


 flux_fct &lt;- get_flux_factor(
      n_turbines = 100,
      rotor_radius = 120,
      flight_speed = 13.1,
      bird_dens = c(1.19,0.85,1.05,1.45,1.41,1.45,1.12,1.45,0.93,0.902,1.06,1.23),
      daynight_hrs = Day_Length(52),
      noct_activity = 0.5
      )

turb_oper &lt;- data.frame(
   month = month.abb,
   prop_oper = runif(12,0.5,0.8)
   )
turb_oper_month &lt;- turb_oper$prop_oper

get_collisions_extended(
  rotor_grids = rotor_grids,
  d_y = gen_fhd_at_rotor, # ... with generic FHD = Option 3, with site FHD = Option 4
  rotor_radius = 120,
  blade_width = 5,
  rotor_speed = 15,
  blade_pitch = 15,
  flight_type = "flapping",
  wing_span = 1.01,
  flight_speed = 13.1,
  body_lt = 0.85,
  n_blades = 3,
  prop_upwind = 0.5,
  avoidance_rate = 0.981,
  flux_factor = flux_fct,
  mth_prop_oper = turb_oper_month,
  lac_factor = 0.9998299
  )

</code></pre>


</div>