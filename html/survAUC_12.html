<div class="container">

<table style="width: 100%;"><tr>
<td>predErr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Distance-based estimators of survival predictive accuracy</h2>

<h3>Description</h3>

<p>Inverse-probability-of-censoring weighted estimators of absolute and squared
deviations between survival functions
</p>


<h3>Usage</h3>

<pre><code class="language-R">predErr(Surv.rsp, Surv.rsp.new, lp, lpnew, times, 
        type = "brier", int.type = "unweighted")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Surv.rsp</code></td>
<td>
<p>A <code>Surv(.,.)</code> object containing to the outcome of the training data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Surv.rsp.new</code></td>
<td>
<p>A <code>Surv(.,.)</code> object containing the outcome of the test data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lp</code></td>
<td>
<p>The vector of predictors estimated from the training data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lpnew</code></td>
<td>
<p>The vector of predictors obtained from the test data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>A vector of time points at which to evaluate the prediction error curve.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A string specifying the type of prediction error curve: 'brier' refers
to the squared deviation between predicted and observed survival (Brier score), 'robust'
refers to the absolute deviation between predicted and observed survival.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>int.type</code></td>
<td>
<p>A string specifying the type of integration method for the prediction
error curves. Either 'unweighted' or 'weighted'.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function implements two types of prediction error curves for right-censored
time-to-event data: The Brier Score (<code>type = "brier"</code>, Gerds and Schumacher 2006) estimates the <em>squared</em>
deviation between predicted and observed survival whereas the method proposed
by Schmid et al. (2011) estimates the <em>absolute</em> deviation between predicted and
observed survival (<code>type = "robust"</code>).
</p>
<p>Both methods are based on inverse-probability-of-censoring
weights and do not assume a specific working model for survival prediction.
Note, however, that the estimators implemented in <code>predErr</code>,
are restricted to situations where the random censoring assumption holds.
</p>
<p>Time-independent summary measures of prediction error are given by the
the areas under the prediction error curves. If <code>int.type = "weighted"</code>,
prediction errors are weighted by the estimated probability density of
the time-to-event outcome.
</p>


<h3>Value</h3>

<p><code>predErr</code> returns an object of class <code>survErr</code>. Specifically,
<code>predErr</code> returns a list containing the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>error</code></td>
<td>
<p>The prediction error estimates (evaluated at <code>times</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>The vector of time points at which prediction errors are evaluated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ierror</code></td>
<td>
<p>The integrated prediction error.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Gerds, T. A. and M. Schumacher (2006).<br> Consistent estimation of the expected
Brier score in general survival models with right-censored event times.<br><em>Biometrical Journal</em> <b>48</b>, 1029–1040.<br></p>
<p>Schmid, M., T. Hielscher, T. Augustin, and O. Gefeller (2011).<br> A robust alter-
native to the Schemper-Henderson estimator of prediction error.<br><em>Biometrics</em>
<b>67</b>, 524–535.<br></p>


<h3>See Also</h3>

<p><code>IntAUC</code>, <code>OXS</code>, <code>schemper</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(cancer,package="survival")
TR &lt;- ovarian[1:16,]
TE &lt;- ovarian[17:26,]
train.fit  &lt;- survival::coxph(survival::Surv(futime, fustat) ~ age, x=TRUE, y=TRUE, 
                    method="breslow", data=TR)

lp &lt;- predict(train.fit)
lpnew &lt;- predict(train.fit, newdata=TE)
Surv.rsp &lt;- survival::Surv(TR$futime, TR$fustat)
Surv.rsp.new &lt;- survival::Surv(TE$futime, TE$fustat)
times &lt;- 1:500                  

predErr(Surv.rsp, Surv.rsp.new, lp, lpnew, times, 
        type = "brier", int.type = "unweighted")

predErr(Surv.rsp, Surv.rsp.new, lp, lpnew, times, 
        type = "robust", int.type = "unweighted")

predErr(Surv.rsp, Surv.rsp.new, lp, lpnew, times, 
        type = "brier", int.type = "weighted")

</code></pre>


</div>