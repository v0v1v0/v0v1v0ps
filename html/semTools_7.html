<div class="container">

<table style="width: 100%;"><tr>
<td>bsBootMiss</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bollen-Stine Bootstrap with the Existence of Missing Data</h2>

<h3>Description</h3>

<p>Implement the Bollen and Stine's (1992) Bootstrap when missing observations
exist. The implemented method is proposed by Savalei and Yuan (2009). This
can be used in two ways. The first and easiest option is to fit the model to
incomplete data in <code>lavaan</code> using the FIML estimator, then pass that
<code>lavaan</code> object to <code>bsBootMiss</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bsBootMiss(x, transformation = 2, nBoot = 500, model, rawData, Sigma, Mu,
  group, ChiSquared, EMcov, writeTransData = FALSE, transDataOnly = FALSE,
  writeBootData = FALSE, bootSamplesOnly = FALSE, writeArgs, seed = NULL,
  suppressWarn = TRUE, showProgress = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A target <code>lavaan</code> object used in the Bollen-Stine bootstrap</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transformation</code></td>
<td>
<p>The transformation methods in Savalei and Yuan (2009).
There are three methods in the article, but only the first two are currently
implemented here.  Use <code>transformation = 1</code> when there are few missing
data patterns, each of which has a large size, such as in a
planned-missing-data design.  Use <code>transformation = 2</code> when there are
more missing data patterns. The currently unavailable
<code>transformation = 3</code> would be used when several missing data patterns
have n = 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nBoot</code></td>
<td>
<p>The number of bootstrap samples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>Optional. The target model if <code>x</code> is not provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rawData</code></td>
<td>
<p>Optional. The target raw data set if <code>x</code> is not
provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Sigma</code></td>
<td>
<p>Optional. The model-implied covariance matrix if <code>x</code> is
not provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Mu</code></td>
<td>
<p>Optional. The model-implied mean vector if <code>x</code> is not
provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>Optional character string specifying the name of the grouping
variable in <code>rawData</code> if <code>x</code> is not provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ChiSquared</code></td>
<td>
<p>Optional. The model's <code class="reqn">\chi^2</code> test statistic if
<code>x</code> is not provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>EMcov</code></td>
<td>
<p>Optional, if <code>x</code> is not provided. The EM (or Two-Stage ML)
estimated covariance matrix used to speed up Transformation 2 algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>writeTransData</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the transformed data set is
written to a text file, <code>transDataOnly</code> is set to <code>TRUE</code>, and the
transformed data is returned invisibly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transDataOnly</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the result will provide the
transformed data only.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>writeBootData</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the stacked bootstrap data
sets are written to a text file, <code>bootSamplesOnly</code> is set to
<code>TRUE</code>, and the list of bootstrap data sets are returned invisibly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bootSamplesOnly</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the result will provide
bootstrap data sets only.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>writeArgs</code></td>
<td>
<p>Optional <code>list</code>. If <code>writeBootData = TRUE</code> or
<code>writeBootData = TRUE</code>, user can pass arguments to the
<code>write.table</code> function as a list.  Some default values
are provided: <code>file</code> = "bootstrappedSamples.dat", <code>row.names</code> =
<code>FALSE</code>, and <code>na</code> = "-999", but the user can override all of these
by providing other values for those arguments in the <code>writeArgs</code> list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>The seed number used in randomly drawing bootstrap samples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>suppressWarn</code></td>
<td>
<p>Logical. If <code>TRUE</code>, warnings from <code>lavaan</code>
function will be suppressed when fitting the model to each bootstrap sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showProgress</code></td>
<td>
<p>Logical. Indicating whether to display a progress bar
while fitting models to bootstrap samples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>The additional arguments in the <code>lavaan</code>
function. See also <code>lavOptions</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The second is designed for users of other software packages (e.g., LISREL,
EQS, Amos, or Mplus). Users can import their data, <code class="reqn">\chi^2</code> value, and
model-implied moments from another package, and they have the option of
saving (or writing to a file) either the transformed data or bootstrapped
samples of that data, which can be analyzed in other programs. In order to
analyze the bootstrapped samples and return a <em>p</em> value, users of other
programs must still specify their model using lavaan syntax.
</p>


<h3>Value</h3>

<p>As a default, this function returns a <code>BootMiss</code>
object containing the results of the bootstrap samples. Use <code>show</code>,
<code>summary</code>, or <code>hist</code> to examine the results. Optionally, the
transformed data set is returned if <code>transDataOnly = TRUE</code>. Optionally,
the bootstrap data sets are returned if <code>bootSamplesOnly = TRUE</code>.
</p>


<h3>Author(s)</h3>

<p>Terrence D. Jorgensen (University of Amsterdam;
<a href="mailto:TJorgensen314@gmail.com">TJorgensen314@gmail.com</a>)
</p>
<p>Syntax for transformations borrowed from http://www2.psych.ubc.ca/~vsavalei/
</p>


<h3>References</h3>

<p>Bollen, K. A., &amp; Stine, R. A. (1992). Bootstrapping goodness-of-fit measures
in structural equation models. <em>Sociological Methods &amp;
Research, 21</em>(2), 205–229. <a href="https://doi.org/10.1177/0049124192021002004">doi:10.1177/0049124192021002004</a>
</p>
<p>Savalei, V., &amp; Yuan, K.-H. (2009). On the model-based bootstrap with missing
data: Obtaining a p-value for a test of exact fit. <em>Multivariate
Behavioral Research, 44</em>(6), 741–763. <a href="https://doi.org/10.1080/00273170903333590">doi:10.1080/00273170903333590</a>
</p>


<h3>See Also</h3>

<p><code>BootMiss</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 
dat1 &lt;- HolzingerSwineford1939
dat1$x5 &lt;- ifelse(dat1$x1 &lt;= quantile(dat1$x1, .3), NA, dat1$x5)
dat1$x9 &lt;- ifelse(is.na(dat1$x5), NA, dat1$x9)

targetModel &lt;- "
visual  =~ x1 + x2 + x3
textual =~ x4 + x5 + x6
speed   =~ x7 + x8 + x9
"
targetFit &lt;- sem(targetModel, dat1, meanstructure = TRUE, std.lv = TRUE,
                 missing = "fiml", group = "school")
summary(targetFit, fit = TRUE, standardized = TRUE)

# The number of bootstrap samples should be much higher.
temp &lt;- bsBootMiss(targetFit, transformation = 1, nBoot = 10, seed = 31415)

temp
summary(temp)
hist(temp)
hist(temp, printLegend = FALSE) # suppress the legend
## user can specify alpha level (default: alpha = 0.05), and the number of
## digits to display (default: nd = 2).  Pass other arguments to hist(...),
## or a list of arguments to legend() via "legendArgs"
hist(temp, alpha = .01, nd = 3, xlab = "something else", breaks = 25,
     legendArgs = list("bottomleft", box.lty = 2))

## End(Not run)

</code></pre>


</div>