<div class="container">

<table style="width: 100%;"><tr>
<td>line2poly</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Line-in-polygon analysis</h2>

<h3>Description</h3>

<p>Function for basic geometry calculations on polyline features, within an overlapping destination polygon layer.
</p>


<h3>Usage</h3>

<pre><code class="language-R">line2poly(
  linez,
  polyz,
  poly_id,
  measurez = c("length", "density", "distance"),
  outvar_name = "line",
  unitz = "km",
  reproject = TRUE,
  na_val = NA,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>linez</code></td>
<td>
<p>Source polyline layer. <code>sf</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>polyz</code></td>
<td>
<p>Destination polygon layer. Must have identical CRS to <code>linez</code>. <code>sf</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>poly_id</code></td>
<td>
<p>Name of unique ID column for destination polygon layer. Character string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measurez</code></td>
<td>
<p>Desired measurements. Could be any of "length" (sum of line lengths by polygon), "density" (sum of line lengths divided by area of polygon) and/or "distance" (distance from each polygon to nearest line feature). Default is to report all three. Character string or vector of character strings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outvar_name</code></td>
<td>
<p>Name (root) to be given to output variable. Default is <code>"line"</code>. Character string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unitz</code></td>
<td>
<p>Units of measurement (linear). Defaul is <code>"km"</code>. Character string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reproject</code></td>
<td>
<p>Temporarily reproject layers to planar projection for geometric operations? Defaul is <code>TRUE</code>. Logical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_val</code></td>
<td>
<p>Value to be assigned to missing values (line lengths and densities only). Defaul is <code>NA</code>. Logical or list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Print status messages and progress? Default is <code>TRUE</code>. Logical.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An <code>sf</code> polygon object, with summary statisics of <code>linez</code> features aggregated to the geometries of <code>polyz</code>.
</p>
<p>If <code>measurez = "lengths"</code>, contains fields with suffixes
</p>

<ul><li>
<p> "<code>_length</code>". Sum of line lengths within each polygon, in km or other units supplied in <code>unitz</code>.
</p>
</li></ul>
<p>If <code>measurez = "density"</code>, contains fields with suffixes
</p>

<ul>
<li>
<p> "<code>_length</code>". Sum of line lengths within each polygon, in km or other units supplied in <code>unitz</code>.
</p>
</li>
<li>
<p> "<code>_area</code>". Area of each polygon, in km^2 or the square of linear units supplied in <code>unitz</code>.
</p>
</li>
<li>
<p> "<code>_density</code>". Sum of line lengths divided by area of each polygon, in km/km^2 or other units supplied in <code>unitz</code>.
</p>
</li>
</ul>
<p>If <code>measurez = "distance"</code>, contains fields with suffixes
</p>

<ul><li>
<p> "<code>_distance</code>". Distance from each polygon to nearest line feature, in km or other units supplied in <code>unitz</code>.
</p>
</li></ul>
<p>If <code>measurez = c("length","density","distance")</code> (default), contains all of the above.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Road lengths, densities and distance from polygon to nearest highway
## Not run: 
data(hex_05_deu)
data(highways_deu1992)
out_1 &lt;- line2poly(linez = highways_deu1992,
                   polyz = hex_05_deu,
                   poly_id = "HEX_ID")
plot(out_1["line_length"])
plot(out_1["line_density"])
plot(out_1["line_distance"])

## End(Not run)

# Replace missing road lengths and densities with 0's, rename variables
## Not run: 
out_2 &lt;- line2poly(linez = highways_deu1992,
                   polyz = hex_05_deu,
                   poly_id = "HEX_ID",
                   outvar_name = "road",
                   na_val = 0)
plot(out_2["road_length"])
plot(out_2["road_density"])
plot(out_2["road_distance"])

## End(Not run)
</code></pre>


</div>