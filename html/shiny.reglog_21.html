<div class="container">

<table style="width: 100%;"><tr>
<td>gsheet_tables_create</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create RegLog-valid database tables with googlesheets4</h2>

<h3>Description</h3>

<p>Create RegLog-valid database tables with googlesheets4
</p>


<h3>Usage</h3>

<pre><code class="language-R">gsheet_tables_create(
  account_name = "account",
  reset_code_name = "reset_code",
  use_log = FALSE,
  log_name = "logs",
  user_data = NULL,
  hash_passwords = FALSE,
  gsheet_ss = NULL,
  gsheet_name = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>account_name</code></td>
<td>
<p>Name of the sheet for storing user accounts credentials.
Defaults to 'account'. Mandatory spreadsheet.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reset_code_name</code></td>
<td>
<p>Name of the sheet for storing generated password reset
codes. Defaults to 'reset_code'. Mandatory table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_log</code></td>
<td>
<p>Should the sheet for keeping RegLogServer logs be
also created? Defaults to FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log_name</code></td>
<td>
<p>Name of the sheet for storing logs from RegLogServer object.
Used only if <code>use_log = TRUE</code>. Defaults to <code>logs</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>user_data</code></td>
<td>
<p>If you wish to import existing user database, you can input
data.frame with that table in this argument. It should contain columns:
username, password, email. Defaults to NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hash_passwords</code></td>
<td>
<p>If you are importing table of users upon tables creation,
you can also specify if the password should be hashed using <code>scrypt::hashPassword</code>.
Defaults to <code>FALSE</code>. If you have unhashed passwords in imported table, set
this option to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gsheet_ss</code></td>
<td>
<p>ID of the googlesheet that you want to append created tables
to. Defaults to <code>NULL</code>, which means creating new googlesheet.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gsheet_name</code></td>
<td>
<p>If <code>gsheet_ss = NULL</code> and new googlesheet will be generated,
you can choose choose its name. If left at default <code>NULL</code>, name will be
generated randomly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Boolean specific if the actions made by function should be
printed back to the console. Defaults to <code>TRUE</code>. Don't affect <code>googlesheets4</code>
generated messages. To silence them, use <code>options(googlesheets4_quiet = TRUE)</code>
in the script before.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Created spreadsheets will have following structure:
</p>

<ul>
<li>
<p> account (default name)
</p>

<ul>
<li>
<p> username: character
</p>
</li>
<li>
<p> password: character
</p>
</li>
<li>
<p> email: character
</p>
</li>
<li>
<p> create_time: character
</p>
</li>
<li>
<p> update_time: character
</p>
</li>
</ul>
</li>
<li>
<p> reset_code (default name)
</p>

<ul>
<li>
<p> user_id: numeric
</p>
</li>
<li>
<p> reset_code: character
</p>
</li>
<li>
<p> used: numeric
</p>
</li>
<li>
<p> create_time: character
</p>
</li>
<li>
<p> update_time: character
</p>
</li>
</ul>
</li>
<li>
<p> logs (default name, optional)
</p>

<ul>
<li>
<p> time: character
</p>
</li>
<li>
<p> session: character
</p>
</li>
<li>
<p> direction: character
</p>
</li>
<li>
<p> type: character
</p>
</li>
<li>
<p> note: character
</p>
</li>
</ul>
</li>
</ul>
<h3>Value</h3>

<p>ID of the googlesheet
</p>


<h3>See Also</h3>

<p>Other RegLog databases: 
<code>DBI_tables_create()</code>,
<code>mongo_tables_create()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (googlesheets4::gs4_has_token()) {
  library(shiny.reglog)
  
  # mockup user data
  user_data &lt;- 
    data.frame(username = c("Whatever", "Hanuka", "Helsinki", "How_come"), 
               password = c("&amp;f5*MSYj^niDt=V'3.[dyEX.C/", "%}&amp;B[fs\\}5PKE@,*+V\\tx9\"at]", 
                            "35z*ofW\\'G_8,@vCC`]~?e$Jm%", "s:;r_eLn?-D6;oA-=\"^R(-Ew&lt;x"), 
               email = c("what@mil.com", "hehe@soso.so", "nider@what.no", "crazzz@simpsy.com"))
  
  # create the tables and input the data (hashing the passwords in the process)
  id &lt;- gsheet_tables_create(user_data = user_data,
                             hash_passwords = TRUE,
                             verbose = FALSE)
  
  # check generated googlesheet
  googlesheets4::gs4_get(id)
  
  # check the "account" sheet for credentials data
  googlesheets4::read_sheet(id, "account")
  
  # remove example googlesheets
  googledrive::drive_trash(id)
}
</code></pre>


</div>