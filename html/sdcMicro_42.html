<div class="container">

<table style="width: 100%;"><tr>
<td>mergeHouseholdData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Replaces the raw household-level data with the anonymized household-level data in the full dataset
for anonymization of data with a household structure (or other hierarchical structure).
Requires a matching household ID in both files.</h2>

<h3>Description</h3>

<p>Replaces the raw household-level data with the anonymized household-level data in the full dataset
for anonymization of data with a household structure (or other hierarchical structure).
Requires a matching household ID in both files.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mergeHouseholdData(dat, hhId, dathh)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>a data.frame with the full dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hhId</code></td>
<td>
<p>name of the household (cluster) ID (identical in both datasets)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dathh</code></td>
<td>
<p>a dataframe with the treated household level data (generated for example with selectHouseholdData)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a data.frame with the treated household level variables and the raw individual level variables
</p>


<h3>Author(s)</h3>

<p>Thijs Benschop and Bernhard Meindl
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Load data
x &lt;- testdata

## donttest is necessary because of 
## Examples with CPU time &gt; 2.5 times elapsed time
## caused by using C++ code and/or data.table
## Create household level dataset
x_hh &lt;- selectHouseholdData(dat=x, hhId="ori_hid",
  hhVars=c("urbrur", "roof",  "walls", "water", "electcon", "household_weights"))
## Anonymize household level dataset and extract data
sdc_hh &lt;- createSdcObj(x_hh, keyVars=c('urbrur','roof'), w='household_weights')
sdc_hh &lt;- kAnon(sdc_hh, k = 3)
x_hh_anon &lt;- extractManipData(sdc_hh)
 
## Merge anonymized household level data back into the full dataset
x_anonhh &lt;- mergeHouseholdData(x, "ori_hid", x_hh_anon)
 
## Anonymize full dataset and extract data
sdc_full &lt;- createSdcObj(x_anonhh, keyVars=c('sex', 'age', 'urbrur', 'roof'), w='sampling_weight')
sdc_full &lt;- kAnon(sdc_full, k = 3)
x_full_anon &lt;- extractManipData(sdc_full)

</code></pre>


</div>