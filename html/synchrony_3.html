<div class="container">

<table style="width: 100%;"><tr>
<td>community.sync</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Compute community-wide synchrony and its significance via Monte Carlo randomizations
</h2>

<h3>Description</h3>

<p>Compute community-wide synchrony and its the significance via Monte Carlo randomizations. 
If all species fluctuate in perfect unison, the community-wide synchrony will be 1. 
If species undergo uncorrelated fluctuations, the community-wide synchrony will be 1/S.
The Monte Carlo randomizations are performed by shuffling the columns of the community
matrix independently. This function also returns the mean correlation between the columns
of the matrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">community.sync (data, nrands = 0, method = c("pearson", "kendall", "spearman"), 
                alternative = c("greater", "less"), type = 1, quiet = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>community matrix in wide format where each row contains the abundance at each time step
and each column corresponds to a different species.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrands</code></td>
<td>

<p>number of randomizations to perform (default is 0)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Method to compute mean correlation between columns? 
Options include <code>pearson</code>, <code>kendall</code>, and <code>spearman</code>. Default is <code>pearson</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>Alternative hypothesis. Options are
<code>less</code> and <code>greater</code>. Default is <code>greater</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>

<p>Randomization method. The <code>type=1</code> method randomly shuffles each column of the data
matrix, thus destroying both the autocorrelation structure of each column and the cross-correlation
between columns. The <code>type=2</code> method shifts each column of the data matrix
by a random amount, thus preserving the autocorrelation structure of each column but destroying
the cross-correlation between columns (Purves and Law 2002). Default is <code>type=1</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>

<p>Suppress progress bar when set to <code>TRUE</code>. Default is <code>FALSE</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Other parameters to <code>cor</code> function.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Loreau and de Mazancourt (2008) show that community-wide synchrony <code class="reqn">\varphi</code> can be quantified
by computing the temporal variance <code class="reqn">\sigma_{x_T}^2</code> of the community time series
<code class="reqn">x_T(t)=\sum{x_i(t)}</code> and the sum of the temporal standard deviation of the time series
across all species <code class="reqn">\left(\sum{\sigma_{x_i}}\right)^2</code> such that:
<code class="reqn">\varphi=\frac{\sigma_{x_T}^2}{\left(\sum{\sigma_{x_i}}\right)^2}</code>
</p>


<h3>Value</h3>

<p>Returns a named list containing:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>obs </code></td>
<td>
<p>the observed community synchrony</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meancorr </code></td>
<td>
<p>the mean correlation between the columns of the matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rands </code></td>
<td>
<p>the community synchrony value the randomizations. 
This variable is only returned if <code>nrands &gt; 0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pval </code></td>
<td>
<p>p-value of observed community synchrony. 
This variable is only returned if <code>nrands &gt; 0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative </code></td>
<td>
<p>Alternative hypothesis. This variable is only returned if <code>nrands &gt; 0</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Tarik C. Gouhier (tarik.gouhier@gmail.com)
</p>


<h3>References</h3>

<p>Loreau, M., and C. de Mazancourt. 2008. Species synchrony and its drivers: 
Neutral and nonneutral community dynamics in fluctuating environments. 
<em>The American Naturalist</em> 172:E48-E66.
</p>
<p>Purves, D. W., and R. Law. 2002. Fine-scale spatial structure in a grassland community: quantifying the plant's eye view. 
<em>Journal of Ecology</em> 90:121-129.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Community matrix for 20 species undergoing random fluctuations 
comm.rand=matrix(runif(100), nrow=5, ncol=20)
community.sync(comm.rand, nrands=20)$pval
# Community matrix for 20 species undergoing synchronized fluctuations 
comm.corr=matrix(rep(comm.rand[,1], 20), nrow=5, ncol=20)
community.sync(comm.corr, nrands=20)$pval
# On "real" data
data(bird.traits)
community.sync(bird.traits, nrands=20)$pval
</code></pre>


</div>