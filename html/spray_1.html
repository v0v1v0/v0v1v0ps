<div class="container">

<table style="width: 100%;"><tr>
<td>spray-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Sparse arrays and multivariate polynomials
</h2>

<h3>Description</h3>

<p>Functionality for sparse arrays, with emphasis on their interpretation
as multivariate polynomials.
</p>


<h3>Details</h3>

<p>Base <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> has the capability of dealing with arbitrary dimensioned
numerical arrays, with the <code>array</code> class.
</p>
<p>A <dfn>sparse array</dfn> is a type of array in which nonzero elements are
stored along with an index vector describing their coordinates.  This
allows for efficient storage and manipulation as base arrays often
require the storing of many zero elements which consume computational
and memory resources.
</p>
<p>In the package, sparse arrays are represented as objects of class
<code>spray</code>.  They use the C++ standard template library
(STL) <code>map</code> class, with keys being (unsigned) integer vectors, and
values floats.
</p>
<p>One natural application of sparse arrays, for which the package was
written, is multivariate polynomials and the package vignette presents
an extended discussion.  Note that other interpretations exist: the
<a href="https://CRAN.R-project.org/package=stokes"><span class="pkg">stokes</span></a> and <a href="https://CRAN.R-project.org/package=weyl"><span class="pkg">weyl</span></a> packages interpret <code>spray</code>
objects as differential forms and elements of a Weyl algebra
respectively.
</p>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>


<h3>Examples</h3>

<pre><code class="language-R">
# define a spray using a matrix of indices and a vector of values:
M &lt;- matrix(sample(0:3,21,replace=TRUE),ncol=3)
a &lt;- spray(M,sample(7))

# there are many pre-defined simple sprays:
b &lt;- homog(3,4)

# arithmetic operators work:
a + 2*b
a - a*b^2/4
a+b

#  we can sum over particular dimensions:
asum(a+b,1)

# differentiation is supported:
deriv(a^6,2)

# extraction and replacement work as expected:

b[1,2,1]
b[1,2,1,drop=TRUE]

b[diag(3)] &lt;- 3



</code></pre>


</div>