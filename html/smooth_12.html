<div class="container">

<table style="width: 100%;"><tr>
<td>cma</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Centered Moving Average</h2>

<h3>Description</h3>

<p>Function constructs centered moving average based on state space SMA
</p>


<h3>Usage</h3>

<pre><code class="language-R">cma(y, order = NULL, silent = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Vector or ts object, containing data needed to be smoothed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>Order of centered moving average. If <code>NULL</code>, then the
function will try to select order of SMA based on information criteria.
See sma for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>If <code>TRUE</code>, then plot is not produced. Otherwise, there
is a plot...</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Nothing. Needed only for the transition to the new name of variables.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If the order is odd, then the function constructs SMA(order) and
shifts it back in time. Otherwise an AR(order+1) model is constructed
with the preset parameters:
</p>
<p style="text-align: center;"><code class="reqn">phi_i = {0.5,1,1,...,0.5} / order</code>
</p>

<p>This then corresponds to the centered MA with 0.5 weight for the
first observation and 0.5 weight for an additional one. e.g. if this is
monthly data and we use order=12, then half of the first January and
half of the new one is taken.
</p>
<p>This is not a forecasting tool. This is supposed to smooth the time
series in order to find trend. So don't expect any forecasts from this
function!
</p>


<h3>Value</h3>

<p>Object of class "smooth" is returned. It contains the list of the
following values:
</p>

<ul>
<li> <p><code>model</code> - the name of the estimated model.
</p>
</li>
<li> <p><code>timeElapsed</code> - time elapsed for the construction of the model.
</p>
</li>
<li> <p><code>order</code> - order of the moving average.
</p>
</li>
<li> <p><code>nParam</code> - table with the number of estimated / provided parameters.
If a previous model was reused, then its initials are reused and the number of
provided parameters will take this into account.
</p>
</li>
<li> <p><code>fitted</code> - the fitted values, shifted in time.
</p>
</li>
<li> <p><code>forecast</code> - NAs, because this function does not produce forecasts.
</p>
</li>
<li> <p><code>residuals</code> - the residuals of the SMA / AR model.
</p>
</li>
<li> <p><code>s2</code> - variance of the residuals (taking degrees of freedom into
account) of the SMA / AR model.
</p>
</li>
<li> <p><code>y</code> - the original data.
</p>
</li>
<li> <p><code>ICs</code> - values of information criteria from the respective SMA or
AR model. Includes AIC, AICc, BIC and BICc.
</p>
</li>
<li> <p><code>logLik</code> - log-likelihood of the SMA / AR model.
</p>
</li>
<li> <p><code>lossValue</code> - Cost function value (for the SMA / AR model).
</p>
</li>
<li> <p><code>loss</code> - Type of loss function used in the estimation.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Ivan Svetunkov, <a href="mailto:ivan@svetunkov.ru">ivan@svetunkov.ru</a>
</p>


<h3>References</h3>


<ul>
<li>
<p> Svetunkov I. (2023) Smooth forecasting with the smooth package in R. arXiv:2301.01790.
<a href="https://doi.org/10.48550/arXiv.2301.01790">doi:10.48550/arXiv.2301.01790</a>.
</p>
</li>
<li>
<p> Svetunkov I. (2015 - Inf) "smooth" package for R - series of posts about the underlying
models and how to use them: <a href="https://openforecast.org/category/r-en/smooth/">https://openforecast.org/category/r-en/smooth/</a>.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>es, ssarima</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# CMA of specific order
ourModel &lt;- cma(rnorm(118,100,3),order=12)

# CMA of arbitrary order
ourModel &lt;- cma(rnorm(118,100,3))

summary(ourModel)

</code></pre>


</div>