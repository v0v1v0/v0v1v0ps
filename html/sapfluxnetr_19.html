<div class="container">

<table style="width: 100%;"><tr>
<td>metrics</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Complete metrics wrappers</h2>

<h3>Description</h3>

<p>This set of functions returns a complete set of statistics for a site (using
<code>sfn_data</code>) or several sites (using <code>sfn_data_multi</code>)
</p>


<h3>Usage</h3>

<pre><code class="language-R">daily_metrics(
  sfn_data,
  solar = TRUE,
  probs = c(0.95),
  tidy = FALSE,
  metadata = NULL,
  ...
)

monthly_metrics(
  sfn_data,
  solar = TRUE,
  probs = c(0.95),
  tidy = FALSE,
  metadata = NULL,
  ...
)

nightly_metrics(
  sfn_data,
  period = c("1 day", "1 month"),
  solar = TRUE,
  int_start = 20,
  int_end = 6,
  probs = c(0.95),
  tidy = FALSE,
  metadata = NULL,
  ...
)

daylight_metrics(
  sfn_data,
  period = c("1 day", "1 month"),
  solar = TRUE,
  int_start = 6,
  int_end = 20,
  probs = c(0.95),
  tidy = FALSE,
  metadata = NULL,
  ...
)

predawn_metrics(
  sfn_data,
  period = c("1 day", "1 month"),
  solar = TRUE,
  int_start = 4,
  int_end = 6,
  probs = c(0.95),
  tidy = FALSE,
  metadata = NULL,
  ...
)

midday_metrics(
  sfn_data,
  period = c("1 day", "1 month"),
  solar = TRUE,
  int_start = 11,
  int_end = 13,
  probs = c(0.95),
  tidy = FALSE,
  metadata = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sfn_data</code></td>
<td>
<p><code>sfn_data</code> or <code>sfn_data_multi</code> object
to obtain the metrics from</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>solar</code></td>
<td>
<p>Logical indicating if the solarTIMESTAMP must be used instead of
the site local TIMESTAMP. Default to TRUE (use solarTIMESTAMP).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p>numeric vector of probabilities for
<code>quantile</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tidy</code></td>
<td>
<p>Logical indicating if the metrics must be returned in a tidy
format (a long tibble, each observation in its own row)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metadata</code></td>
<td>
<p>metadata object, usually the result of
<code>read_sfn_metadata</code>. Only used if tidy is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to be passed to <code>.collapse_timestamp</code>
or <code>floor_date</code> or <code>ceiling_date</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>period</code></td>
<td>
<p>Time period to aggregate data by. See period section for an
explanation about the periods ('3 hours', '1 day', '1 month', '1 year', ...)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>int_start</code></td>
<td>
<p>Integer value indicating the starting hour of the special
interval in 24h format. See Interval section in details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>int_end</code></td>
<td>
<p>Integer value indicating the ending hour of the special
interval in 24h format. See Interval section in details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>*_metrics</code> functions are wrappers for <code>sfn_metrics</code> with a
set of fixed arguments.
</p>
<p><code>*_metrics</code> functions return all or some of the following statistics:
</p>

<ul>
<li>
<p>mean: mean of variable (tree or environmental variable) for the
given period. NAs are removed
</p>
</li>
<li>
<p>sd: standard deviation of the variable for the given period. NAs are
removed
</p>
</li>
<li>
<p>coverage: Data coverage percentage (percentage of measures without
NAs)
</p>
</li>
<li>
<p>q_XX: 0.XX quantile value for the period
</p>
</li>
<li>
<p>centroid: Diurnal centroid value (hours passed until the half of
the summed daily value was reached). Only returned for sapflow
measures when period is '1 day'
</p>
</li>
<li>
<p>accumulated: Accumulated values for precipitation only
</p>
</li>
</ul>
<h3>Value</h3>

<p>If <code>tidy</code> is TRUE, a tibble with the metrics for
sapflow and environmental data, with all the metadata included. If
<code>tidy</code> is FALSE (default), a list of tibbles with the calculated
metrics.
</p>


<h3>daily_metrics</h3>

<p><code>daily_metrics</code> summarise daily data for all hours in the day
</p>


<h3>monthly_metrics</h3>

<p><code>monthly_metrics</code> summarise monthly data for all hours in the day.
</p>


<h3>nightly_metrics</h3>

<p><code>nightly_metrics</code> will return the metrics for night
periods, summarised daily or monthly
</p>
<p>Night for daily period starts in DOY x and ends in DOY x+1 (i.e. if
<code>night_start = 20, night_end = 6</code> values for the night starting at
2018-03-28 20:00:00 and ending at 2018-03-29 06:00:00 are summarised).
</p>
<p>Night for monthly period summarises all night periods in the month, that
includes from 00:00:00 of the first month night to 23:59:59 of the last
month night.
</p>


<h3>daylight_metrics</h3>

<p><code>daylight_metrics</code> will return the metrics for daylight
periods, summarised daily or monthly. Daylight interval is selected by start
and end hours.
</p>


<h3>predawn_metrics</h3>

<p><code>predawn_metrics</code> will always return the metrics for predawn
period, summarised daily or monthly. Predawn interval is selected by start and
end hours.
</p>
<p>Predawn metrics did not return the centroid metric.
</p>


<h3>midday_metrics</h3>

<p><code>midday_metrics</code> will always return the metrics for midday
period, summarised daily or monthly. midday interval is selected by start and
end hours.
</p>
<p>Midday metrics did not return the centroid metric.
</p>


<h3>See Also</h3>

<p>Other metrics: 
<code>sfn_metrics()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## daily_metrics
# data load
data('ARG_TRE', package = 'sapfluxnetr')
data('sfn_metadata_ex', package = 'sapfluxnetr')

# non tidy raw metrics (default)
ARG_TRE_raw_daily &lt;- daily_metrics(ARG_TRE)
str(ARG_TRE_raw_daily)


# tidy daily metrics
ARG_TRE_daily &lt;- daily_metrics(
  ARG_TRE, tidy = TRUE, metadata = sfn_metadata_ex
)
ARG_TRE_daily


## monthly_metrics
# data load
data('ARG_TRE', package = 'sapfluxnetr')
data('sfn_metadata_ex', package = 'sapfluxnetr')

# non tidy raw metrics (default)
ARG_TRE_raw_monthly &lt;- monthly_metrics(ARG_TRE)
str(ARG_TRE_raw_monthly)


# tidy monthly metrics
ARG_TRE_monthly &lt;- monthly_metrics(
  ARG_TRE, tidy = TRUE, metadata = sfn_metadata_ex
)
ARG_TRE_monthly



## nightly_metrics
# data load
data('AUS_CAN_ST2_MIX', package = 'sapfluxnetr')

# non tidy daily night metrics (default)
AUS_CAN_ST2_MIX_night &lt;- nightly_metrics(AUS_CAN_ST2_MIX)

str(AUS_CAN_ST2_MIX_night)
AUS_CAN_ST2_MIX_night[['sapf']]
AUS_CAN_ST2_MIX_night[['env']]

# change the night interval
AUS_CAN_ST2_MIX_night_short &lt;- nightly_metrics(
  AUS_CAN_ST2_MIX, int_start = 21, int_end = 4 # night starting and ending hour
)
AUS_CAN_ST2_MIX_night_short[['env']]

# tidy nightly metrics
data('sfn_metadata_ex', package = 'sapfluxnetr')
AUS_CAN_ST2_MIX_night_tidy &lt;- nightly_metrics(
  AUS_CAN_ST2_MIX,
  tidy = TRUE, metadata = sfn_metadata_ex
)
AUS_CAN_ST2_MIX_night_tidy



## daylight_metrics
# data load
data('AUS_CAN_ST2_MIX', package = 'sapfluxnetr')

# non tidy daily daylight metrics (default)
AUS_CAN_ST2_MIX_daylight &lt;- daylight_metrics(AUS_CAN_ST2_MIX)

str(AUS_CAN_ST2_MIX_daylight)
AUS_CAN_ST2_MIX_daylight[['sapf']]
AUS_CAN_ST2_MIX_daylight[['env']]

# change the daylight interval
AUS_CAN_ST2_MIX_daylight_short &lt;- daylight_metrics(
  AUS_CAN_ST2_MIX, int_start = 8, int_end = 18 # night starting and ending hour
)
AUS_CAN_ST2_MIX_daylight_short[['env']]

# tidy daylight metrics
data('sfn_metadata_ex', package = 'sapfluxnetr')
AUS_CAN_ST2_MIX_daylight_tidy &lt;- daylight_metrics(
  AUS_CAN_ST2_MIX,
  tidy = TRUE, metadata = sfn_metadata_ex
)
AUS_CAN_ST2_MIX_daylight_tidy



## predawn_metrics
# data load
data('AUS_CAN_ST2_MIX', package = 'sapfluxnetr')

# non tidy daily predawn metrics (default)
AUS_CAN_ST2_MIX_predawn &lt;- predawn_metrics(AUS_CAN_ST2_MIX)

str(AUS_CAN_ST2_MIX_predawn)
AUS_CAN_ST2_MIX_predawn[['sapf']]
AUS_CAN_ST2_MIX_predawn[['env']]

# change the predawn interval
AUS_CAN_ST2_MIX_predawn_short &lt;- predawn_metrics(
  AUS_CAN_ST2_MIX, int_start = 8, int_end = 18 # night starting and ending hour
)
AUS_CAN_ST2_MIX_predawn_short[['env']]

# tidy daylight metrics
data('sfn_metadata_ex', package = 'sapfluxnetr')
AUS_CAN_ST2_MIX_predawn_tidy &lt;- predawn_metrics(
  AUS_CAN_ST2_MIX,
  tidy = TRUE, metadata = sfn_metadata_ex
)
AUS_CAN_ST2_MIX_predawn_tidy



## midday_metrics
# data load
data('AUS_CAN_ST2_MIX', package = 'sapfluxnetr')

# non tidy daily midday metrics (default)
AUS_CAN_ST2_MIX_midday &lt;- midday_metrics(AUS_CAN_ST2_MIX)

str(AUS_CAN_ST2_MIX_midday)
AUS_CAN_ST2_MIX_midday[['sapf']]
AUS_CAN_ST2_MIX_midday[['env']]

# change the midday interval
AUS_CAN_ST2_MIX_midday_short &lt;- midday_metrics(
  AUS_CAN_ST2_MIX, int_start = 8, int_end = 18 # night starting and ending hour
)
AUS_CAN_ST2_MIX_midday_short[['env']]

# tidy daylight metrics
data('sfn_metadata_ex', package = 'sapfluxnetr')
AUS_CAN_ST2_MIX_midday_tidy &lt;- midday_metrics(
  AUS_CAN_ST2_MIX,
  tidy = TRUE, metadata = sfn_metadata_ex
)
AUS_CAN_ST2_MIX_midday_tidy


</code></pre>


</div>