<div class="container">

<table style="width: 100%;"><tr>
<td>rotate_resid</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rotate the residuals of selected nodes</h2>

<h3>Description</h3>

<p>Rotate the residuals of selected nodes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rotate_resid(semPaths_plot, rotate_resid_list = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>semPaths_plot</code></td>
<td>
<p>A qgraph::qgraph object generated by
semPlot::semPaths, or a similar qgraph object modified by other
semptools functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rotate_resid_list</code></td>
<td>
<p>A named vector or a list of named list. For
a named vector, the name of an element is the node for which its
residual is to be rotated, and the value is the degree to rotate.
The 12 o'clock position is zero degree. Positive degree denotes
clockwise rotation, and negative degree denotes anticlockwise
rotation. For example, <code>c(x3 = 45, x4 = -45)</code> means rotating the
residual of <code>x3</code> 45 degrees clockwise, and rotating the residual
of <code>x4</code> 45 degrees anticlockwise. For a list of named lists, each
named list should have two named values: <code>node</code> and <code>rotate</code>. The
position of the residual of <code>node</code> will be placed at
<code>rotate</code>, in degree. For example, <code>list(list(node = "x3", rotate =  45), list(node = "x4", rotate = -45))</code> is equivalent to
<code>c(x3 = 45, x4 = -45)</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Modify a qgraph::qgraph object generated by
semPlot::semPaths and rotate the residuals of selected nodes.
Currently only supports "ram" and similar styles of
semPlot::semPaths.
</p>


<h3>Value</h3>

<p>A qgraph::qgraph object based on the original one, with
<code>loopRotation</code> attributes of selected nodes modified.
</p>


<h3>Examples</h3>

<pre><code class="language-R">mod_pa &lt;-
 'x1 ~~ x2
  x3 ~  x1 + x2
  x4 ~  x1 + x3
 '
fit_pa &lt;- lavaan::sem(mod_pa, pa_example)
lavaan::parameterEstimates(fit_pa)[, c("lhs", "op", "rhs", "est", "pvalue")]
m &lt;- matrix(c("x1",   NA,   NA,
               NA, "x3", "x4",
             "x2",   NA,   NA), byrow = TRUE, 3, 3)
p_pa &lt;- semPlot::semPaths(fit_pa, whatLabels="est",
           style = "ram",
           nCharNodes = 0, nCharEdges = 0,
           layout = m)

my_rotate_resid_vector &lt;- c(x3 = 45, x4 = -45)

p_pa2v &lt;- rotate_resid(p_pa, my_rotate_resid_vector)
plot(p_pa2v)

my_rotate_resid_list &lt;- list(list(node = "x3", rotate =  45),
                         list(node = "x4", rotate = -45))

p_pa2l &lt;- rotate_resid(p_pa, my_rotate_resid_list)
plot(p_pa2l)

</code></pre>


</div>