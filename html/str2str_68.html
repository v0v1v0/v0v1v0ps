<div class="container">

<table style="width: 100%;"><tr>
<td>try_fun</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add Try to Function</h2>

<h3>Description</h3>

<p><code>try_fun</code> creates a version of the function <code>fun</code> that evaluates the
function and then returns a list with three elements: 1) return object, 2) warning
message, 3) error message. This can be useful when you want to apply a function
and are not sure if it will result in a warning and/or error and don't want R
to stop if an error does arise.
</p>


<h3>Usage</h3>

<pre><code class="language-R">try_fun(fun, output.class = paste0(deparse(substitute(fun)), ".try"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output.class</code></td>
<td>
<p>character vector of length 1 specifying the class you want
the result from a call to the returned function to be. Note, if <code>fun</code>
is an annonymous function, then the default will probably not work due to the
character limitations of deparsing a function. You can always put down NULL for
no class, which will always work with annonymous functions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is heavily based on the following StackOverflow post:
https://stackoverflow.com/questions/4948361/how-do-i-save-warnings-and-errors-as-output-from-a-function.
</p>


<h3>Value</h3>

<p>function that returns a list object with three elements: "result" = 1)
return object of <code>fun</code>, "warning" = warning message, "error" = error message.
When an element is not relevant (e.g., no errors), then that element is NULL.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># apply to log()
log.try &lt;- try_fun(log)
log.try(1)
log.try(0)
log.try(-1)
log.try("a")
# return a list where NULL if an error or warning appears
lapply(X = list("positive" = 1, "zero" = 0, "negative" = -1,"letter" = "a"),
   FUN = function(x) {
      log_try &lt;- log.try(x)
      result &lt;- log_try[["result"]]
      warning &lt;- log_try[["warning"]]
      error &lt;- log_try[["error"]]
      if (!(is.null(error))) return(NULL)
      if (!(is.null(warning))) return(NULL)
      return(result)
})
</code></pre>


</div>