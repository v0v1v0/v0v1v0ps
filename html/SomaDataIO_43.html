<div class="container">

<table style="width: 100%;"><tr>
<td>getAnalyteInfo</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get Analyte Annotation Information</h2>

<h3>Description</h3>

<p>Uses the <code>Col.Meta</code> attribute (analyte annotation data that appears above
the protein measurements in the <code style="white-space: pre;">⁠*.adat⁠</code> text file) of a <code>soma_adat</code> object,
adds the <code>AptName</code> column key, conducts a few sanity checks, and
generates a "lookup table" of analyte data that can be used for simple
manipulation and indexing of analyte annotation information.
Most importantly, the analyte column names of the <code>soma_adat</code>
(e.g. <code>seq.XXXX.XX</code>) become the <code>AptName</code> column of the lookup table and
represents the key index between the table and <code>soma_adat</code> from which it comes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getAnalyteInfo(adat)

getTargetNames(tbl)

getFeatureData(adat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>adat</code></td>
<td>
<p>A <code>soma_adat</code> object (with intact attributes),
typically created using <code>read_adat()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tbl</code></td>
<td>
<p>A <code>tibble</code> object containing analyte target annotation
information. This is usually the result of a call to <code>getAnalyteInfo()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>tibble</code> object with columns corresponding
to the column meta data entries in the <code>soma_adat</code>. One row per analyte.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>getTargetNames()</code>: creates a lookup table (or dictionary) as a named list object of <code>AptNames</code>
and Target names in key-value pairs.
This is a convenient tool to quickly access a <code>TargetName</code> given
the <code>AptName</code> in which the key-value pairs map the <code>seq.XXXX.XX</code>
to its corresponding <code>TargetName</code> in <code>tbl</code>.
This structure which provides a convenient auto-completion mechanism at
the command line or for generating plot titles.
</p>
</li>
<li> <p><code>getFeatureData()</code>: <a href="https://lifecycle.r-lib.org/articles/stages.html#superseded"><img src="../help/figures/lifecycle-superseded.svg" alt="[Superseded]"></a>. Please now use <code>getAnalyteInfo()</code>.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Stu Field
</p>


<h3>See Also</h3>

<p><code>getAnalytes()</code>, <code>is_intact_attr()</code>, <code>read_adat()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Get Aptamer table
anno_tbl &lt;- getAnalyteInfo(example_data)
anno_tbl

# Use `dplyr::group_by()`
dplyr::tally(dplyr::group_by(anno_tbl, Dilution))  # print summary by dilution

# Columns containing "Target"
anno_tbl |&gt;
  dplyr::select(dplyr::contains("Target"))

# Rows of "Target" starting with MMP
anno_tbl |&gt;
  dplyr::filter(grepl("^MMP", Target))

# Target names
tg &lt;- getTargetNames(anno_tbl)

# how to use for plotting
feats &lt;- sample(anno_tbl$AptName, 6)
op &lt;- par(mfrow = c(2, 3))
sapply(feats, function(.x) plot(1:10, main = tg[[.x]]))
par(op)
</code></pre>


</div>