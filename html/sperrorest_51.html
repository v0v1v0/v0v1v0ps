<div class="container">

<table style="width: 100%;"><tr>
<td>represampling_factor_bootstrap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bootstrap at an aggregated level</h2>

<h3>Description</h3>

<p><code>represampling_factor_bootstrap</code> resamples partitions defined by
a factor variable. This can be used for non-overlapping block bootstraps
and similar.
</p>


<h3>Usage</h3>

<pre><code class="language-R">represampling_factor_bootstrap(
  data,
  fac,
  repetition = 1,
  nboot = -1,
  seed1 = NULL,
  oob = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>data.frame</code> containing at least the columns specified by
<code>coords</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fac</code></td>
<td>
<p>defines a grouping or partitioning of the samples in <code>data</code>; three
possible types: (1) the name of a variable in <code>data</code> (coerced to factor if
not already a factor variable); (2) a factor variable (or a vector that can
be coerced to factor); (3) a list of factor variables (or vectors that can
be coerced to factor); this list must be of length <code>length(repetition)</code>,
and if it is named, the names must be equal to <code>as.character(repetition)</code>;
this list will typically be generated by a <code style="white-space: pre;">⁠partition.*⁠</code> function with
<code>return_factor = TRUE</code> (see Examples below)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repetition</code></td>
<td>
<p>numeric vector: cross-validation repetitions to be
generated. Note that this is not the number of repetitions, but the indices
of these repetitions. E.g., use <code>repetition = c(1:100)</code> to obtain (the
'first') 100 repetitions, and <code>repetition = c(101:200)</code> to obtain a
different set of 100 repetitions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nboot</code></td>
<td>
<p>number of bootstrap replications used for generating the
bootstrap training sample (<code>nboot[1]</code>) and the test sample (<code>nboot[2]</code>);
<code>nboot[2]</code> is ignored (with a warning) if <code>oob = TRUE</code>. A value of <code>-1</code>
will be substituted with the number of levels of the factor variable,
corresponding to an <em>n</em> out of <em>n</em> bootstrap at the grouping level defined
by <code>fac</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed1</code></td>
<td>
<p><code>seed1+i</code> is the random seed that will be used by set.seed in
repetition <code>i</code> (<code>i</code> in <code>repetition</code>) to initialize the random number
generator before sampling from the data set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>oob</code></td>
<td>
<p>if <code>TRUE</code>, the test sample will be the out-of-bag sample; if
<code>FALSE</code> (default), the test sample is an independently drawn bootstrap
sample of size <code>nboot[2]</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>nboot</code> refers to the number of groups (as defined by the factors)
to be drawn with replacement from the set of groups. I.e., if <code>fac</code> is a
factor variable, <code>nboot</code> would normally not be greater than <code>nlevels(fac)</code>,
<code>nlevels(fac)</code> being the default as per <code>nboot = -1</code>.
</p>


<h3>See Also</h3>

<p>represampling_disc_bootstrap,
represampling_tile_bootstrap
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(ecuador)
# a dummy example for demonstration, performing bootstrap
# at the level of an arbitrary factor variable:
parti &lt;- represampling_factor_bootstrap(ecuador,
  factor(floor(ecuador$dem / 100)),
  oob = TRUE
)
# plot(parti,ecuador)
# using the factor bootstrap for a non-overlapping block bootstrap
# (see also represampling_tile_bootstrap):
fac &lt;- partition_tiles(ecuador,
  return_factor = TRUE, repetition = c(1:3),
  dsplit = 500, min_n = 200, rotation = "random",
  offset = "random"
)
parti &lt;- represampling_factor_bootstrap(ecuador, fac,
  oob = TRUE,
  repetition = c(1:3)
)
# plot(parti, ecuador)
</code></pre>


</div>