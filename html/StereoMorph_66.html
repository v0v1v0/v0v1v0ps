<div class="container">

<table style="width: 100%;"><tr>
<td>calibrateCameras</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Finds the optimized DLT coefficients for a stereo camera setup</h2>

<h3>Description</h3>

<p>This function uses a checkerboard at different positions and angles within a stereo camera setup to estimate DLT calibration coefficients for use in stereo reconstruction. This function is a wrapper for the function <code>dltCalibrateCameras</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calibrateCameras(img.dir, sq.size, nx, ny, cal.file, corner.dir,
                 print.progress = TRUE, flip.view = FALSE, verify.dir = NULL,
                 error.dir = NULL, min.views = 'max', exec.dir = NULL, 
                 undistort = FALSE, num.aspects.read = 'auto', 
                 num.sample.est = 'auto', num.sample.sets = 'auto', 
                 num.aspects.sample = 'auto', max.sample.optim = 30, nlm.calls.max = 20, 
                 fit.min.break = 1, objective.min = 1, objective.min.break = 5, 
                 with.circles = FALSE, sample.est = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>img.dir</code></td>
<td>
<p>folder containing images of the checkerboard pattern, separated into separate folders by view.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sq.size</code></td>
<td>
<p>character string indicating size of checkerboard squares (length along one dimension) including the unit of measure (e.g. '6.35 mm').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nx</code></td>
<td>
<p>integer indicating the number of internal corners along one dimension of the checkerboard.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ny</code></td>
<td>
<p>integer indicating the number of internal corners along the other dimension of the checkerboard.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cal.file</code></td>
<td>
<p>file path to the output calibration file (if it does not already exist one will be created).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>corner.dir</code></td>
<td>
<p>folder where the detected checkerboard corners will be saved (if it does not already exist one will be created).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.progress</code></td>
<td>
<p>logical indicating whether function processes should be printed to the console.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flip.view</code></td>
<td>
<p>logical indicating whether one camera view is upside-down relative to the other.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verify.dir</code></td>
<td>
<p>folder where the images of the checkerboards with detected corners overlaid will be written (if it does not already exist one will be created).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error.dir</code></td>
<td>
<p>folder where the error diagnostic plots will be saved (if it does not already exist one will be created).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.views</code></td>
<td>
<p>integer indicating the minimum views in which corners must be detected in order to use in coefficient estimation. If set to 'max' (default) this will be equal to the number of input views.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exec.dir</code></td>
<td>
<p>file path to folder containing external executables for reading video files (still under development).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>undistort</code></td>
<td>
<p>logical indicating whether to estimate lens distortion correction coefficients (still under development).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.aspects.read</code></td>
<td>
<p>number (integer) of frames to be read from video input. Requires external executables (still under development).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.sample.est</code></td>
<td>
<p>number (integer) of aspects from total that will be sampled calibration coefficient estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.sample.sets</code></td>
<td>
<p>number (integer) of unique sets of aspects to try.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.aspects.sample</code></td>
<td>
<p>number (integer) of aspects to sample for each set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.sample.optim</code></td>
<td>
<p>maximum number (integer) of aspects to be used in identifying the best DLT coefficient set (once already estimated).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nlm.calls.max</code></td>
<td>
<p>maximum number (integer) of different sets of random starting parameters to use during coefficient optimization. This parameter cannot exceed 576.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.min.break</code></td>
<td>
<p>minimum error at which <code>resampleGridImagePoints()</code> will stop iterating to find a better fit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>objective.min.break</code></td>
<td>
<p>minimum error at which optimization will stop estimating the position of additional checkerboards.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>objective.min</code></td>
<td>
<p>The expected mean reconstruction error when optimizing the calibration coefficients (the minimum, or <code>objective</code> value returned by <code>nlminb()</code>). A value between 0.2 and 1.2 should be reasonable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>with.circles</code></td>
<td>
<p>logical indicating whether the checkerboard pattern includes concentric circles for identifying the starting corner. Requires external executables (still under development).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample.est</code></td>
<td>
<p>vector of explicitly defined aspects to use in coefficient estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments to be passed to <code>dltCalibrateCameras</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Please see <a href="https://aaronolsen.github.io/software/stereomorph.html">StereoMorph tutorials</a> for step-by-step tutorials on how to use <strong>StereoMorph</strong> for 2D or 3D shape data collection.
</p>


<h3>Value</h3>

<p>a list of class <code>"calibrateCameras"</code> with the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>cal.coeff</code></td>
<td>
<p>a matrix of 11 optimized DLT calibration coefficients per camera view.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean.reconstruct.rmse</code></td>
<td>
<p>the RMS error when <code>coor.2d</code> and the optimized calibration coefficients <code>cal.coeff</code> are input to <code>dltReconstruct</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coefficient.rmse</code></td>
<td>
<p>the RMS error when <code>coor.2d</code> and the optimized 3D coordinates <code>coor.3d</code> are input to <code>dltCoefficients</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Aaron Olsen</p>


<h3>References</h3>

<p>For a general overview of DLT: <a href="http://kwon3d.com/theory/dlt/dlt.html">http://kwon3d.com/theory/dlt/dlt.html</a>
</p>


<h3>See Also</h3>

<p><code>digitizeImages</code>,
<code>reconstructStereoSets</code>
</p>


</div>