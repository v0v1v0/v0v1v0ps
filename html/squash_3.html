<div class="container">

<table style="width: 100%;"><tr>
<td>cimage</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Draw a matrix of colored rectangles  </h2>

<h3>Description</h3>

<p>Draw a matrix of colored rectangles, possibly of varying sizes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cimage(x = NULL, y = NULL, zcol = NULL, zsize = 1, 
       xlab = NULL, ylab = NULL, xlabels = NULL, ylabels = NULL, 
       border = NA, add = FALSE, axes = TRUE, useRaster = FALSE, ...) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> Vector of rectangle midpoints or breakpoints along X-axis (corresponding to the columns of zcol). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p> Vector of rectangle midpoints or breakpoints along Y-axis (corresponding to the rows of zcol). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zcol</code></td>
<td>
<p> Matrix of colors for each rectangle, e.g. RGB values or integer indices. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zsize</code></td>
<td>
<p> Relative size for each rectangle, ranging from 0 to 1. Will be recycled if necessary.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab, ylab</code></td>
<td>
<p> Labels for the axes. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlabels, ylabels</code></td>
<td>
<p> Categorical labels for rows/columns. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border</code></td>
<td>
<p> Color for rectangle borders. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p> Add to the current plot instead of creating a new one? </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axes</code></td>
<td>
<p> Draw axes on the plot? </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useRaster</code></td>
<td>
<p> TRUE = draw a true raster image (using <code>rasterImage</code>). FALSE = draw a series of individual rectangles. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> Further arguments passed to <code>plot</code>. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Data (<code>x</code>, <code>y</code>, and <code>zcol</code>) can be passed to this function in any format recognized by <code>xyzmat.coords</code>. 
</p>
<p>This function is somewhat similar to the function <code>image</code>, except that the colors are specified explicitly, and the size of each rectangle can be adjusted.
</p>
<p>If <code>xlabels</code> is <code>NULL</code> (the default), standard numeric axes are drawn on the X-axis. If <code>xlabels</code> is <code>TRUE</code>, the rownames of <code>zcol</code> are placed below each column. Otherwise, <code>xlabels</code> is taken as a vector of labels to be placed below each column.  Likewise for <code>ylabels</code> and the Y-axis.
</p>
<p>Using <code>useRaster=TRUE</code> can reduce the file size for large matrices drawn to vector-based graphics output such as PDFs. However, the output may look strange with smaller matrices on graphics devices that do smoothing by default (such as PDF output viewed in Preview). 
</p>


<h3>Value</h3>

<p>None.
</p>


<h3>Note</h3>

<p>Currently, this function will may not behave as expected if the <code>x</code> and/or <code>y</code> values are specified as midpoints and are not evenly spaced.
</p>


<h3>See Also</h3>

  
<p><code>image</code> and <code>rasterImage</code> provide somewhat similar functionality.
</p>
<p>This function is called by <code>colorgram</code>, which accepts a numeric (rather than color) matrix as input.
</p>
<p>The package <span class="pkg">pixmap</span> may be more suitable for plotting images that are not data-driven (e.g. external files).
</p>


<h3>Examples</h3>

<pre><code class="language-R">
  ## Visualize nearly all built-in R colors
  color.mat &lt;- matrix(colors()[1:625], nrow = 25)
  cimage(zcol = color.mat)

  ## An example using "zsize"
  x &lt;- y &lt;- 1:10
  zcolor &lt;- matrix( rainbow(100)[outer(x, y)], nrow = 10 )
  zsize &lt;- matrix( runif(100), nrow = 10 )
  cimage(x, y, zcol = zcolor, zsize = zsize)

  ## Another simple example
  red &lt;- green &lt;- 0:255
  rg &lt;- outer(red, green, rgb, blue = 1, maxColorValue = 255)
  cimage(red, green, zcol = rg)
  
  ## The same, but using useRaster (resulting in faster image generation, 
  ## and smaller file size if saved as a PDF)
  cimage(red, green, zcol = rg, useRaster = TRUE)

  ## An example with categorical axes
  colormixer &lt;- function(x, y) {
      r &lt;- (col2rgb(x) + col2rgb(y)) / 2
      rgb(as.data.frame(t(r)), maxColorValue = 255)
  }
  set.seed(123)
  x &lt;- sample(colors(), 15)
  y &lt;- sample(colors(), 10)
  mix &lt;- outer(x, y, colormixer)
  op &lt;- par(mar = c(8, 8, 2, 2), las = 2)
  cimage(zcol = mix, xlabels = x, ylabels = y, xlab = NA, ylab = NA)
  par(op)
  
  ## An example with non-uniform midpoints and breakpoints
  rg2 &lt;- rg[seq(1, 255, by = 62), seq(1, 255, by = 62)]
  cimage(x = (1:5)^2, y = c(3, 5, 6, 9, 10, 11), zcol = rg2, 
         zsize = matrix(runif(25, min = 0.5), nrow = 5))
    
</code></pre>


</div>