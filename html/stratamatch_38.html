<div class="container">

<table style="width: 100%;"><tr>
<td>split_pilot_set</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Split data into pilot and analysis sets</h2>

<h3>Description</h3>

<p>Given a data set and some parameters about how to split the data, this
function partitions the data accordingly and returns the partitioned data as
a list containing the <code>analysis_set</code> and <code>pilot_set</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">split_pilot_set(
  data,
  treat,
  pilot_fraction = 0.1,
  pilot_size = NULL,
  group_by_covariates = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>data.frame</code> with observations as rows, features as columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treat</code></td>
<td>
<p>string giving the name of column designating treatment
assignment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pilot_fraction</code></td>
<td>
<p>numeric between 0 and 1 giving the proportion of
controls to be allotted for building the prognostic score (default = 0.1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pilot_size</code></td>
<td>
<p>alternative to pilot_fraction. Approximate number of
observations to be used in pilot set. Note that the actual pilot set size
returned may not be exactly <code>pilot_size</code> if <code>group_by_covariates</code>
is specified because balancing by covariates may result in deviations from
desired size. If <code>pilot_size</code> is specified, <code>pilot_fraction</code> is
ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_by_covariates</code></td>
<td>
<p>character vector giving the names of covariates to
be grouped by (optional). If specified, the pilot set will be sampled in a
stratified manner, so that the composition of the pilot set reflects the
composition of the whole data set in terms of these covariates.  The
specified covariates must be categorical.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list with analaysis_set and pilot_set
</p>


<h3>Examples</h3>

<pre><code class="language-R">dat &lt;- make_sample_data()
splt &lt;- split_pilot_set(dat, "treat", 0.2)
# can be passed into auto_stratify if desired
a.strat &lt;- auto_stratify(splt$analysis_set, "treat", outcome ~ X1,
  pilot_sample = splt$pilot_set
)
</code></pre>


</div>