<div class="container">

<table style="width: 100%;"><tr>
<td>selectColonies</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Select colonies from MultiColony object</h2>

<h3>Description</h3>

<p>Level 3 function that selects colonies from
MultiColony object based on colony ID or random selection.
Whilst user can provide all three arguments ID, p and n, there is a priority
list: ID takes first priority. If no ID is provided, p takes precedence over n.
</p>


<h3>Usage</h3>

<pre><code class="language-R">selectColonies(
  multicolony,
  ID = NULL,
  n = NULL,
  p = NULL,
  by = NULL,
  selectTop = TRUE,
  simParamBee = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>multicolony</code></td>
<td>
<p><code>MultiColony-class</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ID</code></td>
<td>
<p>character or numeric, ID of a colony (one or more) to be
selected</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>numeric, number of colonies to select</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>numeric, percentage of colonies selected (takes precedence
over <code>n</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>matrix, matrix of values to select by with names being
colony IDs (can be obtained with <code>calcColonyValue</code>.
If NULL, the colonies are selected at random.
This parameter is used in combination
with <code>n</code> or <code>p</code> to determine the number of selected colonies, and
<code>selectTop</code> to determine whether to select the best or the worst colonies.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>selectTop</code></td>
<td>
<p>logical, selects highest (lowest) values if <code>TRUE</code> (<code>FALSE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simParamBee</code></td>
<td>
<p><code>SimParamBee</code>, global simulation parameters</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>MultiColony-class</code> with selected colonies
</p>


<h3>Examples</h3>

<pre><code class="language-R">founderGenomes &lt;- quickHaplo(nInd = 5, nChr = 1, segSites = 100)
SP &lt;- SimParamBee$new(founderGenomes)

mean &lt;- c(10, 10 / SP$nWorkers)
varA &lt;- c(1, 1 / SP$nWorkers)
corA &lt;- matrix(data = c(
  1.0, -0.5,
  -0.5, 1.0
), nrow = 2, byrow = TRUE)
varE &lt;- c(3, 3 / SP$nWorkers)
varA / (varA + varE)
SP$addTraitADE(nQtlPerChr = 100,
               mean = mean,
               var = varA, corA = corA,
               meanDD = 0.1, varDD = 0.2, corD = corA,
               relAA = 0.1, corAA = corA)
SP$setVarE(varE = varE)

basePop &lt;- createVirginQueens(founderGenomes)

drones &lt;- createDrones(x = basePop[1:4], nInd = 100)
droneGroups &lt;- pullDroneGroupsFromDCA(drones, n = 10, nDrones = 10)
apiary &lt;- createMultiColony(basePop[2:5], n = 4)
apiary &lt;- cross(apiary, drones = droneGroups[1:4])
apiary &lt;- buildUp(apiary)
getId(apiary)

getId(selectColonies(apiary, ID = 1))
getId(selectColonies(apiary, ID = c("3", "4")))
# ... alternative
getId(apiary[1])
getId(apiary[["4"]])

# Select a random number of colonies
selectColonies(apiary, n = 3)
# Select a percentage of colonies
selectColonies(apiary, p = 0.2)

# Since selection is random, you would get a different set of colonies with
# each function call
getId(selectColonies(apiary, p = 0.5))
getId(selectColonies(apiary, p = 0.5))

# How to select colonies based on colony values?
# Obtain colony phenotype
colonyPheno &lt;- calcColonyPheno(apiary)
# Select the best colony
selectColonies(apiary, n = 1, by = colonyPheno)

# Select the worst 2 colonies
selectColonies(apiary, n = 2, by = colonyPheno, selectTop = FALSE)

# Select best colony based on queen's genetic value for trait 1
queenGv &lt;- calcColonyGv(apiary, FUN = mapCasteToColonyGv, workersTrait = NULL)
selectColonies(apiary, n = 1, by = queenGv)

</code></pre>


</div>