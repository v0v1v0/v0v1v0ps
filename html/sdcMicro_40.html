<div class="container">

<table style="width: 100%;"><tr>
<td>mafast</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fast and Simple Microaggregation</h2>

<h3>Description</h3>

<p>Function to perform a fast and simple (primitive) method of
microaggregation. (for large datasets)
</p>


<h3>Usage</h3>

<pre><code class="language-R">mafast(obj, variables = NULL, by = NULL, aggr = 3, measure = mean)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>either a <code>sdcMicroObj-class</code>-object or a <code>data.frame</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variables</code></td>
<td>
<p>variables to microaggregate. If obj is of class sdcMicroObj
the numerical key variables are chosen per default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>grouping variable for microaggregation. If obj is of class
sdcMicroObj the strata variables are chosen per default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aggr</code></td>
<td>
<p>aggregation level (default=3)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measure</code></td>
<td>
<p>aggregation statistic, mean, median, trim, onestep (default =
mean)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If ‘obj’ was of class <code>sdcMicroObj-class</code> the corresponding
slots are filled, like manipNumVars, risk and utility.  If ‘obj’ was
of class “data.frame” or “matrix” an object of the same class
is returned.
</p>


<h3>Author(s)</h3>

<p>Alexander Kowarik
</p>


<h3>See Also</h3>

<p><code>microaggregation</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(Tarragona)
m1 &lt;- mafast(Tarragona, variables=c("GROSS.PROFIT","OPERATING.PROFIT","SALES"),aggr=3)
data(testdata)
m2 &lt;- mafast(testdata,variables=c("expend","income","savings"),aggr=50,by="sex")
summary(m2)

## for objects of class sdcMicro:
data(testdata2)
sdc &lt;- createSdcObj(testdata2,
  keyVars=c('urbrur','roof','walls','water','electcon','relat','sex'),
  numVars=c('expend','income','savings'), w='sampling_weight')
sdc &lt;- dRisk(sdc)
sdc@risk$numeric
sdc1 &lt;- mafast(sdc,aggr=4)
sdc1@risk$numeric

sdc2 &lt;- mafast(sdc,aggr=10)
sdc2@risk$numeric

### Performance tests
x &lt;- testdata
for(i in 1:20){
  x &lt;- rbind(x,testdata)
}
system.time({
  xx &lt;- mafast(
    obj = x,
    variables = c("expend", "income", "savings"),
    aggr = 50,
    by = "sex"
  )
})


</code></pre>


</div>