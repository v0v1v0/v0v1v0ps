<div class="container">

<table style="width: 100%;"><tr>
<td>sim_test_data_study</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>simulate study test data</h2>

<h3>Description</h3>

<p>evenly distributes a number of given patients across a number of
given sites. Then simulates ae development of each patient reducing the
number of reported AEs for patients distributed to AE-under-reporting
sites.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sim_test_data_study(
  n_pat = 1000,
  n_sites = 20,
  frac_site_with_ur = 0,
  ur_rate = 0,
  max_visit_mean = 20,
  max_visit_sd = 4,
  ae_per_visit_mean = 0.5,
  ae_rates = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n_pat</code></td>
<td>
<p>integer, number of patients, Default: 1000</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_sites</code></td>
<td>
<p>integer, number of sites, Default: 20</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frac_site_with_ur</code></td>
<td>
<p>fraction of AE under-reporting sites, Default: 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ur_rate</code></td>
<td>
<p>AE under-reporting rate, will lower mean ae per visit used to
simulate patients at sites flagged as AE-under-reporting. Negative Values
will simulate over-reporting., Default: 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_visit_mean</code></td>
<td>
<p>mean of the maximum number of visits of each patient,
Default: 20</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_visit_sd</code></td>
<td>
<p>standard deviation of maximum number of visits of each
patient, Default: 4</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ae_per_visit_mean</code></td>
<td>
<p>mean ae per visit per patient, Default: 0.5</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ae_rates</code></td>
<td>
<p>vector with visit-specific ae rates, Default: Null</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>maximum visit number will be sampled from normal distribution with
characteristics derived from max_visit_mean and max_visit_sd, while the ae
per visit will be sampled from a poisson distribution described by
ae_per_visit_mean.
</p>


<h3>Value</h3>

<p>tibble with columns site_number, patnum, is_ur, max_visit_mean,
max_visit_sd, ae_per_visit_mean, visit, n_ae
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(1)
df_visit &lt;- sim_test_data_study(n_pat = 100, n_sites = 5)
df_visit[which(df_visit$patnum == "P000001"),]
df_visit &lt;- sim_test_data_study(n_pat = 100, n_sites = 5,
    frac_site_with_ur = 0.2, ur_rate = 0.5)
df_visit[which(df_visit$patnum == "P000001"),]
ae_rates &lt;- c(0.7, rep(0.5, 8), rep(0.3, 5))
sim_test_data_study(n_pat = 100, n_sites = 5, ae_rates = ae_rates)
</code></pre>


</div>