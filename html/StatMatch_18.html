<div class="container">

<table style="width: 100%;"><tr>
<td>plotCont</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>graphical comparison of the estimated distributions for the same continuous variable.</h2>

<h3>Description</h3>

<p>Compares graphically the estimated distributions for the same continuous variable using data coming from two different data sources.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotCont(data.A, data.B, xlab.A, xlab.B=NULL, w.A=NULL, w.B=NULL,
         type="density", ref=FALSE) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data.A</code></td>
<td>

<p>A dataframe or matrix containing the variable of interest <code>xlab.A</code> and eventual associated survey weights <code>w.A</code>. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.B</code></td>
<td>

<p>A dataframe or matrix containing the variable of interest <code>xlab.B</code> and eventual associated survey weights <code>w.B</code>. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab.A</code></td>
<td>

<p>Character string providing the name of the variable in <code>data.A</code> whose distribution should be represented graphically and compared with that estimated from <code>data.B</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab.B</code></td>
<td>

<p>Character string providing the name of the variable in <code>data.B</code> whose distribution should be represented graphically and compared with that estimated from <code>data.A</code>. If <code>xlab.B=NULL</code> (default) then it assumed <code>xlab.B=xlab.A</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w.A</code></td>
<td>

<p>Character string providing the name of the optional weighting variable in <code>data.A</code> that, in case, should be used to estimate the distribution of <code>xlab.A</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w.B</code></td>
<td>

<p>Character string providing the name of the optional weighting variable in <code>data.B</code> that, in case, should be used to estimate the distribution of <code>xlab.B</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>

<p>A character string indicating the type of graphical representation that should be used to compare the estimated distributions of <code>xlab.A</code> and <code>xlab.B</code>. By default (<code>type="density"</code>) density plots are used. Other possible options are “ecdf”, “qqplot”, “qqshift” and “hist”. See Details for more information.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref</code></td>
<td>

<p>Logical, indicating whether the distribution estimated from <code>data.B</code> should be considered the reference or not. Default <code>ref=FALSE</code>. when Default <code>ref=TRUE</code> the estimation of the histograms, the density and the empirical cumulative distribution function are guided by data in  <code>data.B</code> 
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function compares graphically the distribution of the same variable but estimated from data coming from two different data sources. The graphical comparison con be done in different manners. 
When <code>type="hist"</code> the continuous variable is categorized and the corresponding histograms, estimated from <code>data.A</code> and <code>data.B</code>, are compared. When present, the weights are used in estimating the relative frequencies. Note that the breaks to categorize the variable are decided according to the Freedman-Diaconis rule (<code>nclass</code>) and, in this case, with <code>ref=TRUE</code> the IQR is estimated solely on <code>data.B</code>, whereas with <code>ref=FALSE</code> it is estimated by joining the two data sources.
</p>
<p>With <code>type="density"</code> the density plots are drawn; when available the weights are used in the estimation of the density that are based on the histograms (as suggested by Bellhouse and Stafford, 1999). When<code>type="ecdf"</code> the comparison relies on the empirical cumulative distribution function, that can be estimated considering the weights. Note that when <code>ref=TRUE</code> the estimation of the density and the empirical cumulative distribution are guided by the data in  <code>data.B</code>.
</p>
<p>The comparison is based on percentiles with <code>type="qqplot"</code> and <code>type="qqshift"</code>. In the first case, the function draws a scatterplot (red dots) of the estimated percentiles of <code>xlab.A</code> vs. those of <code>xlab.B</code>; the dashed line indicated the ideal situation of equality of percentiles (points lying on the line). When <code>type="qqshift"</code> the scatterplot refers to (percentiles.A - percentiles.B) vs. percentiles.B; in this case the points lying on horizontal line passing through 0 indicate equality (difference equal to 0). Note that the number of estimated percentiles depends on the minimum between the two sample sizes. Only quartiles are calculated when min(n.A, n.B)&lt;=50; quintiles are estimated when min(n.A, n.B)&gt;50 and min(n.A, n.B)&lt;=150; deciles are estimated when min(n.A, n.B)&gt;150 and min(n.A, n.B)&lt;=250; finally quantiles for <code>probs=seq(from = 0.05,to = 0.95,by = 0.05)</code> are estimated when min(n.A, n.B)&gt;250. When survey weights are available (indicated through <code>w.A</code> and/or <code>w.B</code>) they are used in estimating the quantiles by calling the function <code>wtd.quantile</code> in the package <span class="pkg">Hmisc</span>.
</p>


<h3>Value</h3>

<p>The required graphical representation is drawn using the <span class="pkg">ggplot2</span> facilities.
</p>


<h3>Author(s)</h3>

<p>Marcello D'Orazio <a href="mailto:mdo.statmatch@gmail.com">mdo.statmatch@gmail.com</a> 
</p>


<h3>References</h3>

<p>Bellhouse D.R. and J. E. Stafford (1999). “Density Estimation from Complex Surveys”. <em>Statistica Sinica</em>, <b>9</b>, 407–424.
</p>


<h3>See Also</h3>

<p><code>comp.cont</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# plotCont(data.A = samp.A, data.B = samp.B, xlab.A="age")
# plotCont(data.A = samp.A, data.B = samp.B, xlab.A="age", w.A = "ww")

</code></pre>


</div>