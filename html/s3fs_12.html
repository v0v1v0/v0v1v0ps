<div class="container">

<table style="width: 100%;"><tr>
<td>info</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get files and directories information</h2>

<h3>Description</h3>

<p><code>s3_file_info</code> returns file information within AWS S3 directory
</p>
<p><code>s3_file_size</code> returns file size in bytes
</p>
<p><code>s3_dir_info</code> returns file name information within AWS S3 directory
</p>
<p><code>s3_dir_ls</code> returns file name within AWS S3 directory
</p>


<h3>Usage</h3>

<pre><code class="language-R">s3_file_info(path)

s3_file_size(path)

s3_dir_info(
  path = ".",
  type = c("any", "bucket", "directory", "file"),
  glob = NULL,
  regexp = NULL,
  invert = FALSE,
  recurse = FALSE,
  refresh = FALSE,
  ...
)

s3_dir_ls(
  path = ".",
  type = c("any", "bucket", "directory", "file"),
  glob = NULL,
  regexp = NULL,
  invert = FALSE,
  recurse = FALSE,
  refresh = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>(character):A character vector of one or more paths. Can be path
or s3 uri.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>(character): File type(s) to return. Default ("any") returns all
AWS S3 object types.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>glob</code></td>
<td>
<p>(character): A wildcard pattern (e.g. <code>*.csv</code>), passed onto
<code>grep()</code> to filter paths.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>regexp</code></td>
<td>
<p>(character): A regular expression (e.g. <code>[.]csv$</code>),
passed onto <code>grep()</code> to filter paths.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>invert</code></td>
<td>
<p>(logical): If <code>code</code> return files which do not match.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recurse</code></td>
<td>
<p>(logical): Returns all AWS S3 objects in lower sub directories</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refresh</code></td>
<td>
<p>(logical): Refresh cached in <code>s3_cache</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>parameters to be passed to <code>s3_list_objects_v2</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>s3_file_info</code> A data.table with metadata for each file. Columns returned are as follows.
</p>

<ul>
<li>
<p>bucket_name (character): AWS S3 bucket of file
</p>
</li>
<li>
<p>key (character): AWS S3 path key of file
</p>
</li>
<li>
<p>uri (character): S3 uri of file
</p>
</li>
<li>
<p>size (numeric): file size in bytes
</p>
</li>
<li>
<p>type (character): file type (file or directory)
</p>
</li>
<li>
<p>etag (character): An entity tag is an opague identifier
</p>
</li>
<li>
<p>last_modified (POSIXct): Created date of file.
</p>
</li>
<li>
<p>delete_marker (logical): Specifies retrieved a logical marker
</p>
</li>
<li>
<p>accept_ranges (character): Indicates that a range of bytes was specified.
</p>
</li>
<li>
<p>expiration (character): File expiration
</p>
</li>
<li>
<p>restore (character): If file is archived
</p>
</li>
<li>
<p>archive_status (character): Archive status
</p>
</li>
<li>
<p>missing_meta (integer): Number of metadata entries not returned in "x-amz-meta" headers
</p>
</li>
<li>
<p>version_id (character): version id of file
</p>
</li>
<li>
<p>cache_control (character): caching behaviour for the request/reply chain
</p>
</li>
<li>
<p>content_disposition (character): presentational information of file
</p>
</li>
<li>
<p>content_encoding (character): file content encodings
</p>
</li>
<li>
<p>content_language (character): what language the content is in
</p>
</li>
<li>
<p>content_type (character): file MIME type
</p>
</li>
<li>
<p>expires (POSIXct): date and time the file is no longer cacheable
</p>
</li>
<li>
<p>website_redirect_location (character): redirects request for file to another
</p>
</li>
<li>
<p>server_side_encryption (character): File server side encryption
</p>
</li>
<li>
<p>metadata (list): metadata of file
</p>
</li>
<li>
<p>sse_customer_algorithm (character): server-side encryption with a customer-provided encryption key
</p>
</li>
<li>
<p>sse_customer_key_md5 (character): server-side encryption with a customer-provided encryption key
</p>
</li>
<li>
<p>ssekms_key_id (character): ID of the Amazon Web Services Key Management Service
</p>
</li>
<li>
<p>bucket_key_enabled (logical): s3 bucket key for server-side encryption with
</p>
</li>
<li>
<p>storage_class (character): file storage class information
</p>
</li>
<li>
<p>request_charged (character): indicates successfully charged for request
</p>
</li>
<li>
<p>replication_status (character): return specific header if request
involves a bucket that is either a source or a destination in a replication rule
<a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3.html#S3.Client.head_object">https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3.html#S3.Client.head_object</a>
</p>
</li>
<li>
<p>parts_count (integer): number of count parts the file has
</p>
</li>
<li>
<p>object_lock_mode (character): the file lock mode
</p>
</li>
<li>
<p>object_lock_retain_until_date (POSIXct): date and time of when object_lock_mode expires
</p>
</li>
<li>
<p>object_lock_legal_hold_status (character): file legal holding
</p>
</li>
</ul>
<p><code>s3_dir_info</code> data.table with directory metadata
</p>

<ul>
<li>
<p>bucket_name (character): AWS S3 bucket of file
</p>
</li>
<li>
<p>key (character): AWS S3 path key of file
</p>
</li>
<li>
<p>uri (character): S3 uri of file
</p>
</li>
<li>
<p>size (numeric): file size in bytes
</p>
</li>
<li>
<p>version_id (character): version id of file
</p>
</li>
<li>
<p>etag (character): An entity tag is an opague identifier
</p>
</li>
<li>
<p>last_modified (POSIXct): Created date of file
</p>
</li>
</ul>
<p><code>s3_dir_ls</code> character vector of s3 uri paths
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Require AWS S3 credentials

temp_file = s3_file_temp(tmp_dir= "MyBucket")
s3_file_create(temp_file)

s3_file_info(temp_file)

## End(Not run)
</code></pre>


</div>