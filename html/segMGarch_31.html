<div class="container">

<table style="width: 100%;"><tr>
<td>TL</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Method to backtest VaR violation using the Traffic Light (TL) approach of Basel</h2>

<h3>Description</h3>

<p>A method that performs backtest for VaR models using the TL approach. According to Basel, a VaR model is deemed valid if the cumulative probability of observing up to
<code class="reqn">n_f</code> failures is less than 0.95 (green zone) under the binomial distribution with <code class="reqn">n</code> (sample size) and Var level as
the parameters. If the cumulative probability is between 0.95 and 0.9999 a VaR model is in yellow zone. Otherwise (&gt;0.9999) a VaR model is in red zone.
</p>


<h3>Usage</h3>

<pre><code class="language-R">TL(y, n = NULL, no_fail = NULL, VaR, VaR_level)

## S4 method for signature 'ANY'
TL(y, n = NULL, no_fail = NULL, VaR, VaR_level)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>The time series to apply a VaR model (a single asset rerurn or portfolio return).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>If <code>y</code> is not provided, then insert sample size. Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>no_fail</code></td>
<td>
<p>If <code>y</code> is not provided, then insert number of fails. Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>VaR</code></td>
<td>
<p>The forecast VaR.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>VaR_level</code></td>
<td>
<p>The VaR level, typically 95% or 99%.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Basle Committee on Banking Supervision (1996). "Supervisory Framework for the Use of ‘Backtesting’ in Conjunction with the Internal Models Approach to Market Risk Capital Requirements".
</p>


<h3>Examples</h3>

<pre><code class="language-R">pw.CCC.obj = new("simMGarch")
pw.CCC.obj@d = 10
pw.CCC.obj@n = 1000
pw.CCC.obj@changepoints = c(250,750)
pw.CCC.obj = pc_cccsim(pw.CCC.obj)
y_out_of_sample = t(pw.CCC.obj@y[,900:1000])
w=rep(1/pw.CCC.obj@d,pw.CCC.obj@d) #an equally weighted portfolio
#VaR = quantile(t(pw.CCC.obj@y[,1:899])%*%w,0.05)
#ts.plot(y_out_of_sample%*%w,ylab="portfolio return");abline(h=VaR,col="red")
#TL(y=y_out_of_sample%*%w,VaR=rep(VaR,100),VaR_level = 0.95)
</code></pre>


</div>