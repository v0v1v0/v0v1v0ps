<div class="container">

<table style="width: 100%;"><tr>
<td>catSpatInterp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Categorical Spatial Interpolation</h2>

<h3>Description</h3>

<p>Create a raster of probability of categorical values 
interpolated across a 2-dimensional space given a set of points where 
each is assigned to one of several classes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">catSpatInterp(
  data,
  x.col = "x",
  y.col = "y",
  group.col = "group",
  num.grid = 100,
  knn = 10,
  hull.buffer = 0.1,
  num.cores = 1,
  num.batches = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>matrix or data.frame containing points and grouping designation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.col, y.col, group.col</code></td>
<td>
<p>numbers or characters identifying which columns 
in <code>data</code> are the x and y values and grouping designation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.grid</code></td>
<td>
<p>number of grid cells for k-nearest neighbor interpolation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>knn</code></td>
<td>
<p>number of nearest neighbors to consider for interpolation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hull.buffer</code></td>
<td>
<p>percent increase of convex hull to use as spatial area to
interpolate over.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.cores</code></td>
<td>
<p>number of cores to distribute interpolations over.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.batches</code></td>
<td>
<p>number of batches to divide grid cell interpolations into.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing a raster and points of buffered convex hull.
</p>


<h3>Author(s)</h3>

<p>Eric Archer <a href="mailto:eric.archer@noaa.gov">eric.archer@noaa.gov</a>
</p>


<h3>References</h3>

<p>Adapted from code originally presented in a blog post on 
Categorical Spatial Interpolation by Timo Grossenbacher
<a href="https://timogrossenbacher.ch/2018/03/categorical-spatial-interpolation-with-r/">https://timogrossenbacher.ch/2018/03/categorical-spatial-interpolation-with-r/</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
iris.mds &lt;- stats::cmdscale(dist(iris[, 1:4]), k = 2)
mds.df &lt;- setNames(
  cbind(iris.mds, data.frame(iris$Species)),
  c("dim1", "dim2", "Species")
)

result &lt;- catSpatInterp(
  mds.df, x.col = "dim1", y.col = "dim2", group.col = "Species", 
  num.grid = 300, knn = 20, hull.buffer = 0.05,
  num.cores = 5, num.batches = NULL
)

library(ggplot2)
ggplot(mapping = aes(dim1, dim2)) +
  geom_raster(
    aes(fill = Species, alpha = prob), 
    data = result$raster
  ) +
  geom_polygon(data = result$hull.poly, fill = NA, col = "black") +
  geom_hline(yintercept = 0, col = "white") +
  geom_vline(xintercept = 0, col = "white") +
  geom_point(
    aes(fill = Species), 
    data = mds.df, 
    col = "black", 
    shape = 21, 
    size = 4
  ) + 
  theme(
    axis.ticks = element_blank(),
    axis.text = element_blank(),
    axis.title = element_blank(),
    legend.position = "top",
    panel.grid = element_blank(),
    panel.background = element_blank()
  )

## End(Not run)

</code></pre>


</div>