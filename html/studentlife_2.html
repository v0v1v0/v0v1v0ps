<div class="container">

<table style="width: 100%;"><tr>
<td>add_block_labels</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>add_block_labels</h2>

<h3>Description</h3>

<p>Classify observations from an <code>SL_tibble</code>
into block labels using available
date-time information. See more information
about "blocks" under the details section.
Daylight savings is ignored, and started on 31st March 2013.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_block_labels(
  tab,
  type = c("hour_in_day", "epoch", "day", "week", "weekday", "month", "date"),
  interval = "start",
  warning = TRUE,
  start_date = getOption("SL_start"),
  epoch_levels = getOption("SL_epoch_levels"),
  epoch_ubs = getOption("SL_epoch_ubs"),
  unsafe = F
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tab</code></td>
<td>
<p>An <code>SL_tibble</code> as returned
by the function <code>load_SL_tibble</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A character vector of block label types
to include. Can be one or more of "epoch", "day",
"week", "weekday", "month" and "date". Any block label types that
are not inferrable from the available date-time data are ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval</code></td>
<td>
<p>A character string that decides how block
membership is decided when <code>tab</code> is of class
<code>interval_SL_tibble</code>. Can be either "start"
(use <code>start_timestamp</code>),
"end" (use <code>end_timestamp</code>) or "middle" (use the midpoint between
<code>start_timestamp</code> and <code>end_timestamp</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warning</code></td>
<td>
<p>Logical. If <code>TRUE</code> then a warning is produced
whenever a block label type is not inferrable from the
available date-time data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_date</code></td>
<td>
<p>Date. The date that the StudentLife study started.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epoch_levels</code></td>
<td>
<p>A character vector of epoch levels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epoch_ubs</code></td>
<td>
<p>An integer vector that defines the hour that is
the upper boundary of each epoch.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unsafe</code></td>
<td>
<p>A logical. Default is <code>FALSE</code>. If this is
set to <code>TRUE</code> then less checks will be performed.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Block label types can be one or more of "epoch"
(giving labels morning, evening, afternoon and night),
"day" (giving number of days since the <code>start_date</code> of the
StudentLife study),
"week" (giving integer number of weeks since the first week of the
StudentLife study, rounded downs),
"weekday" (giving the day of the week),
"month" (giving integer number of months since the start of the
StudentLife study, rounded down) and "date".
</p>


<h3>Examples</h3>

<pre><code class="language-R">d &lt;- tempdir()
download_studentlife(location = d, url = "testdata")

tab &lt;- load_SL_tibble(
  loc = d, schema = "sensing", table = "activity", csv_nrows = 10)

b_tab &lt;- add_block_labels(tab)
b_tab


</code></pre>


</div>