<div class="container">

<table style="width: 100%;"><tr>
<td>sdf_explode</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Explode data along a column</h2>

<h3>Description</h3>

<p>Exploding an array column of length <code>N</code> will replicate the top level record <code>N</code> times.
The i^th replicated record will contain a struct (not an array) corresponding to the i^th element
of the exploded array. Exploding will not promote any fields or otherwise change the schema of
the data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sdf_explode(x, column, is_map = FALSE, keep_all = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object (usually a <code>spark_tbl</code>) coercible to a Spark DataFrame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>column</code></td>
<td>
<p>The field to explode</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>is_map</code></td>
<td>
<p>Logical. The (scala) <code>explode</code> method works for both <code>array</code> and <code>map</code>
column types. If the column to explode in an array, then <code>is_map=FALSE</code> will ensure that
the exploded output retains the name of the array column. If however the column to explode is
a map, then the map will have key/value names that will be used if <code>is_map=TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_all</code></td>
<td>
<p>Logical. If <code>FALSE</code> then records where the exploded value is empty/null
will be dropped.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Two types of exploding are possible. The default method calls the scala <code>explode</code> method.
This operation is supported in both Spark version &gt; 1.6. It will however drop records where the
exploding field is empty/null. Alternatively <code>keep_all=TRUE</code> will use the <code>explode_outer</code>
scala method introduced in spark 2 to not drop any records.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# first get some nested data
iris_tbl &lt;- copy_to(sc, iris, name="iris")
iris_nst &lt;- iris_tbl %&gt;%
  sdf_nest(Sepal_Length, Sepal_Width, Petal_Length, Petal_Width, .key="data") %&gt;%
  group_by(Species) %&gt;%
  summarize(data=collect_list(data))

# then explode it
iris_nst %&gt;% sdf_explode(data)

## End(Not run)
</code></pre>


</div>