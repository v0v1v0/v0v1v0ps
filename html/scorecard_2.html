<div class="container">

<table style="width: 100%;"><tr>
<td>gains_table</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Gains Table</h2>

<h3>Description</h3>

<p><code>gains_table</code> creates a data frame including distribution of total, negative, positive, positive rate and rejected rate by score bins. The gains table is used in conjunction with financial and operational considerations to make cutoff decisions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gains_table(score, label, bin_num = 10, method = "freq", width_by = NULL,
  breaks_by = NULL, positive = "bad|1", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>score</code></td>
<td>
<p>A list of credit score for actual and expected data samples. For example, score = list(actual = scoreA, expect = scoreE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>A list of label value for actual and expected data samples. For example, label = list(actual = labelA, expect = labelE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bin_num</code></td>
<td>
<p>Integer, the number of score bins. Defaults to 10. If it is 'max', then individual scores are used as bins.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>The score is binning by equal frequency or equal width. Accepted values are 'freq' and 'width'. Defaults to 'freq'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width_by</code></td>
<td>
<p>Number, increment of the score breaks when method is set as 'width'. If it is provided the above parameter bin_num will not be used. Defaults to NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks_by</code></td>
<td>
<p>The name of data set to create breakpoints. Defaults to the first data set. Or numeric values to set breakpoints manually.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>positive</code></td>
<td>
<p>Value of positive class, Defaults to "bad|1".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame
</p>


<h3>See Also</h3>

<p><code>perf_eva</code> <code>perf_psi</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# load germancredit data
data("germancredit")
# filter variable via missing rate, iv, identical value rate
dtvf = var_filter(germancredit, "creditability")

# breaking dt into train and test
dt_list = split_df(dtvf, "creditability")
label_list = lapply(dt_list, function(x) x$creditability)

# binning
bins = woebin(dt_list$train, "creditability")
# scorecard
card = scorecard2(bins, dt = dt_list$train, y = 'creditability')

# credit score
score_list = lapply(dt_list, function(x) scorecard_ply(x, card))


###### gains_table examples ######
# Example I, input score and label can be a vector or a list
g1 = gains_table(score = unlist(score_list), label = unlist(label_list))
g2 = gains_table(score = score_list, label = label_list)

# Example II, specify the bins number and type
g3 = gains_table(score = unlist(score_list), label = unlist(label_list), bin_num = 20)
g4 = gains_table(score = unlist(score_list), label = unlist(label_list), method = 'width')


</code></pre>


</div>