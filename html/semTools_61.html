<div class="container">

<table style="width: 100%;"><tr>
<td>longInvariance-deprecated</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Measurement Invariance Tests Within Person</h2>

<h3>Description</h3>

<p>Testing measurement invariance across timepoints (longitudinal) or any
context involving the use of the same scale in one case (e.g., a dyad case
with husband and wife answering the same scale). The measurement invariance
uses a typical sequence of model comparison tests. This function currently
works with only one scale, and only with continuous indicators.
</p>


<h3>Usage</h3>

<pre><code class="language-R">longInvariance(model, varList, auto = "all", constrainAuto = FALSE,
               fixed.x = TRUE, std.lv = FALSE, group = NULL,
               group.equal = "", group.partial = "", strict = FALSE,
               warn = TRUE, debug = FALSE, quiet = FALSE,
               fit.measures = "default", baseline.model = NULL,
               method = "satorra.bentler.2001", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>lavaan syntax or parameter table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varList</code></td>
<td>
<p>A list containing indicator names of factors used in the
invariance testing, such as the list that the first element is the vector
of indicator names in the first timepoint and the second element is the
vector of indicator names in the second timepoint. The order of indicator
names should be the same (but measured in different times or different
units).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auto</code></td>
<td>
<p>The order of autocorrelation on the measurement errors on the
similar items across factor (e.g., Item 1 in Time 1 and Time 2). If 0 is
specified, the autocorrelation will be not imposed. If 1 is specified,
the autocorrelation will imposed for the adjacent factor listed in
<code>varList</code>. The maximum number can be specified is the number of
factors specified minus 1. If <code>"all"</code> is specified, the maximum
number of order will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constrainAuto</code></td>
<td>
<p>If <code>TRUE</code>, the function will equate the
auto-<em>covariance</em> to be equal within the same item across factors.
For example, the covariance of item 1 in time 1 and time 2 is equal to
the covariance of item 1 in time 2 and time 3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed.x</code></td>
<td>
<p>See <code>lavaan.</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>std.lv</code></td>
<td>
<p>See <code>lavaan.</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>See <code>lavaan.</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group.equal</code></td>
<td>
<p>See <code>lavaan.</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group.partial</code></td>
<td>
<p>See <code>lavaan.</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>
<p>If <code>TRUE</code>, the sequence requires strict invariance. See</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn</code></td>
<td>
<p>See <code>lavaan.</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>debug</code></td>
<td>
<p>See <code>lavaan.</code> details for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>If <code>FALSE</code> (default), a summary is printed out containing
an overview of the different models that are fitted, together with some
model comparison tests. If <code>TRUE</code>, no summary is printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.measures</code></td>
<td>
<p>Fit measures used to calculate the differences between
nested models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>baseline.model</code></td>
<td>
<p>custom baseline model passed to
<code>fitMeasures</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>The method used to calculate likelihood ratio test. See
<code>lavTestLRT</code> for available options</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments in the <code>lavaan</code>
function. See also <code>lavOptions</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>strict = FALSE</code>, the following four models are tested in order:
</p>

<ol>
<li>
<p> Model 1: configural invariance. The same factor structure is
imposed on all units.
</p>
</li>
<li>
<p> Model 2: weak invariance. The factor loadings are constrained to be
equal across units.
</p>
</li>
<li>
<p> Model 3: strong invariance. The factor loadings and intercepts are
constrained to be equal across units.
</p>
</li>
<li>
<p> Model 4: The factor loadings, intercepts and means are constrained to
be equal across units.
</p>
</li>
</ol>
<p>Each time a more restricted model is fitted, a <code class="reqn">\Delta\chi^2</code> test is
reported, comparing the current model with the previous one, and comparing
the current model to the baseline model (Model 1). In addition, the
difference in CFA is also reported (<code class="reqn">\Delta</code>CFI).
</p>
<p>If <code>strict = TRUE</code>, the following five models are tested in order:
</p>

<ol>
<li>
<p> Model 1: configural invariance. The same factor structure is imposed
on all units.
</p>
</li>
<li>
<p> Model 2: weak invariance. The factor loadings are constrained to be
equal across units.
</p>
</li>
<li>
<p> Model 3: strong invariance. The factor loadings and intercepts are
constrained to be equal across units.
</p>
</li>
<li>
<p> Model 4: strict invariance. The factor loadings, intercepts and
residual variances are constrained to be equal across units.
</p>
</li>
<li>
<p> Model 5: The factor loadings, intercepts, residual variances and
means are constrained to be equal across units.
</p>
</li>
</ol>
<p>Note that if the <code class="reqn">\chi^2</code> test statistic is scaled (eg. a Satorra-Bentler
or Yuan-Bentler test statistic), a special version of the <code class="reqn">\Delta\chi^2</code>
test is used as described in <a href="http://www.statmodel.com/chidiff.shtml">http://www.statmodel.com/chidiff.shtml</a>
</p>


<h3>Value</h3>

<p>Invisibly, all model fits in the sequence are returned as a list.
</p>


<h3>Author(s)</h3>

<p>Sunthud Pornprasertmanit (<a href="mailto:psunthud@gmail.com">psunthud@gmail.com</a>)
</p>
<p>Yves Rosseel (Ghent University; <a href="mailto:Yves.Rosseel@UGent.be">Yves.Rosseel@UGent.be</a>)
</p>
<p>Terrence D. Jorgensen (University of Amsterdam; <a href="mailto:TJorgensen314@gmail.com">TJorgensen314@gmail.com</a>)
</p>


<h3>References</h3>

<p>Vandenberg, R. J., and Lance, C. E. (2000). A review and
synthesis of the measurement invariance literature: Suggestions,
practices, and recommendations for organizational research.
<em>Organizational Research Methods, 3</em>(1), 4â€“70.
<a href="https://doi.org/10.1177/109442810031002">doi:10.1177/109442810031002</a>
</p>


<h3>See Also</h3>

<p><code>semTools-deprecated</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
model &lt;- ' f1t1 =~ y1t1 + y2t1 + y3t1
           f1t2 =~ y1t2 + y2t2 + y3t2
			      f1t3 =~ y1t3 + y2t3 + y3t3 '

## Create list of variables
var1 &lt;- c("y1t1", "y2t1", "y3t1")
var2 &lt;- c("y1t2", "y2t2", "y3t2")
var3 &lt;- c("y1t3", "y2t3", "y3t3")
constrainedVar &lt;- list(var1, var2, var3)

## Invariance of the same factor across timepoints
longInvariance(model, auto = 1, constrainAuto = TRUE,
               varList = constrainedVar, data = exLong)

## Invariance of the same factor across timepoints and groups
longInvariance(model, auto = 1, constrainAuto = TRUE,
               varList = constrainedVar, data = exLong, group = "sex",
	              group.equal = c("loadings", "intercepts"))

</code></pre>


</div>