<div class="container">

<table style="width: 100%;"><tr>
<td>sim_R</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate starting abundance, random recruitment and total mortality</h2>

<h3>Description</h3>

<p>These functions return a function to use inside <code>sim_abundance</code>.
Given parameters, it generates N0, R and Z values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sim_R(log_mean = log(3e+07), log_sd = 0.5, random_walk = TRUE, plot = FALSE)

sim_Z(
  log_mean = log(0.5),
  log_sd = 0.2,
  phi_age = 0.9,
  phi_year = 0.5,
  plot = FALSE
)

sim_N0(N0 = "exp", plot = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>log_mean</code></td>
<td>
<p>One mean value or a vector of means, in log scale, of length equal to years for <code>sim_R</code> or a matrix of means with
rows equaling the number of ages and columns equaling the number of years for <code>sim_Z</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log_sd</code></td>
<td>
<p>Standard deviation of the variable in the log scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random_walk</code></td>
<td>
<p>Simulate recruitment as a random walk?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>produce a simple plot of the simulated values?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phi_age</code></td>
<td>
<p>Autoregressive parameter for the age dimension.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phi_year</code></td>
<td>
<p>Autoregressive parameter for the year dimension.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N0</code></td>
<td>
<p>Either specify "exp" or numeric vector of starting abundance excluding the first age.
If "exp" is specified using sim_N0, then abundance at age are calculated using exponential decay.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>sim_R generates uncorrelated recruitment values or random walk values from a log normal distribution.
sim_Z does the same as sim_R when phi_age and phi_year are both 0, otherwise values are correlated
in the age and/or year dimension. The covariance structure follows that described in Cadigan (2015).
</p>


<h3>Value</h3>

<p>Returns a function for use inside <code>sim_abundance</code>.
</p>


<h3>References</h3>

<p>Cadigan, Noel G. 2015. A State-Space Stock Assessment Model for Northern Cod,
Including Under-Reported Catches and Variable Natural Mortality Rates. Canadian Journal of
Fisheries and Aquatic Sciences 73 (2): 296-308.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
R_fun &lt;- sim_R(log_mean = log(100000), log_sd = 0.1, random_walk = TRUE, plot = TRUE)
R_fun(years = 1:100)
sim_abundance(R = sim_R(log_mean = log(100000), log_sd = 0.5))
sim_abundance(years = 1:20,
              R = sim_R(log_mean = log(c(rep(100000, 10), rep(10000, 10))), plot = TRUE))

Z_fun &lt;- sim_Z(log_mean = log(0.5), log_sd = 0.1, phi_age = 0.9, phi_year = 0.9, plot = TRUE)
Z_fun(years = 1:100, ages = 1:20)
sim_abundance(Z = sim_Z(log_mean = log(0.5), log_sd = 0.1, plot = TRUE))
Za_dev &lt;- c(-0.2, -0.1, 0, 0.1, 0.2, 0.3, 0.3, 0.2, 0.1, 0)
Zy_dev &lt;- c(-0.2, -0.2, -0.2, -0.2, -0.2, 2, 2, 2, 2, 0.2, 0.2, 0.2, 0.2, 0.2, 0, 0, 0, 0, 0, 0)
Z_mat &lt;- outer(Za_dev, Zy_dev, "+") + 0.5
sim_abundance(ages = 1:10, years = 1:20,
              Z = sim_Z(log_mean = log(Z_mat), plot = TRUE))
sim_abundance(ages = 1:10, years = 1:20,
              Z = sim_Z(log_mean = log(Z_mat), log_sd = 0, phi_age = 0, phi_year = 0, plot = TRUE))

N0_fun &lt;- sim_N0(N0 = "exp", plot = TRUE)
N0_fun(R0 = 1000, Z0 = rep(0.5, 20), ages = 1:20)
sim_abundance(N0 = sim_N0(N0 = "exp", plot = TRUE))

</code></pre>


</div>