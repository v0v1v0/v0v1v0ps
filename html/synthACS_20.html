<div class="container">

<table style="width: 100%;"><tr>
<td>derive_synth_datasets</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Derive synthetic micro datasets for a given geography.</h2>

<h3>Description</h3>

<p>Derive synthetic micro datasets for each sub-geography of a given set of geographic 
macro data constraining tabulations. See Details... By default, micro dataset generation is run 
in parallel with load balancing. Macro data is assumed to have been pulled from the US Census API 
via the <code>acs</code> package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">derive_synth_datasets(macro_data, parallel = TRUE, leave_cores = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>macro_data</code></td>
<td>
<p>A macro dataset list: the result of <code>pull_synth_data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>Logical, defaults to <code>TRUE</code>. Do you wish to run the operation in
parallel?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leave_cores</code></td>
<td>
<p>How many cores do you wish to leave open to other processing?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>list</code> of the input macro datasets produced by
<code>pull_synth_data</code> and a <code>list</code> of synthetic micro datasets for each geographical 
subset within the specified macro geography.
</p>


<h3>Details</h3>

<p>In the absence of true micro level datasets for a given geographic area, synthetic datasets
can be used. This function uses conditional and marginal probability distributions (at the 
aggregate level) to generate synthetic micro population datasets, which are built one constraint 
at a time. Taking as input the macro level data (class <code>"macroACS"</code>), this function builds 
synthetic micro datasets for each lower level geographical area within the area of study.
</p>
<p>In simplest terms, the goal is to generate a joint probability distribution for an attribute 
vector; and, to create synthetic individuals from this distribution. However, note that information
for the full joint distribution is typically not available, so we construct it as a product of 
conditional and marginal probabilities. This is done one attribute at a time; where it is assumed 
that there is some sort of continuum of attribute dependence. That is, some attributes are more 
important (eg. gender, age) in 'determining' others (eg. educational attainment, marital status, 
etc). These more important attributes need to be assigned first, whereas less important attributes 
may be assigned later. Most of these distinctions are largely intuitive, but care must be taken 
in choosing the order of constructed attributes. 
</p>
<p>This function provides a synthetic population with the following characteristics as well as each 
synthetic individual's probability of inclusion. The included characteristics are: age, gender, 
marital status, educational attainment, employment status, nativity, poverty status, geographic 
mobility in the prior year, individual income, and race. Additional attributes which interest the 
user may be added in a similar manner via <code>synthetic_new_attribute</code>.
</p>
<p>**Note:** INDIVIDUAL, not HOUSEHOLD level, synthetic population datasets are created.
</p>


<h3>References</h3>

<p>Birkin, Mark, and M. Clarke. "SYNTHESIS-a synthetic spatial information system 
for urban and regional analysis: methods and examples." Environment and planning A 
20.12 (1988): 1645-1671.
</p>


<h3>See Also</h3>

<p><code>pull_synth_data</code>, <code>acs.fetch</code>, <code>geo.make</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# make geography
la_geo &lt;- acs::geo.make(state= "CA", county= "Los Angeles", tract= "*")
# pull data elements for creating synthetic data
la_dat &lt;- pull_synth_data(2014, 5, la_geo)
# derive synthetic data
la_synthetic &lt;- derive_synth_datasets(la_dat, leave_cores= 0)

## End(Not run)
</code></pre>


</div>