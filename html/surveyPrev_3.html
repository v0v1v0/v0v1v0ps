<div class="container">

<table style="width: 100%;"><tr>
<td>aggSurveyWeight</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get survey weight by admin levels</h2>

<h3>Description</h3>

<p>This function aggregate survey weight to particular admin levels
</p>


<h3>Usage</h3>

<pre><code class="language-R">aggSurveyWeight(
  data,
  cluster.info,
  admin,
  poly.adm = NULL,
  by.adm = NULL,
  by.adm.upper = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>dataframe that contains the indicator of interests, output of getDHSindicator function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster.info</code></td>
<td>
<p>list that contains admin 1 and admin 2 information and coordinates for each cluster, output of clusterinfo function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>admin</code></td>
<td>
<p>desired admin level for aggregation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>poly.adm</code></td>
<td>
<p>spatial polygons dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by.adm</code></td>
<td>
<p>the column name of column for Admin names for desired output Admin level, can be such as "NAME_1" or "NAME_2".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by.adm.upper</code></td>
<td>
<p>the column name of column for Admin names for upper level of your desired output Admin level when admin=2, can be "NAME_1" when by.adm="NAME_2".</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>This function returns the dataset that contain admin name and survey weight.
</p>


<h3>Author(s)</h3>

<p>Qianyu Dong
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# admin1 population

year &lt;- 2018
country &lt;- "Zambia"
indicator="nmr"

geo &lt;- getDHSgeo(country = country, year = year)
dhsData &lt;- getDHSdata(country = country, indicator=indicator, year = year)
data&lt;- getDHSindicator(dhsData, indicator = indicator)

poly.adm1=ZambiaAdm1
poly.adm2=ZambiaAdm2

cluster.info&lt;-clusterInfo(geo=geo, poly.adm1=poly.adm1, poly.adm2=poly.adm2,
by.adm1 = "NAME_1",by.adm2 = "NAME_2")

agg.survey1&lt;-aggSurveyWeight(data=data,cluster.info=cluster.info,admin=1)
agg.survey2&lt;-aggSurveyWeight(data=data,cluster.info=cluster.info,admin=2,
                             poly.adm = poly.adm2,  by.adm="NAME_2",
                             by.adm.upper ="NAME_1")

## End(Not run)

</code></pre>


</div>