<div class="container">

<table style="width: 100%;"><tr>
<td>surv_calc_scores_stats</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>surv_calc_scores_stats</h2>

<h3>Description</h3>

<p>An adaptation of <code>GBJ::calc_scores_stats()</code> to survival context.
Wrapper of sGBJ_scores() function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">surv_calc_scores_stats(null_model, factor_matrix, nperm = 300)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>null_model</code></td>
<td>
<p>An R cox model fitted with <code>survival::coxph()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>factor_matrix</code></td>
<td>
<p>An <code>n x p</code> matrix with each factor as one column. There should be no missing data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nperm</code></td>
<td>
<p>Number of permutations (default is 300)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with the elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>test_stats</code></td>
<td>
<p>The <code>p</code> score test statistics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cor_mat</code></td>
<td>
<p>The <code>p x p</code> matrix giving the pairwise correlation of every test statistic pairs.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">n &lt;- 100
surv_data &lt;- data.frame(Time = runif(n = n, min = 0, max = 100),
                        event = rbinom(n = n, size = 1, prob = 0.5))
surv &lt;- survival::Surv(time = surv_data$Time, event = surv_data$event)

factor_matrix &lt;- data.frame(P1 = rnorm(n = n),
                             P2 = rnorm(n = n))

covariates &lt;- data.frame(age = runif(n = n, 60, 90))

null_model &lt;- survival::coxph(surv ~ age, data = covariates, x = TRUE)
surv_reg_stats &lt;- surv_calc_scores_stats(null_model = null_model,
                                         factor_matrix = factor_matrix,
                                         nperm = 2)#nperm = 300)

GBJ::GBJ(test_stats=surv_reg_stats$test_stats, cor_mat=surv_reg_stats$cor_mat)

</code></pre>


</div>