<div class="container">

<table style="width: 100%;"><tr>
<td>predonfly</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Probability forecasting
</h2>

<h3>Description</h3>

<p>From two sets of observations, first one of complete observations and second one of incomplete observations, provides simulated values of the unknown coordinates.
</p>


<h3>Usage</h3>

<pre><code class="language-R">predonfly(completeobs,incompleteobs,varnames,subsampsize,nbpreds=1,mixties=FALSE,
          maxtirs=1e5,complete=TRUE,nthreads=2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>completeobs</code></td>
<td>

<p>the set of complete observations.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>incompleteobs</code></td>
<td>

<p>the set of incomplete observations.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varnames</code></td>
<td>

<p>the modeled variables.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subsampsize</code></td>
<td>

<p>the sub-sample size.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nbpreds</code></td>
<td>

<p>the number of predictions for each incomplete observation.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mixties</code></td>
<td>

<p>if <code>TRUE</code>, should put equal weight on tied values, using random permutations (not yet implemented)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxtirs</code></td>
<td>

<p>the maximum number of sub-samples, to stop the computation even if they did not provide <code>nbpreds</code> predictions for each incomplete observation.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>complete</code></td>
<td>

<p>If <code>TRUE</code>, predictions are completed with incomplete observations
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nthreads</code></td>
<td>

<p>number of number of threads, assumed to be strictly positive. For "full throttle" computations, consider using parallel::detectCores()</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>the matrix of the completed observations
</p>


<h3>Author(s)</h3>

<p>Jerome Collet
</p>


<h3>Examples</h3>

<pre><code class="language-R">lon=100
plon=30
subsampsize=10

x=rnorm(lon)
y=2*x+rnorm(lon)*0
donori=as.data.frame(cbind(x,y))
##
knownvalues=data.frame(x=rnorm(plon))
prev &lt;- predonfly(donori,knownvalues,c("x","y"),subsampsize,100)

##
plot(prev$x,prev$y,pch=20,cex=0.5,
     ylim=range(c(prev$y,donori$y),na.rm=TRUE),xlim=range(c(prev$x,donori$x)))
points(donori[,1:2],col='red',pch=20,cex=.5)

lon=3000
mg=20
dimtot=4
rayon=6

genboules &lt;- function(lon,a,d)
{
  ss &lt;- function(vec)
  {return(sum(vec*vec))}
  surface=matrix(nrow=lon,ncol=d,data=rnorm(lon*d))
  rayons=sqrt(apply(surface,1,ss))
  surface=surface/rayons
  return(matrix(nrow=lon,ncol=d,data=rnorm(lon*d))+a*surface)
}

##############

donori=genboules(lon,rayon,dimtot)
donori=as.data.frame(donori)

dimconnues=3:dimtot
valconnues=matrix(nrow=1,ncol=length(dimconnues),data=0)
valconnues=as.data.frame(valconnues)
names(valconnues)=names(donori)[3:dimtot]
prev &lt;- predonfly(donori,valconnues,names(donori),subsampsize,100)

boule2=genboules(plon,rayon,2)

plot(boule2[,1:2],xlab='X1',ylab='X2',pch=20,cex=.5)
plot(prev$V1,prev$V2,xlab='X1',ylab='X2',pch=20,cex=.5)
</code></pre>


</div>