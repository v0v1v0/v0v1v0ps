<div class="container">

<table style="width: 100%;"><tr>
<td>store_boot_def</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Store Bootstrap Estimates of User-Defined Parameters</h2>

<h3>Description</h3>

<p>It receives a
lavaan::lavaan object fitted
with bootstrapping standard errors
requested, computes the user-defined
parameters in each bootstrap samples,
and returns a lavaan::lavaan
object
with the estimates stored.
</p>


<h3>Usage</h3>

<pre><code class="language-R">store_boot_def(object, force_run = FALSE)

get_boot_def(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A lavaan
object, fitted with 'se = "boot"'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force_run</code></td>
<td>
<p>If <code>TRUE</code>, will skip
checks and run models without
checking the estimates. For internal
use. Default is <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>lavaan::lavaan()</code> and its wrappers,
such as <code>lavaan::sem()</code> and
<code>lavaan::cfa()</code>, stores the estimates
of free parameters in each bootstrap
sample if bootstrapping is requested.
However, if a model has user-defined
parameters, their values in each
bootstrap sample are not stored.
<code>store_boot_def()</code> computes the
retrieves the stored bootstrap
estimates and computes the values
of user-defined parameters. The
values are then stored in the slot
<code>external</code> of the object,
in the element <code>shh_boot_def</code>.
The bootstrap estimates can then be
used by other functions for diagnostics
purposes.
</p>
<p><code>get_boot_def()</code> extracts the
bootstrap estimates of user-defined
parameters from a lavaan
object. If none is stored, <code>NULL</code>
is returned.
</p>
<p><code>store_boot_def()</code> is usually used
with diagnostic functions such
as <code>plot_boot()</code>.
</p>


<h3>Value</h3>

<p><code>store_boot_def()</code> returns
the fit object set to
<code>object</code>, with the bootstrap values
of user-defined parameters in the
bootstrap samples, as a matrix,
stored in the
slot <code>external</code> of <code>object</code> under
the name
<code>shh_boot_def</code>.
</p>
<p><code>get_boot_def()</code> returns a matrix
of the stored bootstrap estimates
of user-defined parameters
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung
<a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>.
</p>


<h3>See Also</h3>

<p><code>plot_boot()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(lavaan)
set.seed(5478374)
n &lt;- 50
x &lt;- runif(n) - .5
m &lt;- .40 * x + rnorm(n, 0, sqrt(1 - .40))
y &lt;- .30 * m + rnorm(n, 0, sqrt(1 - .30))
dat &lt;- data.frame(x = x, y = y, m = m)
model &lt;-
'
m ~ a*x
y ~ b*m
ab := a*b
'

# Should set bootstrap to at least 2000 in real studies
fit &lt;- sem(model, data = dat, fixed.x = FALSE,
           se = "boot",
           bootstrap = 100)
summary(fit)

# store_boot_def() is usually used with plot_boot()
# First, store the bootstrap estimates of user-defined
# parameters
fit_with_boot_def &lt;- store_boot_def(fit)
# Second, plot the distribution of the bootstrap estimates of
# 'ab'
plot_boot(fit_with_boot_def, "ab", standardized = FALSE)
</code></pre>


</div>