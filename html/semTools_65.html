<div class="container">

<table style="width: 100%;"><tr>
<td>maximalRelia</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate maximal reliability</h2>

<h3>Description</h3>

<p>Calculate maximal reliability of a scale
</p>


<h3>Usage</h3>

<pre><code class="language-R">maximalRelia(object, omit.imps = c("no.conv", "no.se"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A <code>lavaan</code> or
<code>lavaan.mi</code> object, expected to contain only
exogenous common factors (i.e., a CFA model).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>omit.imps</code></td>
<td>
<p><code>character</code> vector specifying criteria for omitting
imputations from pooled results.  Can include any of
<code>c("no.conv", "no.se", "no.npd")</code>, the first 2 of which are the
default setting, which excludes any imputations that did not
converge or for which standard errors could not be computed.  The
last option (<code>"no.npd"</code>) would exclude any imputations which
yielded a nonpositive definite covariance matrix for observed or
latent variables, which would include any "improper solutions" such
as Heywood cases.  NPD solutions are not excluded by default because
they are likely to occur due to sampling error, especially in small
samples.  However, gross model misspecification could also cause
NPD solutions, users can compare pooled results with and without
this setting as a sensitivity analysis to see whether some
imputations warrant further investigation.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Given that a composite score (<code class="reqn">W</code>) is a weighted sum of item scores:
</p>
<p style="text-align: center;"><code class="reqn"> W = \bold{w}^\prime \bold{x} ,</code>
</p>

<p>where <code class="reqn">\bold{x}</code> is a <code class="reqn">k \times 1</code> vector of the scores of each
item, <code class="reqn">\bold{w}</code> is a <code class="reqn">k \times 1</code> weight vector of each item, and
<code class="reqn">k</code> represents the number of items. Then, maximal reliability is
obtained by finding <code class="reqn">\bold{w}</code> such that reliability attains its maximum
(Li, 1997; Raykov, 2012). Note that the reliability can be obtained by
</p>
<p style="text-align: center;"><code class="reqn"> \rho = \frac{\bold{w}^\prime \bold{S}_T \bold{w}}{\bold{w}^\prime
\bold{S}_X \bold{w}}</code>
</p>

<p>where <code class="reqn">\bold{S}_T</code> is the covariance matrix explained by true scores and
<code class="reqn">\bold{S}_X</code> is the observed covariance matrix. Numerical method is used
to find <code class="reqn">\bold{w}</code> in this function.
</p>
<p>For continuous items, <code class="reqn">\bold{S}_T</code> can be calculated by
</p>
<p style="text-align: center;"><code class="reqn"> \bold{S}_T = \Lambda \Psi \Lambda^\prime,</code>
</p>

<p>where <code class="reqn">\Lambda</code> is the factor loading matrix and <code class="reqn">\Psi</code> is the
covariance matrix among factors. <code class="reqn">\bold{S}_X</code> is directly obtained by
covariance among items.
</p>
<p>For categorical items, Green and Yang's (2009) method is used for
calculating <code class="reqn">\bold{S}_T</code> and <code class="reqn">\bold{S}_X</code>. The element <code class="reqn">i</code> and
<code class="reqn">j</code> of <code class="reqn">\bold{S}_T</code> can be calculated by
</p>
<p style="text-align: center;"><code class="reqn"> \left[\bold{S}_T\right]_{ij} = \sum^{C_i - 1}_{c_i = 1} \sum^{C_j -
1}_{c_j - 1} \Phi_2\left( \tau_{x_{c_i}}, \tau_{x_{c_j}}, \left[ \Lambda
\Psi \Lambda^\prime \right]_{ij} \right) - \sum^{C_i - 1}_{c_i = 1}
\Phi_1(\tau_{x_{c_i}}) \sum^{C_j - 1}_{c_j - 1} \Phi_1(\tau_{x_{c_j}}),</code>
</p>

<p>where <code class="reqn">C_i</code> and <code class="reqn">C_j</code> represents the number of thresholds in Items
<code class="reqn">i</code> and <code class="reqn">j</code>, <code class="reqn">\tau_{x_{c_i}}</code> represents the threshold <code class="reqn">c_i</code>
of Item <code class="reqn">i</code>, <code class="reqn">\tau_{x_{c_j}}</code> represents the threshold <code class="reqn">c_i</code> of
Item <code class="reqn">j</code>, <code class="reqn"> \Phi_1(\tau_{x_{c_i}})</code> is the cumulative probability of
<code class="reqn">\tau_{x_{c_i}}</code> given a univariate standard normal cumulative
distribution and <code class="reqn">\Phi_2\left( \tau_{x_{c_i}}, \tau_{x_{c_j}}, \rho
\right)</code> is the joint cumulative probability of <code class="reqn">\tau_{x_{c_i}}</code> and
<code class="reqn">\tau_{x_{c_j}}</code> given a bivariate standard normal cumulative
distribution with a correlation of <code class="reqn">\rho</code>
</p>
<p>Each element of <code class="reqn">\bold{S}_X</code> can be calculated by
</p>
<p style="text-align: center;"><code class="reqn"> \left[\bold{S}_T\right]_{ij} = \sum^{C_i - 1}_{c_i = 1} \sum^{C_j -
1}_{c_j - 1} \Phi_2\left( \tau_{V_{c_i}}, \tau_{V_{c_j}}, \rho^*_{ij}
\right) - \sum^{C_i - 1}_{c_i = 1} \Phi_1(\tau_{V_{c_i}}) \sum^{C_j -
1}_{c_j - 1} \Phi_1(\tau_{V_{c_j}}),</code>
</p>

<p>where <code class="reqn">\rho^*_{ij}</code> is a polychoric correlation between Items <code class="reqn">i</code>
and <code class="reqn">j</code>.
</p>


<h3>Value</h3>

<p>Maximal reliability values of each group. The maximal-reliability
weights are also provided. Users may extracted the weighted by the
<code>attr</code> function (see example below).
</p>


<h3>Author(s)</h3>

<p>Sunthud Pornprasertmanit (<a href="mailto:psunthud@gmail.com">psunthud@gmail.com</a>)
</p>


<h3>References</h3>

<p>Li, H. (1997). A unifying expression for the maximal reliability of a linear
composite. <em>Psychometrika, 62</em>(2), 245–249. <a href="https://doi.org/10.1007/BF02295278">doi:10.1007/BF02295278</a>
</p>
<p>Raykov, T. (2012). Scale construction and development using structural
equation modeling. In R. H. Hoyle (Ed.), <em>Handbook of structural
equation modeling</em> (pp. 472–494). New York, NY: Guilford.
</p>


<h3>See Also</h3>

<p><code>reliability</code> for reliability of an unweighted
composite score
</p>


<h3>Examples</h3>

<pre><code class="language-R">
total &lt;- 'f =~ x1 + x2 + x3 + x4 + x5 + x6 + x7 + x8 + x9 '
fit &lt;- cfa(total, data = HolzingerSwineford1939)
maximalRelia(fit)

# Extract the weight
mr &lt;- maximalRelia(fit)
attr(mr, "weight")

</code></pre>


</div>