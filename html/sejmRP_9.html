<div class="container">

<table style="width: 100%;"><tr>
<td>get_filtered_votes</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Retrieve filtered votes from a database</h2>

<h3>Description</h3>

<p>Function <code>get_filtered_votes</code> reads filtered votes from a database.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_filtered_votes(dbname = 'sejmrp', user = 'reader',
  password = 'qux94874', host = 'services.mini.pw.edu.pl',
  windows = .Platform$OS.type == 'windows', clubs = character(0),
  dates = character(0), terms_of_office = integer(0), 
  meetings = integer(0), votings = integer(0),
  deputies = character(0), topics = character(0), max_rows = Inf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dbname</code></td>
<td>
<p>name of database; default: 'sejmrp'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>user</code></td>
<td>
<p>name of user; default: 'reader'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>password</code></td>
<td>
<p>password of database; default: 'qux94874'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>host</code></td>
<td>
<p>name of host; default: 'services.mini.pw.edu.pl'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>windows</code></td>
<td>
<p>information of used operation system; default: .Platform$OS.type == 'windows'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clubs</code></td>
<td>
<p>names of clubs that will be taken to filter data from database;
default: character(0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dates</code></td>
<td>
<p>period of time that will be taken to filter data from database;
default: character(0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>terms_of_office</code></td>
<td>
<p>range of terms of office's numbers that will be taken to filter data
from database; default: integer(0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meetings</code></td>
<td>
<p>range of meetings' numbers that will be taken to filter data from database;
default: integer(0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>votings</code></td>
<td>
<p>range of votings' numbers that will be taken to filter data from database;
default: integer(0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deputies</code></td>
<td>
<p>full names of deputies that will be taken to filter data from database;
default: character(0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>topics</code></td>
<td>
<p>text patterns that will be taken to filter data from database;
default: character(0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_rows</code></td>
<td>
<p>maximum number of rows to download; default: Inf</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Function <code>get_filtered_votes</code> reads filtered votes from a database.
The result of this function is an invisible data frame with statements' data.
</p>
<p>Possible filters:
</p>

<ol>
<li>
<p> clubs - names of clubs. This filter is a character vector with elements
like for example: 'PO', 'PiS', 'SLD'. It is possible to choose more than one club.
</p>
</li>
<li>
<p> dates - period of time. This filter is a character vector with two elements
in date format 'YYYY-MM-DD', where the first describes left boundary of period and
the second right boundary. It is possible to choose only one day, just try the same
date as first and second element of vector.
</p>
</li>
<li>
<p> terms_of_office - range of terms of office's numbers. This filter is a integer
vector with two elements, where the first describes a left boundary of range
and the second a right boundary. It is possible to choose only one term of office,
just try the same number as first and second element of vector.
</p>
</li>
<li>
<p> meetings - range of meetings' numbers. This filter is a integer vector with two
elements, where the first describes a left boundary of range and the second a right
boundary. It is possible to choose only one meeting, just try the same number
as first and second element of vector.
</p>
</li>
<li>
<p> votings - range of votings' numbers. This filter is a integer vector with two
elements, where the first describes a left boundary of range and the second a right
boundary. It is possible to choose only one voting, just try the same number
as first and second element of vector.
</p>
</li>
<li>
<p> deputies - full names of deputies. This filter is a character vector with full
names of deputies in format: 'surname first_name second_name'. If you are not sure
if the deputy you were thinking about has second name, try 'surname first_name' or
just 'surname'. There is high probability that proper deputy will be chosen.
It is possible to choose more than one deputy.
</p>
</li>
<li>
<p> topics - text patterns. This filter is a character vector with text patterns of
topics that you are interested about. Note that the votings' topics are written like
sentences, so remember about case inflection of nouns and adjectives and use stems of
words as patterns. For example if you want to find votings about education (in Polish:
szkolnictwo) try 'szkolnictw'. It is possible to choose more than one pattern.</p>
</li>
</ol>
<p>If you did not choose any filter, the whole database will be downloaded.
Note that, due to data size (&lt;= ~150 MB) it may take few seconds / minutes
to download all votes.
</p>
<p>Because of encoding issue on Windows operation system, you also need to select
if you use Windows.
</p>


<h3>Value</h3>

<p>data frame with NULL
</p>


<h3>Note</h3>

<p>Default parameters use privilages of 'reader'. It can only SELECT data from database.
</p>
<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
filtered_votes &lt;- get_filtered_votes()
dim(filtered_votes)
# [1] 2826483       9
names(filtered_votes)
[1] 'surname_name' 'nr_term_of_office' 'club' 'vote' 'id_voting'
[6] 'nr_meeting' 'nr_voting' 'date_meeting' 'topic_voting'
object.size(filtered_votes)
# 148694336 bytes
## End(Not run)

</code></pre>


</div>