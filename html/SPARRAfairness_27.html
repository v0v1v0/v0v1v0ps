<div class="container">

<table style="width: 100%;"><tr>
<td>sim_pop_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>sim_pop_data</h2>

<h3>Description</h3>

<p>Simulates population data with a reasonably realistic joint distribution
</p>


<h3>Usage</h3>

<pre><code class="language-R">sim_pop_data(
  npop,
  coef_adjust = 4,
  offset = 1,
  vcor = NULL,
  coefs = c(2, 1, 0, 5, 3, 0, 0),
  seed = 12345,
  incl_id = TRUE,
  incl_reason = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>npop</code></td>
<td>
<p>population size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coef_adjust</code></td>
<td>
<p>inverse scale for all (true) coefficients (default 4): lower means that hospital admissions are more predictable from covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>offset for logistic model (default 1): higher means a lower overall prevalence of admission</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vcor</code></td>
<td>
<p>a valid 5x5 correlation matrix (default NULL), giving correlation between variables. If 'NULL', values roughly represents realistic data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coefs</code></td>
<td>
<p>coefficients of age, male sex, non-white ethnicity, number of previous admissions, and deprivation decile on hospital admissions, Default (2,1,0,5,3). Divided through by coef_adjust.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>random seed (default 12345)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>incl_id</code></td>
<td>
<p>include an ID column (default TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>incl_reason</code></td>
<td>
<p>include a column indicating reason for admission.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Simulates data for a range of people for the variables
</p>

<ul>
<li>
<p> Age (<code>age</code>)
</p>
</li>
<li>
<p> Sex (<code>sexM</code>; 1 if male)
</p>
</li>
<li>
<p> Race/ethnicity (<code>raceNW</code>: 1 if non-white ethnicity)
</p>
</li>
<li>
<p> Number of previous hospital admissions (<code>PrevAdm</code>)
</p>
</li>
<li>
<p> Deprivation decile (<code>SIMD</code>: 1 most deprived, 10 least deprived. NOTE - opposite to English IMD)
</p>
</li>
<li>
<p> Urban-rural residence status (<code>urban_rural</code>: 1 for rural)
</p>
</li>
<li>
<p> Mainland-island residence status (<code>mainland_island</code>: 1 for island)
</p>
</li>
<li>
<p> Hospital admission (<code>target</code>: 1/TRUE if admitted to hospital in year following prediction date)
</p>
</li>
</ul>
<p>Can optionally add an ID column.
</p>
<p>Optionally includes an admission reason for samples with <code>target=1</code>. These admission reasons
roughly correspond to the first letters of ICD10 categories, and can either correspond to an
admission or death. Admission reasons are simulated with a non-constant multinomial distribution
which varies across age/sex/ethnicity/urban-rural/mainland-island/PrevAdm values in a randomly-
chosen way. The distributions of admission reasons are <em>not</em> however chosen to reflect real
distributions, nor are systematic changes in commonality of admission types across categories
intended to appear realistic.
</p>


<h3>Value</h3>

<p>data frame with realistic values.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Simulate data
dat=sim_pop_data(10000)
cor(dat[,1:7])

# See vignette
</code></pre>


</div>