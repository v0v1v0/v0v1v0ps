<div class="container">

<table style="width: 100%;"><tr>
<td>randomizedRRR</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reduced rank reconstruction (RRR) of a matrix.</h2>

<h3>Description</h3>

<p>Computes the rank and subsequent RRR of a <code class="reqn">m x n</code> counts matrix. Log-normalization is first performed
using the <code>Seurat::NormalizeData()</code> function. RRR is next performed on the normalized <code class="reqn">m x n</code>
matrix using randomized Singular Value Decomposition with the <code>rsvd::rsvd()</code> function. Estimated rank is selected via a
construction of the standard deviations of non-centered sample principal components, which are used in a subsequent rate of change computation
where each successive standard deviation value is compared to the previous to determine the rank at which the absolute value of the rate of change
between consecutive values is at least 0.01 for at least two value pairs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">randomizedRRR(
  counts.matrix,
  rank.range.end = 100,
  min.consec.diff = 0.01,
  rep.consec.diff = 2,
  manual.rank = NULL,
  seed.rsvd = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>counts.matrix</code></td>
<td>
<p>A <code class="reqn">m x n</code> counts matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rank.range.end</code></td>
<td>
<p>Upper value of the rank for RRR.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.consec.diff</code></td>
<td>
<p>Minimum difference in the rate of change between a pair of successive standard deviation estimate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rep.consec.diff</code></td>
<td>
<p>Frequency of the minimum difference in the rate of change between a pair of successive standard deviation estimate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>manual.rank</code></td>
<td>
<p>Optional, user-specified upper value of the rank used
for RRR as an alternative to automatically computed rank.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed.rsvd</code></td>
<td>
<p>Seed specified to ensure reproducibility of the RRR.</p>
</td>
</tr>
</table>
<h3>Value</h3>


<ul>
<li>
<p> rrr.mat - A <code class="reqn">m x n</code> RRR matrix.
</p>
</li>
<li>
<p> rrr.rank - Automatically computed rank.
</p>
</li>
<li>
<p> component.stdev - A vector corresponding to standard deviations of non-centered sample principal components.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">set.seed(10)
data.mat &lt;- matrix(data = rbinom(n = 18400, size = 230, prob = 0.2), nrow = 80)
rrr.object &lt;- randomizedRRR(counts.matrix = data.mat, rank.range.end = 60,
min.consec.diff = 0.01, rep.consec.diff = 2,
manual.rank = NULL, seed.rsvd = 1)
print(rrr.object$component.stdev)
print(rrr.object$rrr.rank)
dim(rrr.object$rrr.mat); str(rrr.object$rrr.mat)
</code></pre>


</div>