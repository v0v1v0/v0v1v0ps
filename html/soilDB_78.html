<div class="container">

<table style="width: 100%;"><tr>
<td>get_NASIS_metadata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get NASIS Metadata (Domain, Column and Choice Lists)</h2>

<h3>Description</h3>

<p>Retrieve a table containing domain and column names with choice list labels/names/sequences/values from the NASIS 7 metadata tables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_NASIS_metadata(dsn = NULL, include_description = FALSE)

get_NASIS_column_metadata(
  x,
  what = "ColumnPhysicalName",
  include_description = FALSE,
  dsn = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dsn</code></td>
<td>
<p>Optional: path to local SQLite database containing NASIS table structure; default: <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_description</code></td>
<td>
<p>Include "ChoiceDescription" column? Default: <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>character vector to match in NASIS metadata</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>what</code></td>
<td>
<p>Column to match <code>x</code> against. Default <code>"ColumnPhysicalName"</code>; alternate options include <code>"DomainID"</code>, <code>"DomainName"</code>, <code>"DomainRanked"</code>, <code>"DisplayLabel"</code>, <code>"ChoiceSequence"</code>, <code>"ChoiceValue"</code>, <code>"ChoiceName"</code>, <code>"ChoiceLabel"</code>, <code>"ChoiceObsolete"</code>, <code>"ChoiceDescription"</code>, <code>"ColumnLogicalName"</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These data are derived from the MetadataDomainDetail, MetadataDomainMaster, and MetadataTableColumn tables and help with mapping between values stored in the NASIS database and human-readable values. The human-readable values align with the values returned in public facing interfaces such as SSURGO via Soil Data Access and NASIS Web Reports. The data in these tables can also be used to create <em>ordered</em> factors where options for levels of a particular data element follow a logical <code>ChoiceSequence</code>.
</p>
<p>If a local NASIS instance is set up, and this is the first time <code>get_NASIS_metadata()</code> has been called, the metadata will be obtained from the NASIS local database. Subsequent runs in the same session will use a copy of the data object <code>NASIS.metadata</code> cached in <code>soilDB.env</code> which can be accessed with <code>get_soilDB_env()$NASIS.metadata</code>.
</p>
<p>For users without a local NASIS instance, a cached copy of the NASIS metadata are used <code>(data/metadata.rda)</code>.
</p>
<p>See <code>?soilDB::metadata</code> for additional details.
</p>


<h3>Value</h3>

<p>a <code>data.frame</code> containing DomainID, DomainName, DomainRanked, DisplayLabel, ChoiceSequence, ChoiceValue, ChoiceName, ChoiceLabel, ChoiceObsolete, ColumnPhysicalName, ColumnLogicalName and optionally ChoiceDescription when <code>include_description=TRUE</code>.
</p>
<p>a <code>data.frame</code> containing selected NASIS metadata sorted first on <code>DomainID</code> and then on <code>ChoiceSequence</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">get_NASIS_metadata()
get_NASIS_column_metadata("texcl")
</code></pre>


</div>