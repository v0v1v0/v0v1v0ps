<div class="container">

<table style="width: 100%;"><tr>
<td>sim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Start simulation</h2>

<h3>Description</h3>

<p>This function will start the simulation. Use the printing method as long as
you are testing the scenario.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sim(
  x,
  R = 1,
  path = NULL,
  overwrite = TRUE,
  ...,
  suffix = NULL,
  fileExt = ".csv",
  libs = NULL,
  exports = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a <code>sim_setup</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>number of repetitions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>optional path in which the simulation results can be saved. They
will we coerced to a <code>data.frame</code> and then saved as 'csv'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p><code>TRUE</code>/<code>FALSE</code>. If <code>TRUE</code> files in
<code>path</code> are replaced. If <code>FALSE</code> files in <code>path</code> are not
replaced and simulation will not be recomputed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to <code>parallelStart</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>suffix</code></td>
<td>
<p>an optional suffix of file names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fileExt</code></td>
<td>
<p>the file extension. Default is ".csv" - alternative it can be
".RData".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>libs</code></td>
<td>
<p>arguments passed to <code>parallelLibrary</code>. Will be used
in a call to <code>do.call</code> after coersion with
<code>as.list</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exports</code></td>
<td>
<p>arguments passed to <code>parallelExport</code>. Will be used
in a call to <code>do.call</code> after coersion with
<code>as.list</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The package parallelMap is utilized as back-end for parallel computations.
</p>
<p>Use the argument <code>path</code> to store the simulation results in a directory.
This may be a good idea for long running simulations and for those using
large <code>data.frame</code>s. You can use <code>sim_read_data</code> to read
them in. The return value will change to NULL in each run.
</p>


<h3>Value</h3>

<p>The return value is a list. The elements are the results of each
simulation run, typically of class <code>data.frame</code>. In case you specified
<code>path</code>, each element is <code>NULL</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">setup &lt;- sim_base_lm()
resultList &lt;- sim(setup, R = 1)

# For parallel computations you may need to export objects
localFun &lt;- function() cat("Hello World!")
comp_fun &lt;- function(dat) {
  localFun()
  dat
}

res &lt;- sim_base_lm() %&gt;% 
  sim_comp_pop(comp_fun) %&gt;% 
  sim(R = 2, 
      mode = "socket", cpus = 2,
      exports = "localFun")

str(res)
</code></pre>


</div>