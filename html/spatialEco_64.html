<div class="container">

<table style="width: 100%;"><tr>
<td>oli.asw</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Query AWS-OLI</h2>

<h3>Description</h3>

<p>Query of Amazon AWS OLI-Landsat 8 cloud service
</p>


<h3>Usage</h3>

<pre><code class="language-R">oli.asw(path, row, dates, cloud.cover = 10, processing)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>landsat path</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row</code></td>
<td>
<p>landsat row</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dates</code></td>
<td>
<p>dates, single or start-stop range in YYYY-MM-DD format</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cloud.cover</code></td>
<td>
<p>percent cloud cover</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>processing</code></td>
<td>
<p>processing level ("L1GT" or "L1T")</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Amazons AWS cloud service is hosting OLI Landsat 8 data granules
<a href="https://registry.opendata.aws/landsat-8">https://registry.opendata.aws/landsat-8</a>
<a href="https://aws.amazon.com/blogs/aws/start-using-landsat-on-aws/">https://aws.amazon.com/blogs/aws/start-using-landsat-on-aws/</a>
</p>
<p>USGS Landsat collections: <a href="https://www.usgs.gov/landsat-missions">https://www.usgs.gov/landsat-missions</a>
Pre-collection processing levels: "L1T", "L1GT", "L1G"
Collection 1 processing levels: "L1TP", "L1GT", "L1GS"
"L1T" and "L1TP" - Radiomertically calibrated and orthorectified (highest level processing) 
"L1GT" and "L1GT" - Radiomertically calibrated and systematic geometric corrections   
"L1G" and "L1GS" - Radiomertically calibrated with systematic ephemeris correction
</p>


<h3>Value</h3>

<p>data.frame object with:
</p>
 
<ul>
<li>
<p> entityId -  Granule ID 
</p>
</li>
<li>
<p>      L = Landsat
</p>
</li>
<li>
<p>      X = Sensor
</p>
</li>
<li>
<p>      SS = Satellite
</p>
</li>
<li>
<p>      PPP = WRS path
</p>
</li>
<li>
<p>      RRR = WRS row
</p>
</li>
<li>
<p>      YYYYMMDD = Acquisition date
</p>
</li>
<li>
<p>      yyyymmdd = Processing date
</p>
</li>
<li>
<p>      CC = Collection number
</p>
</li>
<li>
<p>      TX = Collection category
</p>
</li>
<li>
<p> acquisitionDate - POSIXct YYYY-MM-DD (eg., 2015-01-02)
</p>
</li>
<li>
<p> cloudCover -  
</p>
</li>
<li>
<p> processingLevel - USGS processing level
</p>
</li>
<li>
<p> path - Landsat path
</p>
</li>
<li>
<p> row - Landsat row
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Jeffrey S. Evans  &lt;jeffrey_evans@tnc.org&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Query path 126, row 59, 2013-04-15 to 2017-03-09, &lt;20% cloud cover    
( p126r59.oli &lt;- oli.asw(path=126, row=59, dates = c("2013-04-15", "2017-03-09"), 
                          cloud.cover = 20) )

# Download images from query
 bands &lt;- c("_B1.TIF", "_B2.TIF", "_B3.TIF", "_B4.TIF", "_B5.TIF", 
            "_B6.TIF","_B7.TIF", "_B8.TIF", "_B9.TIF", "_B10.TIF",
         "_B11.TIF", "_BQA.TIF","_MTL.txt") 
  for(i in 1:length(p126r59.oli$download_url)) {
    oli.url &lt;- gsub("/index.html","",p126r59.oli$download_url[i])
 all.bands &lt;- paste(oli.url, paste0(unlist(strsplit(oli.url, "/"))[8], bands), sep="/")
   for(j in all.bands) {  
        try(utils::download.file(url=j, destfile=basename(j), mode = "wb"))
       }		 
  }


</code></pre>


</div>