<div class="container">

<table style="width: 100%;"><tr>
<td>cancor_eof</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Performs CCA  using Empirical Orthogonal Functions (EOFs) from a lagged dataset</h2>

<h3>Description</h3>

<p>Performs Canonical Correlation Analysis (CCA) using Empirical Orthogonal Function analysis using
in a dataframe or a stars object. The autoplot function can plot the outputs.
</p>
<p>The variations are
*  'cancor_eof.data.frame()'  if the input is a dataframe
*  'cancor_eof.stars()' if the input is a stars object
*  'autoplot.cancoreof()' to plot the outputs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cancor_eof(x, lag, n_eof, ...)

## S3 method for class 'data.frame'
cancor_eof(x, lag = 7, n_eof = 10, values_df, ...)

## S3 method for class 'stars'
cancor_eof(x, lag = 7, n_eof = 10, ...)

## S3 method for class 'cancoreof'
autoplot(
  object,
  line_plot = TRUE,
  space_plot = TRUE,
  palette = "Spectral",
  xlab = "Time",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The dataframe or stars object. If it is a dataframe, then it should have the locations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag</code></td>
<td>
<p>Specifies the lag to be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_eof</code></td>
<td>
<p>The number of EOFs to be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments currently ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values_df</code></td>
<td>
<p>For dataframes: the dataframe of dimension <code>length(times) x length(locations)</code> containing the quantity of interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>autoplot parameter: the output of the function ‘cancor_eof’.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line_plot</code></td>
<td>
<p>autoplot parameter: if set to <code>TRUE</code>, then the line plot is included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>space_plot</code></td>
<td>
<p>autoplot parameter: if set to <code>TRUE</code>, the space splot is included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>palette</code></td>
<td>
<p>autoplot parameter: the color palette to use for plotting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>autoplot parameter:: he label on the x-axis for the line plot.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A cancoreof object with CCA output, EOF output, original data and cancor object from 'stats'.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Dataframe example
data(SSTlonlatshort)
data(SSTdatashort)
cancor_df &lt;- cancor_eof(x = SSTlonlatshort,
           lag = 7,
           n_eof = 8,
           values_df = SSTdatashort)
autoplot(cancor_df)

# Stars example
library(dplyr)
library(stars)
# Create a stars object from a data frame
precip_df &lt;- NOAA_df_1990[NOAA_df_1990$proc == 'Precip', ] %&gt;%
  filter(date &gt;= "1992-02-01" &amp; date &lt;= "1992-02-28")
precip &lt;- precip_df[ ,c('lat', 'lon', 'date', 'z')]
st_precip &lt;- st_as_stars(precip, dims = c("lon", "lat", "date"))
cancor_st &lt;- cancor_eof(st_precip)
autoplot(cancor_st, line_plot = TRUE, space_plot = FALSE)


</code></pre>


</div>