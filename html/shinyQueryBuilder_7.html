<div class="container">

<table style="width: 100%;"><tr>
<td>queryBuilderInput</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate Shiny Query Widget</h2>

<h3>Description</h3>

<p>Generate Shiny Query Widget
</p>


<h3>Usage</h3>

<pre><code class="language-R">queryBuilderInput(
  inputId,
  filters,
  rules = list(),
  operators = NULL,
  optgroups,
  default_filter,
  sort_filters = FALSE,
  allow_groups = TRUE,
  allow_rm_groups = TRUE,
  allow_empty = TRUE,
  display_errors = TRUE,
  conditions = c("AND", "OR"),
  default_condition = "AND",
  inputs_separator = " , ",
  display_empty_filter = TRUE,
  select_placeholder = "------",
  lang,
  plugins,
  allow_add_rules = TRUE,
  allow_rm_rules = TRUE,
  .queryBuilderConfig = queryBuilder::queryBuilderConfig
)

updateQueryBuilderInput(
  session,
  inputId,
  rules,
  filters,
  allow_add_rules,
  allow_rm_rules,
  allow_groups,
  allow_rm_groups
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>inputId</code></td>
<td>
<p>The input slot that will be used to access the value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filters</code></td>
<td>
<p>(required) List of available filters in the builder. See queryFilter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rules</code></td>
<td>
<p>Initial set of rules set with 'queryBuilder' package.
See queryGroup and queryRule.
For 'queryRule', 'shinyQueryBuilder' accepts an extra argument 'flags', that consists of four logical elements:
'filter_readonly', 'operator_readonly', 'value_readonly' and 'no_delete'.
These options prevent from changing the rule inputs and removing the rule in the controller.
For 'queryGroup', 'shinyQueryBuilder' accepts an extra argument 'flags', that consists of four logical elements:
'condition_readonly', 'no_add_rule', 'no_add_group' and 'no_delete'.
These options allow to disable corresponding group management options.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>operators</code></td>
<td>
<p>Vector of operator names that should be limited in the input.
Leave <code>NULL</code> to allow all of the configured filters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optgroups</code></td>
<td>
<p>Named list. Configuration of labels for filters and operators.
List names should consists of 'optgroup' ids, whereas values, the desired labels to be displayed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default_filter</code></td>
<td>
<p>Character string. The id of the default filter chosen for any new rule.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort_filters</code></td>
<td>
<p>Set to 'TRUE' to sort filters alphabetically.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_groups</code></td>
<td>
<p>Logical or integer. Number of allowed nested groups. TRUE for no limit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_rm_groups</code></td>
<td>
<p>Logical. Should removing groups be enabled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_empty</code></td>
<td>
<p>Logical. No error will be thrown if the builder is entirely empty.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>display_errors</code></td>
<td>
<p>Logical ('TRUE', default). When an error occurs on a rule, display an icon with a tooltip
explaining the error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conditions</code></td>
<td>
<p>Character vector. Array of available group conditions.
In order to create custom condition check setQueryConditions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default_condition</code></td>
<td>
<p>Character string. Default active condition selected for each new group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inputs_separator</code></td>
<td>
<p>Character string that will be used to separate multiple input controllers for operator
values (for operators with ‘nb_inputs &gt; 1'). Default is ’,'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>display_empty_filter</code></td>
<td>
<p>Logical. Add an empty option with 'select_placeholder' string to the filter dropdowns.
If the empty filter is disabled and no default_filter is defined, the first filter will be loaded when
adding a rule.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select_placeholder</code></td>
<td>
<p>Character string. An option that can be chosen to select empty filter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lang</code></td>
<td>
<p>Nested named list providing language translations for selected controller labels.
See <a href="https://github.com/mistic100/jQuery-QueryBuilder/blob/dev/src/i18n/en.json">https://github.com/mistic100/jQuery-QueryBuilder/blob/dev/src/i18n/en.json</a> for the required structure,
or load one of the existing files included at
<a href="https://github.com/mistic100/jQuery-QueryBuilder/tree/dev/src/i18n">https://github.com/mistic100/jQuery-QueryBuilder/tree/dev/src/i18n</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plugins</code></td>
<td>
<p>List of plugins names used for the widget. See <a href="https://querybuilder.js.org/plugins.html">https://querybuilder.js.org/plugins.html</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_add_rules</code></td>
<td>
<p>Logical. Should adding new rules be enabled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_rm_rules</code></td>
<td>
<p>Logical. Should removing rules be enabled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.queryBuilderConfig</code></td>
<td>
<p>R6 object of class 'queryBuilderConfig' storing queryOperators.
See query-operator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>session</code></td>
<td>
<p>Shiny session object.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Nested list of 'shiny.tag' objects, defining html structure of the input,
or no value in case of usage of 'updateQueryBuilderInput' method.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
ui &lt;- shiny::fluidPage(
  queryBuilderInput(
    "qb",
    filters = list(
      queryFilter(
        "Species", type = "character", operators = c("in", "equal"),
        values = levels(iris$Species), multiple = TRUE,
        optgroup = "char_fields"
      ),
      queryFilter(
        "Sepal.Length", type = "numeric", 
        values = range(iris$Sepal.Length), optgroup = "num_fields"
      )
    ),
    rules = queryGroup(
      condition = "AND",
      queryRule("Species", "equal", "setosa", flags = list(no_delete = TRUE)),
      queryRule("Sepal.Length", "between", c(5, 7))
    ),
    optgroups = list(num_fields = "Numerical fields", char_fields = "Character fields")
  ),
  shiny::verbatimTextOutput("expr")
)
server &lt;- function(input, output, session) {}

if (interactive()) {
  shiny::runApp(ui, server)
}

</code></pre>


</div>