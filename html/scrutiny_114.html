<div class="container">

<table style="width: 100%;"><tr>
<td>seq_disperse</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sequence generation with dispersion at decimal level</h2>

<h3>Description</h3>

<p><code>seq_disperse()</code> creates a sequence around a given number. It
goes a specified number of steps up and down from it. Step size depends on
the number's decimal places. For example, <code>7.93</code> will be surrounded by
values like <code>7.91</code>, <code>7.92</code>, and <code>7.94</code>, <code>7.95</code>, etc.
</p>
<p><code>seq_disperse_df()</code> is a variant that creates a data frame. Further columns
can be added as in <code>tibble::tibble()</code>. Regular arguments are the same as
in <code>seq_disperse()</code>, but with a dot before each.
</p>


<h3>Usage</h3>

<pre><code class="language-R">seq_disperse(
  from,
  by = NULL,
  dispersion = 1:5,
  offset_from = 0L,
  out_min = "auto",
  out_max = NULL,
  string_output = TRUE,
  include_reported = TRUE,
  track_diff_var = FALSE,
  track_var_change = deprecated()
)

seq_disperse_df(
  .from,
  .by = NULL,
  ...,
  .dispersion = 1:5,
  .offset_from = 0L,
  .out_min = "auto",
  .out_max = NULL,
  .string_output = TRUE,
  .include_reported = TRUE,
  .track_diff_var = FALSE,
  .track_var_change = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>from, .from</code></td>
<td>
<p>Numeric (or string coercible to numeric). Starting point of
the sequence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by, .by</code></td>
<td>
<p>Numeric. Step size of the sequence. If not set, inferred
automatically. Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dispersion, .dispersion</code></td>
<td>
<p>Numeric. Vector that determines the steps up
and down, starting at <code>from</code> (or <code>.from</code>, respectively) and proceeding on
the level of its last decimal place. Default is <code>1:5</code>, i.e., five steps up
and down.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset_from, .offset_from</code></td>
<td>
<p>Integer. If set to a non-zero number, the
starting point will be offset by that many units on the level of the last
decimal digit. Default is <code>0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out_min, .out_min, out_max, .out_max</code></td>
<td>
<p>If specified, output will be
restricted so that it's not below <code>out_min</code> or above <code>out_max</code>. Defaults
are <code>"auto"</code> for <code>out_min</code>, i.e., a minimum of one decimal unit above zero;
and <code>NULL</code> for <code>out_max</code>, i.e., no maximum.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>string_output, .string_output</code></td>
<td>
<p>Logical or string. If <code>TRUE</code> (the
default), the output is a string vector. Decimal places are then padded
with zeros to match <code>from</code>'s number of decimal places. <code>"auto"</code> works like
<code>TRUE</code> if and only if <code>from</code> (<code>.from</code>) is a string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_reported, .include_reported</code></td>
<td>
<p>Logical. Should <code>from</code> (<code>.from</code>)
itself be part of the sequence built around it? Default is <code>TRUE</code> for the
sake of continuity, but this can be misleading if the focus is on the
dispersed values, as opposed to the input.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>track_diff_var, .track_diff_var</code></td>
<td>
<p>Logical. In <code>seq_disperse()</code>, ignore
this argument. In <code>seq_disperse_df()</code>, default is <code>TRUE</code>, which creates the
<code>"diff_var"</code> output column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>track_var_change, .track_var_change</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a>
Renamed to <code>track_diff_var</code> / <code>.track_diff_var</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further columns, added as in <code>tibble::tibble()</code>. Only in
<code>seq_disperse_df()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Unlike <code>seq_endpoint()</code> and friends, the present functions don't
necessarily return continuous or even regular sequences. The greater
flexibility is due to the <code>dispersion</code> (<code>.dispersion</code>) argument, which
takes any numeric vector. By default, however, the output sequence is
regular and continuous.
</p>
<p>Underlying this difference is the fact that <code>seq_disperse()</code> and
<code>seq_disperse_df()</code> do not wrap around <code>base::seq()</code>, although they are
otherwise similar to <code>seq_endpoint()</code> and friends.
</p>


<h3>Value</h3>


<ul>
<li> <p><code>seq_disperse()</code> returns a string vector by default
(<code>string_output = TRUE</code>) and a numeric vector otherwise.
</p>
</li>
<li> <p><code>seq_disperse_df()</code> returns a tibble (data frame). The sequence is stored
in the <code>x</code> column. <code>x</code> is string by default (<code>.string_output = TRUE</code>),
numeric otherwise. Other columns might have been added via the dots
(<code>...</code>).
</p>
</li>
</ul>
<h3>See Also</h3>

<p>Conceptually, <code>seq_disperse()</code> is a blend of two function families:
those around <code>seq_endpoint()</code> and those around <code>disperse()</code>. The
present functions were originally conceived for <code>seq_disperse_df()</code> to be a
helper within the <code>function_map_seq()</code> implementation.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Basic usage:
seq_disperse(from = 4.02)

# If trailing zeros don't matter,
# the output can be numeric:
seq_disperse(from = 4.02, string_output = FALSE)

# Control steps up and down with
# `dispersion` (default is `1:5`):
seq_disperse(from = 4.02, dispersion = 1:10)

# Sequences might be discontinuous...
disp1 &lt;- seq(from = 2, to = 10, by = 2)
seq_disperse(from = 4.02, dispersion = disp1)

# ...or even irregular:
disp2 &lt;- c(2, 3, 7)
seq_disperse(from = 4.02, dispersion = disp2)

# The data fame variant supports further
# columns added as in `tibble::tibble()`:
seq_disperse_df(.from = 4.02, n = 45)
</code></pre>


</div>