<div class="container">

<table style="width: 100%;"><tr>
<td>avgEst</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Weighted Average of Model Estimates</h2>

<h3>Description</h3>

<p>Calculate a weighted average of model estimates (e.g. effects,
fitted values, residuals) for a set of models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">avgEst(est, weights = "equal", est.names = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>est</code></td>
<td>
<p>A list or nested list of numeric vectors, comprising the model
estimates. In the latter case, these should correspond to estimates for
candidate models for each of a set of different response variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>An optional numeric vector of weights to use for model
averaging, or a named list of such vectors. The former should be supplied
when <code>est</code> is a list, and the latter when it is a nested list (with
matching list names). If <code>weights = "equal"</code> (default), a simple average is
calculated instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>est.names</code></td>
<td>
<p>An optional vector of names used to extract and/or sort
estimates from the output.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function can be used to calculate a weighted average of model
estimates such as effects, fitted values, or residuals, where models are
typically competing candidate models fit to the same response variable.
Weights are typically a 'weight of evidence' type metric such as Akaike
model weights (Burnham &amp; Anderson, 2002; Burnham et al., 2011), which can
be conveniently calculated in <em>R</em> using packages such as
<a href="https://cran.r-project.org/package=MuMIn">MuMIn</a> or
<a href="https://cran.r-project.org/package=AICcmodavg">AICcmodavg</a>. However,
numeric weights of any sort can be used. If none are supplied, a simple
average is calculated instead.
</p>
<p>Averaging is performed via the 'full'/'zero' rather than
'subset'/'conditional'/'natural' method, meaning that zero is substituted
for estimates for any 'missing' parameters (e.g. effects) prior to
calculations. This provides a form of shrinkage and thus reduces <a href="https://stackoverflow.com/questions/53055050/predicted-values-with-mumin-throwing-error-when-full-false">estimate bias</a>
(Burnham &amp; Anderson, 2002; Grueber et al., 2011).
</p>


<h3>Value</h3>

<p>A numeric vector of the model-averaged estimates, or a list of such
vectors.
</p>


<h3>References</h3>

<p>Burnham, K. P., &amp; Anderson, D. R. (2002). <em>Model Selection and
Multimodel Inference: A Practical Information-Theoretic Approach</em> (2nd
ed.). Springer-Verlag. <a href="https://link.springer.com/book/10.1007/b97636">https://link.springer.com/book/10.1007/b97636</a>
</p>
<p>Burnham, K. P., Anderson, D. R., &amp; Huyvaert, K. P. (2011). AIC model
selection and multimodel inference in behavioral ecology: some background,
observations, and comparisons. <em>Behavioral Ecology and Sociobiology</em>,
<em>65</em>(1), 23-35. <a href="https://doi.org/10/c4mrns">doi:10/c4mrns</a>
</p>
<p>Dormann, C. F., Calabrese, J. M., Guillera‐Arroita, G., Matechou, E., Bahn,
V., Bartoń, K., Beale, C. M., Ciuti, S., Elith, J., Gerstner, K., Guelat,
J., Keil, P., Lahoz‐Monfort, J. J., Pollock, L. J., Reineking, B., Roberts,
D. R., Schröder, B., Thuiller, W., Warton, D. I., … Hartig, F. (2018).
Model averaging in ecology: A review of Bayesian, information-theoretic,
and tactical approaches for predictive inference. <em>Ecological Monographs</em>,
<em>88</em>(4), 485–504. <a href="https://doi.org/10/gfgwrv">doi:10/gfgwrv</a>
</p>
<p>Grueber, C. E., Nakagawa, S., Laws, R. J., &amp; Jamieson, I. G. (2011).
Multimodel inference in ecology and evolution: challenges and solutions.
<em>Journal of Evolutionary Biology</em>, <em>24</em>(4), 699-711. <a href="https://doi.org/10/b7b5d4">doi:10/b7b5d4</a>
</p>
<p>Walker, J. A. (2019). Model-averaged regression coefficients have a
straightforward interpretation using causal conditioning. <em>BioRxiv</em>,
133785. <a href="https://doi.org/10/c8zt">doi:10/c8zt</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Model-averaged effects (coefficients)
m &lt;- shipley.growth  # candidate models
e &lt;- lapply(m, function(i) coef(summary(i))[, 1])
avgEst(e)

# Using weights
w &lt;- runif(length(e), 0, 1)
avgEst(e, w)

# Model-averaged predictions
f &lt;- lapply(m, predict)
head(avgEst(f, w))
</code></pre>


</div>