<div class="container">

<table style="width: 100%;"><tr>
<td>rnet_group</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Assign segments in a route network to groups</h2>

<h3>Description</h3>

<p>This function assigns linestring features, many of which in an
<code>sf</code> object can form route networks, into groups.
By default, the function <code>igraph::clusters()</code> is used to determine
group membership, but any <code style="white-space: pre;">⁠igraph::cluster*()⁠</code> function can be used.
See examples and the web page
<a href="https://igraph.org/r/doc/communities.html">igraph.org/r/doc/communities.html</a>
for more information. From that web page, the following clustering
functions are available:
</p>


<h3>Usage</h3>

<pre><code class="language-R">rnet_group(rnet, ...)

## Default S3 method:
rnet_group(rnet, ...)

## S3 method for class 'sfc'
rnet_group(
  rnet,
  cluster_fun = igraph::clusters,
  d = NULL,
  as.undirected = TRUE,
  ...
)

## S3 method for class 'sf'
rnet_group(
  rnet,
  cluster_fun = igraph::clusters,
  d = NULL,
  as.undirected = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rnet</code></td>
<td>
<p>An sf, sfc, or sfNetwork object representing a route network.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to other methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster_fun</code></td>
<td>
<p>The clustering function to use. Various clustering functions
are available in the <code>igraph</code> package. Default: <code>igraph::clusters()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>Optional distance variable used to classify segments that are
close (within a certain distance specified by <code>d</code>) to each other but not
necessarily touching</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.undirected</code></td>
<td>
<p>Coerce the graph created internally into an undirected
graph with <code>igraph::as.undirected()</code>? TRUE by default, which enables use
of a wider range of clutering functions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code style="white-space: pre;">⁠cluster_edge_betweenness, cluster_fast_greedy, cluster_label_prop,⁠</code>
<code style="white-space: pre;">⁠cluster_leading_eigen, cluster_louvain, cluster_optimal, cluster_spinglass, cluster_walktrap⁠</code>
</p>


<h3>Value</h3>

<p>If the input rnet is an sf/sfc object, it returns an integer vector
reporting the groups of each network element. If the input is an sfNetwork
object, it returns an sfNetwork object with an extra column called
rnet_group representing the groups of each network element. In the latter
case, the connectivity of the spatial object is derived from the sfNetwork
object.
</p>


<h3>Note</h3>

<p>These functions rely on the igraph package. If igraph is not installed,
the function will return a message.
</p>


<h3>See Also</h3>

<p>Other rnet: 
<code>gsection()</code>,
<code>islines()</code>,
<code>overline()</code>,
<code>rnet_breakup_vertices()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (requireNamespace("igraph", quietly = TRUE)) {
rnet &lt;- rnet_breakup_vertices(stplanr::osm_net_example)
rnet$group &lt;- rnet_group(rnet)
plot(rnet["group"])
# mapview::mapview(rnet["group"])
rnet$group_25m &lt;- rnet_group(rnet, d = 25)
plot(rnet["group_25m"])
rnet$group_walktrap &lt;- rnet_group(rnet, igraph::cluster_walktrap)
plot(rnet["group_walktrap"])
rnet$group_louvain &lt;- rnet_group(rnet, igraph::cluster_louvain)
plot(rnet["group_louvain"])
rnet$group_fast_greedy &lt;- rnet_group(rnet, igraph::cluster_fast_greedy)
plot(rnet["group_fast_greedy"])
}
</code></pre>


</div>