<div class="container">

<table style="width: 100%;"><tr>
<td>plotBeta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plots the varying beta coefficients of decomposition</h2>

<h3>Description</h3>

<p><code>plotBeta</code> plots the varying beta coefficients of STR decomposition.
It plots coefficients only only for independent seasons (one less season than defined).
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotBeta(
  x,
  xTime = NULL,
  predictorN = 1,
  dim = c(1, 2, 3),
  type = "o",
  pch = 20,
  palette = function(n) rainbow(n, start = 0, end = 0.7)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Result of STR decomposition.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xTime</code></td>
<td>
<p>Times for data to plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictorN</code></td>
<td>
<p>Predictor number in the decomposition to plot the corresponding beta coefficiets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dim</code></td>
<td>
<p>Dimensions to use to plot the beta coefficients.
When <code>1</code>, the standard charts are used.
When <code>2</code>, <code>graphics:::filled.contour</code> function is used.
When <code>3</code>, <code>rgl:::persp3d</code> is used. The default value is <code>1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Type of the graph for one dimensional plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>Symbol code to plot points in 1-dimensional charts. Default value is <code>20</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>palette</code></td>
<td>
<p>Color palette for 2 - and 3 - dimentional plots.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Alexander Dokumentov
</p>


<h3>See Also</h3>

<p><code>plot.STR</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
fit &lt;- AutoSTR(log(grocery))
for (i in 1:2) plotBeta(fit, predictorN = i, dim = 2)

########################################

TrendSeasonalStructure &lt;- list(
  segments = list(c(0, 1)),
  sKnots = list(c(1, 0))
)
DailySeasonalStructure &lt;- list(
  segments = list(c(0, 48)),
  sKnots = c(as.list(1:47), list(c(48, 0)))
)
WeeklySeasonalStructure &lt;- list(
  segments = list(c(0, 336)),
  sKnots = c(as.list(seq(4, 332, 4)), list(c(336, 0)))
)
WDSeasonalStructure &lt;- list(
  segments = list(c(0, 48), c(100, 148)),
  sKnots = c(as.list(c(1:47, 101:147)), list(c(0, 48, 100, 148)))
)

TrendSeasons &lt;- rep(1, nrow(electricity))
DailySeasons &lt;- as.vector(electricity[, "DailySeasonality"])
WeeklySeasons &lt;- as.vector(electricity[, "WeeklySeasonality"])
WDSeasons &lt;- as.vector(electricity[, "WorkingDaySeasonality"])

Data &lt;- as.vector(electricity[, "Consumption"])
Times &lt;- as.vector(electricity[, "Time"])
TempM &lt;- as.vector(electricity[, "Temperature"])
TempM2 &lt;- TempM^2

TrendTimeKnots &lt;- seq(from = head(Times, 1), to = tail(Times, 1), length.out = 116)
SeasonTimeKnots &lt;- seq(from = head(Times, 1), to = tail(Times, 1), length.out = 24)
SeasonTimeKnots2 &lt;- seq(from = head(Times, 1), to = tail(Times, 1), length.out = 12)

TrendData &lt;- rep(1, length(Times))
SeasonData &lt;- rep(1, length(Times))

Trend &lt;- list(
  name = "Trend",
  data = TrendData,
  times = Times,
  seasons = TrendSeasons,
  timeKnots = TrendTimeKnots,
  seasonalStructure = TrendSeasonalStructure,
  lambdas = c(1500, 0, 0)
)
WSeason &lt;- list(
  name = "Weekly seas",
  data = SeasonData,
  times = Times,
  seasons = WeeklySeasons,
  timeKnots = SeasonTimeKnots2,
  seasonalStructure = WeeklySeasonalStructure,
  lambdas = c(0.8, 0.6, 100)
)
WDSeason &lt;- list(
  name = "Dayly seas",
  data = SeasonData,
  times = Times,
  seasons = WDSeasons,
  timeKnots = SeasonTimeKnots,
  seasonalStructure = WDSeasonalStructure,
  lambdas = c(0.003, 0, 240)
)
TrendTempM &lt;- list(
  name = "Trend temp Mel",
  data = TempM,
  times = Times,
  seasons = TrendSeasons,
  timeKnots = TrendTimeKnots,
  seasonalStructure = TrendSeasonalStructure,
  lambdas = c(1e7, 0, 0)
)
TrendTempM2 &lt;- list(
  name = "Trend temp Mel^2",
  data = TempM2,
  times = Times,
  seasons = TrendSeasons,
  timeKnots = TrendTimeKnots,
  seasonalStructure = TrendSeasonalStructure,
  lambdas = c(0.01, 0, 0)
) # Starting parameter is too far from the optimal value
Predictors &lt;- list(Trend, WSeason, WDSeason, TrendTempM, TrendTempM2)

elec.fit &lt;- STR(
  data = Data,
  predictors = Predictors,
  gapCV = 48 * 7
)

plot(elec.fit,
  xTime = as.Date("2000-01-11") + ((Times - 1) / 48 - 10),
  forecastPanels = NULL
)

plotBeta(elec.fit, predictorN = 4)
plotBeta(elec.fit, predictorN = 5) # Beta coefficients are too "wiggly"

</code></pre>


</div>