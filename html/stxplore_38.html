<div class="container">

<table style="width: 100%;"><tr>
<td>spatial_means</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Computes spatial empirical means using a dataframe or a stars object</h2>

<h3>Description</h3>

<p>This function computes spatial empirical means by latitude and longitude averaged over time.
This function can take either a stars object or a dataframe. Input arguments differ for each case.
The autoplot function can plot this object.
</p>
<p>The variations are
* 'spatial_means.data.frame()' if the input is a dataframe
* 'spatial_means.stars()' if the input is a stars object
* 'autoplot.spatialmeans()' to plot the outputs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">spatial_means(x, ...)

## S3 method for class 'data.frame'
spatial_means(x, lat_col, lon_col, t_col, z_col, ...)

## S3 method for class 'stars'
spatial_means(x, ...)

## S3 method for class 'spatialmeans'
autoplot(
  object,
  ylab = "Mean Value",
  xlab1 = "Latitude",
  xlab2 = "Longitude",
  title = "Spatial Empirical Means",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A stars object or a dataframe. Arguments differ according to the input type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments currently ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat_col</code></td>
<td>
<p>For dataframes: the column or the column name giving the latitude. The y coordinate can be used instead of latitude.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lon_col</code></td>
<td>
<p>For dataframes: the column or the column name giving the longitude. The x coordinate can be used instead of longitude.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t_col</code></td>
<td>
<p>For dataframes: the time column. Time must be a set of discrete integer values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z_col</code></td>
<td>
<p>For dataframes: the The quantity of interest that will be plotted. Eg. temperature.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>For autoplot: the output from the ‘spatial_means’ function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>For autoplot: the ylabel.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab1</code></td>
<td>
<p>For autoplot: The xlabel for the first plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab2</code></td>
<td>
<p>For autuoplot: The xlabel for the second plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>The graph title.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A spatialmeans object contaiing spatial averages and the original data.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># dataframe example
data(NOAA_df_1990)
library(dplyr)
Tmax &lt;- filter(NOAA_df_1990,                      # subset the data
              proc == "Tmax" &amp;                   # extract max temperature
                month %in% 5:9 &amp;                 # May to July
                year == 1993)                    # year 1993
Tmax$t &lt;- Tmax$julian - min(Tmax$julian) + 1      # create a new time variable starting at 1
sp_df &lt;- spatial_means(Tmax,
       lat_col = "lat",
       lon_col = "lon",
       t_col = "t",
       z_col = "z")
autoplot(sp_df)

# stars examples
library(stars)
tif = system.file("tif/olinda_dem_utm25s.tif", package = "stars")
x &lt;- read_stars(tif)
sp_means &lt;- spatial_means(x)
autoplot(sp_means)

</code></pre>


</div>