<div class="container">

<table style="width: 100%;"><tr>
<td>generateClinicalTrialData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
A function to generate some clinical trial data according the joint
model of response and survival for simulations
</h2>

<h3>Description</h3>

<p>The data is generated according to the model specified in the
reference below, specifically,
</p>
<p style="text-align: center;"><code class="reqn">  \lambda(t \mid Y,Z)=\lambda_0(t) \exp(\alpha Y + \beta Z + \gamma Y
  Z)</code>
</p>



<h3>Usage</h3>

<pre><code class="language-R">generateClinicalTrialData(nRec, nFUp, pi0, pi1, theta, lambda0, blockSize = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nRec</code></td>
<td>

<p>the number of patients recruited every year. Length(nRec) is the number of years of recruitment
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nFUp</code></td>
<td>

<p>the number of additional years of followup
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi0</code></td>
<td>

<p>the probability of response under control arm
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi1</code></td>
<td>

<p>the probability of response under treatment arm
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>

<p>the three dimensional parameter <code class="reqn">(\alpha, \beta, \gamma)</code> of the
joint response/survival model
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda0</code></td>
<td>

<p>the baseline hazard rate
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blockSize</code></td>
<td>

<p>the size of the blocks for randomization of the treatment/control;
we use block randomization
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Generates data from an exponentail distribution according to the model
and adhering to the recruitment goals for each calendar year
</p>


<h3>Value</h3>

<p>A data frame consisting of the following variables.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>entryTime</code></td>
<td>
<p>entry time of the patient into the trial</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>responseIndicator</code></td>
<td>
<p>an indicator of patient being a responder or not</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatmentIndicator</code></td>
<td>
<p>an indicator of patient being in treatment
arm or control</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeToEvent</code></td>
<td>
<p>the time to event or death in the language of the paper</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Mei-Chiung Shih, Balasubramanian Narasimhan, Pei He
</p>


<h3>References</h3>

<p>Lai, Tze Leung and Lavori, Philip W. and Shih, Mei-Chiung. Sequential
Design of Phase II-III Cancer Trials, Statistics in Medicine, Volume 31, issue 18, p.1944-1960, 2012.
</p>


<h3>Examples</h3>

<pre><code class="language-R">  trialParameters &lt;- list(minimumNumberOfEvents = 20,
                              minimumIncreaseInV = 0.2,
                              numberRecruitedEachYear = c(80, 120, 160, 160),
                              followupTime = 3,
                              adminCensoringTime = 7,
                              interimLookTime = c(1, 2, 3, 5, 7),
                              type1ErrorForResponse = 0.05,
                              type2ErrorForResponse = 0.01,
                              glrBoundarySidedness = "one", # one sided or two-sided
                              type1Error = 0.05,
                              type2Error = 0.10,
                              epsType1 = 1/3,
                              epsType2 = 1/3)

  trueParameters &lt;- list(p0 = 0.3,
                             p1 = 0.3,
                             pdiffHyp=0.3,
                             theta = list(
                                     alpha = 0,
                                     beta = 0,
                                     gamma = 0),
                             baselineLambda = 0.35,
                             etaHyp = 0.25)
  rngSeed &lt;- 9872831

  d &lt;- generateClinicalTrialData(nRec = trialParameters$numberRecruitedEachYear,
                                     nFUp = trialParameters$followupTime,
                                     pi0 = trueParameters$p0,
                                     pi1 = trueParameters$p1,
                                     theta = trueParameters$theta,
                                     lambda0 = trueParameters$baselineLambda)

</code></pre>


</div>