<div class="container">

<table style="width: 100%;"><tr>
<td>harmHeight</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Height of harmonics</h2>

<h3>Description</h3>

<p>Internal soundgen function
</p>


<h3>Usage</h3>

<pre><code class="language-R">harmHeight(
  frame,
  pitch,
  bin,
  freqs,
  harmThres = 3,
  harmTol = 0.25,
  harmPerSel = 5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>frame</code></td>
<td>
<p>the abs spectrum of a frame, as returned by
<code>fft</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pitch</code></td>
<td>
<p>the final pitch estimate for the current frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bin</code></td>
<td>
<p>spectrogram bin width, Hz</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freqs</code></td>
<td>
<p>frequency per bin of spectrogram</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>harmThres</code></td>
<td>
<p>minimum height of spectral peak, dB</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>harmTol</code></td>
<td>
<p>maximum tolerated deviation of peak frequency from multiples
of f0, proportion of f0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>harmPerSel</code></td>
<td>
<p>the number of harmonics per sliding selection</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Attempts to estimate how high harmonics reach in the spectrum - that is, at
what frequency we can still discern peaks at multiples of f0 or, for
low-pitched sounds, regularly spaced peaks separated by ~f0.
</p>


<h3>Value</h3>

<p>Returns the frequency (Hz) up to which we find harmonics
</p>


<h3>Examples</h3>

<pre><code class="language-R">s = soundgen(sylLen = 400, addSilence = 0, pitch = 400, noise = -10,
  rolloff = -15, jitterDep = .1, shimmerDep = 5, temperature = .001)
sp = spectrogram(s, samplingRate = 16000)
hh = soundgen:::harmHeight(sp[, 5], pitch = 400,
  freqs = as.numeric(rownames(sp)) * 1000, bin = 16000 / 2 / nrow(sp))
</code></pre>


</div>