<div class="container">

<table style="width: 100%;"><tr>
<td>hccme</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Heteroskedasticity-Consistent Covariance Matrix Estimators for
Linear Regression Models</h2>

<h3>Description</h3>

<p>Computes an estimate of the <code class="reqn">n\times n</code> covariance matrix <code class="reqn">\Omega</code>
(assumed to be diagonal) of the random error vector of a linear
regression model, using a specified method
</p>


<h3>Usage</h3>

<pre><code class="language-R">hccme(
  mainlm,
  hcnum = c("3", "0", "1", "2", "4", "5", "6", "7", "4m", "5m", "const"),
  sandwich = FALSE,
  as_matrix = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mainlm</code></td>
<td>
<p>Either an object of <code>class</code> <code>"lm"</code>
(e.g., generated by <code>lm</code>), or
a list of two objects: a response vector and a design matrix. The objects
are assumed to be in that order, unless they are given the names
<code>"X"</code>  and <code>"y"</code> to distinguish them. The design matrix passed
in a list must begin with a column of ones if an intercept is to be
included in the linear model. The design matrix passed in a list should
not contain factors, as all columns are treated 'as is'. For tests that
use ordinary least squares residuals, one can also pass a vector of
residuals in the list, which should either be the third object or be
named <code>"e"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hcnum</code></td>
<td>
<p>A character corresponding to a subscript in the name of an
HCCME according to the usual nomenclature <code class="reqn">\mathrm{HC\#}</code>.
Possible values are:
</p>

<ul>
<li>
<p> "3", the default, corresponding to HC3
(MacKinnon and White 1985)
</p>
</li>
<li>
<p> "0", corresponding to HC0 (White 1980)
</p>
</li>
<li>
<p> "1", corresponding to HC1 (MacKinnon and White 1985)
</p>
</li>
<li>
<p> "2", corresponding to HC1 (MacKinnon and White 1985)
</p>
</li>
<li>
<p> "4", corresponding to HC4 (Cribari-Neto 2004)
</p>
</li>
<li>
<p> "5", corresponding to HC5 (Cribari-Neto et al. 2007)
</p>
</li>
<li>
<p> "6", corresponding to HC6 (Aftab and Chand 2016)
</p>
</li>
<li>
<p> "7", corresponding to HC7 (Aftab and Chand 2018)
</p>
</li>
<li>
<p> "4m", corresponding to HC4m (Cribari-Neto and da Silva 2011)
</p>
</li>
<li>
<p> "5m", corresponding to HC5m (Li et al. 2017)
</p>
</li>
<li>
<p> "const", corresponding to the homoskedastic estimator,
<code class="reqn">(n-p)^{-1}\displaystyle\sum_{i=1}^{n}e_i^2</code>
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sandwich</code></td>
<td>
<p>A logical, defaulting to <code>FALSE</code>, indicating
whether or not the sandwich estimator
</p>
<p style="text-align: center;"><code class="reqn">\mathrm{Cov}{\hat{\beta}}=(X'X)^{-1}X'\hat{\Omega}X(X'X)^{-1}</code>
</p>

<p>should be returned instead of <code class="reqn">\mathrm{Cov}(\epsilon)=\hat{\Omega}</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as_matrix</code></td>
<td>
<p>A logical, defaulting to <code>TRUE</code>, indicating whether
a covariance matrix estimate should be returned rather
than a vector of variance estimates</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A numeric matrix (if <code>as_matrix</code> is <code>TRUE</code>) or else a
numeric vector
</p>


<h3>References</h3>

<p>Aftab N, Chand S (2016).
“A New Heteroskedastic Consistent Covariance Matrix Estimator Using Deviance Measure.”
<em>Pakistan Journal of Statistics and Operations Research</em>, <b>12</b>(2), 235–244.<br><br> Aftab N, Chand S (2018).
“A Simulation-Based Evidence on the Improved Performance of a New Modified Leverage Adjusted Heteroskedastic Consistent Covariance Matrix Estimator in the Linear Regression Model.”
<em>Kuwait Journal of Science</em>, <b>45</b>(3), 29–38.<br><br> Cribari-Neto F (2004).
“Asymptotic Inference under Heteroskedasticity of Unknown Form.”
<em>Computational Statistics &amp; Data Analysis</em>, <b>45</b>, 215–233.<br><br> Cribari-Neto F, Souza TC, Vasconcellos KLP (2007).
“Inference under Heteroskedasticity and Leveraged Data.”
<em>Communications in Statistics - Theory and Methods</em>, <b>36</b>(10), 1877–1888.<br><br> Cribari-Neto F, da Silva WB (2011).
“A New Heteroskedasticity-Consistent Covariance Matrix Estimator for the Linear Regression Model.”
<em>Advances in Statistical Analysis</em>, <b>95</b>(2), 129–146.<br><br> Li S, Zhang N, Zhang X, Wang G (2017).
“A New Heteroskedasticity-Consistent Covariance Matrix Estimator and Inference under Heteroskedasticity.”
<em>Journal of Statistical Computation and Simulation</em>, <b>87</b>(1), 198–210.<br><br> MacKinnon JG, White H (1985).
“Some Heteroskedasticity-Consistent Covariance Matrix Estimators with Improved Finite Sample Properties.”
<em>Journal of Econometrics</em>, <b>29</b>(3), 305–325.<br><br> White H (1980).
“A Heteroskedasticity-Consistent Covariance Matrix Estimator and a Direct Test for Heteroskedasticity.”
<em>Econometrica</em>, <b>48</b>(4), 817–838.
</p>


<h3>See Also</h3>

<p><code>vcovHC</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">mtcars_lm &lt;- lm(mpg ~ wt + qsec + am, data = mtcars)
Omega_hat &lt;- hccme(mtcars_lm, hcnum = "4")
Cov_beta_hat &lt;- hccme(mtcars_lm, hcnum = "4", sandwich = TRUE)

</code></pre>


</div>