<div class="container">

<table style="width: 100%;"><tr>
<td>plot_lambda</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot Goodness-of-Fit Statistics or Information Criteria</h2>

<h3>Description</h3>

<p>Function to plot the goodness-of-fit statistics or information criteria
as a function of lambda when lambda is selected in-sample, out-of-sample or using cross-validation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_lambda(x, ...)

## S3 method for class 'glmsmurf'
plot_lambda(
  x,
  xlab = NULL,
  ylab = NULL,
  lambda.opt = TRUE,
  cv1se = TRUE,
  log.lambda = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object for which the extraction of goodness-of-fit statistics or information criteria is meaningful. 
E.g. an object of class '<code>glmsmurf</code>', typically the result of a call to <code>glmsmurf</code> or <code>glmsmurf.fit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments for the <code>plot</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>Label for the x-axis. The default value is <code>NULL</code> which means that <code>substitute(log(lambda))</code> is used when <code>log.lambda=TRUE</code>
and <code>substitute(lambda)</code> when <code>log.lambda=FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>Label for the y-axis. The default value is <code>NULL</code> which means that the y-axis label is 
determined based on method that was used to select lambda.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.opt</code></td>
<td>
<p>Logical indicating if the optimal value of lambda should be indicated on the plot 
by a vertical dashed line. Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv1se</code></td>
<td>
<p>Logical indicating if the standard errors should be indicated on the plot 
when cross-validation with the one standard error rule is performed (e.g. "cv1se.dev"). Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log.lambda</code></td>
<td>
<p>Logical indicating if the logarithm of lambda is plotted on the x-axis, default is <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This plot can only be made when lambda is selected in-sample, out-of-sample or using cross-validation (possibly with the one standard error rule), 
see the <code>lambda</code> argument of <code>glmsmurf</code>.
</p>


<h3>See Also</h3>

<p><code>glmsmurf</code>, <code>glmsmurf-class</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

# Munich rent data from catdata package
data("rent", package = "catdata")

# The considered predictors are the same as in 
# Gertheiss and Tutz (Ann. Appl. Stat., 2010).
# Response is monthly rent per square meter in Euro

# Urban district in Munich
rent$area &lt;- as.factor(rent$area)

# Decade of construction
rent$year &lt;- as.factor(floor(rent$year / 10) * 10)

# Number of rooms
rent$rooms &lt;- as.factor(rent$rooms)

# Quality of the house with levels "fair", "good" and "excellent"
rent$quality &lt;- as.factor(rent$good + 2 * rent$best)
levels(rent$quality) &lt;- c("fair", "good", "excellent")

# Floor space divided in categories (0, 30), [30, 40), ...,  [130, 140)
sizeClasses &lt;- c(0, seq(30, 140, 10))
rent$size &lt;- as.factor(sizeClasses[findInterval(rent$size, sizeClasses)])

# Is warm water present?
rent$warm &lt;- factor(rent$warm, labels = c("yes", "no"))

# Is central heating present?
rent$central &lt;- factor(rent$central, labels = c("yes", "no"))

# Does the bathroom have tiles?
rent$tiles &lt;- factor(rent$tiles, labels = c("yes", "no"))

# Is there special furniture in the bathroom?
rent$bathextra &lt;- factor(rent$bathextra, labels = c("no", "yes"))

# Is the kitchen well-equipped?
rent$kitchen &lt;- factor(rent$kitchen, labels = c("no", "yes"))



# Create formula with 'rentm' as response variable,
# 'area' with a Generalized Fused Lasso penalty,
# 'year', 'rooms', 'quality' and 'size' with Fused Lasso penalties,
# and the other predictors with Lasso penalties.
formu &lt;- rentm ~ p(area, pen = "gflasso") + 
  p(year, pen = "flasso") + p(rooms, pen = "flasso") + 
  p(quality, pen = "flasso") + p(size, pen = "flasso") +
  p(warm, pen = "lasso") + p(central, pen = "lasso") + 
  p(tiles, pen = "lasso") + p(bathextra, pen = "lasso") + 
  p(kitchen, pen = "lasso") 

# Fit a multi-type regularized GLM using the SMuRF algorithm and select the optimal value of lambda 
# using cross-validation (with the deviance as loss measure and the one standard error rule).
# We use standardization adaptive penalty weights based on an initial GLM fit.
# The number of values of lambda to consider in cross-validation is
# set to 10 using the control argument (default is 50).
munich.fit.cv &lt;- glmsmurf(formula = formu, family = gaussian(), data = rent, 
                          pen.weights = "glm.stand", lambda = "cv1se.dev",
                          control = list(lambda.length = 10L, ncores = 1L))


# Plot average deviance over cross-validation folds as a function of the logarithm of lambda
plot_lambda(munich.fit.cv)
# Zoomed plot
plot_lambda(munich.fit.cv, xlim = c(-7, -3.5), ylim = c(1575, 1750))

</code></pre>


</div>