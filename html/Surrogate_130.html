<div class="container">

<table style="width: 100%;"><tr>
<td>Pred.TrialT.ContCont</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Compute the expected treatment effect on the true endpoint in a new trial (when both S and T are normally distributed continuous endpoints)
</h2>

<h3>Description</h3>

<p>The key motivation to evaluate a surrogate endpoint is to be able to predict the  treatment effect on the true endpoint <code class="reqn">T</code> based on the treatment effect on <code class="reqn">S</code> in a new trial <code class="reqn">i=0</code>. The function <code>Pred.TrialT.ContCont</code> allows for making such predictions based on fitted models of class <code>BimixedContCont</code>, <code>BifixedContCont</code>, <code>UnimixedContCont</code> and <code>UnifixedContCont</code>.  
</p>


<h3>Usage</h3>

<pre><code class="language-R">Pred.TrialT.ContCont(Object, mu_S0, alpha_0, alpha.CI=0.05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Object</code></td>
<td>
<p>A fitted object of class <code>BimixedContCont</code>, <code>BifixedContCont</code>, <code>UnimixedContCont</code> and <code>UnifixedContCont</code>. Some of the components in these fitted objects are needed to estimate <code class="reqn">E(\beta + b_0)</code> and its variance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu_S0</code></td>
<td>
<p>The intercept of a regression model in the new trial <code class="reqn">i=0</code> where the surrogate endpoint is regressed on the true endpoint, i.e., <code class="reqn">S_{0j}=\mu_{S0} + \alpha_0 Z_{0j} + \varepsilon_{S0j}</code>, where <code class="reqn">S</code> is the surrogate endpoint, <code class="reqn">j</code> is the patient indicator, and <code class="reqn">Z</code> is the treatment. This argument only needs to be specified when a full model was used to examine surroacy.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_0</code></td>
<td>
<p>The regression weight of the treatment in the regression model specified under argument <code>mu_S0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.CI</code></td>
<td>
<p>The <code class="reqn">\alpha</code>-level to be used to determine the confidence interval around <code class="reqn">E(\beta + b_0)</code>. Default <code>alpha.CI=0.05</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The key motivation to evaluate a surrogate endpoint is to be able to predict the  treatment effect on the true endpoint <code class="reqn">T</code> based on the treatment effect on <code class="reqn">S</code> in a new trial <code class="reqn">i=0</code>.
</p>
<p>When a so-called full (fixed or mixed) bi- or univariate model was fitted in the surrogate evaluation phase (for details, see <code>BimixedContCont</code>, <code>BifixedContCont</code>, <code>UnimixedContCont</code> and <code>UnifixedContCont</code>), this prediction is made as:
</p>
<p style="text-align: center;"><code class="reqn">E(\beta + b_0 | m_{S0}, a_0) = \beta + \left(\begin{array}{c}
d_{Sb}\\
d_{ab}
\end{array}\right)^T \left(\begin{array}{cc}
d_{SS} &amp; D_{Sa}\\
d_{Sa} &amp; d_{aa}
\end{array}\right)^{-1} \left(\begin{array}{c}
\mu_{S0} - \mu_S\\
\alpha_0 - \alpha
\end{array}\right) </code>
</p>

<p style="text-align: center;"><code class="reqn">Var(\beta + b_0 | m_{S0}, a_0) = d_{bb} + \left(\begin{array}{c}
d_{Sb}\\
d_{ab}
\end{array}\right)^T \left(\begin{array}{cc}
d_{SS} &amp; D_{Sa}\\
d_{Sa} &amp; d_{aa}
\end{array}\right)^{-1} \left(\begin{array}{c}
d_{Sb}\\
d_{ab}
\end{array}\right),</code>
</p>

<p>where all components are defined as in <code>BimixedContCont</code>. When the univariate mixed-effects models are used or the (univariate or bivariate) fixed effects models, the fitted components contained in <code>D.Equiv</code> are used instead of those in <code>D</code>.
</p>
<p>When a reduced-model approach was used in the surrogate evaluation phase, the prediction is made as:
</p>
<p style="text-align: center;"><code class="reqn">E(\beta + b_0 | a_0) = \beta + \frac{d_{ab}}{d_{aa}} + (\alpha_0 - \alpha),</code>
</p>

<p style="text-align: center;"><code class="reqn">Var(\beta + b_0 | a_0) = d_{bb} - \frac{d_{ab}^2}{d_{aa}},</code>
</p>

<p>where all components are defined as in <code>BimixedContCont</code>. When the univariate mixed-effects models are used or the (univariate or bivariate) fixed effects models, the fitted components contained in <code>D.Equiv</code> are used instead of those in <code>D</code>.
</p>
<p>A <code class="reqn">(1-\gamma)100\%</code> prediction interval for <code class="reqn">E(\beta + b_0 | m_{S0}, a_0)</code> can be obtained as <code class="reqn">E(\beta + b_0 | m_{S0}, a_0) \pm z_{1-\gamma/2}  \sqrt{Var(\beta + b_0 | m_{S0}, a_0)}</code> (and similarly for <code class="reqn">E(\beta + b_0 | a_0)</code>).
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Beta_0</code></td>
<td>
<p>The predicted <code class="reqn">\beta_0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Variance</code></td>
<td>
<p>The variance of the prediction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Lower</code></td>
<td>
<p>The lower bound of the confidence interval around the expected <code class="reqn">\beta_0</code>, see Details above.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Upper</code></td>
<td>
<p>The upper bound of the confidence interval around the expected <code class="reqn">\beta_0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.CI</code></td>
<td>
<p>The <code class="reqn">\alpha</code>-level used to establish the confidence interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Surr.Model</code></td>
<td>
<p>The model that was used to compute <code class="reqn">\beta_0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_0</code></td>
<td>
<p>The slope of the regression model specified in the <code>Arguments</code> section.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Wim Van der Elst, Ariel Alonso, &amp; Geert Molenberghs
</p>


<h3>References</h3>

<p>Burzykowski, T., Molenberghs, G., &amp; Buyse, M. (2005). <em>The evaluation of surrogate endpoints</em>. New York: Springer-Verlag.
</p>


<h3>See Also</h3>

<p><code>UnifixedContCont</code>, <code>BifixedContCont</code>, <code>UnimixedContCont</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run:  #time-consuming code parts
# Generate dataset
Sim.Data.MTS(N.Total=2000, N.Trial=15, R.Trial.Target=.8, 
R.Indiv.Target=.8, D.aa=10, D.bb=50, Fixed.Effects=c(1, 2, 30, 90), 
Seed=1)

# Evaluate surrogacy using a reduced bivariate mixed-effects model
BimixedFit &lt;- BimixedContCont(Dataset = Data.Observed.MTS, Surr = Surr, 
True = True, Treat = Treat, Trial.ID = Trial.ID, Pat.ID = Pat.ID, 
Model="Reduced")

# Suppose that in a new trial, it was estimated alpha_0 = 30
# predict beta_0 in this trial
Pred_Beta &lt;- Pred.TrialT.ContCont(Object = BimixedFit, 
alpha_0 = 30)

# Examine the results
summary(Pred_Beta)

# Plot the results
plot(Pred_Beta)

## End(Not run)
</code></pre>


</div>