<div class="container">

<table style="width: 100%;"><tr>
<td>mscorev</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Computes M-scores for M-tests and estimates.
</h2>

<h3>Description</h3>

<p>Of limited interest to most users, function mscorev() computes the M-scores used by
functions senm(), senmCI(), comparison(), and principal() that perform Huber-Maritz M-tests.
The function is also in the package sensitivitymv.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mscorev(ymat, inner = 0, trim = 2.5, qu = 0.5, TonT = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ymat</code></td>
<td>

<p>ymat is a matrix as described in the documentation for senm().
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inner</code></td>
<td>

<p>inner is the parameter described in the documentation for senm().
The inner parameter is discussed in Rosenbaum (2013).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trim</code></td>
<td>

<p>trim is the parameter described in the documentation for senm().  Note that the default
for mscorev is trim = 2.5, but other functions in this package reset the default to
trim = 3.  This is for consistency with the sensitivitymv package which also contains
the mscorev function.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qu</code></td>
<td>

<p>qu is the lambda parameter described in the documentation for senm().
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TonT</code></td>
<td>

<p>If TonT=FALSE, then the total score in set (row) i is divided by the number ni of individuals in row i, as in expression (8) in Rosenbaum (2007).  If TonT=TRUE, then the division is by ni-1, not by ni, and there is a further division by the total number of matched sets.  See the discussion of TonT in the documentation for senm().
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Generally, a matrix with the same dimensions as ymat containing the M-scores.  Exception: if a matched set does not contain at least one treated subject and at least one control, then that set will not appear in the result, and the result will have fewer rows than ymat.  However, if a matched set has several controls but no treated subject, then these controls will contribute to the estimate of the scale parameter, typically the median absolute pair difference.
</p>


<h3>Note</h3>

<p>The example reproduces Table 3 in Rosenbaum (2007).
</p>


<h3>Author(s)</h3>

<p>Paul R. Rosenbaum
</p>


<h3>References</h3>

<p>Rosenbaum, P. R. (2007) Sensitivity analysis for m-estimates, tests and confidence intervals in matched observational studies.  Biometrics, 2007, 63, 456-464.  &lt;doi:10.1111/j.1541-0420.2006.00717.x&gt;
</p>
<p>Rosenbaum, P. R. (2013). Impact of multiple matched controls on
design sensitivity in observational studies. Biometrics 69 118-127.
(Introduces inner trimming.) &lt;doi:10.1111/j.1541-0420.2012.01821.x&gt;
</p>
<p>Rosenbaum, P. R. (2015).  Two R packages for sensitivity analysis
in observational studies.  Observational Studies, v. 1. (Free on-line.)
</p>


<h3>Examples</h3>

<pre><code class="language-R"># The example reproduces Table 3 in Rosenbaum (2007).
data(tbmetaphase)
mscorev(tbmetaphase,trim=1)
</code></pre>


</div>