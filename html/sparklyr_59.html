<div class="container">

<table style="width: 100%;"><tr>
<td>ft_feature_hasher</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Feature Transformation – FeatureHasher (Transformer)</h2>

<h3>Description</h3>

<p>Feature Transformation – FeatureHasher (Transformer)
</p>


<h3>Usage</h3>

<pre><code class="language-R">ft_feature_hasher(
  x,
  input_cols = NULL,
  output_col = NULL,
  num_features = 2^18,
  categorical_cols = NULL,
  uid = random_string("feature_hasher_"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>spark_connection</code>, <code>ml_pipeline</code>, or a <code>tbl_spark</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input_cols</code></td>
<td>
<p>Names of input columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_col</code></td>
<td>
<p>Name of output column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_features</code></td>
<td>
<p>Number of features. Defaults to <code class="reqn">2^18</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>categorical_cols</code></td>
<td>
<p>Numeric columns to treat as categorical features.
By default only string and boolean columns are treated as categorical,
so this param can be used to explicitly specify the numerical columns to
treat as categorical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uid</code></td>
<td>
<p>A character string used to uniquely identify the feature transformer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Optional arguments; currently unused.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Feature hashing projects a set of categorical or numerical features into a
feature vector of specified dimension (typically substantially smaller than
that of the original feature space). This is done using the hashing trick
<a href="https://en.wikipedia.org/wiki/Feature_hashing">https://en.wikipedia.org/wiki/Feature_hashing</a> to map features to indices
in the feature vector.
</p>
<p>The FeatureHasher transformer operates on multiple columns. Each column may
contain either numeric or categorical features. Behavior and handling of
column data types is as follows: -Numeric columns: For numeric features,
the hash value of the column name is used to map the feature value to its
index in the feature vector. By default, numeric features are not treated
as categorical (even when they are integers). To treat them as categorical,
specify the relevant columns in categoricalCols. -String columns: For
categorical features, the hash value of the string "column_name=value"
is used to map to the vector index, with an indicator value of 1.0.
Thus, categorical features are "one-hot" encoded (similarly to using
OneHotEncoder with drop_last=FALSE). -Boolean columns: Boolean values
are treated in the same way as string columns. That is, boolean features
are represented as "column_name=true" or "column_name=false", with an
indicator value of 1.0.
</p>
<p>Null (missing) values are ignored (implicitly zero in the resulting feature vector).
</p>
<p>The hash function used here is also the MurmurHash 3 used in HashingTF. Since a
simple modulo on the hashed value is used to determine the vector index, it is
advisable to use a power of two as the num_features parameter; otherwise the
features will not be mapped evenly to the vector indices.
</p>


<h3>Value</h3>

<p>The object returned depends on the class of <code>x</code>. If it is a
<code>spark_connection</code>, the function returns a <code>ml_estimator</code> or a
<code>ml_estimator</code> object. If it is a <code>ml_pipeline</code>, it will return
a pipeline with the transformer or estimator appended to it. If a
<code>tbl_spark</code>, it will return a <code>tbl_spark</code> with the transformation
applied to it.
</p>


<h3>See Also</h3>

<p>Other feature transformers: 
<code>ft_binarizer()</code>,
<code>ft_bucketizer()</code>,
<code>ft_chisq_selector()</code>,
<code>ft_count_vectorizer()</code>,
<code>ft_dct()</code>,
<code>ft_elementwise_product()</code>,
<code>ft_hashing_tf()</code>,
<code>ft_idf()</code>,
<code>ft_imputer()</code>,
<code>ft_index_to_string()</code>,
<code>ft_interaction()</code>,
<code>ft_lsh</code>,
<code>ft_max_abs_scaler()</code>,
<code>ft_min_max_scaler()</code>,
<code>ft_ngram()</code>,
<code>ft_normalizer()</code>,
<code>ft_one_hot_encoder()</code>,
<code>ft_one_hot_encoder_estimator()</code>,
<code>ft_pca()</code>,
<code>ft_polynomial_expansion()</code>,
<code>ft_quantile_discretizer()</code>,
<code>ft_r_formula()</code>,
<code>ft_regex_tokenizer()</code>,
<code>ft_robust_scaler()</code>,
<code>ft_sql_transformer()</code>,
<code>ft_standard_scaler()</code>,
<code>ft_stop_words_remover()</code>,
<code>ft_string_indexer()</code>,
<code>ft_tokenizer()</code>,
<code>ft_vector_assembler()</code>,
<code>ft_vector_indexer()</code>,
<code>ft_vector_slicer()</code>,
<code>ft_word2vec()</code>
</p>


</div>