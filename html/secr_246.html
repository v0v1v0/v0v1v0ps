<div class="container">

<table style="width: 100%;"><tr>
<td>plot.mask</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Plot Habitat Mask, Density or Resource Surface </h2>

<h3>Description</h3>

<p>Plot a habitat mask either as points or as an <code>image</code>
plot. Colours maybe used to show the value of one mask covariate.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'mask'
plot(x, border = 20, add = FALSE, covariate = NULL, axes = FALSE,
    dots = TRUE, col = "grey", breaks = 10, meshcol = NA, ppoly = TRUE,
    polycol = "red", legend = TRUE, ...)

## S3 method for class 'Dsurface'
plot(x, covariate, group = NULL, plottype =
    "shaded", scale = 1, ...)

## S3 method for class 'Rsurface'
plot(x, covariate = "Resource", plottype =
    "shaded", scale = 1, ...)

spotHeight (object, prefix = NULL, dec = 2, point = FALSE, text = TRUE,
    sep = ", ",  session = 1, scale = 1, ...)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x, object</code></td>
<td>
<p> mask or Dsurface object </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border</code></td>
<td>
<p> width of blank display border (metres) </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p> logical for adding mask points to an existing plot </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariate</code></td>
<td>
<p> name (as character string in quotes) or column
number of a covariate to use for colouring </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axes</code></td>
<td>
<p> logical for plotting axes </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dots</code></td>
<td>
<p> logical for plotting mask points as dots, rather than as square pixels </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p> colour(s) to use for plotting </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p> an integer or a numeric vector – see <code>cut</code> </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meshcol</code></td>
<td>
<p> colour for pixel borders (NA for none) </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ppoly</code></td>
<td>
<p> logical for whether the bounding polygon should be
plotted (if ‘poly’ specified) </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>polycol</code></td>
<td>
<p> colour for outline of polygon (<code>ppoly</code> = TRUE) </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p> logical; if TRUE a legend is plotted </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> other arguments passed to <code>eqscplot</code> (in the case
of <code>plot.mask</code>), <code>plot.mask</code> (in the case of
<code>plot.Dsurface</code> and <code>plot.Rsurface</code>), and <code>points</code> or
<code>text</code> (in the case of <code>spotHeight</code>) </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p> group for which plot required, if more than 1 </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plottype</code></td>
<td>
<p> character string c("dots", "shaded", "contour",
"persp") </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>numeric multiplier for density or other numeric covariate
(see <code>Dsurface</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefix</code></td>
<td>
<p>character vector for name(s) of covariate(s) to retrieve</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dec</code></td>
<td>
<p> number of decimal places for rounding density </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point</code></td>
<td>
<p>logical for whether to plot point</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text</code></td>
<td>
<p>logical for whether to place density label on plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>character separator for elements if length(prefix)&gt;1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>session</code></td>
<td>
<p>session number or identifier</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The argument <code>dots</code> of <code>plot.mask</code> selects between two
distinct types of plot (dots and shaded (coloured) pixels).
</p>
<p><code>plot.Dsurface</code> and <code>plot.Rsurface</code> offer contour and
perspective plots in addition to the options in <code>plot.mask</code>. It may
take some experimentation to get what you want - see
<code>contour</code> and <code>persp</code>.
</p>
<p>For plot.Dsurface the default value of ‘covariate’ is ‘D’ unless the Dsurface has a ‘parameter’ attribute of ‘noneuc’,
</p>
<p>If using a covariate or Dsurface or Rsurface to colour dots or pixels, the
<code>col</code> argument should be a colour vector of length equal to the
number of levels (the default palette from 2.9.0 is <code>terrain.colors</code>, and this
palette will also be used whenever there are too few levels in the
palette provided; see Notes for more on palettes). Border lines around
pixels are drawn in ‘meshcol’. Set this to NA to eliminate pixel
borders.
</p>
<p>If a <code>covariate</code> is specified in a call to <code>plot.Dsurface</code> then
that covariate will be plotted instead of density. This is a handy way
to contour a covariate (contouring is not available in <code>plot.mask</code>).
</p>
<p>If ‘breaks’ is an integer then the range of the covariate is divided
into this number of equal intervals. Alternatively, ‘breaks’ may be a
vector of break points (length one more than the number of
intervals). This gives more control and often ‘prettier’ 
</p>
<p><code>spotHeight</code> may be used to interrogate a plot produced with
<code>plot.Dsurface</code> or <code>plot.Rsurface</code>, or by <code>plot.mask</code> if
the mask has covariates. <code>prefix</code> defaults to ‘density.’ for
Dsurface objects and to '' (all covariates) for mask objects. The
predicted density or covariate at the nearest point is returned when the
user clicks on the plot. Multiple values may be displayed (e.g.,
<code>prefix = c("lcl","ucl")</code> if Dsurface includes confidence
limits). Click outside the mask or hit the Esc key to
end. <code>spotHeight</code> deals with one session at a time.
</p>
<p>Legend plotting is enabled only when a covariate is specified. It uses
<code>legend</code> when <code>dots = TRUE</code> and
<code>strip.legend</code> otherwise.
</p>


<h3>Value</h3>

<p>If <code>covariate</code> is specified and <code>plottype = "shaded"</code> then
<code>plot.mask</code> invisibly returns a character vector of the intervals
defined by ‘breaks’ (useful for plotting a legend).
</p>
<p>If <code>plottype = "persp"</code> then <code>plot.mask</code> invisibly returns a the
perspective matrix that may be used to add to the plot with
<code>trans3d</code>.
</p>
<p><code>spotHeight</code> invisibly returns a dataframe of the extracted
values and their coordinates.
</p>


<h3>Note</h3>

<p><code>plot.mask()</code> acquired the argument ‘legend’ in version 2.9.0,
and other changes (e.g., <code>breaks = 10</code>) may alter the output.
</p>
<p>Contouring requires a rectangular grid; if a Dsurface is not
rectangular then plot.Dsurface with <code>plottype = "contour"</code> triggers a call to
<code>rectangularMask</code>.
</p>
<p>The colour palettes <code>topo.colors</code>, <code>heat.colors</code> and
<code>terrain.colors</code> may be viewed with the <code>demo.pal</code> function in
the Examples code of their help page palettes.
</p>
<p>The package <span class="pkg">RColorBrewer</span> is a good source of palettes. Try
<code>display.brewer.all()</code> and e.g., <code>col = brewer.pal(7, "YlGn")</code>.
</p>


<h3>See Also</h3>

<p><code>colours</code>,
<code>mask</code>,
<code>Dsurface</code>,
<code>rectangularMask</code>,
<code>contour</code>
<code>persp</code>
<code>strip.legend</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# simple

temptrap &lt;- make.grid()
tempmask &lt;- make.mask(temptrap)
plot (tempmask)

## Not run: 

## restrict to points over an arbitrary detection threshold,
## add covariate, plot image and overlay traps

tempmask &lt;- subset(tempmask, pdot(tempmask, temptrap,
    noccasions = 5)&gt;0.001)
covariates (tempmask) &lt;- data.frame(circle = 
    exp(-(tempmask$x^2 + tempmask$y^2)/10000) )
plot (tempmask, covariate = "circle", dots = FALSE, axes = TRUE, 
    add = TRUE, breaks = 8, col = terrain.colors(8), mesh = NA)
plot (temptrap, add = TRUE)

## add a legend
par(cex = 0.9)
covrange &lt;- range(covariates(tempmask)$circle)
step &lt;- diff(covrange)/8
colourlev &lt;- terrain.colors(9)
zlev &lt;- format(round(seq(covrange[1],covrange[2],step),2))
legend (x = "topright", fill = colourlev, legend = zlev, 
    y.intersp = 0.8, title = "Covariate")

title("Colour mask points with p.(X) &gt; 0.001")
mtext(side=3,line=-1, "g0 = 0.2, sigma = 20, nocc = 5")

## Waitarere possum density surface extrapolated across region

regionmask &lt;- make.mask(traps(possumCH), buffer = 1000, spacing = 10,
    poly = possumremovalarea)
dts &lt;- distancetotrap(regionmask, possumarea)
covariates(regionmask) &lt;- data.frame(d.to.shore = dts)
shorePossums &lt;- predictDsurface(possum.model.Ds, regionmask)

## plot as coloured pixels with white lines
colourlev &lt;- terrain.colors(7)
plot(shorePossums, breaks = seq(0,3.5,0.5), plottype = "shaded",
    poly = FALSE, col = colourlev, mesh = NA)
plot(traps(possumCH), add = TRUE, detpar = list(col = "black"))
polygon(possumremovalarea)

## check some point densities
spotHeight(shorePossums, dec = 1, col = "black")

## add a legend
zlev &lt;- format(seq(0,3,0.5), digits = 1)
legend (x = "topright", fill = colourlev, legend =
    paste(zlev,"--"), y.intersp = 1, title = "Density / ha")

## End(Not run)

</code></pre>


</div>