<div class="container">

<table style="width: 100%;"><tr>
<td>stress_prob</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Stressing Intervals</h2>

<h3>Description</h3>

<p>Provides weights on simulated scenarios from a baseline stochastic
model, such that a stressed model component (random variable) 
fulfils constraints on probability of disjoint intervals. Scenario 
weights are selected by constrained minimisation of the 
relative entropy to the baseline model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">stress_prob(x, prob, lower = NULL, upper, k = 1, names = NULL, log = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector, matrix or data frame
containing realisations of random variables. Columns of <code>x</code>
correspond to random variables; OR<br>
A <code>SWIM</code> object, where <code>x</code> corresponds to the
underlying data of the <code>SWIM</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>Numeric vector, stressed probabilities corresponding to
the intervals defined through <code>lower</code> and 
<code>upper</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower</code></td>
<td>
<p>Numeric vector, left endpoints of the intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper</code></td>
<td>
<p>Numeric vector, right endpoints of the intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Numeric, the column of <code>x</code> that is stressed
<code>(default = 1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p>Character vector, the names of stressed models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p>Boolean, the option to print weights' statistics.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The intervals are treated as half open intervals, that is
the lower endpoint are not included, whereas the upper endpoint 
are included. If <code>upper = NULL</code>, the intervals 
are consecutive and <code>prob</code> cumulative.<br>
The intervals defined through <code>lower</code> and <code>upper</code> must
be disjoint.
</p>


<h3>Value</h3>

<p>A <code>SWIM</code> object containing:
</p>

<ul>
<li> <p><code>x</code>, a data.frame containing the data;
</p>
</li>
<li> <p><code>new_weights</code>, a list of functions, that applied to the
<code>k</code>th column of <code>x</code>, generate the vectors of scenario
weights. Each component corresponds to a different stress;
</p>
</li>
<li> <p><code>type = "prob"</code>;
</p>
</li>
<li> <p><code>specs</code>, a list, each component corresponds to 
a different stress and contains <code>k</code>, <code>lower</code>,  
<code>upper</code> and <code>prob</code>. 
</p>
</li>
</ul>
<p>See <code>SWIM</code> for details.
</p>


<h3>Author(s)</h3>

<p>Silvana M. Pesenti
</p>


<h3>References</h3>

<p>Pesenti SM, Millossovich P, Tsanakas A (2019).
“Reverse sensitivity testing: What does it take to break the model?”
<em>European Journal of Operational Research</em>, <b>274</b>(2), 654–670.<br></p>
<p>Pesenti S BAMPTA (2020).
“Scenario Weights for Importance Measurement (SWIM) - An R package for sensitivity analysis.”
<em>Annals of Actuarial Science 15.2 (2021): 458-483. Available at SSRN: <a href="https://www.ssrn.com/abstract=3515274">https://www.ssrn.com/abstract=3515274</a></em>.<br></p>
<p>Csiszar I (1975).
“I-divergence geometry of probability distributions and minimization problems.”
<em>The Annals of Probability</em>, 146–158.
</p>


<h3>See Also</h3>

<p>Other stress functions: 
<code>stress_HARA_RM_w()</code>,
<code>stress_RM_mean_sd_w()</code>,
<code>stress_RM_w()</code>,
<code>stress_VaR_ES()</code>,
<code>stress_VaR()</code>,
<code>stress_mean_sd_w()</code>,
<code>stress_mean_sd()</code>,
<code>stress_mean_w()</code>,
<code>stress_mean()</code>,
<code>stress_moment()</code>,
<code>stress_user()</code>,
<code>stress_wass()</code>,
<code>stress()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(0)
x &lt;- rnorm(1000)
## consecutive intervals
res1 &lt;- stress(type = "prob", x = x, prob = 0.008, upper = -2.4)
# probability under the stressed model
cdf(res1, xCol = 1)(-2.4)

## calling stress_prob directly
## multiple intervals
res2 &lt;- stress_prob(x = x, prob = c(0.008, 0.06), 
  lower = c(-3, -2), upper = c(-2.4, -1.6))
# probability under the stressed model
cdf(res2, xCol = 1)(c(-2.4, -1.6)) - cdf(res2, xCol = 1)(c(-3, -2))

</code></pre>


</div>