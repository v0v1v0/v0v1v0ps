<div class="container">

<table style="width: 100%;"><tr>
<td>stopes</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Selection of Threshold OPtimized Empirically via Splitting (STOPES)</h2>

<h3>Description</h3>

 <p><code>stopes</code> computes the STOPES estimator.</p>


<h3>Usage</h3>

<pre><code class="language-R">stopes(x, y, m = 20, prop_split = 0.50, prop_trim = 0.20, q_tail = 0.90)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>n x p covariate matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>n x 1 response vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>number of split samples, with default value = 20</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop_split</code></td>
<td>
<p>proportion of data used for training samples, default value = 0.50</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop_trim</code></td>
<td>
<p>proportion of trimming, default prop_trim = 0.20</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q_tail</code></td>
<td>
<p>proportion of truncation samples across the split samples, default values = 0.90</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>stopes</code> returns a list with the STOPE estimates via data splitting using 0.25 method and the PELT method:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>beta_stopes</code></td>
<td>
<p>the STOPE estimate via data splitting</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>J_stopes</code></td>
<td>
<p>the set of active predictors corresponding to STOPES via data splitting</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>final_cutpoints</code></td>
<td>
<p>the final cutpoint for STOPES</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta_pelt</code></td>
<td>
<p>the STOPE estimate via PELT</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>J_pelt</code></td>
<td>
<p>the set of active predictors corresponding to STOPES via PELT</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>final_cutpoints_PELT</code></td>
<td>
<p>the final cutpoint for PELT</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quan_NA</code></td>
<td>
<p>test if the vector of trimmed cutpoints has length 0, with 1 if TRUE and 0 otherwise</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Marinela Capanu, Mihai Giurcanu, Colin Begg, and Mithat Gonen
</p>


<h3>Examples</h3>

<pre><code class="language-R">
p &lt;- 5
n &lt;- 100
beta &lt;- c(2, 1, 0.5, rep(0, p - 3))
x &lt;- matrix(nrow = n, ncol = p, rnorm(n * p))
y &lt;- rnorm(n) + crossprod(t(x), beta)
stopes(x, y)

</code></pre>


</div>