<div class="container">

<table style="width: 100%;"><tr>
<td>scplotMulti</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot Synthetic Control Point Estimates and Prediction Interval With Multiple Treated units and Staggered Adoption</h2>

<h3>Description</h3>

<p>The command produces a wide range of plots of Synthetic Control estimates and corresponding prediction intervals. The command allows form multiple treated units and staggered adoption.
Prediction intervals can take into account either in-sample uncertainty only or in-sample and
out-of-sample uncertainty using the techniques developed in <a href="https://nppackages.github.io/references/Cattaneo-Feng-Titiunik_2021_JASA.pdf">Cattaneo, Feng, and Titiunik (2021)</a>. <code>scpi</code>.
The input object should come from the command <code>scest</code> or from the command <code>scpi</code>.
</p>
<p>Companion <a href="https://www.stata.com/">Stata</a> and <a href="https://www.python.org/">Python</a> packages are described in <a href="https://arxiv.org/abs/2202.05984">Cattaneo, Feng, Palomba, and Titiunik (2022)</a>.
</p>
<p>Companion commands are:  scdata and scdataMulti for data preparation in the single and multiple treated unit(s) cases, respectively,
scest for point estimation, scpi for inference procedures, and scplotMulti for plots with multiple treated units.
</p>
<p>Related Stata, R, and Python packages useful for inference in SC designs are described in the following website:
</p>
<p><a href="https://nppackages.github.io/scpi/"> https://nppackages.github.io/scpi/</a>
</p>
<p>For an introduction to synthetic control methods, see <a href="https://www.aeaweb.org/articles?id=10.1257/jel.20191450">Abadie (2021)</a> and references therein.
</p>


<h3>Usage</h3>

<pre><code class="language-R">scplotMulti(
  result,
  type = "series",
  e.out = TRUE,
  joint = FALSE,
  col.treated = "black",
  col.synth = "mediumblue",
  scales = "fixed",
  point.size = 1.5,
  ncols = 3,
  save.data = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>result</code></td>
<td>
<p>a class 'scest' object, obtained by calling <code>scest</code>, or a class
'scpi' object, obtained by calling <code>scpi</code>. The data object given as input to this command has to be
processed with <code>scdataMulti</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>a character that specifies the type of plot to be produced. If set to 'treatment' then treatment effects are plotted.
If set to 'series' (default), the actual and synthetic time series are reported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e.out</code></td>
<td>
<p>a logical specifying whether out-of-sample uncertainty should be included in the plot(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>joint</code></td>
<td>
<p>a logical specifying whether simultaneous prediction intervals should be included in the plot(s). It requires <code>e.out = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.treated</code></td>
<td>
<p>a string specifying the color for the treated unit series. Find the full list at <a href="http://sape.inf.usi.ch/quick-reference/ggplot2/colour">http://sape.inf.usi.ch/quick-reference/ggplot2/colour</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.synth</code></td>
<td>
<p>a string specifying the color for the synthetic unit series. Find the full list at <a href="http://sape.inf.usi.ch/quick-reference/ggplot2/colour">http://sape.inf.usi.ch/quick-reference/ggplot2/colour</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scales</code></td>
<td>
<p>should axes scales be fixed ("fixed", the default), free ("free"), or free in one dimension ("free_x", "free_y")?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point.size</code></td>
<td>
<p>a scalar controlling the size of points in the scatter plot. Default is 1.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncols</code></td>
<td>
<p>an integer controlling the number of columns in the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save.data</code></td>
<td>
<p>a character specifying the name and the path of the saved dataframe containing the processed data used to produce the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>if <code>TRUE</code> prints additional information in the console.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table><tr style="vertical-align: top;">
<td><code>plots</code></td>
<td>
<p>a list containing standard ggplot object(s) that can be used for further customization.</p>
</td>
</tr></table>
<h3>Author(s)</h3>

<p>Matias Cattaneo, Princeton University. <a href="mailto:cattaneo@princeton.edu">cattaneo@princeton.edu</a>.
</p>
<p>Yingjie Feng, Tsinghua University. <a href="mailto:fengyj@sem.tsinghua.edu.cn">fengyj@sem.tsinghua.edu.cn</a>.
</p>
<p>Filippo Palomba, Princeton University (maintainer). <a href="mailto:fpalomba@princeton.edu">fpalomba@princeton.edu</a>.
</p>
<p>Rocio Titiunik, Princeton University. <a href="mailto:titiunik@princeton.edu">titiunik@princeton.edu</a>.
</p>


<h3>References</h3>


<ul>
<li>
<p><a href="https://www.aeaweb.org/articles?id=10.1257/jel.20191450">Abadie, A. (2021)</a>. Using synthetic controls: Feasibility, data requirements, and methodological aspects.
<em>Journal of Economic Literature</em>, 59(2), 391-425.
</p>
</li>
<li>
<p><a href="https://nppackages.github.io/references/Cattaneo-Feng-Titiunik_2021_JASA.pdf">Cattaneo, M. D., Feng, Y., and Titiunik, R.
(2021)</a>. Prediction intervals for synthetic control methods. <em>Journal of the American Statistical Association</em>, 116(536), 1865-1880.
</p>
</li>
<li>
<p><a href="https://arxiv.org/abs/2202.05984">Cattaneo, M. D., Feng, Y., Palomba F., and Titiunik, R. (2022)</a>,
scpi: Uncertainty Quantification for Synthetic Control Methods, <em>arXiv</em>:2202.05984.
</p>
</li>
<li>
<p><a href="https://arxiv.org/abs/2210.05026">Cattaneo, M. D., Feng, Y., Palomba F., and Titiunik, R. (2022).</a>
Uncertainty Quantification in Synthetic Controls with Staggered Treatment Adoption, <em>arXiv</em>:2210.05026.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>scdata</code>, <code>scdataMulti</code>, <code>scest</code>, <code>scpi</code>, <code>scplotMulti</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
datager &lt;- scpi_germany

datager$tr_id &lt;- 0
datager$tr_id[(datager$country == "West Germany" &amp; datager$year &gt; 1990)] &lt;- 1
datager$tr_id[(datager$country == "Italy" &amp; datager$year &gt; 1992)] &lt;- 0

outcome.var &lt;- "gdp"
id.var &lt;- "country"
treatment.var &lt;- "tr_id"
time.var &lt;- "year"
df.unit &lt;- scdataMulti(datager, id.var = id.var, outcome.var = outcome.var,
                       treatment.var = treatment.var,
                       time.var = time.var, features = list(c("gdp", "trade")),
               		    cointegrated.data = TRUE, constant = TRUE)

res.unit &lt;- scpi(df.unit, sims = 10, cores = 1)
scplotMulti(res.unit, joint = TRUE)

</code></pre>


</div>