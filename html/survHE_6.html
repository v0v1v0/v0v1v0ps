<div class="container">

<table style="width: 100%;"><tr>
<td>make.surv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Engine for Probabilistic Sensitivity Analysis on the survival curves</h2>

<h3>Description</h3>

<p>Creates the survival curves for the fitted model(s)
</p>


<h3>Usage</h3>

<pre><code class="language-R">make.surv(fit, mod = 1, t = NULL, newdata = NULL, nsim = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>the result of the call to the <code>fit.models</code> function,
containing the model fitting (and other relevant information)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mod</code></td>
<td>
<p>the index of the model. Default value is 1, but the user can
choose which model fit to visualise, if the call to <code>fit.models</code> has a vector
argument for <code>distr</code> (so many models are fitted &amp; stored in the same object)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>the time vector to be used for the estimation of the survival curve</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>a list (of lists), specifying the values of the covariates
at which the computation is performed. For example
<code>list(list(arm=0),list(arm=1))</code> will create two survival curves, one
obtained by setting the covariate <code>arm</code> to the value 0 and the other by
setting it to the value 1. In line with <code>flexsurv</code> notation, the user
needs to either specify the value for <em>all</em> the covariates or for none (in
which case, <code>newdata=NULL</code>, which is the default). If some value is
specified and at least one of the covariates is continuous, then a single
survival curve will be computed in correspondence of the average values of
all the covariates (including the factors, which in this case are expanded
into indicators).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>The number of simulations from the distribution of the survival
curves. Default at <code>nsim=1</code>, in which case uses the point estimate for
the relevant distributional parameters and computes the resulting survival
curve</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional options</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Gianluca Baio
</p>


<h3>References</h3>

<p>G Baio (2019). survHE: Survival analysis for health economic evaluation
and cost-effectiveness modelling. Journal of Statistical Software (2020). vol 95,
14, 1-47. <a href="doi:10.18637/jss.v095.i14">doi:10.18637/jss.v095.i14</a>
</p>


<h3>See Also</h3>

<p><code>fit.models</code>, <code>psa.plot</code>, <code>write.surv</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run:  
# Loads an example dataset from 'flexsurv'
data(bc)

# Fits the same model using the 3 inference methods
mle &lt;- fit.models(formula=Surv(recyrs,censrec) ~ group, data=bc,
                  distr="exp", method="mle")
p.mle &lt;- make.surv(mle)
psa.plot(p.mle)

# Can also use the main 'plot' function to visualise the survival curves
# and include uncertainty by using a number 'nsim' of simulations
plot(mle, nsim=10)

## End(Not run)

</code></pre>


</div>