<div class="container">

<table style="width: 100%;"><tr>
<td>polygonize</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a polygon layer from a raster.</h2>

<h3>Description</h3>

<p>This method uses the quadmesh to generate the coordinates, and creates a simple features layer.
It's faster by turning off the checking done in the simple features package, but it's also faster
than raster because it uses a dense mesh to generate the coordinates.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'RasterLayer'
polygonize(x, na.rm = TRUE, ...)

polygonize(x, ...)

qm_rasterToPolygons(x, na.rm = TRUE, ...)

## S3 method for class 'RasterStack'
polygonize(x, na.rm = TRUE, ...)

## S3 method for class 'RasterBrick'
polygonize(x, na.rm = TRUE, ...)

qm_rasterToPolygons_sp(x, na.rm = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>raster, brick or stack</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>defaults to <code>TRUE</code> and will polygonize all the cells that are non-NA in any layer,
set to <code>FALSE</code> to not remove any cells</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to methods, currently unused</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>na.rm</code> is <code>TRUE</code> (the default) only cells that are not-NA across all
layers are created. An exception to this is the empty raster <code>raster::hasValues(x)</code> is <code>FALSE</code>
and all the cells will be turned into polygons - since this is what the whole
scene is really for, easily creating polygons from a grid.
</p>


<h3>Value</h3>

<p>simple features POLYGON layer, or SpatialPolygonsDataFrame
</p>


<h3>Warning</h3>

<p>Please don't try this on large rasters (&gt; ~1e5 cells), use quadmesh itself for efficient vector based use of a raster's
coordinates. It will work reasonably on largish grids, but you won't want to try plotting them or perform
operations on them, simple features is incredibly wasteful for objects like this.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#library(raadtools)
library(raster)
r &lt;- raster(volcano)
r[sample(ncell(r), 3000)] &lt;- NA
b &lt;- brick(r, r*1.5)
psf &lt;- qm_rasterToPolygons(r, na.rm = TRUE)
#psp &lt;- qm_rasterToPolygons_sp(r)
#pspr &lt;- rasterToPolygons(r)
#library(rbenchmark)
#benchmark(qm_rasterToPolygons(r), qm_rasterToPolygons_sp(r), rasterToPolygons(r), replications = 2)
#                        test replications elapsed relative user.self sys.self user.child sys.child
# 1    qm_rasterToPolygons(r)            2   0.476    1.000     0.476    0.000          0         0
# 2 qm_rasterToPolygons_sp(r)            2   4.012    8.429     3.964    0.048          0         0
# 3       rasterToPolygons(r)            2   2.274    4.777     2.268    0.008          0         0
</code></pre>


</div>