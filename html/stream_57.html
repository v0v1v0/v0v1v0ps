<div class="container">

<table style="width: 100%;"><tr>
<td>DSD_Memory</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A Data Stream Interface for Data Stored in Memory</h2>

<h3>Description</h3>

<p>This class provides a data stream interface for data stored in memory as
matrix-like objects (including data frames). All or a portion of the stored
data can be replayed several times.
</p>


<h3>Usage</h3>

<pre><code class="language-R">DSD_Memory(
  x,
  n,
  k = NA,
  outofpoints = c("warn", "ignore", "stop"),
  loop = FALSE,
  description = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A matrix-like object containing the data.  If <code>x</code> is a DSD
object then a data frame for <code>n</code> data points from this DSD is created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Number of points used if <code>x</code> is a DSD object. If <code>x</code> is a
matrix-like object then <code>n</code> is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Optional: The known number of clusters in the data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outofpoints</code></td>
<td>
<p>Action taken if less than <code>n</code> data points are
available. The default is to return the available data points with a warning. Other supported actions are:
</p>

<ul>
<li> <p><code>warn</code>: return the available points (maybe an empty data.frame) with a warning.
</p>
</li>
<li> <p><code>ignore</code>: silently return the available points.
</p>
</li>
<li> <p><code>stop</code>: stop with an error.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loop</code></td>
<td>
<p>Should the stream start over when it reaches the end?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>description</code></td>
<td>
<p>character string with a description.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In addition to regular data.frames other matrix-like objects that provide
subsetting with the bracket operator can be used. This includes <code>ffdf</code>
(large data.frames stored on disk) from package <span class="pkg">ff</span> and
<code>big.matrix</code> from <span class="pkg">bigmemory</span>.
</p>
<p><strong>Reading the whole stream</strong>
By using <code>n = -1</code> in <code>get_points()</code>, the whole stream is returned.
</p>


<h3>Value</h3>

<p>Returns a <code>DSD_Memory</code> object (subclass of DSD_R, DSD).
</p>


<h3>Author(s)</h3>

<p>Michael Hahsler
</p>


<h3>See Also</h3>

<p>Other DSD: 
<code>DSD()</code>,
<code>DSD_BarsAndGaussians()</code>,
<code>DSD_Benchmark()</code>,
<code>DSD_Cubes()</code>,
<code>DSD_Gaussians()</code>,
<code>DSD_MG()</code>,
<code>DSD_Mixture()</code>,
<code>DSD_NULL()</code>,
<code>DSD_ReadDB()</code>,
<code>DSD_ReadStream()</code>,
<code>DSD_Target()</code>,
<code>DSD_UniformNoise()</code>,
<code>DSD_mlbenchData()</code>,
<code>DSD_mlbenchGenerator()</code>,
<code>DSF()</code>,
<code>animate_data()</code>,
<code>close_stream()</code>,
<code>get_points()</code>,
<code>plot.DSD()</code>,
<code>reset_stream()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Example 1: store 1000 points from a stream
stream &lt;- DSD_Gaussians(k = 3, d = 2)
replayer &lt;- DSD_Memory(stream, k = 3, n = 1000)
replayer
plot(replayer)

# creating 2 clusterers of different algorithms
dsc1 &lt;- DSC_DBSTREAM(r = 0.1)
dsc2 &lt;- DSC_DStream(gridsize = 0.1, Cm = 1.5)

# clustering the same data in 2 DSC objects
reset_stream(replayer) # resetting the replayer to the first position
update(dsc1, replayer, 500)
reset_stream(replayer)
update(dsc2, replayer, 500)

# plot the resulting clusterings
reset_stream(replayer)
plot(dsc1, replayer, main = "DBSTREAM")
reset_stream(replayer)
plot(dsc2, replayer, main = "D-Stream")


# Example 2: use a data.frame to create a stream (3rd col. contains the assignment)
df &lt;- data.frame(x = runif(100), y = runif(100),
  .class = sample(1:3, 100, replace = TRUE))

# add some outliers
out &lt;- runif(100) &gt; .95
df[['.outlier']] &lt;- out
df[['.class']] &lt;- NA
head(df)

stream &lt;- DSD_Memory(df)
stream

reset_stream(stream)
get_points(stream, n = 5)

# get the remaining points
rest &lt;- get_points(stream, n = -1)
nrow(rest)

# plot all available points with n = -1
reset_stream(stream)
plot(stream, n = -1)
</code></pre>


</div>