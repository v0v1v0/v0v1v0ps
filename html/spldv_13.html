<div class="container">

<table style="width: 100%;"><tr>
<td>impacts.bingmm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimation of the average marginal effects for SARB model estimated using GMM procedures.</h2>

<h3>Description</h3>

<p>Obtain the average marginal effects from <code>bingmm</code> or <code>binlgmm</code> class model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'bingmm'
impacts(
  object,
  vcov = NULL,
  vce = c("robust", "efficient", "ml"),
  het = TRUE,
  atmeans = FALSE,
  type = c("mc", "delta"),
  R = 100,
  approximation = FALSE,
  pw = 5,
  tol = 1e-06,
  empirical = FALSE,
  ...
)

## S3 method for class 'binlgmm'
impacts(
  object,
  vcov = NULL,
  het = TRUE,
  atmeans = FALSE,
  type = c("mc", "delta"),
  R = 100,
  approximation = FALSE,
  pw = 5,
  tol = 1e-06,
  empirical = FALSE,
  ...
)

## S3 method for class 'impacts.bingmm'
print(x, ...)

## S3 method for class 'impacts.bingmm'
summary(object, ...)

## S3 method for class 'summary.impacts.bingmm'
print(x, digits = max(3, getOption("digits") - 3), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object of class <code>bingmm</code>, <code>binlgmm</code>, or <code>impacts.bingmm</code> for <code>summary</code> and <code>print</code> method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vcov</code></td>
<td>
<p>an estimate of the asymptotic variance-covariance matrix of the parameters for a <code>bingmm</code> or <code>binlgmm</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vce</code></td>
<td>
<p>string indicating what kind of variance-covariance matrix of the estimate should be computed when using <code>effect.bingmm</code>. For the one-step GMM estimator, the options are <code>"robust"</code> and <code>"ml"</code>. For the two-step GMM estimator, the options are <code>"robust"</code>, <code>"efficient"</code> and <code>"ml"</code>. The option <code>"vce = ml"</code> is an exploratory method that evaluates the VC of the RIS estimator using the GMM estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>het</code></td>
<td>
<p>logical. If <code>TRUE</code> (the default), then the heteroskedasticity is taken into account when computing the average marginal effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>atmeans</code></td>
<td>
<p>logical. If <code>FALSE</code> (the default), then the average marginal effects are computed at the unit level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>string indicating which method is used to compute the standard errors of the average marginal effects. If <code>"mc"</code>, then the Monte Carlo approximation is used. If <code>"delta"</code>, then the Delta Method is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>numerical. Indicates the number of draws used in the Monte Carlo approximation if <code>type = "mc"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>approximation</code></td>
<td>
<p>logical. If <code>TRUE</code> then <code class="reqn">(I - \lambda W)^{-1}</code> is approximated as <code class="reqn">I + \lambda W + \lambda^2 W^2 + \lambda^3 W^3 + ... +\lambda^q W^q</code>. The default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pw</code></td>
<td>
<p>numeric. The power used for the approximation <code class="reqn">I + \lambda W + \lambda^2 W^2 + \lambda^3 W^3 + ... +\lambda^q W^q</code>. The default is 5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>Argument passed to <code>mvrnorm</code>: tolerance (relative to largest variance) for numerical lack of positive-definiteness in the coefficient covariance matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>empirical</code></td>
<td>
<p>logical. Argument passed to <code>mvrnorm</code> (default <code>FALSE</code>): if <code>TRUE</code>, the coefficients and their covariance matrix specify the empirical not population mean and covariance matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments. Ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class <code>impacts.bingmm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>the number of digits.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Let the model be:
</p>
<p style="text-align: center;"><code class="reqn">
y^*= X\beta + WX\gamma + \lambda W y^* + \epsilon = Z\delta + \lambda Wy^{*} + \epsilon
</code>
</p>

<p>where  <code class="reqn">y = 1</code> if <code class="reqn">y^*&gt;0</code> and 0 otherwise; <code class="reqn">\epsilon \sim N(0, 1)</code> if <code>link = "probit"</code> or <code class="reqn">\epsilon \sim L(0, \pi^2/3)</code> if <code>link = "logit"</code>.
</p>
<p>The marginal effects respect to variable <code class="reqn">x_r</code> can be computed as
</p>
<p style="text-align: center;"><code class="reqn">
diag(f(a))D^{-1}_{\lambda}A^{-1}_{\lambda}\left(I_n\beta_r + W\gamma_r\right) = C_r(\theta)
</code>
</p>

<p>where <code class="reqn">f()</code> is the pdf, which depends on the assumption of the error terms; <code class="reqn">diag</code> is the operator that creates a <code class="reqn">n \times n</code> diagonal matrix; <code class="reqn">A_{\lambda}= (I -\lambda W)</code>; and <code class="reqn">D_{\lambda}</code> is a diagonal matrix whose elements represent the square root of the diagonal elements of the variance-covariance matrix of <code class="reqn">u = A_{\lambda}^{-1}\epsilon</code>. 
</p>
<p>We implement these three summary measures: (1) The average total effects, <code class="reqn">ATE_r  = n^{-1}i_n'C_{r}i_n</code>, (2) The average direct effects, <code class="reqn">ADE_r  = n^{-1}tr(C_{r})</code>, and (3) the average indirect effects, <code class="reqn">ATE_r - ADE_r</code>. 
</p>
<p>The standard errors of the average total, direct and indirect effects can be estimated using either Monte Carlo (MC) approximation, which takes into account the sampling distribution of <code class="reqn">\theta</code>, or Delta Method.
</p>


<h3>Value</h3>

<p>An object of class <code>impacts.bingmm</code>.
</p>


<h3>Author(s)</h3>

<p>Mauricio Sarrias and Gianfranco Piras.
</p>


<h3>See Also</h3>

<p><code>sbinaryGMM</code>, <code>sbinaryLGMM</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Data set
data(oldcol, package = "spdep")

# Create dependent (dummy) variable
COL.OLD$CRIMED &lt;- as.numeric(COL.OLD$CRIME &gt; 35)

# Two-step (Probit) GMM estimator
ts &lt;- sbinaryGMM(CRIMED ~ INC + HOVAL| HOVAL,
                link = "probit", 
                listw = spdep::nb2listw(COL.nb, style = "W"), 
                data = COL.OLD, 
                type = "twostep")
                
# Marginal effects using Delta Method
summary(impacts(ts, type = "delta"))

# Marginal effects using MC with 100 draws
summary(impacts(ts, type = "mc", R = 100))

# Marginal effects using efficient VC matrix
summary(impacts(ts, type = "delta", vce = "efficient"))

# Marginal effects using efficient VC matrix and ignoring the heteroskedasticity
summary(impacts(ts, type = "delta", vce = "efficient", het = FALSE))

</code></pre>


</div>