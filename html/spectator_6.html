<div class="container">

<table style="width: 100%;"><tr>
<td>GetOverpasses</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Gets overpasses for an area of interest</h2>

<h3>Description</h3>

<p>Retrieves the footprint polygons of past and/or (near)future overpasses
of specified satellites over an area of interest.
</p>


<h3>Usage</h3>

<pre><code class="language-R">GetOverpasses(
  aoi,
  satellites = NULL,
  days_before = 0,
  days_after = 7,
  acquisitions = TRUE,
  api_key = Sys.getenv("spectator_earth_api_key")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>aoi</code></td>
<td>
<p>'<code>sf</code>' (or '<code>Spatial*</code>') object defining the area of interest.
Can be of any geometry as only the bounding box is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>satellites</code></td>
<td>
<p>character vector, if specified only the listed satellites will be retrieved,
if <code>NULL</code> (default value) the acquisition plans for all possible satellites will be retrieved.
For simplicity, the satellites names can be abbreviated to
"S-1A", "S-1B", "S-2A", "S-2B", "L-8", "L-9" or "S1A", "S1B", "S2A", "S2B", "L8", "L9". Default: NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>days_before</code></td>
<td>
<p>integer indicating the number of days before the current date for which
overpasses should be computed. Default: 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>days_after</code></td>
<td>
<p>integer indicating the number of days after the current date for which
overpasses should be computed. Default: 7</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>acquisitions</code></td>
<td>
<p>logical indicating if only the overpasses when the data acquisition
will take place should be reported. Default: TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>api_key</code></td>
<td>
<p>character containing your API key. Default: <code>Sys.getenv("spectator_earth_api_key")</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function requires an API key that is automatically generated for every registered account at
<a href="https://app.spectator.earth">https://app.spectator.earth</a>. You can find it under 'Your profile' (bottom left button).
By default, the API key is retrieved from the environment variable <code>spectator_earth_api_key</code>,
but you can choose any other way of providing it (it is recommended <strong>NOT</strong> to include it in your scripts).
</p>


<h3>Value</h3>

<p>Object of class '<code>sf</code>' with '<code>POLYGON</code>' geometry type and attributes
</p>

<dl>
<dt><code>id</code></dt>
<dd>
<p>integer identifier</p>
</dd>
<dt><code>acquisitions</code></dt>
<dd>
<p>logical whether the overpass collects the data</p>
</dd>
<dt><code>date</code></dt>
<dd>
<p>POSIXct timestamp of the overpass (UTC - to be checked)</p>
</dd>
<dt><code>satellite</code></dt>
<dd>
<p>character satellite name</p>
</dd>
</dl>
<h3>Source</h3>

<p><a href="https://api.spectator.earth/#satellite-overpasses">https://api.spectator.earth/#satellite-overpasses</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(interactive()){
 library(sf)
 # get the Luxembourg country shape as area of interest
 boundary &lt;- read_sf(system.file("extdata", "luxembourg.geojson", package = "spectator"))
 # look for Sentinel-2 A and B, use shorthand notation, default time frame
 pass &lt;- GetOverpasses(boundary, satellites = "S-2", acquisitions = TRUE)
 # do some nice graphs
 library(maps)
 days &lt;- range(as.Date(pass$date))
 satellites &lt;- sort(unique(pass$satellite))
 map(database = "world", region = c("Belgium", "Netherlands", "Germany", "Luxembourg",
     "France", "Switzerland"), col = "lightgrey", fill = TRUE)
 plot(sf::st_geometry(boundary), add = TRUE, col = "red", border = FALSE)
 plot(sf::st_geometry(pass), add = TRUE)
 title(main = sprintf("%s overpasses for period %s", paste(satellites, collapse = "/"), 
                      paste(days, collapse = ":")))
 }
</code></pre>


</div>