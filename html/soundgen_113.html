<div class="container">

<table style="width: 100%;"><tr>
<td>getPrior</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get prior for pitch candidates</h2>

<h3>Description</h3>

<p>Prior for adjusting the estimated pitch certainties in <code>analyze</code>.
For ex., if primarily working with speech, we could prioritize pitch
candidates in the expected pitch range (100-1000 Hz) and decrease our
confidence in candidates with very high or very low frequency as unlikely but
still remotely possible. You can think of this as a "soft" alternative to
setting absolute pitch floor and ceiling. Algorithm: the multiplier for each
pitch candidate is the density of prior distribution with mean = priorMean
(Hz) and sd = priorSD (semitones) normalized so max = 1 over [pitchFloor,
pitchCeiling]. Useful for previewing the prior given to
<code>analyze</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getPrior(
  priorMean,
  priorSD,
  distribution = c("normal", "gamma")[1],
  pitchFloor = 75,
  pitchCeiling = 3000,
  len = 100,
  plot = TRUE,
  pitchCands = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>priorMean, priorSD</code></td>
<td>
<p>specifies the mean (Hz) and standard deviation
(semitones) of gamma distribution describing our prior knowledge about the
most likely pitch values for this file. For ex., <code>priorMean = 300,
priorSD = 6</code> gives a prior with mean = 300 Hz and SD = 6 semitones (half
an octave). To avoid using any priors, set <code>priorMean = NA, priorAdapt
= FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distribution</code></td>
<td>
<p>the shape of prior distribution on the musical scale:
'normal' (mode = priorMean) or 'gamma' (skewed to lower frequencies)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pitchFloor, pitchCeiling</code></td>
<td>
<p>absolute bounds for pitch candidates (Hz)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>len</code></td>
<td>
<p>the required length of output vector (resolution)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>if TRUE, plots the prior</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pitchCands</code></td>
<td>
<p>a matrix of pitch candidate frequencies (for internal
soundgen use)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional graphical parameters passed on to plot()</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a numeric vector of certainties of length <code>len</code> if
pitchCands is NULL and a numeric matrix of the same dimensions as
pitchCands otherwise.
</p>


<h3>See Also</h3>

<p><code>analyze</code> <code>pitch_app</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">soundgen:::getPrior(priorMean = 150,  # Hz
                    priorSD = 2)      # semitones
soundgen:::getPrior(150, 6)
s = soundgen:::getPrior(450, 24, pitchCeiling = 6000)
plot(s, type = 'l')
</code></pre>


</div>