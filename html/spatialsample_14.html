<div class="container">

<table style="width: 100%;"><tr>
<td>spatial_buffer_vfold_cv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>V-Fold Cross-Validation with Buffering</h2>

<h3>Description</h3>

<p>V-fold cross-validation (also known as k-fold cross-validation) randomly
splits the data into V groups of roughly equal size (called "folds").
A resample of the analysis data consists of V-1 of the folds while the
assessment set contains the final fold.
These functions extend <code>rsample::vfold_cv()</code> and <code>rsample::group_vfold_cv()</code>
to also apply an inclusion radius and exclusion buffer to the assessment set,
ensuring that your analysis data is spatially separated from the assessment
set.
In basic V-fold cross-validation (i.e. no repeats), the number of resamples
is equal to V.
</p>


<h3>Usage</h3>

<pre><code class="language-R">spatial_buffer_vfold_cv(
  data,
  radius,
  buffer,
  v = 10,
  repeats = 1,
  strata = NULL,
  breaks = 4,
  pool = 0.1,
  ...
)

spatial_leave_location_out_cv(
  data,
  group,
  v = NULL,
  radius = NULL,
  buffer = NULL,
  ...,
  repeats = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>radius</code></td>
<td>
<p>Numeric: points within this distance of the initially-selected
test points will be assigned to the assessment set. If <code>NULL</code>, no radius is
applied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>buffer</code></td>
<td>
<p>Numeric: points within this distance of any point in the
test set (after <code>radius</code> is applied) will be assigned to neither the analysis
or assessment set. If <code>NULL</code>, no buffer is applied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>The number of partitions for the resampling. Set to <code>NULL</code> or <code>Inf</code>
for the maximum sensible value (for leave-one-X-out cross-validation).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repeats</code></td>
<td>
<p>The number of times to repeat the V-fold partitioning.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata</code></td>
<td>
<p>A variable in <code>data</code> (single character or name) used to conduct
stratified sampling. When not <code>NULL</code>, each resample is created within the
stratification variable. Numeric <code>strata</code> are binned into quartiles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>A single number giving the number of bins desired to stratify a
numeric stratification variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pool</code></td>
<td>
<p>A proportion of data used to determine if a particular group is
too small and should be pooled into another group. We do not recommend
decreasing this argument below its default of 0.1 because of the dangers
of stratifying groups that are too small.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>A variable in data (single character or name) used to create
folds. For leave-location-out CV, this should be a variable containing
the locations to group observations by, for leave-time-out CV the
time blocks to group by, and for leave-location-and-time-out the
spatiotemporal blocks to group by.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When <code>radius</code> and <code>buffer</code> are both <code>NULL</code>, <code>spatial_buffer_vfold_cv</code>
is equivalent to <code>rsample::vfold_cv()</code> and <code>spatial_leave_location_out_cv</code>
is equivalent to <code>rsample::group_vfold_cv()</code>.
</p>


<h3>References</h3>

<p>K. Le Rest, D. Pinaud, P. Monestiez, J. Chadoeuf, and C. Bretagnolle. 2014.
"Spatial leave-one-out cross-validation for variable selection in the
presence of spatial autocorrelation," Global Ecology and Biogeography 23,
pp. 811-820, doi: 10.1111/geb.12161.
</p>
<p>H. Meyer, C. Reudenbach, T. Hengl, M. Katurji, and T. Nauss. 2018.
"Improving performance of spatio-temporal machine learning models using
forward feature selection and target-oriented validation,"
Environmental Modelling &amp; Software 101, pp. 1-9,
doi: 10.1016/j.envsoft.2017.12.001.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

data(Smithsonian, package = "modeldata")
Smithsonian_sf &lt;- sf::st_as_sf(
  Smithsonian,
  coords = c("longitude", "latitude"),
  crs = 4326
)

spatial_buffer_vfold_cv(
  Smithsonian_sf,
  buffer = 500,
  radius = NULL
)

data(ames, package = "modeldata")
ames_sf &lt;- sf::st_as_sf(ames, coords = c("Longitude", "Latitude"), crs = 4326)
ames_neighborhoods &lt;- spatial_leave_location_out_cv(ames_sf, Neighborhood)

</code></pre>


</div>