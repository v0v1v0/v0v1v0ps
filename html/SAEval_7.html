<div class="container">

<table style="width: 100%;"><tr>
<td>map_sae</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Map the disagregated estimates and the coefficients of variation.</h2>

<h3>Description</h3>

<p><code>map_sae</code> produces geographical maps for the small area estimates or the direct estimaes among with their CVs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">map_sae(shapefile,
data,
area,
indicators,
color=c("green","red"),
breaks=FALSE,
main=FALSE,
output_data=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>shapefile</code></td>
<td>
<p>object of class <code>sf</code> and <code>data.frame</code> as defined by the <code>sf</code> package containing shapefile informations, e.g. <code>sa_shp</code>. See also 'Details'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data frame containing for the area of interest the information to be visualized,  e.g. <code>SAEval_example</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>area</code></td>
<td>
<p>formula identifing the area of interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indicators</code></td>
<td>
<p>formula identifing the variables to be visualized.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>a <code>vector</code> of 2 color defining the lowest and highest values in the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>list containing the endpoints for each indicator of interest (default=FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>logical scalar. Should the maps include a main title (default=FALSE)?. See also 'Details'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_data</code></td>
<td>
<p>logical scalar. Should the funtion returns a data frame including the map data among with the indicators of interest (default=FALSE)?. See also 'Details'.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>shapefile</code> object can be created with the <code>sf</code> package using the function <code>st_read</code>.
If <code>main</code> is equal to <code>TRUE</code> the name of the indicator will be used as main title of the map.
When <code>output_data</code> is equal to <code>TRUE</code> a map data object is returned so can be easaly maneged using <code>ggplot</code> for a better graphical personalizzation. 
</p>


<h3>Value</h3>

<p>Returns maps, and, if selected, a data.frame containing the mapdata enriched with the indicators of interest.
</p>


<h3>Author(s)</h3>

<p>Developed by Andrea Fasulo
</p>


<h3>References</h3>

<p>Pebesma E., et al.,2021, "sf: Simple Features for R", CRAN repository https://CRAN.R-project.org/package=sf
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Load example data and shape file
data(SAEval_example);data(sa_shp)

SAEval_example$cv_d&lt;-sqrt(SAEval_example$mse_d)/SAEval_example$y_d

SAEval_example$cv_sa&lt;-sqrt(SAEval_example$mse_sa)/SAEval_example$y_syna

# Without using breaks
map_sae(shapefile=sa_shp,data=SAEval_example,area=~sa,indicators=~y_d+cv_d+y_syna+cv_sa,main=TRUE)

# Using breaks
map_sae(shapefile=sa_shp,data=SAEval_example,area=~sa,indicators=~y_d+cv_d+y_syna+cv_sa,
        breaks=list(seq(0,40000,5000),seq(0,1.5,0.15),seq(0,40000,5000),seq(0,1.5,0.15)),main=TRUE)


</code></pre>


</div>