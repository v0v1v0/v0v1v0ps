<div class="container">

<table style="width: 100%;"><tr>
<td>st_weights</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate spatial weights</h2>

<h3>Description</h3>

<p>Calculate polygon spatial weights from a <code>nb</code> list. See <code>spdep::nb2listw()</code> for further details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">st_weights(nb, style = "W", allow_zero = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nb</code></td>
<td>
<p>A neighbor list object as created by <code>st_neighbors()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>style</code></td>
<td>
<p>Default <code>"W"</code> for row standardized weights. This value can also be "B", "C", "U", "minmax", and "S". See <code>spdep::nb2listw()</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_zero</code></td>
<td>
<p>If <code>TRUE</code>, assigns zero as lagged value to zone without neighbors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed to <code>spdep::nb2listw()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Under the hood, <code>st_weights()</code> creates a <code>listw</code> object and then extracts the weights elements from it as the <code>neighbours</code> element is already–presumably–already existent in the neighbors list you've already created. <code>listw</code> objects are recreated using <code>recreate_listw()</code> when calculating other statistics.
</p>


<h3>Value</h3>

<p>a list where each element is a numeric vector
</p>


<h3>See Also</h3>

<p>Other weights: 
<code>st_inverse_distance()</code>,
<code>st_kernel_weights()</code>,
<code>st_nb_dists()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
if (requireNamespace("dplyr", quietly = TRUE)) {
library(magrittr)
guerry %&gt;%
 dplyr::mutate(nb = st_contiguity(geometry),
               wt = st_weights(nb),
               .before = 1)

}
# using geometry column directly
nb &lt;- st_contiguity(guerry$geometry)
wt &lt;- st_weights(nb)
wt[1:3]
</code></pre>


</div>