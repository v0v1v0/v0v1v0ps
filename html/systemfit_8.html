<div class="container">

<table style="width: 100%;"><tr>
<td>correlation.systemfit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Correlation between Predictions from Equation i and j</h2>

<h3>Description</h3>

<p><code>correlation</code> returns a vector of the correlations
between the predictions of two equations in a set of equations. The
correlation between the predictions is defined as,
</p>
<p style="text-align: center;"><code class="reqn">
    r_{ijk} = \frac{x'_{ik}C_{ij}x_{jk}}{\sqrt{(x'_{ik}C_{ii}x_{ik})(x'_{jk}C_{jj}x_{jk})}}
  </code>
</p>

<p>where <code class="reqn">r_{ijk}</code> is the correlation between the predicted values of
equation i and j and  <code class="reqn">C_{ij}</code> is the cross-equation variance-covariance
matrix between equations i and j.
</p>


<h3>Usage</h3>

<pre><code class="language-R">correlation.systemfit( results, eqni, eqnj )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>results</code></td>
<td>
<p>an object of type <code>systemfit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eqni</code></td>
<td>
<p>index for equation i</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eqnj</code></td>
<td>
<p>index for equation j</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>correlation</code> returns a vector of the correlations between the
predicted values in equation i and equation j.
</p>


<h3>Author(s)</h3>

<p>Jeff D. Hamann <a href="mailto:jeff.hamann@forestinformatics.com">jeff.hamann@forestinformatics.com</a></p>


<h3>References</h3>

<p>Greene, W. H. (1993)
<em>Econometric Analysis, Second Edition</em>, Macmillan.
</p>
<p>Hasenauer, H; Monserud, R and T. Gregoire. (1998)
Using Simultansous Regression Techniques with Individual-Tree Growth Models.
<em>Forest Science</em>. 44(1):87-95
</p>
<p>Kmenta, J. (1997)
<em>Elements of Econometrics, Second Edition</em>, University of
Michigan Publishing
</p>


<h3>See Also</h3>

<p><code>systemfit</code></p>


<h3>Examples</h3>

<pre><code class="language-R">data( "Kmenta" )
eqDemand &lt;- consump ~ price + income
eqSupply &lt;- consump ~ price + farmPrice + trend
inst &lt;- ~ income + farmPrice + trend
system &lt;- list( demand = eqDemand, supply = eqSupply )

## perform 2SLS on each of the equations in the system
fit2sls &lt;- systemfit( system, "2SLS", inst = inst, data = Kmenta )
print( fit2sls )
print( fit2sls$rcov )

## perform the 3SLS
fit3sls &lt;- systemfit( system, "3SLS", inst = inst, data = Kmenta )
print( fit3sls )
print( "covariance of residuals used for estimation (from 2sls)" )
print( fit3sls$rcovest )
print( "covariance of residuals" )
print( fit3sls$rcov )

## examine the correlation between the predicted values
## of suppy and demand by plotting the correlation over
## the value of q
r12 &lt;- correlation.systemfit( fit3sls, 1, 2 )
plot( Kmenta$consump, r12, main="correlation between predictions from supply and demand" )
</code></pre>


</div>