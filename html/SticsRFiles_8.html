<div class="container">

<table style="width: 100%;"><tr>
<td>gen_ini_xml</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate STICS ini xml file(s) from a template or an input file</h2>

<h3>Description</h3>

<p>Generate STICS ini xml file(s) from a template or an input file
</p>


<h3>Usage</h3>

<pre><code class="language-R">gen_ini_xml(
  param_df,
  file = NULL,
  out_dir,
  crop_tag = "Crop",
  stics_version = "latest",
  ini_in_file = lifecycle::deprecated(),
  param_table = lifecycle::deprecated(),
  out_path = lifecycle::deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>param_df</code></td>
<td>
<p>A table (df, tibble) containing the values of the parameters
to use (see details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>Path of an ini xml file to be used as a template. Optional,
if not provided, the function will use a standard template depending on
the STICS version (see <code>stics_version</code> argument)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out_dir</code></td>
<td>
<p>Path of the directory where to generate the file(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crop_tag</code></td>
<td>
<p>identifier for the crop parameters names related to the
main crop, or the associated crop if any (example: Crop is used in the
param_table example in the details section below)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stics_version</code></td>
<td>
<p>Name of the STICS version.
Optional, used if the <code>file</code> argument is not provided. In this case
the function uses a standard template associated to the STICS version.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ini_in_file</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> <code>ini_in_file</code> is no
longer supported, use <code>file</code> instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param_table</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> <code>param_table</code> is no
longer supported, use <code>param_df</code> instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out_path</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> <code>out_path</code> is no
longer supported, use <code>out_dir</code> instead.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Please see <code>get_stics_versions_compat()</code> for the full list of
STICS versions that can be used for the
argument <code>stics_version</code>.
</p>
<p><code>param_df</code> is a <code>data.frame</code> with the following format:</p>

<table>
<tr>
<td style="text-align: left;">
   Ini_name </td>
<td style="text-align: right;"> nbplantes </td>
<td style="text-align: left;"> stade0_Crop1 </td>
<td style="text-align: right;"> lai0_Crop1 </td>
<td style="text-align: right;"> masec0_Crop1 </td>
</tr>
<tr>
<td style="text-align: left;">
   USM_2017_T1_ini.xml </td>
<td style="text-align: right;"> 1 </td>
<td style="text-align: left;"> snu </td>
<td style="text-align: right;"> 0 </td>
<td style="text-align: right;"> 0 </td>
</tr>
<tr>
<td style="text-align: left;">
   Vill09_ini.xml </td>
<td style="text-align: right;"> 1 </td>
<td style="text-align: left;"> snu </td>
<td style="text-align: right;"> 0 </td>
<td style="text-align: right;"> 0 </td>
</tr>
<tr>
<td style="text-align: left;">
   Vill10_ini.xml </td>
<td style="text-align: right;"> 1 </td>
<td style="text-align: left;"> snu </td>
<td style="text-align: right;"> 0 </td>
<td style="text-align: right;"> 0 </td>
</tr>
<tr>
<td style="text-align: left;">
   Vill11_ini.xml </td>
<td style="text-align: right;"> 1 </td>
<td style="text-align: left;"> snu </td>
<td style="text-align: right;"> 0 </td>
<td style="text-align: right;"> 0 </td>
</tr>
<tr>
<td style="text-align: left;">
   Vill12_ini.xml </td>
<td style="text-align: right;"> 1 </td>
<td style="text-align: left;"> snu </td>
<td style="text-align: right;"> 0 </td>
<td style="text-align: right;"> 0 </td>
</tr>
<tr>
<td style="text-align: left;">
   Vill13_ini.xml </td>
<td style="text-align: right;"> 1 </td>
<td style="text-align: left;"> snu </td>
<td style="text-align: right;"> 0 </td>
<td style="text-align: right;"> 0 </td>
</tr>
<tr>
<td style="text-align: left;">
   Vill14_ini.xml </td>
<td style="text-align: right;"> 1 </td>
<td style="text-align: left;"> snu </td>
<td style="text-align: right;"> 0 </td>
<td style="text-align: right;"> 0 </td>
</tr>
<tr>
<td style="text-align: left;">
   Standard_ini.xml </td>
<td style="text-align: right;"> 1 </td>
<td style="text-align: left;"> snu </td>
<td style="text-align: right;"> 0 </td>
<td style="text-align: right;"> 0 </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>The first column gives the ini file name (to be generated), all following
columns give the parameter value to put
in the file, and each line denotes a separate ini file
(for e.g. several USMs).
</p>
<p>The first column name must contain the keyword ini or Ini or INI as a prefix
to be detected (as shown in the table extract above).
</p>
<p>If not given (the default, <code>NULL</code>), the function returns the template as is.
</p>


<h3>Value</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(readxl)

xl_path &lt;- download_usm_xl(file = "inputs_stics_example.xlsx")

ini_param_df &lt;- read_excel(xl_path, sheet = "Ini")
gen_ini_xml(
  out_dir = tempdir(),
  param_df = ini_param_df[1:2,]
)

</code></pre>


</div>