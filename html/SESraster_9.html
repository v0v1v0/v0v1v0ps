<div class="container">

<table style="width: 100%;"><tr>
<td>fr2prob</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Adjust probability of sampling based on frequency of occurrences.</h2>

<h3>Description</h3>

<p>This function is used to adjust the probability of a species to be sampled
across the raster, so that the sampled frequency of occurrence of the
species is closer to the observed
</p>


<h3>Usage</h3>

<pre><code class="language-R">fr2prob(x, rprob = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>SpatRaster. A presence-absence raster (stack).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rprob</code></td>
<td>
<p>SpatRaster. A raster (stack) of probabilities.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>numeric vector
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(SESraster)
library(terra)
# load random species distributions
r &lt;- load_ext_data()

# applying the function
fr2prob(r)


f &lt;- system.file("ex/elev.tif", package="terra")
r &lt;- rast(f)
set.seed(510)
r10 &lt;- rast(lapply(1:18,
                function(i, r, mn, mx){
                  app(r, function(x, t){
                    sapply(x, function(x, t){
                       x&lt;max(t) &amp; x&gt;min(t)
                    }, t=t)
                  }, t=sample(seq(mn, mx), 2))
                }, r=r, mn=minmax(r)[1]+10, mx=minmax(r)[2]-10))

names(r10) &lt;- paste("sp", 1:nlyr(r10))
fr2prob(r10)
# raw frequencies
unlist(terra::global(r10, function(x)sum(x, na.rm=TRUE)))

</code></pre>


</div>