<div class="container">

<table style="width: 100%;"><tr>
<td>segment</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Segment data into change points</h2>

<h3>Description</h3>

<p>Generic function to segment data into separate change points according to
specified algorithm
</p>


<h3>Usage</h3>

<pre><code class="language-R">segment(data, likelihood, max_segments = ncol(data),
  allow_parallel = TRUE, algorithm = "exact", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>matrix for which to find the change points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>likelihood</code></td>
<td>
<p>a function receives the segment matrix as argument
and returns a likelihood estimation. This function is used to calculate the
change points that maximize the total likelihood. Depending on the algorithm
being used, this function is likely to be executed many times, in which
case it's also likely to be the bottleneck of the function execution, so
it's advised that this function should have fast implementation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_segments</code></td>
<td>
<p>an integer that defines the maximum amount of segments to
split the data into.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_parallel</code></td>
<td>
<p>allows parallel execution to take place using the
registered cluster. Assumes a cluster is registered with the <code>foreach</code>
package. Defaults to TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>algorithm</code></td>
<td>
<p>can be of type <code>exact</code>, <code>hierarchical</code> or <code>hybrid</code>, Default: <code>exact</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other parameters to be passed to the underlying function</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function can be used as a generic function to call any of the algorithms implemented
by the package. Depending on the type of data the user wants to segment, one algorithm
might be more adequate than the others.
</p>


<h3>Value</h3>

<p>a list of type <code>segmentr</code>, which has the two attributes:
</p>

<ul>
<li> <p><code>changepoints</code>: a vector with the first index of each identified change point
</p>
</li>
<li> <p><code>segments</code>: a list of vectors, in which each vector corresponds to the indices
that identifies a segment.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>exactalg()</code> for the exact algorithm, <code>hieralg()</code> for the
hierarchical algorithm implementation, <code>hybridalg()</code> for the hybrid
algorithm implementation.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
make_segment &lt;- function(n, p) matrix(rbinom(100 * n, 1, p), nrow = 100)
data &lt;- cbind(make_segment(5, 0.1), make_segment(10, 0.9), make_segment(2, 0.1))
mean_lik &lt;- function(X) abs(mean(X) - 0.5) * ncol(X)^2
segment(data, likelihood = mean_lik, algorithm = "hieralg")
</code></pre>


</div>