<div class="container">

<table style="width: 100%;"><tr>
<td>TwopFeedbackModel14</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Implementation of a two-pool C14 model with feedback structure</h2>

<h3>Description</h3>

<p>This function creates a model for two pools connected with feedback.  It is
a wrapper for the more general function <code>GeneralModel_14</code> that
can handle an arbitrary number of pools.
</p>


<h3>Usage</h3>

<pre><code class="language-R">TwopFeedbackModel14(
  t,
  ks,
  C0,
  F0_Delta14C,
  In,
  a21,
  a12,
  xi = 1,
  inputFc,
  lambda = -0.0001209681,
  lag = 0,
  solver = deSolve.lsoda.wrapper,
  pass = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>A vector containing the points in time where the solution is
sought. It must be specified within the same period for which the Delta 14 C
of the atmosphere is provided. The default period in the provided dataset
<code>C14Atm_NH</code> is 1900-2010.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ks</code></td>
<td>
<p>A vector of length 2 containing the decomposition rates for the 2
pools.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>C0</code></td>
<td>
<p>A vector of length 2 containing the initial amount of carbon for
the 2 pools.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>F0_Delta14C</code></td>
<td>
<p>A vector of length 2 containing the initial amount of the
radiocarbon fraction for the 2 pools as Delta14C values in per mil.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>In</code></td>
<td>
<p>A scalar or a data.frame object specifying the amount of litter
inputs by time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a21</code></td>
<td>
<p>A scalar with the value of the transfer rate from pool 1 to pool
2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a12</code></td>
<td>
<p>A scalar with the value of the transfer rate from pool 2 to pool
1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xi</code></td>
<td>
<p>A scalar or a data.frame specifying the external (environmental
and/or edaphic) effects on decomposition rates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inputFc</code></td>
<td>
<p>A Data Frame object containing values of atmospheric Delta14C
per time. First column must be time values, second column must be Delta14C
values in per mil.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>Radioactive decay constant. By default lambda=-0.0001209681
y^-1 . This has the side effect that all your time related data are treated
as if the time unit was year.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag</code></td>
<td>
<p>A positive integer representing a time lag for radiocarbon to
enter the system.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>solver</code></td>
<td>
<p>A function that solves the system of ODEs. This can be
<code>euler</code> or <code>deSolve.lsoda.wrapper</code> or any other user
provided function with the same interface.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pass</code></td>
<td>
<p>Forces the constructor to create the model even if it is invalid</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A Model Object that can be further queried
</p>


<h3>See Also</h3>

<p>There are other <code>predefinedModels</code> and also more
general functions like <code>Model_14</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">years=seq(1901,2009,by=0.5)
LitterInput=700 

Ex=TwopFeedbackModel14(t=years,ks=c(k1=1/2.8, k2=1/35),C0=c(200,5000), 
F0_Delta14C=c(0,0),In=LitterInput, a21=0.1,a12=0.01,inputFc=C14Atm_NH)
R14m=getF14R(Ex)
C14m=getF14C(Ex)
C14t=getF14(Ex)

par(mfrow=c(2,1))
plot(C14Atm_NH,type="l",xlab="Year",ylab="Delta 14C (per mil)",xlim=c(1940,2010)) 
lines(years, C14t[,1], col=4)
lines(years, C14t[,2],col=4,lwd=2)
legend("topright",c("Delta 14C Atmosphere", "Delta 14C pool 1", "Delta 14C pool 2"),
lty=c(1,1,1),col=c(1,4,4),lwd=c(1,1,2),bty="n")

plot(C14Atm_NH,type="l",xlab="Year",ylab="Delta 14C (per mil)",xlim=c(1940,2010)) 
lines(years,C14m,col=4)
lines(years,R14m,col=2)
legend("topright",c("Delta 14C Atmosphere","Delta 14C SOM", "Delta 14C Respired"),
lty=c(1,1,1), col=c(1,4,2),bty="n")
par(mfrow=c(1,1))
</code></pre>


</div>