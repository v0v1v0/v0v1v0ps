<div class="container">

<table style="width: 100%;"><tr>
<td>trimData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Trim longitudinal data file once an event has occurred</h2>

<h3>Description</h3>

<p>Trim longitudinal data file once an event has occurred
</p>


<h3>Usage</h3>

<pre><code class="language-R">trimData(dtOld, seqvar, eventvar, idvar = "id")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dtOld</code></td>
<td>
<p>name of data table to be trimmed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seqvar</code></td>
<td>
<p>string referencing column that indexes the sequence or period</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eventvar</code></td>
<td>
<p>string referencing event data column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idvar</code></td>
<td>
<p>string referencing id column</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>an updated data.table removes all rows following the first event for each
individual
</p>


<h3>Examples</h3>

<pre><code class="language-R">eDef &lt;- defDataAdd(varname = "e", formula = "u==4", dist = "nonrandom")

P &lt;- t(matrix(c(
  0.4, 0.3, 0.2, 0.1,
  0.0, 0.4, 0.3, 0.3,
  0.0, 0.0, 0.5, 0.5,
  0.0, 0.0, 0.0, 1.0
),
nrow = 4
))

dp &lt;- genMarkov(
  n = 100, transMat = P,
  chainLen = 8, id = "id",
  pername = "period",
  varname = "u"
)

dp &lt;- addColumns(eDef, dp)
dp &lt;- trimData(dp, seqvar = "period", eventvar = "e", idvar = "id")

dp
</code></pre>


</div>