<div class="container">

<table style="width: 100%;"><tr>
<td>update_utility</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Update the utility function</h2>

<h3>Description</h3>

<p>Updates the utility function to consider dummy coded attributes. It will
expand the dummy-coding to K-1 dropping the lowest level. This is consistent
with standard practice.
</p>


<h3>Usage</h3>

<pre><code class="language-R">update_utility(x)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class utility</p>
</td>
</tr></table>
<h3>Details</h3>

<p>The function is called prior to evaluating designs if dummy-coded attributes
are present in the utility function. This is because the utility function
is evaluated in the context of the design environment and must be added there
</p>
<p>Important to note about the naming of the expanded priors and attributes:
The names for the attributes will be attached with the level of the factor,
whereas the prior will be named corresponding to the level, e.g., 2, 3, 4.
This is simply the result of the difference between how it's extracted from
the utility functions and how model.matrix creates names.
</p>


<h3>Value</h3>

<p>An updated cleaned utility expression
</p>


</div>