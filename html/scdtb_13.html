<div class="container">

<table style="width: 100%;"><tr>
<td>randomization_test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Randomization Test for Single-Case Experiments</h2>

<h3>Description</h3>

<p>Performs a randomization test on data from single-case experiments. This
function allows for the assessment of treatment effects by comparing the observed
outcome difference to a distribution of differences obtained through permutation.
It supports various constraints on permutation sequences, such as fixed or
observed maximum and minimum consecutive sequences of a particular condition.
The function also provides graphical summaries of the raw data and the
distribution of mean differences.
</p>


<h3>Usage</h3>

<pre><code class="language-R">randomization_test(
  .df,
  .out,
  .cond,
  .time,
  num_permutations = NULL,
  consec = c("observed", "fixed"),
  max_consec = NULL,
  min_consec = NULL,
  cond_levels = NULL,
  cond_labels = NULL,
  conf.level = 0.95,
  .bins = 30
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.df</code></td>
<td>
<p>A data frame containing the variables of interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.out</code></td>
<td>
<p>The name of the outcome variable in <code>.df</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.cond</code></td>
<td>
<p>The name of the condition variable in <code>.df</code>. This variable should
have two levels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.time</code></td>
<td>
<p>The name of the time variable in <code>.df</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_permutations</code></td>
<td>
<p>The number of permutations to perform. If <code>NULL</code>, all
possible permutations are considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>consec</code></td>
<td>
<p>Specifies the constraint on consecutive sequences for permutation.
Can be <code>"observed"</code> for the observed sequence length or <code>"fixed"</code> for
a specified sequence length. Defaults to <code>"observed"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_consec</code></td>
<td>
<p>The maximum number of consecutive observations of the same
condition to allow in permutations. If <code>NULL</code>, no maximum is enforced.
To implement <code>max_consec</code>, <code>consec</code> must be set to <code>"fixed"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_consec</code></td>
<td>
<p>The minimum number of consecutive observations of the same
condition to allow in permutations. If <code>NULL</code>, no minimum is enforced.
To implement <code>min_consec</code>, <code>consec</code> must be set to <code>"fixed"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cond_levels</code></td>
<td>
<p>Explicitly sets the levels of the condition variable. If
<code>NULL</code>, the levels are derived from the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cond_labels</code></td>
<td>
<p>Labels for the condition levels. If <code>NULL</code>, levels are used
as labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>The confidence level for the confidence interval calculation.
Defaults to 0.95.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.bins</code></td>
<td>
<p>The number of bins to use for the histogram of the test statistic
distribution. Defaults to 30.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing the original difference in means, the p-value of the
test, the distribution of test statistics under the null hypothesis,
confidence intervals, and plots of the distribution of mean differences
and the raw data.
</p>


<h3>References</h3>

<p>Onghena, P. (2020). One by One: The design and analysis of replicated randomized
single-case experiments.In R. van de Schoot &amp; M. Mioecvic (Eds.), Small Sample
Size Solutions: A Guide for Applied Researchers and Practitioners (1st ed., pp.
15). Routledge. <a href="doi:10.4324/9780429273872-8">doi:10.4324/9780429273872-8</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">result &lt;- randomization_test(sleeping_pills, .out = "sever_compl",
                             .cond = "treatment", .time = "day",
                             num_permutations = 100,
                             cond_levels = c("C", "E"))

result$conf_int

</code></pre>


</div>