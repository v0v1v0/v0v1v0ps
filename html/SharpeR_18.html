<div class="container">

<table style="width: 100%;"><tr>
<td>del_sropt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create an 'del_sropt' object.</h2>

<h3>Description</h3>

<p>Spawns an object of class <code>del_sropt</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">del_sropt(z.s, z.sub, df1, df2, df1.sub, drag = 0, ope = 1, epoch = "yr")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>z.s</code></td>
<td>
<p>an optimum Sharpe ratio statistic, on some set of assets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z.sub</code></td>
<td>
<p>an optimum Sharpe ratio statistic, on a linear subspace
of the assets.  If larger than <code>z.s</code> an error is thrown.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df1</code></td>
<td>
<p>the number of assets in the portfolio.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df2</code></td>
<td>
<p>the number of observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df1.sub</code></td>
<td>
<p>the rank of the linear subspace of the hedge
constraint. 
by restricting attention to the subspace.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drag</code></td>
<td>
<p>the 'drag' term, <code class="reqn">c_0/R</code>. defaults to 0. It is assumed
that <code>drag</code> has been annualized, <em>i.e.</em> has been multiplied
by <code class="reqn">\sqrt{ope}</code>. This is in contrast to the <code>c0</code>
term given to <code>sr</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ope</code></td>
<td>
<p>the number of observations per 'epoch'. For convenience of
interpretation, The Sharpe ratio is typically quoted in 'annualized' 
units for some epoch, that is, 'per square root epoch', though returns 
are observed at a frequency of <code>ope</code> per epoch. 
The default value is 1, meaning the code will not attempt to guess
what the observation frequency is, and no annualization adjustments
will be made.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epoch</code></td>
<td>
<p>the string representation of the 'epoch', defaulting
to 'yr'.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>del_sropt</code> class contains information about the difference
between two rescaled T^2-statistics, useful for spanning
tests, and inference on hedged portfolios.
The following are list attributes of the object:
</p>

<dl>
<dt>sropt</dt>
<dd>
<p>The (optimal) Sharpe ratio statistic of
the 'full' set of assets.</p>
</dd>
<dt>sropt_sub</dt>
<dd>
<p>The (optimal) Sharpe ratio statistic on
some subset, or linear subspace, of the assets.</p>
</dd>
<dt>df1</dt>
<dd>
<p>The number of assets.</p>
</dd>
<dt>df2</dt>
<dd>
<p>The number of observations.</p>
</dd>
<dt>df1.sub</dt>
<dd>
<p>The number of degrees of freedom in the 
hedge constraint.</p>
</dd>
<dt>drag</dt>
<dd>
<p>The drag term, which is the 'risk free rate' divided by
the maximum risk.</p>
</dd>
<dt>ope</dt>
<dd>
<p>The 'observations per epoch'.</p>
</dd>
<dt>epoch</dt>
<dd>
<p>The string name of the 'epoch'.</p>
</dd>
</dl>
<p>For the most part, this constructor should <em>not</em> be called directly,
rather <code>as.del_sropt</code> should be called instead to compute the
needed statistics.
</p>


<h3>Value</h3>

<p>a list cast to class <code>del_sropt</code>, with attributes
</p>

<dl>
<dt>sropt</dt>
<dd>
<p>the optimal Sharpe statistic.</p>
</dd>
<dt>sropt.sub</dt>
<dd>
<p>the optimal Sharpe statistic on the subspace.</p>
</dd>
<dt>df1</dt>
<dd>
<p>the number of assets.</p>
</dd>
<dt>df2</dt>
<dd>
<p>the number of observed vectors.</p>
</dd>
<dt>df1.sub</dt>
<dd>
<p>the input <code>df1.sub</code> term.</p>
</dd>
<dt>drag</dt>
<dd>
<p>the input <code>drag</code> term.</p>
</dd>
<dt>ope</dt>
<dd>
<p>the input <code>ope</code> term.</p>
</dd>
<dt>T2</dt>
<dd>
<p>the Hotelling <code class="reqn">T^2</code> statistic.</p>
</dd>
<dt>T2.sub</dt>
<dd>
<p>the Hotelling <code class="reqn">T^2</code> statistic on the subspace.</p>
</dd>
</dl>
<h3>Note</h3>

<p><b>WARNING:</b> This function is not well tested, may contain errors, may change in the
next package update. Take caution.
</p>
<p>2FIX: allow rownames?
</p>


<h3>Author(s)</h3>

<p>Steven E. Pav <a href="mailto:shabbychef@gmail.com">shabbychef@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code>reannualize</code>
</p>
<p><code>as.del_sropt</code>
</p>
<p>Other del_sropt: 
<code>as.del_sropt()</code>,
<code>is.del_sropt()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># roll your own.
ope &lt;- 253

set.seed(as.integer(charToRaw("be determinstic")))
n.stock &lt;- 10
X &lt;- matrix(rnorm(1000*n.stock),nrow=1000)
Sigma &lt;- cov(X)
mu &lt;- colMeans(X)
w &lt;- solve(Sigma,mu)
z &lt;- t(mu) %*% w
n.sub &lt;- 6
w.sub &lt;- solve(Sigma[1:n.sub,1:n.sub],mu[1:n.sub])
z.sub &lt;- t(mu[1:n.sub]) %*% w.sub
df1.sub &lt;- n.stock - n.sub

roll.own &lt;- del_sropt(z.s=z,z.sub=z.sub,df1=10,df2=1000,
 df1.sub=df1.sub,ope=ope)
print(roll.own)

</code></pre>


</div>