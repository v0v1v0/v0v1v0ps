<div class="container">

<table style="width: 100%;"><tr>
<td>surv_shap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Helper functions for <code>predict_parts.R</code>
</h2>

<h3>Description</h3>

<p>Helper functions for <code>predict_parts.R</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">surv_shap(
  explainer,
  new_observation,
  output_type,
  ...,
  N = NULL,
  y_true = NULL,
  calculation_method = c("kernelshap", "exact_kernel", "treeshap"),
  aggregation_method = c("integral", "mean_absolute", "max_absolute", "sum_of_squares")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>explainer</code></td>
<td>
<p>an explainer object - model preprocessed by the <code>explain()</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_observation</code></td>
<td>
<p>new observations for which predictions need to be explained</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_type</code></td>
<td>
<p>a character, either <code>"survival"</code> or <code>"chf"</code>. Determines which type of prediction should be used for explanations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional parameters, passed to internal functions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>a positive integer, number of observations used as the background data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_true</code></td>
<td>
<p>a two element numeric vector or matrix of one row and two columns, the first element being the true observed time and the second the status of the observation, used for plotting</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calculation_method</code></td>
<td>
<p>a character, either <code>"kernelshap"</code> for use of <code>kernelshap</code> library (providing faster Kernel SHAP with refinements), <code>"exact_kernel"</code> for exact Kernel SHAP estimation, or <code>"treeshap"</code> for use of <code>treeshap</code> library (efficient implementation to compute SHAP values for tree-based models).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aggregation_method</code></td>
<td>
<p>a character, either <code>"integral"</code>, <code>"integral_absolute"</code>, <code>"mean_absolute"</code>, <code>"max_absolute"</code>, or <code>"sum_of_squares"</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list, containing the calculated SurvSHAP(t) results in the <code>result</code> field
</p>


<h3>References</h3>


<ul><li>
<p> [1] Krzyzi≈Ñski, Mateusz, et al. <a href="https://www.sciencedirect.com/science/article/pii/S0950705122013302">"SurvSHAP(t): Time-dependent explanations of machine learning survival models."</a> Knowledge-Based Systems 262 (2023): 110234
</p>
</li></ul>
</div>