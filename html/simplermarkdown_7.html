<div class="container">

<table style="width: 100%;"><tr>
<td>mdweave</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run the code in a markdown file and generate a new markdown file</h2>

<h3>Description</h3>

<p>Run the code in a markdown file and generate a new markdown file
</p>


<h3>Usage</h3>

<pre><code class="language-R">mdweave(
  fn,
  ofn = file_subs_ext(basename(fn), ".md", FALSE),
  cmd1 = "pandoc -s \"%1$s\" -t json -o \"%2$s\"",
  cmd2 = "pandoc -s \"%1$s\" -t markdown%3$s -o \"%2$s\"",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fn</code></td>
<td>
<p>filename of the markdown file (should use pandoc markdown).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ofn</code></td>
<td>
<p>name of the resulting markdown file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cmd1</code></td>
<td>
<p>command used to run pandoc. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cmd2</code></td>
<td>
<p>command used to run pandoc. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>ignored</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>mdweave</code> calls pandoc twice. In the first call the markdown file is
parsed by pandoc and the parse tree is written to a temporary file. This
parse tree is the read by mdweave and any R-code in the tree is executed
resulting in a modified parse tree. This file is then stored to a new
temporary file. Pandoc is the called a second time to convert the new
parse tree to a markdown file.
</p>
<p>The arguments <code>cmd1</code> and <code>cmd2</code> contain the calls used to run
pandoc. The arguments can be used to, for example pas additional arguments
to pandoc. They use positional arguments. In <code>cmd1</code>, the first argument
(<code>%1$s</code>) is the input file name and the second (<code>%2$s</code>) the
temporary file containing the parsed tree. In <code>cmd2</code>, the first argument
is the temporary file with the modified parse tree and the second argument
the output file.
</p>
<p><code>cmd2</code> also has a third argument (<code>%3$s</code>) that contains a list of
extensions that are enabled or disabled. This is because some extensions
interfere with the conversion of the parsed tree to markdown. See
<code>get_extensions</code> to see which extensions are disabled.
</p>


<h3>Value</h3>

<p>Returns the file name of the file generated (<code>ofn</code>). Called mainly for the
side effect of parsing and generating a markdown file (and possibly secondary
files such as figures).
</p>


</div>