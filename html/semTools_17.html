<div class="container">

<table style="width: 100%;"><tr>
<td>compareFit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build an object summarizing fit indices across multiple models</h2>

<h3>Description</h3>

<p>This function will create the template to compare fit indices across
multiple fitted lavaan objects. The results can be exported to a clipboard
or a file later.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compareFit(..., nested = TRUE, argsLRT = list(), indices = TRUE,
  moreIndices = FALSE, baseline.model = NULL, nPrior = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>fitted <code>lavaan</code> models or list(s) of <code>lavaan</code> objects.
<code>lavaan.mi</code> objects are also accepted, but all models
must belong to the same class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nested</code></td>
<td>
<p><code>logical</code> indicating whether the models in <code>...</code> are
nested. See <code>net</code> for an empirical test of nesting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>argsLRT</code></td>
<td>
<p><code>list</code> of arguments to pass to
<code>lavTestLRT</code>, as well as to
<code>lavTestLRT.mi</code> and <code>fitMeasures</code> when
comparing <code>lavaan.mi</code> models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indices</code></td>
<td>
<p><code>logical</code> indicating whether to return fit indices from
the <code>fitMeasures</code> function. Selecting particular
indices is controlled in the <code>summary</code> method; see
<code>FitDiff</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>moreIndices</code></td>
<td>
<p><code>logical</code> indicating whether to return fit indices
from the <code>moreFitIndices</code> function. Selecting particular
indices is controlled in the <code>summary</code> method; see
<code>FitDiff</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>baseline.model</code></td>
<td>
<p>optional fitted <code>lavaan</code> model
passed to <code>fitMeasures</code> to calculate incremental fit
indices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nPrior</code></td>
<td>
<p>passed to <code>moreFitIndices</code>, if relevant</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>FitDiff</code> object that saves model fit
comparisons across multiple models. If the models are not nested, only
fit indices for each model are returned. If the models are nested, the
differences in fit indices are additionally returned, as well as test
statistics comparing each sequential pair of models (ordered by their
degrees of freedom).
</p>


<h3>Author(s)</h3>

<p>Terrence D. Jorgensen (University of Amsterdam;
<a href="mailto:TJorgensen314@gmail.com">TJorgensen314@gmail.com</a>)
</p>
<p>Sunthud Pornprasertmanit (<a href="mailto:psunthud@gmail.com">psunthud@gmail.com</a>)
</p>


<h3>See Also</h3>

<p><code>FitDiff</code>, <code>clipboard</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
HS.model &lt;- ' visual  =~ x1 + x2 + x3
              textual =~ x4 + x5 + x6
              speed   =~ x7 + x8 + x9 '

## non-nested models
fit1 &lt;- cfa(HS.model, data = HolzingerSwineford1939)

m2 &lt;- ' f1 =~ x1 + x2 + x3 + x4
        f2 =~ x5 + x6 + x7 + x8 + x9 '
fit2 &lt;- cfa(m2, data = HolzingerSwineford1939)

(out1 &lt;- compareFit(fit1, fit2, nested = FALSE))
summary(out1)


## nested model comparisons: measurement equivalence/invariance
fit.config &lt;- cfa(HS.model, data = HolzingerSwineford1939, group = "school")
fit.metric &lt;- cfa(HS.model, data = HolzingerSwineford1939, group = "school",
                  group.equal = "loadings")
fit.scalar &lt;- cfa(HS.model, data = HolzingerSwineford1939, group = "school",
                  group.equal = c("loadings","intercepts"))
fit.strict &lt;- cfa(HS.model, data = HolzingerSwineford1939, group = "school",
                  group.equal = c("loadings","intercepts","residuals"))

measEqOut &lt;- compareFit(fit.config, fit.metric, fit.scalar, fit.strict,
                        moreIndices = TRUE) # include moreFitIndices()
summary(measEqOut)
summary(measEqOut, fit.measures = "all")
summary(measEqOut, fit.measures = c("aic", "bic", "sic", "ibic"))


## Not run: 
## also applies to lavaan.mi objects (fit model to multiple imputations)
set.seed(12345)
HSMiss &lt;- HolzingerSwineford1939[ , paste("x", 1:9, sep = "")]
HSMiss$x5 &lt;- ifelse(HSMiss$x1 &lt;= quantile(HSMiss$x1, .3), NA, HSMiss$x5)
HSMiss$x9 &lt;- ifelse(is.na(HSMiss$x5), NA, HSMiss$x9)
HSMiss$school &lt;- HolzingerSwineford1939$school

library(Amelia)
HS.amelia &lt;- amelia(HSMiss, m = 20, noms = "school")
imps &lt;- HS.amelia$imputations

## request robust test statistics
mgfit2 &lt;- cfa.mi(HS.model, data = imps, group = "school", estimator = "mlm")
mgfit1 &lt;- cfa.mi(HS.model, data = imps, group = "school", estimator = "mlm",
                 group.equal = "loadings")
mgfit0 &lt;- cfa.mi(HS.model, data = imps, group = "school", estimator = "mlm",
                 group.equal = c("loadings","intercepts"))

## request the strictly-positive robust test statistics
out2 &lt;- compareFit(scalar = mgfit0, metric = mgfit1, config = mgfit2,
                   argsLRT = list(asymptotic = TRUE,
                                  method = "satorra.bentler.2010"))
## note that moreFitIndices() does not work for lavaan.mi objects, but the
## fitMeasures() method for lavaan.mi objects already returns gammaHat(s)
summary(out2, fit.measures = c("ariv","fmi","df","crmr","srmr",
                               "cfi.robust","tli.robust",
                               "adjGammaHat.scaled","rmsea.ci.lower.robust",
                               "rmsea.robust","rmsea.ci.upper.robust"))

## End(Not run)

</code></pre>


</div>