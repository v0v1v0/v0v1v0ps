<div class="container">

<table style="width: 100%;"><tr>
<td>writeGPS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Upload to GPS
</h2>

<h3>Description</h3>

<p>Upload a set of point locations as waypoints to a GPS unit connected
by USB or via a serial port. Intended primarily for detector locations
in a traps object. Uses the GPSBabel package which must have been
installed. Coordinates are first inverse-projected to latitude and
longitude using function <code>st_transform</code> from <span class="pkg">sf</span>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">
writeGPS(xy, o = "garmin", F = "usb:", proj = "+proj=nzmg")

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xy</code></td>
<td>
<p>2-column matrix or dataframe of x-y coordinates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>o</code></td>
<td>
<p>character output format (see GPSBabel documentation)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>F</code></td>
<td>
<p>character for destination (see Details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proj</code></td>
<td>
<p>character string describing projection</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is derived in part from <code>readGPS</code> in <span class="pkg">maptools</span>.
</p>
<p>For users of Garmin GPS units, useful values of <code>o</code> are "garmin"
for direct upload via USB or serial ports, and "gdb" for a file in
Mapsource database format.
</p>
<p><code>F</code> may be "usb:" or "com4:" etc. for upload via USB or serial
ports, or the name of a file to create.
</p>
<p>The <code>proj</code> argument may be complex. For further information see the
Examples and the vignette 
<a href="https://www.otago.ac.nz/density/pdfs/secr-spatialdata.pdf">secr-spatialdata.pdf</a>.
If <code>proj</code> is an empty string then coordinates are assumed already to
be latitudes (column 1) and longitudes (column 2).
</p>
<p>Waypoint names are derived from the rownames of <code>xy</code>.
</p>


<h3>Value</h3>

<p>No value is returned. The effect is to upload waypoints to an attached
GPS or file. 
</p>


<h3>Note</h3>

<p>GPSBabel is available free online. 
Remember to add it to the path. On
Windows this means following something like Settings &gt; Control panel &gt;
System &gt; Advanced settings &gt; Environment variables &gt; (select Path) Edit
and adding ";C:/Program Files (x86)/gpsbabel" to the end (without the
quotes). 
</p>


<h3>See Also</h3>

<p><code>make.systematic</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Example using shapefile "possumarea.shp" in
## "extdata" folder. As 'cluster' is not specified,
## the grid comprises single multi-catch detectors.

## Not run: 

## test for availability of GPSBabel

if (nzchar(Sys.which("gpsbabel"))) {

library(sf)
shpfilename &lt;- system.file("extdata/possumarea.shp", package = "secr")
possumarea &lt;- st_read(shpfilename)

possumgrid &lt;- make.systematic(spacing = 100, region = possumarea, 
    plt = TRUE)

## May upload directly to GPS...
# writeGPS(possumgrid, proj = "+proj=nzmg")

## ...or save as Mapsource file
writeGPS(possumgrid, o = "gdb", F = "tempgrid.gdb",
    proj = "+proj=nzmg")

## If `region' had been specified in another projection we
## would need to specify this as in Proj.4. Here is a
## hypothetical example for New Zealand Transverse Mercator
## with datum NZGD2000 (EPSG:2193)

NZTM &lt;- paste("+proj=tmerc +lat_0=0 +lon_0=173 +k=0.9996",
    "+x_0=1600000 +y_0=10000000 +ellps=GRS80",
    " +towgs84=0,0,0,0,0,0,0 +units=m +no_defs")

# writeGPS(possumgridNZTM, o = "gdb", F = "tempNZTM.txt", 
#    proj = NZTM)

## Or to upload coordinates from UTM Zone 18 in eastern
## Maryland, USA...

# writeGPS(MarylandUTMgrid, proj = 
#    "+proj=utm +zone=18 +ellps=WGS84")

}


## End(Not run)

</code></pre>


</div>