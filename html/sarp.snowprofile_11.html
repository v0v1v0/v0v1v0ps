<div class="container">

<table style="width: 100%;"><tr>
<td>computeTSA</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute Threshold Sum Approach (TSA, lemons, yellow flags, 'Nieten')</h2>

<h3>Description</h3>

<p>This routine computes the traditional lemons (German 'Nieten') based on absolute thresholds. Since the thresholds are
defined in Monti (2014) with different thresholds for manual versus observed profiles, this routine switches between the appropriate
thresholds based on the <code style="white-space: pre;">⁠$type⁠</code> field of the input profile. While <code>manual</code> and <code>whiteboard</code> profiles get one set of thresholds,
<code>modeled</code>, <code>vstation</code>, and <code>aggregate</code> type profiles get another set.
</p>


<h3>Usage</h3>

<pre><code class="language-R">computeTSA(x, target = c("interface", "layer"))

## S3 method for class 'snowprofileSet'
computeTSA(x, target = c("interface", "layer"))

## S3 method for class 'snowprofile'
computeTSA(x, target = c("interface", "layer"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a snowprofile or snowprofileSet</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>Do you want to compute the index for the layers or for the layer interfaces? defaults to both.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>New layer properties <code>tsa</code>/<code>tsa_interface</code> describing the threshold sums are added to the profile layers. The TSA sums up to 6 indicators,
whereas &gt;= 5 indicators indicate structurally unstable layers/interfaces.
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>computeTSA(snowprofileSet)</code>: for snowprofileSets
</p>
</li>
<li> <p><code>computeTSA(snowprofile)</code>: for snowprofiles
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>fherla
</p>


<h3>References</h3>

<p>Schweizer, J., &amp; Jamieson, J. B. (2007). A threshold sum approach to stability evaluation of manual snow profiles.
Cold Regions Science and Technology, 47(1–2), 50–59. https://doi.org/10.1016/j.coldregions.2006.08.011
</p>
<p>Monti, F., Schweizer, J., &amp; Fierz, C. (2014). Hardness estimation and weak layer detection in simulated snow stratigraphy.
Cold Regions Science and Technology, 103, 82–90. https://doi.org/10.1016/j.coldregions.2014.03.009
</p>


<h3>See Also</h3>

<p>computeRTA
</p>


<h3>Examples</h3>

<pre><code class="language-R">## apply function to snowprofileSet
profileset &lt;- computeTSA(SPgroup)

## apply function to snowprofile and plot output
sp &lt;- computeTSA(SPpairs$B_modeled1)
plot(sp, TempProfile = FALSE, main = "TSA")
lines(sp$layers$tsa/6*5,
      sp$layers$height - 0.5*sp$layers$thickness, type = "b", xlim = c(0, 5))
lines(sp$layers$tsa_interface/6*5, sp$layers$height, type = "b", xlim = c(0, 5), col = "red")
abline(h = sp$layers$height, lty = "dotted", col = "grey")
abline(v = 5/6*5, lty = "dashed")
</code></pre>


</div>