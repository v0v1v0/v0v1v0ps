<div class="container">

<table style="width: 100%;"><tr>
<td>ggtour</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prepare a new grammar of graphics tour</h2>

<h3>Description</h3>

<p><code>ggtour()</code> initializes a ggplot object for a tour. <code style="white-space: pre;">⁠proto_*⁠</code> functions are
added to the tour, analogous to <code style="white-space: pre;">⁠ggplot() + geom_*⁠</code>. The final tour object is
then animated with <code>animate_plotly()</code> or <code>animate_ggtour()</code>, or passed to
<code>filmstrip()</code> for static plot faceting on frames.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ggtour(
  basis_array,
  data = NULL,
  angle = 0.05,
  basis_label = NULL,
  data_label = NULL,
  do_center_frame = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>basis_array</code></td>
<td>
<p>An array of projection bases for the tour, as produced
with <code>manual_tour()</code> or <code>tour::save_history()</code>, or a single basis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Numeric data to project. If left NULL, will check if it data is
stored as an attribute of the the <code>basis_array</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>angle</code></td>
<td>
<p>Target angle (radians) for interpolation frames between
frames of the <code>basis_array</code>. Defaults to .05.
To opt out of interpolation set to NA or 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>basis_label</code></td>
<td>
<p>Labels for basis display, a character
vector with length equal to the number of variables.
Defaults to NULL; 3 character abbreviation from colnames of data or
rownames of basis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data_label</code></td>
<td>
<p>Labels for <code>plotly</code> tooltip display.
Defaults to the NULL, rownames and/or numbers of data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>do_center_frame</code></td>
<td>
<p>Whether or not to center the mean within each
animation frame. Defaults to TRUE.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>Other ggtour proto functions: 
<code>append_fixed_y()</code>,
<code>facet_wrap_tour()</code>,
<code>proto_basis()</code>,
<code>proto_default()</code>,
<code>proto_density()</code>,
<code>proto_density2d()</code>,
<code>proto_hex()</code>,
<code>proto_highlight()</code>,
<code>proto_hline0()</code>,
<code>proto_origin()</code>,
<code>proto_point()</code>,
<code>proto_text()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(spinifex)
dat     &lt;- scale_sd(penguins_na.rm[, 1:4])
clas    &lt;- penguins_na.rm$species
bas     &lt;- basis_pca(dat)
mv      &lt;- manip_var_of(bas)
mt_path &lt;- manual_tour(bas, manip_var = mv)

## d = 2 case
ggt &lt;- ggtour(basis_array = mt_path, data = dat, angle = .3) +
  proto_default(aes_args = list(color = clas, shape = clas),
                identity_args = list(size = 1.5, alpha = .8))

animate_plotly(ggt)


## Finer control calling individual proto_* functions
ggt &lt;- ggtour(basis_array = mt_path, data = dat, angle = .3) +
  proto_point(aes_args = list(color = clas, shape = clas),
              identity_args = list(size = 1.5, alpha = .8),
              row_index = which(clas == levels(clas)[1])) +
  proto_basis(position = "right",
              manip_col = "red",
              text_size = 7L) +
  proto_origin()

animate_plotly(ggt)


## d = 1 case
bas1d &lt;- basis_pca(dat, d = 1)
mt_path1d &lt;- manual_tour(basis = bas1d, manip_var = mv)

ggt1d &lt;- ggtour(basis_array = mt_path1d, data = dat, angle = .3) +
  proto_default1d(aes_args = list(fill= clas, color = clas))

animate_plotly(ggt1d)


## Single basis
ggt &lt;- ggtour(basis_array = bas, data = dat) +
  proto_default(aes_args = list(fill= clas, color = clas))
## ggtour() returns a static ggplot2 plot

ggt
### or as html widget with tooltips
animate_plotly(ggt)

</code></pre>


</div>