<div class="container">

<table style="width: 100%;"><tr>
<td>calculate_adi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate ADI and ADI-3 from census data.</h2>

<h3>Description</h3>

<p>Calculate the Area Deprivation Index and Berg Indices (ADI-3) using decennial
US census or American Community Survey (ACS) variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calculate_adi(data_raw, keep_indicators = FALSE, seed = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data_raw</code></td>
<td>
<p>A data frame, <code>tibble</code>, or <code>sf</code>
object ultimately obtained via <code>tidycensus::get_acs()</code> or
<code>tidycensus::get_decennial()</code>, having the data necessary to compute the
indicators of the ADI and ADI-3.
</p>
<p>The columns of his data frame must be named according to the elements of
the <code>variable</code> column in <code>acs_vars</code> and/or <code>decennial_vars</code>.
</p>
<p>The easiest way to obtain data like this is to run
<code>get_adi</code><code>(raw_data_only = TRUE)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_indicators</code></td>
<td>
<p>Logical indicating whether or not to keep the
component indicators of the ADI and ADI-3 as well as the original census
variables used to calculate them. Defaults to <code>FALSE</code>.
</p>
<p>See <code>acs_vars</code> and <code>decennial_vars</code> for basic descriptions of the raw
census variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Passed to the <code>seed</code> argument of <code>mice::mice()</code> when imputation
is needed.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>get_adi()</code> calls this function by default as its final step,
but some users may want to calculate ADI and ADI-3 values for different
combinations of areas in a given data set. <code>get_adi</code><code>(raw_data_only = TRUE)</code> returns the raw census data used to calculate ADI and ADI-3. Users may
select subsets of such a data set and pipe them into <code>calculate_adi()</code>.
</p>
<p>This function discerns what kind of census data that <code>data</code> contains (ACS, or
one of the decennial censuses) by checking for the existence of key variables
unique to each kind of data set.
</p>
<p>Areas listed as having zero households are excluded from ADI and ADI-3
calculation. Their resulting ADIs and ADI-3s will be <code>NA</code>.
</p>
<p>If calling this function directly (i.e., not via <code>get_adi()</code>) on a data set
that contains median household income (B19013_001) and does not contain
median family income (B19113_001), median household income will be used in
place of median family income, with a <code>warning()</code>. See the "Missingness and
imputation" section of <code>get_adi()</code>.
</p>


<h3>Value</h3>

<p>A <code>tibble</code> (or <code>sf</code>) with the same number
of rows as <code>data</code>. Columns include <code>GEOID</code>, <code>NAME</code>, <code>ADI</code>, <code style="white-space: pre;">⁠Financial Strength⁠</code>, <code>Economic_Hardship_and_Inequality</code>, and
<code>Educational_Attainment</code>. Further columns containing the indicators and raw
values will also be present if <code>keep_indicators = TRUE</code>.
</p>


<h3>See Also</h3>

<p>For more information, see <code>get_adi()</code>, especially the sections
titled <strong>ADI and ADI-3 factor loadings</strong> and <strong>Missingness and
imputation</strong>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Wrapped in \dontrun{} because these examples require a Census API key.

raw_census &lt;- get_adi("state", year = 2017, raw_data_only = TRUE)

calculate_adi(raw_census)

calculate_adi(raw_census, keep_indicators = TRUE)

## End(Not run)
</code></pre>


</div>