<div class="container">

<table style="width: 100%;"><tr>
<td>Lifedata.MLE</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Parametric Fitting for Lifetime Data
</h2>

<h3>Description</h3>

<p>Fit parametric models (based on log-location-scale family of distributions) to right censored and/or left truncated data, with (dynamic) covariates. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">Lifedata.MLE(formula, data, xt.dat = NULL, dist, method = "BFGS", 
subset, truncation, na.action, weights, ref_time = NULL, starts = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>

<p>A formula object, which has a <code>Surv</code> object on the left of <code>~</code> and covariates on the right. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>A data frame used to evaluate variables in the <code>formula</code>, <code>subset</code> and <code>weights</code> arguments.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xt.dat</code></td>
<td>

<p>A data frame contains dynamic covariates. The first and second columns must be sample id and time. If specified, cumulative exposure model will be used to fit the data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>

<p>Distribution used in the model. Can be "weibull", "lognormal", "loglogistic", "frechet". 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>

<p>Default is "BFGS". This function calls optim to do optimization. Other options can be found in optim.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>

<p>This is an optional argument that specifies the subset of observations to be used in the fitting procedure.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>truncation</code></td>
<td>

<p>An optional data frame contains truncation time and indicators.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>

<p>Indicates what to be done when data contain missing values.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>

<p>An optional vector of weights for each observation. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref_time</code></td>
<td>

<p>An optional vector of reference time (start time) of dynamic covariates. If it is <code>NULL</code>, <code>ref_time</code> is a vector of 0's.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>starts</code></td>
<td>

<p>Initial values for parameters.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Further arguments can be passed to optim. 
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The default method for choosing start values can sometimes failed, the user may need to try several start values to make the function work.
</p>


<h3>Value</h3>

<p>This function returns an object of class "Lifedata.MLE". An "Lifedata.MLE" object is a list of 
</p>
<table>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>Called function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>Formula argument in the input.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coef</code></td>
<td>
<p>Vector of coefficients.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vov</code></td>
<td>
<p>Variance-covariance matrix of <code>coef</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min</code></td>
<td>
<p><code>-loglikelihood</code> evaluated at <code>coef</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>surv</code></td>
<td>
<p>Survival probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>Dataset used to fit the model.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Yili Hong
</p>


<h3>References</h3>

<p>Yili Hong and William Q. Meeker. Field-Failure Predictions Based on Failure-Time Data With Dynamic Covariate Information. <em>Technometrics</em>, <b>55</b>(2), 135â€“149, 2013.
</p>


<h3>See Also</h3>

<p>Surv, optim, summary.Lifedata.MLE. See methods(class="Lifedata.MLE") for all the functions related to "Lifedata.MLE" object.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#################################################################
### right censored data
data(shock)
res1=Lifedata.MLE(Surv(Distance, Censor)~1, data=shock, dist="weibull")
res1
summary(res1)

res2=Lifedata.MLE(Surv(Distance, Censor)~1, data=shock, dist="lognormal")
res2
summary(res2)

#################################################################
### left truncated right censoring data
data(testdata)
test=Lifedata.MLE(Surv(truncation.age, age, failure)~1, data=testdata,dist="weibull", 
method="Nelder-Mead", subset=(group=="MC_Old"))
summary(test)  


#################################################################
### dynamix covariates
data(Prod2.xt.dat)
data(Prod2.fai.dat)


test=Lifedata.MLE(Surv(failure.time, delta)~1, data=Prod2.fai.dat,xt.dat=Prod2.xt.dat,
starts=c(12, 3.5, log(2)), dist="weibull")
summary(test)

</code></pre>


</div>