<div class="container">

<table style="width: 100%;"><tr>
<td>DSD_ReadWebService</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A DSD That Reads for a Web Service</h2>

<h3>Description</h3>

<p>Reads from a web service that published an operation called
<code>get_points</code> which takes a parameter <code>n</code> and returns <code>n</code> data points in CSV or json
format. The request is
retried with <code>httr::RETRY()</code> if it fails the first time.
</p>


<h3>Usage</h3>

<pre><code class="language-R">DSD_ReadWebService(url, verbose = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>url</code></td>
<td>
<p>endpoint URI address in the format <code style="white-space: pre;">⁠http://host:port/&lt;optional_path&gt;⁠</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical; display connection information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments are passed on to <code>httr::RETRY()</code>. Pass
<code>httr::verbose()</code> as parameter <code>config</code> to get detailed connection info.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A stream::DSD object.
</p>


<h3>See Also</h3>

<p>Other WebService: 
<code>DSC_WebService()</code>,
<code>publish_DSC_via_WebService()</code>,
<code>publish_DSD_via_WebService()</code>
</p>
<p>Other dsd: 
<code>DSD_ReadSocket()</code>,
<code>publish_DSD_via_Socket()</code>,
<code>publish_DSD_via_WebService()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># find a free port
port &lt;- httpuv::randomPort()
port

# create a background DSD process sending data to the port
rp1 &lt;- publish_DSD_via_WebService("DSD_Gaussians(k = 3, d = 3)", port = port)

## use json for the transport layer instead of csv
# rp1 &lt;- publish_DSD_via_WebService("DSD_Gaussians(k = 3, d = 3)", 
#              port = port, serialize = "json")
rp1

# create a DSD that connects to the web service
dsd &lt;- DSD_ReadWebService(paste0("http://localhost", ":", port))
dsd

get_points(dsd, n = 10)

plot(dsd)

# end the DSD process. Note: that closing the connection above
# may already kill the process.
rp1$kill()
rp1
</code></pre>


</div>