<div class="container">

<table style="width: 100%;"><tr>
<td>stepp.CI</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
The constructor to create the stmodelCI object
</h2>

<h3>Description</h3>

<p>This is the constructor function for the stmodelCI object. This object sets up the data with
a stepp model using competing risks method for analysis. (CI stands for Cumulative Incidence.)<br></p>
<p>The model explores the treatment-effect interactions in competing risks data arising 
from two or more treatment arms of a clinical trial. A permutation distribution approach to inference 
is implemented that permutes covariate values within a treatment group. 
The statistical significance of observed heterogeneity of treatment effects is calculated using 
permutation tests:<br><br>
1) for the maximum difference between each subpopulation effect and the overall population 
treatment effect or supremum based test statistic; <br>
2) for the difference between each subpopulation effect and the overall population treatment 
effect, which resembles the chi-square statistic. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">	stepp.CI(coltrt, coltime, coltype, trts, timePoint)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>coltrt</code></td>
<td>
<p>the treatment variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coltime</code></td>
<td>
<p>the time to event variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coltype</code></td>
<td>
<p>variable with distinct codes for different causes of failure where coltype=0 for censored observations; coltype=1 for event of interest; coltype=2 for other causes of failure</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trts</code></td>
<td>
<p>a vector containing the codes for the 2 treatment groups, 1st and 2nd treatment groups, respectively</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timePoint</code></td>
<td>
<p>timepoint to estimate survival</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>It returns the stmodelCI object.
</p>


<h3>Author(s)</h3>

<p>Wai-Ki Yip
</p>


<h3>References</h3>

<p>Bonetti M, Gelber RD. Patterns of treatment effects in subsets of patients in clinical trials. Biostatistics 2004; 5(3):465-481.
</p>
<p>Bonetti M, Zahrieh D, Cole BF, Gelber RD. A small sample study of the STEPP approach to assessing treatment-covariate interactions in survival data. Statistics in Medicine 2009; 28(8):1255-68. 
</p>
<p>Lazar AA, Cole BF, Bonetti M, Gelber RD.  Evaluation of treatment-effect heterogeneity usiing biomarkers measured
on a continuous scale: subpopulation treatment effect pattern plot.  Journal of Clinical Oncology, 2010; 28(29): 4539-4544.
</p>


<h3>See Also</h3>

<p><code>stwin</code>,     <code>stsubpop</code>,  <code>stmodelKM</code>, 
<code>stmodelCI</code>, <code>stmodelGLM</code>, 
<code>steppes</code>,   <code>stmodel</code>, 
<code>stepp.win</code>,        <code>stepp.subpop</code>,     <code>stepp.KM</code>,
<code>stepp.GLM</code>,
<code>stepp.test</code>,       <code>estimate</code>,         <code>generate</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">##
n &lt;- 1000		# set the sample size
mu &lt;- 0			# set the mean and sd of the covariate
sigma &lt;- 1

beta0 &lt;- log(-log(0.5)) # set the intercept for the log hazard
beta1 &lt;- -0.2		# set the slope on the covariate
beta2 &lt;- 0.5		# set the slope on the treatment indicator
beta3 &lt;- 0.7		# set the slope on the interaction

prob2 &lt;- 0.2		# set the proportion type 2 events
cprob &lt;- 0.3		# set the proportion censored

set.seed(7775432) 	# set the random number seed
covariate &lt;- rnorm(n,mean=mu,sd=sigma)	# generate the covariate values
Txassign &lt;- rbinom(n,1,0.5)		# generate the treatment indicator
x3 &lt;- covariate*Txassign		# compute interaction term
					# compute the hazard for type 1 event
lambda1 &lt;- exp(beta0+beta1*covariate+beta2*Txassign+beta3*x3)
lambda2 &lt;- prob2*lambda1/(1-prob2)	# compute the hazard for the type 2 event
					# compute the hazard for censoring time
lambda0 &lt;- cprob*(lambda1+lambda2)/(1-cprob)
t1 &lt;- rexp(n,rate=lambda1)		# generate the survival time for type 1 event
t2 &lt;- rexp(n,rate=lambda2)		# generate the survival time for type 2 event
t0 &lt;- rexp(n,rate=lambda0)		# generate the censoring time
time &lt;- pmin(t0,t1,t2)			# compute the observed survival time
type &lt;- rep(0,n)
type[(t1 &lt; t0)&amp;(t1 &lt; t2)] &lt;- 1
type[(t2 &lt; t0)&amp;(t2 &lt; t1)] &lt;- 2

# create the stepp model object to analyze the data using Cumulative Incidence approach
x &lt;- stepp.CI(coltrt=Txassign, trts=c(0,1), coltime=time, coltype=type, timePoint=1.0)

</code></pre>


</div>