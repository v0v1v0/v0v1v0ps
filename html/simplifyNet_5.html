<div class="container">

<table style="width: 100%;"><tr>
<td>EffRSparse</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sparsification through edge sampling via effective resistances</h2>

<h3>Description</h3>

<p>Sparsify an undirected network by sampling edges proportional to <code class="reqn">w_e * R_e</code> where <code class="reqn">w_e</code> is the weight of edge <code class="reqn">e</code> and <code class="reqn">R_e</code> is the effective resistance of edge <code class="reqn">e</code>.<br>
Approximately preserves the graph Laplacian, <code>L</code>, with increasing fidelity as the number of samples taken increases.
</p>


<h3>Usage</h3>

<pre><code class="language-R">EffRSparse(network, q, effR, seed, n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>network</code></td>
<td>
<p>Weighted adjacency matrix, weighted <code>igraph</code> network, or edge list formatted | n1 | n2 | weight | with colnames <code>c("n1", "n2", "weight")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>The numbers of samples taken. The fidelity to the original network increases as the number of samples increases, but decreases the sparseness.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effR</code></td>
<td>
<p>Effective resistances corresponding to each edge. Should be in the same order as "weight".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Set the seed to reproduce results of random sampling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>The number of nodes in the network. Default is the max node index of the edge list.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The performance of this method is dependent on the size of the network and fidelity of the effective resistance approximation. The network should be "sufficiently large." <br>
For more details, see: https://epubs.siam.org/doi/epdf/10.1137/080734029
</p>


<h3>Value</h3>

<p>A sparsified network, <code>H</code>, edge list where the number of edges is dependent on the number of samples taken, <code>q</code>.
</p>


<h3>Author(s)</h3>

<p>Daniel A. Spielman,
</p>
<p>Alexander Mercier
</p>


<h3>References</h3>

<p>Spielman, D. A., &amp; Srivastava, N. (2011). Graph sparsification by effective resistances. SIAM Journal on Computing, 40(6), 1913-1926.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#Generate random ER graph with uniformly random edge weights
g = igraph::erdos.renyi.game(100, 0.1)
igraph::E(g)$weight &lt;- runif(length(igraph::E(g)))
#Approximate effective resistances
effR = simplifyNet::EffR(g)
#Use effective resistances to create spectral sparsifier by edge sampling
S = simplifyNet::EffRSparse(g, q = 200, effR = effR, seed = 150)
sg = simplifyNet::net.as(S, net.to="igraph", directed=FALSE)
igraph::ecount(sg)/igraph::ecount(g)#fraction of edges in the sparsifier
</code></pre>


</div>