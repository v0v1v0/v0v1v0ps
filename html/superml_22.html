<div class="container">

<table style="width: 100%;"><tr>
<td>smoothMean</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>smoothMean Calculator</h2>

<h3>Description</h3>

<p>Calculates target encodings using a smoothing parameter and count of categorical variables.
This approach is more robust to possibility of leakage and avoid overfitting.
</p>


<h3>Usage</h3>

<pre><code class="language-R">smoothMean(
  train_df,
  test_df,
  colname,
  target,
  min_samples_leaf = 1,
  smoothing = 1,
  noise_level = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>train_df</code></td>
<td>
<p>train dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test_df</code></td>
<td>
<p>test dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colname</code></td>
<td>
<p>name of categorical column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>name of target column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_samples_leaf</code></td>
<td>
<p>minimum samples to take category average into account</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smoothing</code></td>
<td>
<p>smoothing effect to balance categorical average vs prior</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noise_level</code></td>
<td>
<p>random noise to add, optional</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a train and test data table with mean encodings
of the target for the given categorical variable
</p>


<h3>Examples</h3>

<pre><code class="language-R">train &lt;- data.frame(region=c('del','csk','rcb','del','csk','pune','guj','del'),
                    win = c(0,1,1,0,0,1,0,1))
test &lt;- data.frame(region=c('rcb','csk','rcb','del','guj','pune','csk','kol'))

# calculate encodings
all_means &lt;- smoothMean(train_df = train,
                         test_df = test,
                         colname = 'region',
                         target = 'win')
train_mean &lt;- all_means$train
test_mean &lt;- all_means$test
</code></pre>


</div>