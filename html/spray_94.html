<div class="container">

<table style="width: 100%;"><tr>
<td>Extract.spray</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract or Replace Parts of a spray</h2>

<h3>Description</h3>

<p>Extract or replace subsets of sprays.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'spray'
S[..., drop=FALSE]
## S3 replacement method for class 'spray'
S[index, ...] &lt;- value
 </code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>S</code></td>
<td>
<p>A spray object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>elements to extract or replace</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>replacement value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>Boolean, with default <code>FALSE</code>  meaning to return a
spray object and <code>TRUE</code> meaning to drop the spray structure and
return a numeric vector</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These methods should work as expected, although the off-by-one issue
might be a gotcha.  <a href="https://CRAN.R-project.org/package=disordR"><span class="pkg">disordR</span></a> discipline is enforced where
appropriate.
</p>
<p>In <code>S[index,...]</code>, argument <code>drop</code> is <code>FALSE</code> by
default, in which case a <code>spray</code> object is returned.  If
<code>drop</code> is <code>TRUE</code> a numeric vector is returned, with elements
corresponding to the rows of <code>index</code>.  Compare <code>coeffs(S)</code>,
which returns a <code>disord</code> object; in <code>S[index,drop=TRUE]</code>,
the rows of <code>index</code> specify a unique order for the return value.
</p>
<p>If <code>a &lt;- spray(diag(3))</code>, for example, then idiom such as
<code>a[c(1,2,3)]</code> cannot work, because one would like <code>a[1,2,3]</code>
and <code>a[1:3,2,3]</code> to work.
</p>
<p>If <code>p &lt;- 1:3</code>, then one might expect idiom such as
<code>S[1,,p,1:3]</code> to work but this is problematic and a discussion is
given in <code>inst/missing_accessor.txt</code>.
</p>
<p>Functions <code>spray_extract_disord()</code> and
<code>spray_replace_disord()</code> are low-level helper functions which
implement idiom such as <code>a[coeffs(a) &lt; 3]</code> and<code>a[coeffs(a) &lt;
  3] &lt;- 99</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">(a &lt;- spray(diag(5)))
a[rbind(rep(1,5))] &lt;- 5
a

a[3,4,5,3,1]  # the NULL polynomial

a[0,1,0,0,0]
a[0,1,0,0,0,drop=TRUE]

a[2,3:5,4,3,3] &lt;- 9
a

options(polyform = TRUE)   # print as a multivariate polynomial
a

options(polyform = FALSE)  # print in sparse array form
a

(S1 &lt;- spray(diag(5),1:5))
(S2 &lt;- spray(1-diag(5),11:15))
(S3 &lt;- spray(rbind(c(1,0,0,0,0),c(1,2,1,1,1))))

S1[] &lt;- 3
S1[] &lt;- S2

S1[S3] &lt;- 99
S1

S &lt;- rspray()
S[coeffs(S) &gt; 4]
S[coeffs(S) &lt; 6] &lt;- 99
S


</code></pre>


</div>