<div class="container">

<table style="width: 100%;"><tr>
<td>ct_map</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Recode according to controlled terminology</h2>

<h3>Description</h3>

<p><code>ct_map()</code> recodes a vector following a controlled terminology.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ct_map(
  x,
  ct_spec = NULL,
  ct_clst = NULL,
  from = ct_spec_vars("from"),
  to = ct_spec_vars("to")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A character vector of terms to be recoded following a controlled
terminology.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ct_spec</code></td>
<td>
<p>A tibble providing a controlled
terminology specification.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ct_clst</code></td>
<td>
<p>A character vector indicating a set of possible controlled
terminology codelists codes to be used for recoding. By default (<code>NULL</code>)
all codelists available in <code>ct_spec</code> are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>A character vector of column names indicating the variables
containing values to be matched against for terminology recoding.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to</code></td>
<td>
<p>A single string indicating the column whose values are to be
recoded into.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A character vector of terminology recoded values from <code>x</code>. If no
match is found in the controlled terminology spec provided in <code>ct_spec</code>, then
<code>x</code> values are returned in uppercase. If <code>ct_spec</code> is not provided <code>x</code> is
returned unchanged.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># A few example terms.
terms &lt;-
  c(
    "/day",
    "Yes",
    "Unknown",
    "Prior",
    "Every 2 hours",
    "Percentage",
    "International Unit"
  )

# Load a controlled terminology example
(ct_spec &lt;- read_ct_spec_example("ct-01-cm"))

# Use all possible matching terms in the controlled terminology.
ct_map(x = terms, ct_spec = ct_spec)

# Note that if the controlled terminology mapping is restricted to a codelist
# code, e.g. C71113, then only `"/day"` and `"Every 2 hours"` get mapped to
# `"QD"` and `"Q2H"`, respectively; remaining terms won't match given the
# codelist code restriction, and will be mapped to an uppercase version of
# the original terms.
ct_map(x = terms, ct_spec = ct_spec, ct_clst = "C71113")

</code></pre>


</div>