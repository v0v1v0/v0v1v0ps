<div class="container">

<table style="width: 100%;"><tr>
<td>interactive_plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot a list of CUSUM charts (interactive)</h2>

<h3>Description</h3>

<p>Create an interactive plot visualizing a combination of control charts
which can be created using this package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">interactive_plot(x, unit_names, scale = FALSE, group_by = c("none", "unit",
  "type"), highlight = FALSE, manual_colors = c(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A list with each item containing one cumulative sum chart.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit_names</code></td>
<td>
<p>The unit names to be displayed in the interactive plot.
Must be of equal length as <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>Should charts be scaled with respect to their control limit/
maximum value? Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_by</code></td>
<td>
<p>Character indicating how to group the CUSUM charts in the plot.
Possible values are <code>c("none", "unit", "type")</code>. Default is <code>"none"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>highlight</code></td>
<td>
<p>Should charts be highlighted on hover? Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>manual_colors</code></td>
<td>
<p>A character vector specifying which colors to use
for the units in the data. By default, the "Set2" color set from
<code>palette()</code> will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further plotting parameters</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An interactive plot will be produced in the current graphics device.
For more information on the possibilities for interaction, see <a href="https://plotly.com/r/">https://plotly.com/r/</a>.
</p>


<h3>See Also</h3>

<p><code>cgr_cusum</code>, <code>bk_cusum</code>, <code>bernoulli_cusum</code>, <code>funnel_plot</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
require(survival)
#Extract data to construct CUSUM charts on
tdat &lt;- subset(surgerydat, unit == 1 &amp; entrytime &lt; 365)
tdat2 &lt;- subset(surgerydat, unit == 2 &amp; entrytime &lt; 365)

#Determine model parameters
followup &lt;- 100
tcbaseh &lt;- function(t) chaz_exp(t, lambda = 0.01)
exprfit &lt;- as.formula("Surv(survtime, censorid) ~ age + sex + BMI")
tcoxmod &lt;- coxph(exprfit, data= surgerydat)
exprfitber &lt;- as.formula("(survtime &lt;= followup) &amp; (censorid == 1)~ age + sex + BMI")
glmmodber &lt;- glm(exprfitber, data = surgerydat, family = binomial(link = "logit"))


#Construct the charts
cgr &lt;- cgr_cusum(data = tdat, coxphmod = tcoxmod, cbaseh = tcbaseh, pb = TRUE)
cgr$h &lt;- 8.29
bk &lt;- bk_cusum(data = tdat, theta = log(2), coxphmod = tcoxmod, cbaseh = tcbaseh, pb = TRUE)
bk$h &lt;- 6.23
bercus &lt;- bernoulli_cusum(data = subset(surgerydat, unit == 1), glmmod = glmmodber,
followup = followup, theta = log(2))
bercus$h &lt;- 3.36
bk2 &lt;- bk_cusum(data = tdat2, theta = log(2), coxphmod = tcoxmod, cbaseh = tcbaseh, pb = TRUE)
bk2$h &lt;- 6.23

#Create the plot
interactive_plot(list(cgr, bk, bercus, bk2), unit_names =
c("hosp1", "hosp1", "hosp1", "hosp2"))

</code></pre>


</div>