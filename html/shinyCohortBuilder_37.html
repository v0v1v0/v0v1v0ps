<div class="container">

<table style="width: 100%;"><tr>
<td>cb_ui</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Include filtering panel in Shiny</h2>

<h3>Description</h3>

<p>The function returns filtering panel placeholder, you may use in you custom Shiny application.
Use in the UI part of your application.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cb_ui(
  id,
  ...,
  state = FALSE,
  steps = TRUE,
  code = TRUE,
  attrition = TRUE,
  new_step = c("clone", "configure")
)

cb_server(
  id,
  cohort,
  run_button = "none",
  stats = c("pre", "post"),
  feedback = FALSE,
  enable_bookmarking = shiny::getShinyOption("bookmarkStore", default = "disable"),
  show_help = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>Id of the module used to render the panel.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra attributes passed to the panel div container.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>state</code></td>
<td>
<p>Set to TRUE (default) to enable get/set state panel.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>steps</code></td>
<td>
<p>Set to TRUE (default) if multiple steps should be available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code</code></td>
<td>
<p>Set to TRUE (default) to enable reproducible code panel.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attrition</code></td>
<td>
<p>Set to TRUE (default) to enable attrition plot panel.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_step</code></td>
<td>
<p>Choose which add step method should be used for creating new step.
Possible options are: "clone" - copy filters from last step,
"configure" - opening modal and allow to chose filters from available filters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cohort</code></td>
<td>
<p>Cohort object storing filtering steps configuration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>run_button</code></td>
<td>
<p>Should Run button be displayed? If so, the current step computations are run only when clicked.
Three options are available "none" - no button, "local" - button displayed at each step panel,
"global" - button visible in top filtering panel.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stats</code></td>
<td>
<p>Choose which statistics should be displayed for data (and some filters).
Possible options are: "pre" - previous step stat, "post" - current step stats,
'c("pre", "post")' - for both and NULL for no stats.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feedback</code></td>
<td>
<p>Set to TRUE (default) if feedback plots should be displayed at each filter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enable_bookmarking</code></td>
<td>
<p>Set to TRUE (default) if panel should be compatible with native shiny bookmarking.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_help</code></td>
<td>
<p>Set to TRUE (default) to enable help buttons.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Nested list of 'shiny.tag' objects - html structure of filtering panel module.
</p>
<p>'shiny::moduleServer' output providing server logic for filtering panel module.
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (interactive()) {
  library(cohortBuilder)
  library(shiny)
  library(shinyCohortBuilder)

  librarian_source &lt;- set_source(as.tblist(librarian))
  librarian_cohort &lt;- cohort(
    librarian_source,
    filter(
      "discrete", id = "author", dataset = "books",
      variable = "author", value = "Dan Brown",
      active = FALSE
    ),
    filter(
      "range", id = "copies", dataset = "books",
      variable = "copies", range = c(5, 10),
      active = FALSE
    ),
    filter(
      "date_range", id = "registered", dataset = "borrowers",
      variable = "registered", range = c(as.Date("2010-01-01"), Inf),
      active = FALSE
    )
  )

  ui &lt;- fluidPage(
    sidebarLayout(
      sidebarPanel(
        cb_ui("librarian")
      ),
      mainPanel()
    )
  )

  server &lt;- function(input, output, session) {
    cb_server("librarian", librarian_cohort)
  }

  shinyApp(ui, server)
}

</code></pre>


</div>