<div class="container">

<table style="width: 100%;"><tr>
<td>features</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Retrieves or sets the data slot of a SpectraDataFrame object.</h2>

<h3>Description</h3>

<p>Either retrieves the attributes values from the data slot of a
SpectraDataFrame object, or upgrades a Spectra object to a SpectraDataFrame
object by initialising its data slot by a suitable <code>"data.frame"</code>
object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'SpectraDataFrame'
features(object,exclude_id)
## S4 replacement method for signature 'Spectra'
features(object,safe,exclude_id,key,append) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a <code>Spectra</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude_id</code></td>
<td>
<p>see below</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>see below</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>safe</code></td>
<td>
<p>see below</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>see below</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>see below</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The <code>features</code> methods return a <code>data.frame</code> object, while
the <code>"features&lt;-"</code> methods return a <code>SpectraDataFrame</code> object.
</p>


<h3>Methods</h3>


<p><b>x=Spectra</b>
</p>
<p><code>features(object, safe=TRUE, key=NULL, exclude_id=TRUE) &lt;- value</code>
</p>

<table>
<tr>
<td style="text-align: right;"> 

</td>
<td style="text-align: left;"> <code>object</code> </td>
<td style="text-align: left;"> A <code>Spectra</code> object </td>
</tr>
<tr>
<td style="text-align: right;"> </td>
<td style="text-align: left;">
<code>safe</code> </td>
<td style="text-align: left;"> Logical. If TRUE, data is being added to the object using a
SQL join (using a key field  given by the <code>key</code> option), otherwise it is
assumed the order of the rows is consitent with the order of the rows in
<code>object</code> </td>
</tr>
<tr>
<td style="text-align: right;"> </td>
<td style="text-align: left;"> <code>key</code> </td>
<td style="text-align: left;"> Character, name of the column of the
data.frame storing the ids for the SQL join. Ignored if <code>safe</code> is
<code>FALSE</code>. </td>
</tr>
<tr>
<td style="text-align: right;"> </td>
<td style="text-align: left;"> <code>exclude_id</code> </td>
<td style="text-align: left;"> Logical, if <code>TRUE</code>, ids
used for the SQL join are removed from the data slot after the join.</td>
</tr>
<tr>
<td style="text-align: right;"> 
</td>
</tr>
</table>
<p><b>x=SpectraDataFrame</b>
</p>
<p><code>features(obj, exclude_id=TRUE)</code>
</p>
<p><code>features(obj, safe=TRUE, key=NULL, exclude_id=TRUE, append=TRUE) &lt;-
value</code>
</p>

<table>
<tr>
<td style="text-align: right;"> </td>
<td style="text-align: left;"> <code>object</code> </td>
<td style="text-align: left;"> A <code>SpectraDataFrame</code> object </td>
</tr>
<tr>
<td style="text-align: right;">
</td>
<td style="text-align: left;"> <code>safe</code> </td>
<td style="text-align: left;"> Logical. If TRUE, data is being added to the object
using a SQL join (using a key field given by the <code>key</code> option),
otherwise it is assumed the order of the rows is consitent with the order of
the rows in <code>object</code> </td>
</tr>
<tr>
<td style="text-align: right;"> </td>
<td style="text-align: left;"> <code>key</code> </td>
<td style="text-align: left;"> Character, name of the
column of the data.frame storing the ids for the SQL join. Ignored if
<code>safe</code> is <code>FALSE</code>. </td>
</tr>
<tr>
<td style="text-align: right;"> </td>
<td style="text-align: left;"> <code>exclude_id</code> </td>
<td style="text-align: left;"> Logical. For
the <code>features</code> method, if <code>TRUE</code>, the spectra ids are added to the
<code>data.frame</code> that is returned. For the <code>"features&lt;-"</code> method, If
<code>TRUE</code>, ids used for the SQL join are removed from the data slot after
the join. </td>
</tr>
<tr>
<td style="text-align: right;"> </td>
<td style="text-align: left;"> <code>append</code> </td>
<td style="text-align: left;"> Logical, if <code>TRUE</code>, the data is
appended to any existing data. if FALSE, the data provided is erasing any
existing data. </td>
</tr>
<tr>
<td style="text-align: right;"> </td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Pierre Roudier <a href="mailto:pierre.roudier@gmail.com">pierre.roudier@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code>spectra</code>, <code>wl</code>,
<code>SpectraDataFrame-class</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Loading example data
data(oz)
spectra(oz) &lt;- sr_no ~ ... ~ 350:2500

# Printing available data
features(oz)

# Promoting a Spectra to a SpectraDataFrame object
s &lt;- as(oz, "Spectra")

# Generating dummy data
d &lt;- data.frame(
  id = ids(oz), 
  foo = runif(nrow(oz)), 
  bar = sample(LETTERS[1:5], size = nrow(oz), replace = TRUE)
)
head(d)

# Affecting data to Spectra object
features(s) &lt;- d
features(s)

# Adding data to an existing SpectraDataFrame object

features(oz) &lt;- d
features(oz)

</code></pre>


</div>