<div class="container">

<table style="width: 100%;"><tr>
<td>correlation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Correlation matrices.</h2>

<h3>Description</h3>

<p>Compute the correlation matrix between two variables, or more (between all
columns of a matrix or data frame).
</p>


<h3>Usage</h3>

<pre><code class="language-R">correlation(x, ...)

Correlation(x, ...)

## S3 method for class 'formula'
correlation(formula, data = NULL, subset, na.action, ...)

## Default S3 method:
correlation(x, y = NULL, use = "everything",
  method = c("pearson", "kendall", "spearman"), ...)

is.Correlation(x)

is.correlation(x)

as.Correlation(x)

as.correlation(x)

## S3 method for class 'Correlation'
print(x, digits = 3, cutoff = 0, ...)

## S3 method for class 'Correlation'
summary(object, cutpoints = c(0.3, 0.6, 0.8, 0.9, 0.95),
  symbols = c(" ", ".", ",", "+", "*", "B"), ...)

## S3 method for class 'summary.Correlation'
print(x, ...)

## S3 method for class 'Correlation'
plot(x, y = NULL, outline = TRUE, cutpoints = c(0.3,
  0.6, 0.8, 0.9, 0.95), palette = rwb.colors, col = NULL, numbers = TRUE,
  digits = 2, type = c("full", "lower", "upper"), diag = (type == "full"),
  cex.lab = par("cex.lab"), cex = 0.75 * par("cex"), ...)

## S3 method for class 'Correlation'
lines(x, choices = 1L:2L, col = par("col"), lty = 2,
  ar.length = 0.1, pos = NULL, cex = par("cex"), labels = rownames(x),
  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector, matrix or data frame (or any object for
<code>is.Correlation()</code>, <code>as.Correlation()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A formula with no response variable, referring only to numeric
variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An optional data frame (or similar: see <code>model.frame()</code>)
containing the variables in the formula <code>formula</code>. By default the variables
are taken from <code>environment(formula)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>An optional vector used to select rows (observations) of the
data matrix <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>A function which indicates what should happen when the data
contain <code>NA</code>s. The default is set by the <code>na.action =</code> setting of <code>options()</code>
and <code>na.fail()</code> is used if that is not set. The 'factory-fresh' default is
<code>na.omit()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p><code>NULL</code> (default), or a vector, matrix or data frame with compatible
dimensions to <code>x</code> for <code>Correlation()</code>. The default is equivalent to <code>x = y</code>,
but more efficient.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use</code></td>
<td>
<p>An optional character string giving a method for computing
correlations in the presence of missing values. This must be (an abbreviation
of) one of the strings <code>"everything"</code>, <code>"all.obs"</code>, <code>"complete.obs"</code>,
<code>"na.or.complete"</code>, or <code>"pairwise.complete.obs"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>A character string indicating which correlation coefficient is
to be computed. One of <code>"pearson"</code> (default), <code>"kendall"</code>, or <code>"spearman"</code>,
can be abbreviated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Digits to print after the decimal separator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff</code></td>
<td>
<p>Correlation coefficients lower than this (in absolute value)
are suppressed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A 'Correlation' object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutpoints</code></td>
<td>
<p>The cut points to use for categories. Specify only positive
values (absolute value of correlation coefficients are summarized, or
negative equivalents are automatically computed for the graph. Do not include
0 or 1 in the cutpoints).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symbols</code></td>
<td>
<p>The symbols to use to summarize the correlation matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outline</code></td>
<td>
<p>Do we draw the outline of the ellipse?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>palette</code></td>
<td>
<p>A function that can produce a palette of colors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>Color of the ellipse. If <code>NULL</code> (default), the colors will be
computed using <code>cutpoints =</code> and <code>palette =</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numbers</code></td>
<td>
<p>Do we print correlation values in the center of the ellipses?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Do we plot a complete matrix, or only lower or upper triangle?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diag</code></td>
<td>
<p>Do we plot items on the diagonal? They have always a correlation
of one.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.lab</code></td>
<td>
<p>The expansion factor for labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex</code></td>
<td>
<p>The expansion factor for text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>choices</code></td>
<td>
<p>The items to select</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>The line type to draw.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ar.length</code></td>
<td>
<p>The length of the arrow head.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pos</code></td>
<td>
<p>The position relative to arrows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>The label to draw nead arrows.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>Correlation()</code> and <code>as.Correlation()`` create a 'Correlation' object, while</code>is.Correlation()â€œ tests for it.
</p>
<p>There are <code>print()</code> and <code>summary()</code> methods for the 'Correlation' object
that differ in the symbolic encoding of the correlations in <code>summary()</code>,
using5 symnum()], which makes large correlation matrices more readable.
</p>
<p>The method <code>plot()</code> returns nothing, but it draws ellipses on a graph that
represent the correlation matrix visually. This is essentially the
<code>plotcorr()</code> function from package <strong>ellipse</strong>, with slightly different
default arguments and with default <code>cutpoints</code> equivalent to those used in
the <code>summary()</code> method.
</p>


<h3>Author(s)</h3>

<p>Philippe Grosjean <a href="mailto:phgrosjean@sciviews.org">phgrosjean@sciviews.org</a>, wrapping code in package
ellipse, function <code>plotcorr()</code> for the <code>plot.Correlation()</code> method.
</p>


<h3>See Also</h3>

<p><code>cov()</code>, <code>cov2cor()</code>, <code>cov.wt()</code>, <code>symnum()</code>, <code>plotcorr()</code> and look
at <code>panel_cor()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># This is a simple correlation coefficient
cor(rnorm(10), runif(10))
Correlation(rnorm(10), runif(10))

# 'Correlation' objects allow better inspection of the correlation matrices
# than the output of default R cor() function
(longley.cor &lt;- Correlation(longley))
summary(longley.cor) # Synthetic view of the correlation matrix
plot(longley.cor)    # Graphical representation

# Use of the formula interface
(mtcars.cor &lt;- Correlation(~ mpg + cyl + disp + hp, data = mtcars,
  method = "spearman", na.action = "na.omit"))

mtcars.cor2 &lt;- Correlation(mtcars, method = "spearman")
print(mtcars.cor2, cutoff = 0.6)
summary(mtcars.cor2)
plot(mtcars.cor2, type = "lower")

mtcars.cor2["mpg", "cyl"] # Extract a correlation from the correlation matrix
</code></pre>


</div>