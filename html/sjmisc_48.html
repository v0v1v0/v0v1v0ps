<div class="container">

<table style="width: 100%;"><tr>
<td>merge_imputations</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Merges multiple imputed data frames into a single data frame</h2>

<h3>Description</h3>

<p>This function merges multiple imputed data frames from
<code>mice::mids()</code>-objects into a single data frame
by computing the mean or selecting the most likely imputed value.
</p>


<h3>Usage</h3>

<pre><code class="language-R">merge_imputations(
  dat,
  imp,
  ori = NULL,
  summary = c("none", "dens", "hist", "sd"),
  filter = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>The data frame that was imputed and used as argument in the
<code>mice</code>-function call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>imp</code></td>
<td>
<p>The <code>mice::mids()</code>-object with the imputed data frames
from <code>dat</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ori</code></td>
<td>
<p>Optional, if <code>ori</code> is specified, the imputed variables are
appended to this data frame; else, a new data frame with the imputed
variables is returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary</code></td>
<td>
<p>After merging multiple imputed data, <code>summary</code> displays
a graphical summary of the "quality" of the merged values, compared
to the original imputed values.
</p>

<dl>
<dt><code>"dens"</code></dt>
<dd>
<p>Creates a density plot, which shows the distribution of the mean
of the imputed values for each variable at each observation. The
larger the areas overlap, the better is the fit of the merged
value compared to the imputed value.
</p>
</dd>
<dt><code>"hist"</code></dt>
<dd>
<p>Similar to <code>summary = "dens"</code>, however, mean and merged
values are shown as histogram. Bins should have almost equal
height for both groups (mean and merged).
</p>
</dd>
<dt><code>"sd"</code></dt>
<dd>
<p>Creates a dot plot, where data points indicate the standard
deviation for all imputed values (y-axis) at each merged
value (x-axis) for all imputed variables. The higher the
standard deviation, the less precise is the imputation, and
hence the merged value.
</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter</code></td>
<td>
<p>A character vector with variable names that should be plotted.
All non-defined variables will not be shown in the plot.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This method merges multiple imputations of variables into a single
variable by computing the (rounded) mean of all imputed values
of missing values. By this, each missing value is replaced by
those values that have been imputed the most times.
<br><br><code>imp</code> must be a <code>mids</code>-object, which is returned by the
<code>mice()</code>-function of the <span class="pkg">mice</span>-package. <code>merge_imputations()</code>
than creates a data frame for each imputed variable, by combining all
imputations (as returned by the <code>complete</code>-function)
of each variable, and computing the row means of this data frame.
The mean value is then rounded for integer values (and not for numerical
values with fractional part), which corresponds to the most frequent
imputed value (mode) for a missing value. Missings in the original variable
are replaced by the most frequent imputed value.
</p>


<h3>Value</h3>

<p>A data frame with (merged) imputed variables; or <code>ori</code> with
appended imputed variables, if <code>ori</code> was specified.
If <code>summary</code> is included, returns a list with the data frame
<code>data</code> with (merged) imputed variables and some other summary
information, including the <code>plot</code> as ggplot-object.
</p>


<h3>Note</h3>

<p>Typically, further analyses are conducted on pooled results of multiple
imputed data sets (see <code>pool</code>), however, sometimes
(in social sciences) it is also feasible to compute the mean or mode
of multiple imputed variables (see <cite>Burns et al. 2011</cite>).
</p>


<h3>References</h3>

<p>Burns RA, Butterworth P, Kiely KM, Bielak AAM, Luszcz MA, Mitchell P, et al. 2011. Multiple imputation was an efficient method for harmonizing the Mini-Mental State Examination with missing item-level data. Journal of Clinical Epidemiology;64:787-93 <a href="https://doi.org/10.1016/j.jclinepi.2010.10.011">doi:10.1016/j.jclinepi.2010.10.011</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (require("mice")) {
  imp &lt;- mice(nhanes)

  # return data frame with imputed variables
  merge_imputations(nhanes, imp)

  # append imputed variables to original data frame
  merge_imputations(nhanes, imp, nhanes)

  # show summary of quality of merging imputations
  merge_imputations(nhanes, imp, summary = "dens", filter = c("chl", "hyp"))
}
</code></pre>


</div>