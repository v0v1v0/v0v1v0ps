<div class="container">

<table style="width: 100%;"><tr>
<td>sbo_predictions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Stupid Back-off text predictions</h2>

<h3>Description</h3>

<p>Train a text predictor via Stupid Back-off
</p>


<h3>Usage</h3>

<pre><code class="language-R">sbo_predictor(object, ...)

predictor(object, ...)

## S3 method for class 'character'
sbo_predictor(
  object,
  N,
  dict,
  .preprocess = identity,
  EOS = "",
  lambda = 0.4,
  L = 3L,
  filtered = "&lt;UNK&gt;",
  ...
)

## S3 method for class 'sbo_kgram_freqs'
sbo_predictor(object, lambda = 0.4, L = 3L, filtered = "&lt;UNK&gt;", ...)

## S3 method for class 'sbo_predtable'
sbo_predictor(object, ...)

sbo_predtable(object, lambda = 0.4, L = 3L, filtered = "&lt;UNK&gt;", ...)

predtable(object, lambda = 0.4, L = 3L, filtered = "&lt;UNK&gt;", ...)

## S3 method for class 'character'
sbo_predtable(
  object,
  lambda = 0.4,
  L = 3L,
  filtered = "&lt;UNK&gt;",
  N,
  dict,
  .preprocess = identity,
  EOS = "",
  ...
)

## S3 method for class 'sbo_kgram_freqs'
sbo_predtable(object, lambda = 0.4, L = 3L, filtered = "&lt;UNK&gt;", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>either a character vector or an object inheriting from classes
<code>sbo_kgram_freqs</code> or <code>sbo_predtable</code>. Defines the method to use for
training.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>a length one integer. Order 'N' of the N-gram model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dict</code></td>
<td>
<p>a <code>sbo_dictionary</code>, a character vector or a formula. For
more details see <code>kgram_freqs</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.preprocess</code></td>
<td>
<p>a function for corpus preprocessing. For
more details see <code>kgram_freqs</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>EOS</code></td>
<td>
<p>a length one character vector. String listing End-Of-Sentence
characters. For more details see <code>kgram_freqs</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>a length one numeric. Penalization in the
Stupid Back-off algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L</code></td>
<td>
<p>a length one integer. Maximum number of next-word predictions
for a given input (top scoring predictions are retained).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filtered</code></td>
<td>
<p>a character vector. Words to exclude from next-word
predictions. The strings '&lt;UNK&gt;' and '&lt;EOS&gt;' are reserved keywords
referring to the Unknown-Word and End-Of-Sentence tokens, respectively.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions are generics used to train a text predictor
with Stupid Back-Off. The functions <code>predictor()</code> and
<code>predtable()</code> are aliases for <code>sbo_predictor()</code> and
<code>sbo_predtable()</code>, respectively.
</p>
<p>The <code>sbo_predictor</code> data structure carries
all information
required for prediction in a compact and efficient (upon retrieval) way,
by directly storing the top <code>L</code> next-word predictions for each
k-gram prefix observed in the training corpus.
</p>
<p>The <code>sbo_predictor</code> objects are for interactive use. If the training
process is computationally heavy, one can store a "raw" version of the
text predictor in a <code>sbo_predtable</code> class object, which can be safely
saved out of memory (with e.g. <code>save()</code>).
The resulting object can be restored
in another R session, and the corresponding <code>sbo_predictor</code> object
can be loaded rapidly using again the generic constructor
<code>sbo_predictor()</code> (see example below).
</p>
<p>The returned objects are a <code>sbo_predictor</code> and a <code>sbo_predtable</code>
objects.
The latter contains Stupid Back-Off prediction tables, storing next-word
prediction for each k-gram prefix observed in the text, whereas the former
is an external pointer to an equivalent (but processed) C++ structure.
</p>
<p>Both objects have the following attributes:
</p>

<ul>
<li> <p><code>N</code>: The order of the underlying N-gram model, "<code>N</code>".
</p>
</li>
<li> <p><code>dict</code>: The model dictionary.
</p>
</li>
<li> <p><code>lambda</code>: The penalization used in the Stupid Back-Off algorithm.
</p>
</li>
<li> <p><code>L</code>: The maximum number of next-word predictions for a given text
input.
</p>
</li>
<li> <p><code>.preprocess</code>: The function used for text preprocessing.
</p>
</li>
<li> <p><code>EOS</code>: A length one character vector listing all (single character)
end-of-sentence tokens.
</p>
</li>
</ul>
<h3>Value</h3>

<p>A <code>sbo_predictor</code> object for <code>sbo_predictor()</code>, a
<code>sbo_predtable</code> object for <code>sbo_predtable()</code>.
</p>


<h3>Author(s)</h3>

<p>Valerio Gherardi
</p>


<h3>See Also</h3>

<p><code>predict.sbo_predictor</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Train a text predictor directly from corpus
p &lt;- sbo_predictor(twitter_train, N = 3, dict = max_size ~ 1000,
                   .preprocess = preprocess, EOS = ".?!:;")


# Train a text predictor from previously computed 'kgram_freqs' object
p &lt;- sbo_predictor(twitter_freqs)


# Load a text predictor from a Stupid Back-Off prediction table
p &lt;- sbo_predictor(twitter_predtable)


# Predict from Stupid Back-Off text predictor
p &lt;- sbo_predictor(twitter_predtable)
predict(p, "i love")


# Build Stupid Back-Off prediction tables directly from corpus
t &lt;- sbo_predtable(twitter_train, N = 3, dict = max_size ~ 1000, 
                   .preprocess = preprocess, EOS = ".?!:;")


# Build Stupid Back-Off prediction tables from kgram_freqs object
t &lt;- sbo_predtable(twitter_freqs)

## Not run: 
# Save and reload a 'sbo_predtable' object with base::save()
save(t)
load("t.rda")

## End(Not run)
</code></pre>


</div>