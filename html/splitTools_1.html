<div class="container">

<table style="width: 100%;"><tr>
<td>create_folds</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create Folds</h2>

<h3>Description</h3>

<p>This function provides a list of row indices used for k-fold cross-validation
(basic, stratified, grouped, or blocked). Repeated fold creation is supported as well.
By default, in-sample indices are returned.
</p>


<h3>Usage</h3>

<pre><code class="language-R">create_folds(
  y,
  k = 5L,
  type = c("stratified", "basic", "grouped", "blocked"),
  n_bins = 10L,
  m_rep = 1L,
  use_names = TRUE,
  invert = FALSE,
  shuffle = FALSE,
  seed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Either the variable used for "stratification" or "grouped" splits.
For other types of splits, any vector of the same length as the data
intended to split.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Number of folds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Split type. One of "stratified" (default), "basic", "grouped", "blocked".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_bins</code></td>
<td>
<p>Approximate numbers of bins for numeric <code>y</code>
(only for <code>type = "stratified"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m_rep</code></td>
<td>
<p>How many times should the data be split into k folds?
Default is 1, i.e., no repetitions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_names</code></td>
<td>
<p>Should folds be named? Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>invert</code></td>
<td>
<p>Set to <code>TRUE</code> in order to receive out-of-sample indices.
Default is <code>FALSE</code>, i.e., in-sample indices are returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shuffle</code></td>
<td>
<p>Should row indices be randomly shuffled within folds?
Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Integer random seed.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By default, the function uses stratified splitting. This will balance the folds
regarding the distribution of the input vector <code>y</code>.
(Numeric input is first binned into <code>n_bins</code> quantile groups.)
If <code>type = "grouped"</code>, groups specified by <code>y</code> are kept together
when splitting. This is relevant for clustered or panel data.
In contrast to basic splitting, <code>type = "blocked"</code> does not sample
indices at random, but rather keeps them in sequential groups.
</p>


<h3>Value</h3>

<p>If <code>invert = FALSE</code> (the default), a list with in-sample row indices.
If <code>invert = TRUE</code>, a list with out-of-sample indices.
</p>


<h3>See Also</h3>

<p><code>partition()</code>, <code>create_timefolds()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">y &lt;- rep(c(letters[1:4]), each = 5)
create_folds(y)
create_folds(y, k = 2)
create_folds(y, k = 2, m_rep = 2)
create_folds(y, k = 3, type = "blocked")
</code></pre>


</div>