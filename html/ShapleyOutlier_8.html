<div class="container">

<table style="width: 100%;"><tr>
<td>plot.shapley_algorithm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Barplot and tileplot of Shapley values.</h2>

<h3>Description</h3>

<p>Barplot and tileplot of Shapley values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'shapley_algorithm'
plot(
  x,
  type = "both",
  subset = NULL,
  abbrev.var = FALSE,
  abbrev.obs = FALSE,
  sort.var = FALSE,
  sort.obs = FALSE,
  n_digits = 2,
  rotate_x = TRUE,
  continuous_rowname = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A list of class <code>shapley_algorithm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Either <code>"both"</code> (default), <code>"bar"</code>, or <code>"cell"</code>. If <code>"both"</code> (default) a barplot and a tileplot are created, otherwise only the selected plot is created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>Either an integer, <code>"chi2"</code>, or <code>NULL</code> (default) to select which rows of <code>phi</code> should be displayed.
If <code>NULL</code>, all <code class="reqn">n</code> rows are displayed,
for a single integer the <code>subset</code> rows with the highest Mahalanobis distance are displayed,
for an integer vector the <code>subset</code> selected rows are displayed,
and for <code>"chi2"</code> all outlying rows are displayed (Mahalanobis distance greater than <code class="reqn">\sqrt{}</code><code>qchisq(chi2.q,p)</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abbrev.var</code></td>
<td>
<p>Integer. If <code>abbrev.var</code> <code class="reqn">&gt; 0</code>, column names are abbreviated using abbreviate with <code>minlenght = abrev.var</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abbrev.obs</code></td>
<td>
<p>Integer. If <code>abbrev.obs</code> <code class="reqn">&gt; 0</code>, row names are abbreviated using abbreviate with <code>minlenght = abrev.obs</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort.var</code></td>
<td>
<p>Logical. If <code>TRUE</code> (default), variables are sorted according to the  distance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort.obs</code></td>
<td>
<p>Logical. If <code>TRUE</code> (default), observations are sorted according to their Mahalanobis distance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_digits</code></td>
<td>
<p>Integer. If <code>n_digits</code><code class="reqn"> &gt; 0</code>, the original values of the variables are given in each cell with <code>n_digits</code> decimals places.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rotate_x</code></td>
<td>
<p>Logical. If <code>TRUE</code> (default), the x-axis labels are rotated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>continuous_rowname</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the rownames are converted to a numeric vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed on to <code>plot.shapley</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns plots for a list of class <code>shapley_algorithm</code>.
If <code>type</code> is <code>"bar"</code>, a barplot is generated. It displays the Shapley values (<code>shapley</code>)
for each observation and optionally (<code>plot_md = TRUE</code>) includes the squared Mahalanobis distance (black bar)
and the corresponding (non-)central chi-square quantile (dotted line).
If <code>type</code> is <code>"cell"</code> a tileplot is generated. It displays each cells of the dataset and shows the original value from the observations,
color coding indicates whether those values were higher (red) or lower (blue) than the imputed values,
and the color intensity is based on the magnitude of the Shapley value.
If <code>type</code> is <code>"both"</code>, the barplot and the tileplot are generated.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(MASS)
set.seed(1)
n &lt;- 100; p &lt;- 10
mu &lt;- rep(0,p)
Sigma &lt;- matrix(0.9, p, p); diag(Sigma) = 1
X &lt;- mvrnorm(n, mu, Sigma)
X[sample(1:(n*p), 100, FALSE)] &lt;- rep(c(-5,5),50)
MOE_X &lt;- MOE(X, mu, Sigma)
plot(MOE_X, subset = 20, n_digits = 0)
</code></pre>


</div>