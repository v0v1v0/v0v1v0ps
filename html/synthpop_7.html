<div class="container">

<table style="width: 100%;"><tr>
<td>compare.synds</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Compare univariate distributions of synthesised and observed data
</h2>

<h3>Description</h3>

<p>Compare synthesised data set with the original (observed) data set
using percent frequency tables and histograms. When more than one
synthetic data set has been generated (<code>object$m &gt; 1</code>), by 
default pooled synthetic data are used for comparison.
</p>
<p>This function can be also used with synthetic data NOT created by
<code>syn()</code>, but then an additional parameter <code>cont.na</code> might
need to be provided.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'synds'
compare(object, data, vars = NULL,
        msel = NULL, stat = "percents", breaks = 20,
        nrow = 2, ncol = 2, rel.size.x = 1,
        utility.stats = c("pMSE", "S_pMSE", "df"),
        utility.for.plot = "S_pMSE",
        cols = c("#1A3C5A","#4187BF"),
        plot = TRUE, table = FALSE, ...)

## S3 method for class 'data.frame'
compare(object, data, vars = NULL, cont.na = NULL,
        msel = NULL, stat = "percents", breaks = 20,
        nrow = 2, ncol = 2, rel.size.x = 1,
        utility.stats = c("pMSE", "S_pMSE", "df"),
        utility.for.plot = "S_pMSE",
        cols = c("#1A3C5A","#4187BF"),
        plot = TRUE, table = FALSE, ...)

## S3 method for class 'list'
compare(object, data, vars = NULL, cont.na = NULL,
        msel = NULL, stat = "percents", breaks = 20,
        nrow = 2, ncol = 2, rel.size.x = 1,
        utility.stats = c("pMSE", "S_pMSE", "df"),
        utility.for.plot = "S_pMSE",
        cols = c("#1A3C5A","#4187BF"),
        plot = TRUE, table = FALSE, ...)

## S3 method for class 'compare.synds'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object of class <code>synds</code>, which stands for 'synthesised
data set'. It is typically created by function <code>syn()</code> and it includes
<code>object$m</code> synthesised data set(s) as <code>object$syn</code>. Alternatively,
when data are synthesised not using <code>syn()</code>, it can be a data frame
with a synthetic data set or a list of data frames with synthetic data sets,
all created from the same original data with the same variables and the same
method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>an original (observed) data set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>variables to be compared. If <code>vars</code> is <code>NULL</code>
(the default) all synthesised variables are compared.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cont.na</code></td>
<td>
<p>a named list of codes for missing values for continuous
variables if different from the <code>R</code> missing data code <code>NA</code>.
The names of the list elements must correspond to the variables names for
which the missing data codes need to be specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>msel</code></td>
<td>
<p>index or indices of synthetic data copies for which a comparison
is to be made. If <code>NULL</code> pooled synthetic data copies are compared
with the original data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stat</code></td>
<td>
<p>determines whether tables and plots present percentages
<code>stat = "percents"</code>, the default, or counts <code>stat = "counts"</code>.
If <code>m &gt; 1</code> and <code>msel = NULL</code> average counts for synthetic data
are derived.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>the number of cells for the histogram.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrow</code></td>
<td>
<p>the number of rows for the plotting area.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncol</code></td>
<td>
<p>the number of columns for the plotting area.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rel.size.x</code></td>
<td>
<p>a number representing the relative size of x-axis labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>utility.stats</code></td>
<td>
<p>a single string or a vector of strings that determines
which utility measures to print. Must be a selection from:  
<code>"VW"</code>, <code>"FT"</code>,<code>"JSD"</code>, <code>"SPECKS"</code>, <code>"WMabsDD"</code>, 
<code>"U"</code>, <code>"G"</code>, <code>"pMSE"</code>, <code>"PO50"</code>, <code>"MabsDD"</code>, 
<code>"dBhatt"</code>,  <code>"S_VW"</code>, <code>"S_FT"</code>, <code>"S_JSD"</code>, 
<code>"S_WMabsDD"</code>, <code>"S_G"</code>, <code>"S_pMSE"</code>, <code>"df"</code>. 
If <code>utility.stats = "all"</code>, all of these will be printed. For more 
information see the details section for <code>utility.tab</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>utility.for.plot</code></td>
<td>
<p>a single string that determines which utility 
measure to print in facet labels of the plot. Set to <code>NULL</code> to
print variable names only.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>
<p>bar colors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>a logical value with default set to <code>TRUE</code> indicating
whether plots should be produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>table</code></td>
<td>
<p>a logical value with default set to <code>FALSE</code> indicating
whether tables should be printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class <code>compare.synds</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Missing data categories for numeric variables are plotted on the same plot
as non-missing values. They are indicated by <code>miss.</code> suffix.
</p>
<p>Numeric variables with fewer than 6 distinct values are changed to factors
in order to make plots more readable.
</p>


<h3>Value</h3>

<p>An object of class <code>compare.synds</code> which is a list including a list
of comparative frequency tables (<code>tables</code>) and a ggplot object
(<code>plots</code>) with bar charts/histograms. If multiple plots are produced
they and their corresponding frequency tables are stored as a list.
</p>


<h3>References</h3>

<p>Nowok, B., Raab, G.M and Dibben, C. (2016). synthpop: Bespoke
creation of synthetic data in R. <em>Journal of Statistical Software</em>,
<b>74</b>(11), 1-26. <a href="https://doi.org/10.18637/jss.v074.i11">doi:10.18637/jss.v074.i11</a>.
</p>


<h3>See Also</h3>

<p><code>multi.compare</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">ods &lt;- SD2011[ , c("sex", "age", "edu", "marital", "ls", "income")]
s1  &lt;- syn(ods, cont.na = list(income = -8))

### synthetic data provided as a 'synds' object
compare(s1, ods, vars = "ls")
compare(s1, ods, vars = "income", stat = "counts",
        table = TRUE, breaks = 10)

### synthetic data provided as 'data.frame'
compare(s1$syn, ods, vars = "ls")
compare(s1$syn, ods, vars = "income", cont.na = list(income = -8),
        stat = "counts", table = TRUE, breaks = 10)
</code></pre>


</div>