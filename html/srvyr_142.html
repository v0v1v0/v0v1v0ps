<div class="container">

<table style="width: 100%;"><tr>
<td>survey_var</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate the population variance and its variation using survey methods</h2>

<h3>Description</h3>

<p>Calculate population variance from complex survey data. A wrapper
around <code>svyvar</code>. <code>survey_var</code> should always be
called from <code>summarise</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">survey_var(
  x,
  na.rm = FALSE,
  vartype = c("se", "ci", "var"),
  level = 0.95,
  df = NULL,
  ...
)

survey_sd(x, na.rm = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A variable or expression, or empty</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>A logical value to indicate whether missing values should be dropped</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vartype</code></td>
<td>
<p>Report variability as one or more of: standard error ("se", default)
or variance ("var") (confidence intervals and coefficient
of variation not available).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>(For vartype = "ci" only) A single number or vector of numbers indicating
the confidence level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>(For vartype = "ci" only) A numeric value indicating the degrees of freedom
for t-distribution. The default (Inf) is equivalent to using normal
distribution and in case of population variance statistics there is little
reason to use any other values (see <em>Details</em>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Ignored</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Be aware that confidence intervals for population variance statistic are
computed by package <em>survey</em> using <em>t</em> or normal (with df=Inf)
distribution (i.e. symmetric distributions). <strong>This could be a very poor
approximation</strong> if even one of these conditions is met:
</p>

<ul>
<li>
<p>there are few sampling design degrees of freedom,
</p>
</li>
<li>
<p>analyzed variable isn't normally distributed,
</p>
</li>
<li>
<p>there is huge variation in sampling probabilities of the survey design.
</p>
</li>
</ul>
<p>Because of this be very careful using confidence intervals for population variance
statistics especially while performing analysis within subsets of data or using
grouped survey objects.
</p>
<p>Sampling distribution of the variance statistic in general is asymmetric
(chi-squared in case of simple random sampling of normally distributed variable)
and if analyzed variable isn't normally distributed or there is huge variation in
sampling probabilities of the survey design (or both) it could converge to
normality only very slowly (with growing number of survey design degrees of
freedom).
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(survey)
data(api)

dstrata &lt;- apistrat %&gt;%
  as_survey_design(strata = stype, weights = pw)

dstrata %&gt;%
  summarise(api99_var = survey_var(api99),
            api99_sd = survey_sd(api99))

dstrata %&gt;%
  group_by(awards) %&gt;%
  summarise(api00_var = survey_var(api00),
            api00_sd = survey_sd(api00))

# standard deviation and variance of the population variance estimator
# are available with vartype argument
# (but not for the population standard deviation estimator)
dstrata %&gt;%
  summarise(api99_variance = survey_var(api99, vartype = c("se", "var")))
</code></pre>


</div>