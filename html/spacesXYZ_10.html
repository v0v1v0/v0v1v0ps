<div class="container">

<table style="width: 100%;"><tr>
<td>adaptation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Chromatic Adaptation Transforms (CATs)
</h2>

<h3>Description</h3>

<p>Construct transforms from a source viewing enviroment with a given illuminant,
to a target viewing environment with a different illuminant.
Some standard linear von-Kries-based CAT methods are available.
</p>


<h3>Usage</h3>

<pre><code class="language-R">CAT( source.XYZ, target.XYZ, method="Bradford" )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>source.XYZ</code></td>
<td>

<p>the XYZ of the illuminant in the source viewing environment.
<code>source.XYZ</code> can also be a string with the name of a standard illuminant
as in the function <code>standardXYZ()</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target.XYZ</code></td>
<td>

<p>the XYZ of the illuminant in the target viewing environment.
<code>target.XYZ</code> can also be a string with the name of a standard illuminant
as in the function <code>standardXYZ()</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>

<p>the method used for the chromatic adaptation. Available methods are:
<code>"Bradford"</code>, <code>"VonKries"</code>, <code>"MCAT02"</code>, <code>"Bianco+Schettini"</code>,
and <code>"scaling"</code>;
see <b>References</b>.
Partial matching is enabled, and matching is case-insensitive.
<br><code>method</code> can also be a 3x3 matrix, which is the cone response matrix
used to construct a von-Kries-based CAT.
The matrix must be invertible and map both <code>source.XYZ</code> and <code>target.XYZ</code>
to the positive octant.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>CAT()</code> returns an object with S3 class <b>CAT</b>, which can be passed to 
<code>adaptXYZ()</code>, 
<code>adaptxyY()</code>, 
<code>adaptLab()</code>, or 
<code>adaptLuv()</code>.
</p>
<p>An object with S3 class <b>CAT</b> is a list with the following items:
</p>

<dl>
<dt>method</dt>
<dd>
<p>full name of the adaptation method, as in <b>Arguments</b>.
If argument <code>method</code> is a 3x3 matrix, then this <code>method</code> is <code>NA</code>.</p>
</dd>
<dt>Ma</dt>
<dd>
<p>3x3 <em>cone response matrix</em> <code class="reqn">M_A</code> for the method, as defined in <cite>Lindbloom</cite></p>
</dd>
<dt>source.XYZ</dt>
<dd>
<p>XYZ of the illuminant in the source viewing environment</p>
</dd>
<dt>source.xyY</dt>
<dd>
<p>xyY of the illuminant in the source viewing environment</p>
</dd>
<dt>target.XYZ</dt>
<dd>
<p>XYZ of the illuminant in the target viewing environment</p>
</dd>
<dt>target.xyY</dt>
<dd>
<p>xyY of the illuminant in the target viewing environment</p>
</dd>
<dt>M</dt>
<dd>
<p>3x3 matrix defining the CAT.  
The matrix is written on the left and the source XYZ is
written as a column vector on the right.
This matrix depends continuously on source.XYZ and target.XYZ,
and when these are equal, M is the identity.
Therefore, when source.XYZ and target.XYZ are close, M is close to the identity.
Compare with <cite>Lindbloom</cite>.</p>
</dd>
</dl>
<h3>Note</h3>

<p>Chromatic adaptation can be viewed as an Aristotelian Analogy of Proportions.
For more about this, see the vignette
<a href="../doc/adaptation.html"><b>Chromatic Adaptation</b></a>.
</p>


<h3>References</h3>

<p>Bianco, Simone and Raimondo Schettini.
<b>Two new von Kries based chromatic adaptation transforms found by numerical optimization</b>.
Color Research &amp; Application.
v. 35. i. 3.
Jan 2010.
</p>
<p>Hunt, R. W. G.
<b>The Reproduction of Colour</b>.  6th Edition.
John Wiley &amp; Sons.
2004.
</p>
<p>International Color Consortium.
ICC.1:2001-04.
File Format for Color Profiles.
2001.
</p>
<p>Lindbloom, Bruce.
Chromatic Adaptation.
<a href="http://brucelindbloom.com/Eqn_ChromAdapt.html">http://brucelindbloom.com/Eqn_ChromAdapt.html</a>
</p>
<p>Pascale, Danny.
A Review of RGB Color Spaces ...from xyY to R'G'B'.
<a href="https://babelcolor.com/index_htm_files/A%20review%20of%20RGB%20color%20spaces.pdf">https://babelcolor.com/index_htm_files/A%20review%20of%20RGB%20color%20spaces.pdf</a>
2003.
</p>
<p>Wikipedia.
CIECAM02.
<a href="https://en.wikipedia.org/wiki/CIECAM02">https://en.wikipedia.org/wiki/CIECAM02</a>
</p>


<h3>See Also</h3>

<p><code>standardXYZ()</code>,
<code>adaptXYZ()</code>, 
<code>adaptxyY()</code>, 
<code>adaptLab()</code>, 
<code>adaptLuv()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">D65toC = CAT( 'D65', 'C' )
D65toC

##  $method
##  [1] "Bradford"
##  
##  $Ma
##          X       Y       Z
##  L  0.8951  0.2664 -0.1614
##  M -0.7502  1.7135  0.0367
##  S  0.0389 -0.0685  1.0296
##  
##  $source.XYZ
##            X Y       Z
##  D65 0.95047 1 1.08883
##  
##  $source.xyY
##              x         y Y
##  D65 0.3127266 0.3290231 1
##  
##  $target.XYZ
##          X Y       Z
##  C 0.98074 1 1.18232
##  
##  $target.xyY
##            x         y Y
##  C 0.3100605 0.3161496 1
##  
##  $M
##              X            Y           Z
##  X 1.009778519  0.007041913 0.012797129
##  Y 0.012311347  0.984709398 0.003296232
##  Z 0.003828375 -0.007233061 1.089163878
##  
##  attr(,"class")
##  [1] "CAT"  "list"


adaptXYZ( D65toC, c(1,1,0.5) )
##              X         Y         Z
##  [1,] 1.023219 0.9986689 0.5411773
</code></pre>


</div>