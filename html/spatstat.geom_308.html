<div class="container">

<table style="width: 100%;"><tr>
<td>distmap.owin</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Distance Map of Window</h2>

<h3>Description</h3>

<p>Computes the distance from each pixel to the nearest point
in the given window.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  ## S3 method for class 'owin'
distmap(X, ..., discretise=FALSE, invert=FALSE,
        connect=8, metric=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>

<p>A window (object of class <code>"owin"</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Arguments passed to <code>as.mask</code>
to control pixel resolution.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>discretise</code></td>
<td>

<p>Logical flag controlling the choice of algorithm when <code>X</code> is
a polygonal window. See Details.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>invert</code></td>
<td>

<p>If <code>TRUE</code>, compute the distance transform of the
complement of the window.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>connect</code></td>
<td>

<p>Neighbourhood connectivity for the discrete distance transform
algorithm. Either 8 or 24.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metric</code></td>
<td>

<p>Optional. A distance metric
(object of class <code>"metric"</code>, see <code>metric.object</code>)
which will be used to compute the distances.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The “distance map” of a window <code class="reqn">W</code> is the function
<code class="reqn">f</code> whose value <code>f(u)</code> is defined for any two-dimensional
location <code class="reqn">u</code> as the shortest distance from <code class="reqn">u</code> to <code class="reqn">W</code>.
</p>
<p>This function computes the distance map of the window <code>X</code>
and returns the distance map as a pixel image. The greyscale value
at a pixel <code class="reqn">u</code> equals the distance from <code class="reqn">u</code> to the nearest
pixel in <code>X</code>.
</p>
<p>Additionally, the return value 
has an attribute <code>"bdry"</code> which is 
also a pixel image. The grey values in <code>"bdry"</code> give the
distance from each pixel to the bounding rectangle of the image.
</p>
<p>If <code>X</code> is a binary pixel mask,
the distance values computed are not the
usual Euclidean distances. Instead the distance between two pixels
is measured by the length of the
shortest path connecting the two pixels. A path is a series of steps
between neighbouring pixels (each pixel has 8 neighbours). 
This is the standard ‘distance transform’ algorithm of image
processing (Rosenfeld and Kak, 1968; Borgefors, 1986).
</p>
<p>If <code>X</code> is a polygonal window, then exact Euclidean distances
will be computed if <code>discretise=FALSE</code>. If <code>discretise=TRUE</code>
then the window will first be converted to a binary pixel mask
and the discrete path distances will be computed.
</p>
<p>The arguments <code>...</code> are passed to <code>as.mask</code>
to control the pixel resolution.
</p>
<p>This function is a method for the generic <code>distmap</code>.
</p>


<h3>Value</h3>

<p>A pixel image (object of class <code>"im"</code>) whose greyscale values
are the values of the distance map.
The return value has an attribute <code>"bdry"</code>
which is a pixel image.
</p>


<h3>Author(s)</h3>

<p>Adrian Baddeley <a href="mailto:Adrian.Baddeley@curtin.edu.au">Adrian.Baddeley@curtin.edu.au</a>
</p>
<p>and Rolf Turner <a href="mailto:rolfturner@posteo.net">rolfturner@posteo.net</a>
</p>


<h3>References</h3>

<p>Borgefors, G.
Distance transformations in digital images.
<em>Computer Vision, Graphics and Image Processing</em> <b>34</b>
(1986) 344–371.
</p>
<p>Rosenfeld, A. and Pfalz, J.L.
Distance functions on digital pictures.
<em>Pattern Recognition</em> <b>1</b> (1968) 33-61.
</p>


<h3>See Also</h3>

<p><code>distmap</code>,
<code>distmap.ppp</code>,
<code>distmap.psp</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  U &lt;- distmap(letterR)
  if(interactive()) {
  plot(U)
  plot(attr(U, "bdry"))
  }
</code></pre>


</div>