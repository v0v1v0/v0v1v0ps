<div class="container">

<table style="width: 100%;"><tr>
<td>src_drill</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Connect to Drill (dplyr)</h2>

<h3>Description</h3>

<p>Use <code>src_drill()</code> to connect to a Drill cluster and <code>tbl()</code> to connect to a
fully-qualified "table reference". The vast majority of Drill SQL functions have
also been made available to the <code>dplyr</code> interface. If you have custom Drill
SQL functions that need to be implemented please file an issue on GitHub.
</p>


<h3>Usage</h3>

<pre><code class="language-R">src_drill(
  host = Sys.getenv("DRILL_HOST", "localhost"),
  port = as.integer(Sys.getenv("DRILL_PORT", 8047L)),
  ssl = FALSE,
  username = NULL,
  password = NULL
)

## S3 method for class 'src_drill'
tbl(src, from, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>host</code></td>
<td>
<p>Drill host (will pick up the value from <code>DRILL_HOST</code> env var)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>port</code></td>
<td>
<p>Drill port (will pick up the value from <code>DRILL_PORT</code> env var)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ssl</code></td>
<td>
<p>use ssl?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>username, password</code></td>
<td>
<p>if not <code>NULL</code> the credentials for the Drill service.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>src</code></td>
<td>
<p>A Drill "src" created with <code>src_drill()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>A Drill view or table specification</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra parameters</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>This is a DBI wrapper around the Drill REST API.
</p>


<h3>See Also</h3>

<p>Other Drill REST API (dplyr): 
<code>drill_custom_functions</code>,
<code>src_tbls.src_drill()</code>
</p>
<p>Other Drill REST API (dplyr): 
<code>drill_custom_functions</code>,
<code>src_tbls.src_drill()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">try({
db &lt;- src_drill("localhost", 8047L)

print(db)
## src:  DrillConnection
## tbls: INFORMATION_SCHEMA, cp.default, dfs.default, dfs.root, dfs.tmp, sys

emp &lt;- tbl(db, "cp.`employee.json`")

count(emp, gender, marital_status)
## # Source:   lazy query [?? x 3]
## # Database: DrillConnection
## # Groups:   gender
##   marital_status gender     n
##            &lt;chr&gt;  &lt;chr&gt; &lt;int&gt;
## 1              S      F   297
## 2              M      M   278
## 3              S      M   276

# Drill-specific SQL functions are also available
select(emp, full_name) %&gt;%
  mutate(        loc = strpos(full_name, "a"),
         first_three = substr(full_name, 1L, 3L),
                 len = length(full_name),
                  rx = regexp_replace(full_name, "[aeiouAEIOU]", "*"),
                 rnd = rand(),
                 pos = position("en", full_name),
                 rpd = rpad(full_name, 20L),
                rpdw = rpad_with(full_name, 20L, "*"))
## # Source:   lazy query [?? x 9]
## # Database: DrillConnection
##      loc         full_name   len                 rpdw   pos                rx
##    &lt;int&gt;             &lt;chr&gt; &lt;int&gt;                &lt;chr&gt; &lt;int&gt;             &lt;chr&gt;
##  1     0      Sheri Nowmer    12 Sheri Nowmer********     0      Sh*r* N*wm*r
##  2     0   Derrick Whelply    15 Derrick Whelply*****     0   D*rr*ck Wh*lply
##  3     5    Michael Spence    14 Michael Spence******    11    M*ch**l Sp*nc*
##  4     2    Maya Gutierrez    14 Maya Gutierrez******     0    M*y* G*t**rr*z
##  5     7   Roberta Damstra    15 Roberta Damstra*****     0   R*b*rt* D*mstr*
##  6     7  Rebecca Kanagaki    16 Rebecca Kanagaki****     0  R*b*cc* K*n*g*k*
##  7     0       Kim Brunner    11 Kim Brunner*********     0       K*m Br*nn*r
##  8     6   Brenda Blumberg    15 Brenda Blumberg*****     3   Br*nd* Bl*mb*rg
##  9     2      Darren Stanz    12 Darren Stanz********     5      D*rr*n St*nz
## 10     4 Jonathan Murraiin    17 Jonathan Murraiin***     0 J*n*th*n M*rr***n
## # ... with more rows, and 3 more variables: rpd &lt;chr&gt;, rnd &lt;dbl&gt;, first_three &lt;chr&gt;
}, silent=TRUE)
</code></pre>


</div>