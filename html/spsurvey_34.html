<div class="container">

<table style="width: 100%;"><tr>
<td>ppd_plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot power curves for panel designs</h2>

<h3>Description</h3>

<p>Plot power curves and relative power curves for trend detection for set of
panel designs, time periods, indicators, significance levels and trend.  Trend
may be based on percent change per period in mean or percent change in
proportion of cumulative distribution function above or below a fixed cut
point. Types of plots are combinations of standard/relative, mean/percent,
period/change and design/indicator.  Input must be be of class
powerpaneldesign and is normally the output of function power_dsgn.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ppd_plot(
  object,
  plot_type = "standard",
  trend_type = "mean",
  xaxis_type = "period",
  comp_type = "design",
  dsgns = NULL,
  indicator = NULL,
  trend = NULL,
  period = NULL,
  alpha = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>List object of class <code>powerpaneldesign</code>. Object provides
power calculated for a set of panel designs, set of indicators, set of
trend values, and set of alpha values. Expect input as list as output from
function <code>power_dsgn</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_type</code></td>
<td>
<p>Default is <code>"standard"</code> which plots standard power curve. If
equal to <code>"relative"</code>, then plot power of one panel design compared to one or
more other panel designs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trend_type</code></td>
<td>
<p>Character value for trend in mean (<code>"mean"</code>) or or percent
change in proportion (<code>"percent"</code>) of cumulative distribution function above
or below a fixed cut point.  Default is <code>"mean"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xaxis_type</code></td>
<td>
<p>Character value equal to <code>"period"</code> or <code>"change"</code> which
designates the type of x-axis for power plot where power is plotted on
y-axis.  For <code>xaxis_type = "period"</code>, x-axis is periods in <code>dsgnpower</code>. If
<code>xaxis_type = "change"</code>, then x-axis is percent per period with secondary
x-axes for total percent per period and associated change in mean.
Default is <code>"period"</code>.  Note that <code>xaxis_type</code> controls how the input for
<code>"period"</code> and <code>"trend"</code> parameters is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comp_type</code></td>
<td>
<p>Character value equal to <code>"design"</code> or <code>"indicator"</code> which
designates the type of power curve comparison that will occur on a single
plot.  If <code>comp_type = "design"</code>, then on a single plot of power curves all
panel designs specified in <code>"dsgns"</code> are plotted for a single indicator,
single trend value and single alpha.  If <code>comp_type = "indicator"</code>, then on a
single plot of power curves all indicators specified in <code>"indicator"</code> are
plotted for a single panel design, single trend value and single alpha.
Default is <code>"design"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dsgns</code></td>
<td>
<p>Vector of names of panel designs that are to be plotted.  Names
must be all, or a subset of, names of designs in <code>dsgnpower</code>. Default is <code>NULL</code>
which results in only the first panel design in <code>dsgnpower</code> being used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indicator</code></td>
<td>
<p>Vector of indicator names contained in <code>dsgnpower</code> that are
to be plotted.  Indicator names must be all, or a subset of, indicator
names in <code>dsgnpower</code>. Default is <code>NULL</code> which results in only the first
indicator in <code>dsgnpower</code> being used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trend</code></td>
<td>
<p><code>NULL</code>. A single value or vector of values contained in <code>dsgnpower</code>
that will be plotted. Values must be all, or a subset of, trend values in
<code>dsgnpower</code>. If <code>xaxis_type</code> is equal to <code>"period"</code>, then <code>NULL</code> results in maximum
trend value being used and a single value or vector of values results in a
separate plot for each value specified.  If <code>xaxis_type</code> is equal to
<code>"change"</code>, then <code>NULL</code> results in all trend values in <code>dsgnpower</code> being plotted
on x-axis and a vector of values results in all trend values in <code>dsgnpower</code>
from minimum value to maximum value specified being plotted on x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>period</code></td>
<td>
<p><code>NULL</code>, a single value or vector of values contained in <code>dsgnpower</code>
that will be plotted. Values must be all, or a subset of, period values in
<code>dsgnpower</code>. If <code>xaxis_type</code> is equal to <code>"period"</code>, then <code>NULL</code> results in all
time periods in <code>dsgnpower</code> being plotted on x-axis and a vector of values
results in all period values in <code>dsgnpower</code> from minimum value to maximum
value specified being plotted on x-axis. If <code>xaxis_type</code> is equal to
<code>"change"</code>, then <code>NULL</code> results in all time periods in <code>dsgnpower</code> being plotted
in separate plots and a vector of values results in time periods specified
being plotted in separate plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>A single value or vector of significance levels (as proportion,
e.g. <code>0.05</code>) contained in <code>dsgnpower</code> to used for power plots. Specifying more
than a single value results in multiple plots. Default is <code>NULL</code> which
results in the minimum significance level in <code>dsgnpower</code> being used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments (S3 consistency)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By default the plot function produces a standard power curve at end
of each time period on the x-axis with y-axis as power. When more than one
panel design is in <code>dsgnpower</code>, the first panel design is used. When more than
one indicator is in <code>dsgnpower</code>, the first indicator is used.  When more than
one trend value is in <code>dsgnpower</code>, the maximum trend value is used. When more
than one significance level, <code>alpha</code>, is in <code>dsgnpower</code>, the minimum
significance level is used.
</p>
<p>Control of the type of plot produced is governed by <code>plot_type</code>, <code>trend_type</code>,
<code>xaxis_type</code> and <code>comp_type</code>. The number of plots produced is governed by the
number of panel designs (<code>dsgn</code>) specified, the number of indicators
(<code>indicator</code>) specified, the number of time periods (<code>period</code>) specifies, the
number of trend values (trend) specified and the number of significance
levels (<code>alpha</code>) specified.
</p>
<p>When the comparison type (<code>"comp_type"</code>) is equal to <code>"design"</code>, all power
curves specified by dsgn are plotted on the same plot.  When <code>comp_type</code> is
equal to <code>"indicator"</code>, all power curves specified by <code>"indicator"</code> are plotted
on the same plot.  Typically, no more than 4-5 power curves should be
plotted on same plot.
</p>


<h3>Value</h3>

<p>One or more power curve plots are created and plotted.  User must
specify output graphical device if more than one plot is created.  See
Devices for graphical output options.
</p>


<h3>Author(s)</h3>

<p>Tony Olsen <a href="mailto:Olsen.Tony@epa.gov">Olsen.Tony@epa.gov</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Construct a rotating panel design with sample size of 60
R60N &lt;- revisit_dsgn(20, panels = list(R60N = list(
  n = 60, pnl_dsgn = c(1, NA),
  pnl_n = NA, start_option = "None"
)), begin = 1)

# Construct a fixed panel design with sample size of 60
F60 &lt;- revisit_dsgn(20, panels = list(F60 = list(
  n = 60, pnl_dsgn = c(1, 0),
  pnl_n = NA, start_option = "None"
)), begin = 1)

# Power for rotating panel with sample size 60
Power_tst &lt;- power_dsgn("Variable_Name",
  ind_values = 43, unit_var = 280,
  period_var = 4, unitperiod_var = 40, index_var = 90,
  unit_rho = 1, period_rho = 0, paneldsgn = list(
    R60N = R60N, F60 = F60
  ), nrepeats = NULL,
  trend_type = "mean", trend = c(1.0, 2.0), alpha = 0.05
)
ppd_plot(Power_tst)
ppd_plot(Power_tst, dsgns = c("F60", "R60N"))
ppd_plot(Power_tst, dsgns = c("F60", "R60N"), trend = 1.0)
ppd_plot(Power_tst,
  plot_type = "relative", comp_type = "design",
  trend_type = "mean", trend = c(1, 2), dsgns = c("R60N", "F60"),
  indicator = "Variable_Name"
)

## End(Not run)
</code></pre>


</div>