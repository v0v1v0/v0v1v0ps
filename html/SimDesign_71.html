<div class="container">

<table style="width: 100%;"><tr>
<td>SimExtract</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to extract extra information from SimDesign objects</h2>

<h3>Description</h3>

<p>Function used to extract any error or warnings messages, the seeds associated
with any error or warning messages, and any analysis results that were stored in the
final simulation object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">SimExtract(object, what, fuzzy = TRUE, append = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>object returned from <code>runSimulation</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>what</code></td>
<td>
<p>character indicating what information to extract. Possible inputs
include <code>'errors'</code> to return a <code>tibble</code> object containing counts of any
error messages, <code>'warnings'</code> to return a <code>data.frame</code> object containing
counts of any warning messages, <code>'seeds'</code>  for the specified random number
generation seeds,  <code>'Random.seeds'</code> for the complete list of
<code>.Random.seed</code> states across replications (only stored when
<code>runSimulation(..., control = list(store_Random.seeds=TRUE))</code>),
<code>'error_seeds'</code> and <code>'warning_seeds'</code>
to extract the associated <code>.Random.seed</code> values associated with the ERROR/WARNING messages,
<code>'results'</code> to extract the simulation results if the option <code>store_results</code> was passed to
<code>runSimulation</code>, <code>'filename'</code> and <code>'save_results_dirname'</code> for extracting
the saved file/directory name information (if used),
and <code>'summarise'</code> if the <code>Summarise</code>
definition returned a named <code>list</code> rather than a named numeric vector.
</p>
<p>Note that <code>'warning_seeds'</code> are not stored automatically in
simulations and require passing <code>store_warning_seeds = TRUE</code> to <code>runSimulation</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fuzzy</code></td>
<td>
<p>logical; use fuzzy string matching to reduce effectively identical messages?
For example, when attempting to invert a matrix the error message
<em>"System is computationally singular: reciprocal condition number = 1.92747e-17"</em> and
<em>"System is computationally singular: reciprocal condition number = 2.15321e-16"</em> are
effectively the same, and likely should be reported in the same columns of the extracted output</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>logical; append the design conditions when extracting error/warning messages?</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Phil Chalmers <a href="mailto:rphilip.chalmers@gmail.com">rphilip.chalmers@gmail.com</a>
</p>


<h3>References</h3>

<p>Chalmers, R. P., &amp; Adkins, M. C.  (2020). Writing Effective and Reliable Monte Carlo Simulations
with the SimDesign Package. <code>The Quantitative Methods for Psychology, 16</code>(4), 248-280.
<a href="https://doi.org/10.20982/tqmp.16.4.p248">doi:10.20982/tqmp.16.4.p248</a>
</p>
<p>Sigal, M. J., &amp; Chalmers, R. P. (2016). Play it again: Teaching statistics with Monte
Carlo simulation. <code>Journal of Statistics Education, 24</code>(3), 136-156.
<a href="https://doi.org/10.1080/10691898.2016.1246953">doi:10.1080/10691898.2016.1246953</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 

Generate &lt;- function(condition, fixed_objects) {
    int &lt;- sample(1:10, 1)
    if(int &gt; 5) warning('GENERATE WARNING: int greater than 5')
    if(int == 1) stop('GENERATE ERROR: integer is 1')
    rnorm(5)
}

Analyse &lt;- function(condition, dat, fixed_objects) {
    int &lt;- sample(1:10, 1)
    if(int &gt; 5) warning('ANALYSE WARNING: int greater than 5')
    if(int == 1) stop('ANALYSE ERROR: int is 1')
    c(ret = 1)
}

Summarise &lt;- function(condition, results, fixed_objects) {
    mean(results)
}

res &lt;- runSimulation(replications = 100, seed=1234, verbose=FALSE,
                     generate=Generate, analyse=Analyse, summarise=Summarise)
res

SimExtract(res, what = 'errors')
SimExtract(res, what = 'warnings')
seeds &lt;- SimExtract(res, what = 'error_seeds')
seeds[,1:3]

# replicate a specific error for debugging (type Q to exit debugger)
res &lt;- runSimulation(replications = 100, load_seed=seeds[,1], debug='analyse',
                     generate=Generate, analyse=Analyse, summarise=Summarise)




## End(Not run)
</code></pre>


</div>