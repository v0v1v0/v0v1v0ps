<div class="container">

<table style="width: 100%;"><tr>
<td>impute_cart</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Decision Tree Imputation</h2>

<h3>Description</h3>

<p>Imputation based on CART models or Random Forests.
</p>


<h3>Usage</h3>

<pre><code class="language-R">impute_cart(
  dat,
  formula,
  add_residual = c("none", "observed", "normal"),
  cp,
  na_action = na.rpart,
  ...
)

impute_rf(
  dat,
  formula,
  add_residual = c("none", "observed", "normal"),
  na_action = na.omit,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p><code>[data.frame]</code>, with variables to be imputed and their
predictors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p><code>[formula]</code> imputation model description (see Details below).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_residual</code></td>
<td>
<p><code>[character]</code> Type of residual to add. <code>"normal"</code> 
means that the imputed value is drawn from <code>N(mu,sd)</code> where <code>mu</code>
and <code>sd</code> are estimated from the model's residuals (<code>mu</code> should equal
zero in most cases). If <code>add_residual = "observed"</code>, residuals are drawn
(with replacement) from the model's residuals. Ignored for non-numeric 
predicted variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cp</code></td>
<td>
<p>The complexity parameter used to <code>prune</code> the CART model. If
omitted, no pruning takes place. If a single number, the same complexity parameter is
used for each imputed variable. If of length <code>#</code> of variables imputed, the complexity
parameters used must be in the same order as the predicted variables in the <code>model</code>
formula.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_action</code></td>
<td>
<p><code>[function]</code> what to do with missings in training data.
By default cases with missing values in predicted or predictors are omitted
(see ‘Missings in training data’).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to 
</p>

<ul>
<li>
<p><code>rpart</code> for <code>impute_cart</code>
</p>
</li>
<li>
<p><code>randomForest</code> for <code>impute_rf</code>
</p>
</li>
</ul>
</td>
</tr>
</table>
<h3>Model specification</h3>

<p>Formulas are of the form
</p>
<p><code>IMPUTED_VARIABLES ~ MODEL_SPECIFICATION [ | GROUPING_VARIABLES ] </code>
</p>
<p>The left-hand-side of the formula object lists the variable or variables to 
be imputed. Variables on the right-hand-side are used as predictors in the
CART or random forest model.
</p>
<p>If grouping variables are specified, the data set is split according to the
values of those variables, and model estimation and imputation occur
independently for each group.
</p>
<p>Grouping using <code>dplyr::group_by</code> is also supported. If groups are 
defined in both the formula and using <code>dplyr::group_by</code>, the data is 
grouped by the union of grouping variables. Any missing value in one of the 
grouping variables results in an error.
</p>


<h3>Methodology</h3>

<p><b>CART imputation</b> by <code>impute_cart</code> can be used for numerical,
categorical, or mixed data. Missing values are estimated using a 
Classification and Regression Tree as specified by Breiman, Friedman and
Olshen (1984). This means that prediction is fairly robust agains missingess
in predictors.
</p>
<p><b>Random Forest imputation</b> with <code>impute_rf</code> can be used for numerical,
categorical, or mixed data. Missing values are estimated using a Random Forest
model as specified by Breiman (2001).
</p>


<h3>References</h3>

<p>Breiman, L., Friedman, J., Stone, C.J. and Olshen, R.A., 1984. Classification
and regression trees. CRC press.
</p>
<p>Breiman, L., 2001. Random forests. Machine learning, 45(1), pp.5-32.
</p>


<h3>See Also</h3>

<p>Other imputation: 
<code>impute_hotdeck</code>,
<code>impute_lm()</code>,
<code>impute()</code>
</p>


</div>