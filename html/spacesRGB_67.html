<div class="container">

<table style="width: 100%;"><tr>
<td>RGB Space Query</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Query RGB Spaces</h2>

<h3>Description</h3>

<p>Query and summarize the installed RGB spaces.
The RGB spaces are stored in a dictionary, which comes with 8 RGB spaces pre-installed.
These spaces are:
<b>sRGB</b>,        <b>AdobeRGB</b>,    <b>ProPhotoRGB</b>, <b>AppleRGB</b>,    <b>BT.709</b>,
<b>BT.2020</b>,     <b>240M</b>, and        <b>HD+2.4</b>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">summaryRGB( verbosity=1 )

getRGB( space )
getWhiteXYZ( space, which='scene' )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>space</code></td>
<td>
<p>name of the RGB space to query.
The name matching is partial and case-insensitive.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbosity</code></td>
<td>

<p>an integer that controls the return value of <code>summaryRGB()</code>, see <b>Value</b>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>the source of the whitepoint, either <code>'scene'</code> or <code>'display'</code>.
Matching is partial and case-insensitive.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>getWhiteXYZ()</code> is provided because some applications only need the whitepoint
for chromatic adaptation purposes, and this function is faster than <code>getRGB()</code>.
</p>


<h3>Value</h3>

<p><code>summaryRGB()</code>, with the default <code>verbosity=1</code>, returns a <code>data.frame</code>
with a row for each RGB space.
The row contains  primary, whitepoint, and transfer function information for each space.
The primary/whitepoint data is for both scene and display; all the data is numerical and the columns are labeled.
There are 22 columns so the display is very wide.
<br>
The transfer function data is a very short string.
If the OETF is classical (pure 1/<code class="reqn">\gamma</code> power law), the string is 1/<code class="reqn">\gamma</code>.
If the OETF is not classical, the string is 1/~<code class="reqn">\gamma</code>,
where <code class="reqn">\gamma</code> is the best-fit (or approximate or effective) <code class="reqn">\gamma</code> to the OETF in the <code class="reqn">L^1</code>-norm.
<br>
Similarly, if the EOTF is classical (pure <code class="reqn">\gamma</code> power law) the string is <code class="reqn">\gamma</code>,
and if the EOTF is not classical the string is ~<code class="reqn">\gamma</code>.
<br>
The OOTF is the quotient (to 2 decimal places) of the gammas of EOTF and OETF
(either true gamma or best-fit gamma).
If either gamma is best-fit then the string is preceede by a <code>'~'</code>,
which means <em>effective</em>.
<br>
If the <code>TransferFunction</code> has dimension 1, but the domain and range are not the interval [0,1],
the string is <code>'1D'</code>.
If the <code>TransferFunction</code> has dimension 3, the string is <code>'3D'</code>.
<br>
If <code>verbosity=0</code>, <code>summaryRGB()</code> returns the names of all the RGB spaces.
</p>
<p><code>getRGB()</code> returns a list with these items:
</p>

<table>
<tr>
<td style="text-align: left;">
<code>space</code>   </td>
<td style="text-align: left;">   the full and original name of the RGB space  </td>
</tr>
<tr>
<td style="text-align: left;">
<code>scene</code> 	 </td>
<td style="text-align: left;">   a list with items <code>primaries</code>, <code>whiteXYZ</code>, <code>RGB2XYZ</code>, and <code>XYZ2RGB</code>  </td>
</tr>
<tr>
<td style="text-align: left;">
<code>display</code> </td>
<td style="text-align: left;">   a list with items <code>primaries</code>, <code>whiteXYZ</code>, <code>RGB2XYZ</code>, and <code>XYZ2RGB</code>  </td>
</tr>
<tr>
<td style="text-align: left;">
<code>EOTF</code>    </td>
<td style="text-align: left;">   Electro-Optical Transfer Function  </td>
</tr>
<tr>
<td style="text-align: left;">
<code>OETF</code>    </td>
<td style="text-align: left;">   Opto-Electronic Transfer Function  </td>
</tr>
<tr>
<td style="text-align: left;">
<code>OOTF</code>    </td>
<td style="text-align: left;">   Opto-Optical Transfer Function, and numerically equal to <code>OETF*EOTF</code>  </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>The items in the lists <code>scene</code> and <code>display</code> are
</p>

<table>
<tr>
<td style="text-align: left;">
<code>primaries</code> </td>
<td style="text-align: left;">   4x2 matrix with the xy chromaticities of the RGB primaries and white </td>
</tr>
<tr>
<td style="text-align: left;">
<code>whiteXYZ</code>  </td>
<td style="text-align: left;">   XYZ of the display white point, which maps to RGB=(1,1,1) </td>
</tr>
<tr>
<td style="text-align: left;">
<code>RGB2XYZ</code>   </td>
<td style="text-align: left;">   3x3 matrix taking RGB to XYZ </td>
</tr>
<tr>
<td style="text-align: left;">
<code>XYZ2RGB</code>   </td>
<td style="text-align: left;">   3x3 matrix taking XYZ to RGB </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>All transfer functions are actual <code>TransferFunctions</code> objects, 
and not the numerical exponent or character string name.
They are suitable for plotting with <code>plot.TransferFunction()</code>; see the <b>Examples</b>.
In case of error, <code>getRGB()</code> returns NULL.
</p>
<p><code>getWhiteXYZ()</code> 
returns a numeric 3-vector with the XYZ of the whitepoint of the scene or the display.
In case of error it returns <code>NULL</code>.
</p>


<h3>References</h3>

<p>Lindbloom, Bruce.
<b>RGB/XYZ Matrices</b>.
<a href="http://brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html">http://brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html</a>
</p>


<h3>See Also</h3>

<p><code>installRGB()</code>,
<code>plot.TransferFunction()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># make plot comparing three EOTFs
plot( getRGB('sRGB')$EOTF, col='black' )
plot( getRGB('BT.709')$EOTF, col='blue', add=TRUE )
plot( getRGB('ProPhotoRGB')$EOTF, col='red', add=TRUE )
</code></pre>


</div>