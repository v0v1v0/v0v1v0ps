<div class="container">

<table style="width: 100%;"><tr>
<td>svyvif</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Variance inflation factors (VIF) for general linear models fitted with complex survey data
</h2>

<h3>Description</h3>

<p>Compute a VIF for fixed effects, general linear regression models fitted with data collected from one- and two-stage complex survey designs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">svyvif(mobj, X, w, stvar=NULL, clvar=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mobj</code></td>
<td>

<p>model object produced by <code>svyglm</code>. The following families of models are allowed: binomial, gaussian, poisson, quasibinomial, and quasipoisson. Other families allowed by <code>svyglm</code> will produce an error in <code>svyvif</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>

<p><code class="reqn">n \times p</code> matrix of real-valued covariates used in fitting the regression; <code class="reqn">n</code> = number of observations, <code class="reqn">p</code> = number of covariates in model, excluding the intercept. A column of 1's for an intercept should not be included. <code>X</code> should not contain columns for the strata and cluster identifiers (unless those variables are part of the model). No missing values are allowed.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>

<p><code class="reqn">n</code>-vector of survey weights used in fitting the model. No missing values are allowed.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stvar</code></td>
<td>

<p>field in <code>mobj</code> that contains the stratum variable in the complex sample design; use <code>stvar = NULL</code> if there are no strata
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clvar</code></td>
<td>

<p>field in <code>mobj</code> that contains the cluster variable in the complex sample design; use <code>clvar = NULL</code> if there are no clusters
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>svyvif</code> computes variance inflation factors (VIFs) appropriate for linear models and some general linear models (GLMs) fitted from complex survey data (see Liao 2010 and Liao &amp; Valliant 2012). A VIF measures the inflation of a slope estimate caused by nonorthogonality of the predictors over and above what the variance would be with orthogonality (Theil 1971; Belsley, Kuh, and Welsch 1980). A VIF may also be thought of as the amount that the variance of an estimated coefficient for a predictor <em>x</em> is inflated in a model that includes all <em>x</em>'s compared to a model that includes only the single <em>x</em>. Another alternative is to use as a comparison a model that includes an intercept and the single <em>x</em>. Both of these VIFs are in the output.
</p>
<p>The standard VIF equals <code class="reqn">1/(1 - R^2_k)</code> where <code class="reqn">R_k</code> is the multiple correlation of the <code class="reqn">k^{th}</code> column of <code>X</code> regressed on the remaining columns. The complex sample value of the VIF for a linear model consists of the standard VIF multiplied by two adjustments denoted in the output as <code>zeta</code> and either <code>varrho.m</code> or <code>varrho</code>. The VIF for a GLM is similar (Liao 2010, chap. 5; Liao &amp; Valliant 2024). There is no widely agreed-upon cutoff value for identifying high values of a VIF, although 10 is a common suggestion.
</p>


<h3>Value</h3>

<p>A list with two components:
</p>

<dl>
<dt><code>Intercept adjusted</code></dt>
<dd>
<p><code class="reqn">p \times 6</code> data frame with columns:</p>
</dd>
</dl>
<dl>
<dt><code>svy.vif.m:</code></dt>
<dd>
<p>  complex sample VIF where the reference model includes an intercept and a single <em>x</em></p>
</dd>
<dt><code>reg.vif.m:</code></dt>
<dd>
<p>  standard VIF, <code class="reqn">1/(1 - R^2_{m(k)})</code>, that omits the factors, <code>zeta</code> and <code>varrho.m</code>; <code class="reqn">R^2_{m(k)}</code> is an R-square, corrected for the mean, from a weighted least squares regression of the <code class="reqn">k^{th}</code> <em>x</em> on the other <em>x</em>'s in the regression</p>
</dd>
<dt><code>zeta:</code></dt>
<dd>
<p>  1st multiplicative adjustment to <code>reg.vif.m</code></p>
</dd>
<dt><code>varrho.m:</code></dt>
<dd>
<p>  2nd multiplicative adjustment to <code>reg.vif.m</code></p>
</dd>
<dt><code>zeta.x.varrho.m:</code></dt>
<dd>
<p>  product of the two adjustments to <code>reg.vif.m</code></p>
</dd>
<dt><code>Rsq.m:</code></dt>
<dd>
<p>  R-square, corrected for the mean, in the regression of the <code class="reqn">k^{th}</code> <em>x</em> on the other <em>x</em>'s, including an intercept</p>
</dd>
</dl>
<dl>
<dt><code>No intercept</code></dt>
<dd>
<p><code class="reqn">p \times 6</code> data frame with columns:</p>
</dd>
</dl>
<dl>
<dt><code>svy.vif:</code></dt>
<dd>
<p>  complex sample VIF where the reference model includes a single <em>x</em> and excludes an intercept; this VIF is analogous to the one included in standard packages that provide VIFs for linear regressions</p>
</dd>
<dt><code>reg.vif:</code></dt>
<dd>
<p>  standard VIF, <code class="reqn">1/(1 - R^2_k)</code>, that omits the factors, <code>zeta</code> and <code>varrho</code>; <code class="reqn">R^2_k</code> is an R-square, not corrected for the mean, from a weighted least squares regression of the <code class="reqn">k^{th}</code> <em>x</em> on the other <em>x</em>'s in the regression</p>
</dd>
<dt><code>zeta:</code></dt>
<dd>
<p>  1st multiplicative adjustment to <code>reg.vif</code></p>
</dd>
<dt><code>varrho:</code></dt>
<dd>
<p>  2nd multiplicative adjustment to <code>reg.vif</code></p>
</dd>
<dt><code>zeta.x.varrho:</code></dt>
<dd>
<p>  product of the two adjustments to <code>reg.vif</code></p>
</dd>
<dt><code>Rsq:</code></dt>
<dd>
<p>  R-square, not corrected for the mean, in the regression of the <code class="reqn">k^{th}</code> <em>x</em> on the other <em>x</em>'s, including an intercept</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Richard Valliant
</p>


<h3>References</h3>

<p>Belsley, D.A., Kuh, E. and Welsch, R.E. (1980). <em>Regression Diagnostics: Identifying Influential Data and Sources of Collinearity</em>. New York: Wiley-Interscience.
</p>
<p>Liao, D. (2010). Collinearity Diagnostics for Complex Survey Data. PhD thesis, University of Maryland. <a href="http://hdl.handle.net/1903/10881">http://hdl.handle.net/1903/10881</a>.
</p>
<p>Liao, D, and Valliant, R. (2012). Variance inflation factors in the analysis of complex survey data. <em>Survey Methodology</em>, 38, 53-62.
</p>
<p>Liao, D, and Valliant, R. (2024). Variance Inflation Factors in Generalized Linear Models with Extensions to Analysis of Survey Data. submitted.
</p>
<p>Theil, H. (1971). <em>Principles of Econometrics</em>. New York: John Wiley &amp; Sons, Inc.
</p>
<p>Lumley, T. (2010). <em>Complex Surveys</em>. New York: John Wiley &amp; Sons.
</p>
<p>Lumley, T. (2023). survey: analysis of complex survey samples. R package version 4.4.
</p>


<h3>See Also</h3>

<p><code>Vmat</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">require(survey)
data(nhanes2007)
X1 &lt;- nhanes2007[order(nhanes2007$SDMVSTRA, nhanes2007$SDMVPSU),]
    # eliminate cases with missing values
delete &lt;- which(complete.cases(X1)==FALSE)
X2 &lt;- X1[-delete,]
nhanes.dsgn &lt;- svydesign(ids = ~SDMVPSU,
                         strata = ~SDMVSTRA,
                         weights = ~WTDRD1, nest=TRUE, data=X2)
    # linear model
m1 &lt;- svyglm(BMXWT ~ RIDAGEYR + as.factor(RIDRETH1) + DR1TKCAL
            + DR1TTFAT + DR1TMFAT, design=nhanes.dsgn)
summary(m1)
    # construct X matrix using model.matrix from stats package
X3 &lt;- model.matrix(~ RIDAGEYR + as.factor(RIDRETH1) + DR1TKCAL + DR1TTFAT + DR1TMFAT,
        data = data.frame(X2))
    # remove col of 1's for intercept with X3[,-1]
svyvif(mobj=m1, X=X3[,-1], w = X2$WTDRD1, stvar=NULL, clvar=NULL)

    # Logistic model
X2$obese &lt;- X2$BMXBMI &gt;= 30
nhanes.dsgn &lt;- svydesign(ids = ~SDMVPSU,
                         strata = ~SDMVSTRA,
                         weights = ~WTDRD1, nest=TRUE, data=X2)
m2 &lt;- svyglm(obese ~ RIDAGEYR + as.factor(RIDRETH1) + DR1TKCAL
             + DR1TTFAT + DR1TMFAT, design=nhanes.dsgn, family="quasibinomial")
summary(m2)
svyvif(mobj=m2, X=X3[,-1], w = X2$WTDRD1, stvar = "SDMVSTRA", clvar = "SDMVPSU")
</code></pre>


</div>