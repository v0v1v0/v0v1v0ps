<div class="container">

<table style="width: 100%;"><tr>
<td>sfn_filter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Filter sfn_data by variable/s value</h2>

<h3>Description</h3>

<p>Port of <code>filter</code> for <code>sfn_data</code> and
<code>sfn_data_multi</code> objects
</p>


<h3>Usage</h3>

<pre><code class="language-R">sfn_filter(sfn_data, ..., solar = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sfn_data</code></td>
<td>
<p><code>sfn_data</code> or <code>sfn_data_multi</code> object to subset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>expressions to pass to the <code>filter</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>solar</code></td>
<td>
<p>Logical indicating if solar timestamp must used to subset</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>'sfn_filter' will remove the rows not matching the logical expression/s
provided. So, it will remove cases and will create TIMESTAMP gaps, so its use
is not recommended except in the case of filtering by TIMESTAMP (i.e. to
set several sites (sfn_data_multi) in the same time frame). For other
scenarios (removing extreme environmental conditions values or strange
sapflow measures patterns) see <code>sfn_mutate</code> and
<code>sfn_mutate_at</code>
</p>


<h3>Value</h3>

<p>For <code>sfn_data</code> objects, a filtered <code>sfn_data</code> or NULL if
no data meet the criteria. For <code>sfn_data_multi</code> another
<code>sfn_data_multi</code> with the sites filtered, and an empty
<code>sfn_data_multi</code> if any sites met the criteria
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)
library(lubridate)

# data
data('ARG_TRE', package = 'sapfluxnetr')

# by timestamp
foo_timestamp &lt;- get_timestamp(ARG_TRE)

foo_timestamp_trimmed &lt;- foo_timestamp[1:100]

sfn_filter(
  ARG_TRE,
  TIMESTAMP %in% foo_timestamp_trimmed
)

# by wind speed value
ws_threshold &lt;- 25

sfn_filter(
  ARG_TRE,
  ws &lt;= ws_threshold
)

## multi
data('ARG_MAZ', package = 'sapfluxnetr')
multi_sfn &lt;- sfn_data_multi(ARG_TRE, ARG_MAZ)

# by timestamp
sfn_filter(
  multi_sfn,
  between(day(TIMESTAMP), 18, 22)
)

# by wind speed value
sfn_filter(
  multi_sfn,
  ws &lt;= ws_threshold
)

</code></pre>


</div>