<div class="container">

<table style="width: 100%;"><tr>
<td>ml_clustering_evaluator</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Spark ML - Clustering Evaluator</h2>

<h3>Description</h3>

<p>Evaluator for clustering results. The metric computes the Silhouette measure using the squared
Euclidean distance. The Silhouette is a measure for the validation of the consistency
within clusters. It ranges between 1 and -1, where a value close to 1 means that the
points in a cluster are close to the other points in the same cluster and far from the
points of the other clusters.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ml_clustering_evaluator(
  x,
  features_col = "features",
  prediction_col = "prediction",
  metric_name = "silhouette",
  uid = random_string("clustering_evaluator_"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>spark_connection</code> object or a <code>tbl_spark</code> containing label and prediction columns. The latter should be the output of <code>sdf_predict</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>features_col</code></td>
<td>
<p>Name of features column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prediction_col</code></td>
<td>
<p>Name of the prediction column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metric_name</code></td>
<td>
<p>The performance metric. Currently supports "silhouette".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uid</code></td>
<td>
<p>A character string used to uniquely identify the ML estimator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Optional arguments; currently unused.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The calculated performance metric
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
sc &lt;- spark_connect(master = "local")
iris_tbl &lt;- sdf_copy_to(sc, iris, name = "iris_tbl", overwrite = TRUE)

partitions &lt;- iris_tbl %&gt;%
  sdf_random_split(training = 0.7, test = 0.3, seed = 1111)

iris_training &lt;- partitions$training
iris_test &lt;- partitions$test

formula &lt;- Species ~ .

# Train the models
kmeans_model &lt;- ml_kmeans(iris_training, formula = formula)
b_kmeans_model &lt;- ml_bisecting_kmeans(iris_training, formula = formula)
gmm_model &lt;- ml_gaussian_mixture(iris_training, formula = formula)

# Predict
pred_kmeans &lt;- ml_predict(kmeans_model, iris_test)
pred_b_kmeans &lt;- ml_predict(b_kmeans_model, iris_test)
pred_gmm &lt;- ml_predict(gmm_model, iris_test)

# Evaluate
ml_clustering_evaluator(pred_kmeans)
ml_clustering_evaluator(pred_b_kmeans)
ml_clustering_evaluator(pred_gmm)

## End(Not run)
</code></pre>


</div>