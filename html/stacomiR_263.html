<div class="container">

<table style="width: 100%;"><tr>
<td>report_mig_env-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class "report_mig_env"</h2>

<h3>Description</h3>

<p>Enables to compute an annual overview of fish migration and environmental
conditions in the same chart. Environmental conditions may trigger migration events, variation in flow
or temperatures can  be plotted along migration to check graphically for a possible relation. To enable this,
environmental conditions are loaded from an "environmental monitoring station", which records environmental
parameters and is attached to a migratory station in the database.
This class enables both continuous output (temperature -flow) as well as discrete parameters (qualitative = moon
phase, type of operation of a gate, opening of a gate...) which will be displayed on the graph. Values are scaled so that
single plot can display migration numbers and environmental parameters. Environmental parameters when stored at a
time scale lower that a day are averaged per day, unless they are qualitative parameters, in which case only the first
event of the day is displayed on the annual plot.
</p>


<h3>Slots</h3>


<dl>
<dt><code>report_mig_mult</code></dt>
<dd>
<p>report_mig_mult-class</p>
</dd>
<dt><code>report_env</code></dt>
<dd>
<p>report_env-class</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>cedric.briand@eptb-vilaine.fr marion.legrand@logrami.fr
</p>
<p>Cedric Briand <a href="mailto:cedric.briand@eptb-vilaine.fr">cedric.briand@eptb-vilaine.fr</a>
</p>


<h3>See Also</h3>

<p>Other report Objects: 
<code>report_annual-class</code>,
<code>report_dc-class</code>,
<code>report_df-class</code>,
<code>report_env-class</code>,
<code>report_ge_weight-class</code>,
<code>report_mig-class</code>,
<code>report_mig_char-class</code>,
<code>report_mig_interannual-class</code>,
<code>report_mig_mult-class</code>,
<code>report_sample_char-class</code>,
<code>report_sea_age-class</code>,
<code>report_silver_eel-class</code>,
<code>report_species-class</code>
</p>
<p>Other report Objects: 
<code>report_annual-class</code>,
<code>report_dc-class</code>,
<code>report_df-class</code>,
<code>report_env-class</code>,
<code>report_ge_weight-class</code>,
<code>report_mig-class</code>,
<code>report_mig_char-class</code>,
<code>report_mig_interannual-class</code>,
<code>report_mig_mult-class</code>,
<code>report_sample_char-class</code>,
<code>report_sea_age-class</code>,
<code>report_silver_eel-class</code>,
<code>report_species-class</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">require(stacomiR)
stacomi(
	database_expected=FALSE)
# the following will load the data provided the user has access to the database
# with data in the iav example scheme.
# prompt for user and password but you can set appropriate options for host, port and dbname
## Not run: 
	stacomi(
			database_expected=TRUE)	
	if (interactive()){
		if (!exists("user")){
			user &lt;- readline(prompt="Enter user: ")
			password &lt;- readline(prompt="Enter password: ")	
		}	
	}
	options(					
			stacomiR.dbname = "bd_contmig_nat",
			stacomiR.host ="localhost",
			stacomiR.port = "5432",
			stacomiR.user = user,
			stacomiR.user = password						
	)	
  r_mig_env&lt;-new("report_mig_env")
  r_mig_env&lt;-choice_c(r_mig_env,
	  dc=c(5,6,12),
	  taxa=c("Anguilla anguilla"),
	  stage=c("AGJ","AGG","CIV"),
	  stationMesure=c("temp_gabion","coef_maree","phases_lune"),
	  datedebut="2008-01-01",
	  datefin="2008-12-31",
	  silent=FALSE)	
  r_mig_env&lt;-charge(r_mig_env) # this is necessary to load operations, DF and DC
  r_mig_env&lt;-connect(r_mig_env)
  r_mig_env&lt;-calcule(r_mig_env,silent=TRUE)

## End(Not run)	

data("r_mig_env")
# An example of plot with custom colors.
plot(r_mig_env,
	color_station=c("temp_gabion"="red","coef_maree"="blue","phases_lune"="pink"),
 	color_dc=c("5"="yellow","6"="orange","12"="purple")
)
</code></pre>


</div>