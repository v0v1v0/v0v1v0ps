<div class="container">

<table style="width: 100%;"><tr>
<td>stabletree-coercion</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Coercion Functions</h2>

<h3>Description</h3>

<p>Functions coercing various forest objects to objects of class
<code>"stabletree"</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  as.stabletree(x, ...)
  ## S3 method for class 'randomForest'
as.stabletree(x, applyfun = NULL, cores = NULL, ...)
  ## S3 method for class 'RandomForest'
as.stabletree(x, applyfun = NULL, cores = NULL, ...)
  ## S3 method for class 'cforest'
as.stabletree(x, applyfun = NULL, cores = NULL, savetrees = FALSE, ...)
  ## S3 method for class 'ranger'
as.stabletree(x, applyfun = NULL, cores = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class <code>randomForest</code>,
<code>RandomForest-class</code>, <code>cforest</code>,
or <code>ranger</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>applyfun</code></td>
<td>
<p>a <code>lapply</code>-like function. The default is to
use <code>lapply</code> unless <code>cores</code> is specified in which
case <code>mclapply</code> is used (for multicore computations on
platforms that support these).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>integer. The number of cores to use in multicore computations
using <code>mclapply</code> (see above).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>savetrees</code></td>
<td>
<p>logical. If <code>TRUE</code>, trees of the forests are returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments (currently not used).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Random forests fitted using <code>randomForest</code>,
<code>cforest</code>, <code>cforest</code> or
<code>ranger</code> are coerced to <code>"stabletree"</code> objects.
</p>
<p>Note that when plotting a <code>randomForest</code> or
<code>ranger</code>, the gray areas of levels of a nominal variable
do not mimic exactly the same behavior as for classical <code>"stabletree"</code>
objects, due to <code>randomForest</code> and
<code>ranger</code>, not storing any information whether any
individuals were left fulfilling the splitting criterion in the subsample.
Therefore, gray areas only indicate that this level of this variable has
already been used in a split before in such a way that it could not be used
for any further splits.
</p>
<p>For <code>ranger</code>, interaction terms are (currently) not
supported.
</p>


<h3>Value</h3>

<p><code>as.stabletree</code> returns an object of class <code>"stabletree"</code> which is a
list with the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>the call from the model object <code>x</code>,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>the number of trees of the random forest,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampler</code></td>
<td>
<p>the random forest fitting function,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vs0</code></td>
<td>
<p>numeric vector of the variable selections of the original tree,
here always a vector of zeros because there is no original tree,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>br0</code></td>
<td>
<p>always <code>NULL</code> (only included for consistency),</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vs</code></td>
<td>
<p>numeric matrix of the variable selections for each tree of the
random forest,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>br</code></td>
<td>
<p>list of the break points (only the <code>breaks</code> for each variable over all
trees of the random forest,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>classes</code></td>
<td>
<p>character vector indicating the classes of all partitioning
variables,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trees</code></td>
<td>
<p>a list of tree objects of class <code>"party"</code>, or <code>NULL</code>.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>stabletree</code>, <code>plot.stabletree</code></p>


<h3>Examples</h3>

<pre><code class="language-R">

## build a randomForest using randomForest
library(randomForest)
set.seed(1)
rf &lt;- randomForest(Species ~ ., data = iris)

## coerce to a stabletree
srf &lt;- as.stabletree(rf)
print(srf)
summary(srf, original = FALSE) # there is no original tree
barplot(srf)
image(srf)
plot(srf)

## build a RandomForest using party
library("party")
set.seed(2)
cf_party &lt;- cforest(Species ~ ., data = iris,
  control = cforest_unbiased(mtry = 2))

## coerce to a stabletree
scf_party &lt;- as.stabletree(cf_party)
print(scf_party)
summary(scf_party, original = FALSE)
barplot(scf_party)
image(scf_party)
plot(scf_party)

## build a cforest using partykit
library("partykit")
set.seed(3)
cf_partykit &lt;- cforest(Species ~ ., data = iris)

## coerce to a stabletree
scf_partykit &lt;- as.stabletree(cf_partykit)
print(scf_partykit)
summary(scf_partykit, original = FALSE)
barplot(scf_partykit)
image(scf_partykit)
plot(scf_partykit)

## build a random forest using ranger
library("ranger")
set.seed(4)
rf_ranger &lt;- ranger(Species ~ ., data = iris)

## coerce to a stabletree
srf_ranger &lt;- as.stabletree(rf_ranger)
print(srf_ranger)
summary(srf_ranger, original = FALSE)
barplot(srf_ranger)
image(srf_ranger)
plot(srf_ranger)


</code></pre>


</div>