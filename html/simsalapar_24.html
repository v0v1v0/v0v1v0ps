<div class="container">

<table style="width: 100%;"><tr>
<td>mayplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Matrix-like Plot for Arrays up to Rank 5</h2>

<h3>Description</h3>

<p>Produces a matrix-like plot for arrays up to rank 5,
using <span class="pkg">grid</span> and <span class="pkg">gridBase</span> which allows traditional
<span class="pkg">graphics</span>, optionally via a user specified panel function
<code>panel</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mayplot(x, vList, row.vars = NULL, col.vars = NULL,
        xvar, method = if(has.n.sim) "boxplot" else "lines",
       panel.first = NULL, panel.last = NULL,
       type = "l", pch = NULL, ylim = "global",
       log = "", do.legend = TRUE,
       spc = c(0.04/max(1,n.x-1), 0.04/max(1,n.y-1)),
       axlabspc=c(0.12, 0.08), labspc=c(0.04, 0.04),
       n.sim.spc = 0.06, auxcol = c("gray40", "gray78", "gray90", "white"),
       pcol = c("black", "blue", "red", "orange"), grid.lwd = 1.6, ax.lwd = 2,
       tx.cex = 1.2, leg.cex = 1, xlab = NULL, ylab = NA,
       do.n.sim = has.n.sim,
       verbose = getOption("verbose"), show.layout = verbose, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>numeric <code>array</code> of ‘rank’ 5, i.e.,
<code>length(dim(x)) == 5</code>, with <em>named</em>
<code>dimnames</code>; typically resulting from a call like
<code>getArray(doMclapply(..))</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vList</code></td>
<td>
<p>a <code>list</code> of variable specifications, see
<code>varlist</code> and <code>mkGrid</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row.vars</code></td>
<td>
<p>a dimension name of <code>x</code>, a string; this variable
is plotted in the plot rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.vars</code></td>
<td>
<p>a dimension name of <code>x</code>, a string; this variable
is plotted in the plot columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xvar</code></td>
<td>
<p>dimension name of <code>x</code>, a string; this variable is
plotted on the x axis of each sub-plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p><code>character</code> string indicating the plot
method used.  Currently available are <code>"boxplot"</code> (the default
if <code>vList</code> has <code>n.sim</code>) or <code>"lines"</code> (otherwise;
<code>type</code> adjusts the type of lines used).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>panel.first, panel.last</code></td>
<td>
<p><code>function</code> or <code>NULL</code>
(default).  If specified, <code>panel.first(x, y, col, ...)</code> is
called before and <code>panel.last(x, y, col, ...)</code> is called after
the main plotting functions (think <code>boxplot.matrix()</code> and
<code>lines()</code>) are called in each panel.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>character indicating the type of plotting in the
non-boxplot case; actually any of the <code>type</code>s as in
<code>plot.default</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p><code>logical</code> indicating whether a plot symbol is
to be used in the legend (default <code>NULL</code> determines this from
<code>type</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>either string <code>"global"</code>, <code>"local"</code>, or a
numeric vector, as for <code>plot.default</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p><code>logical</code> indicating if logarithmic scales should be used (in
the individual plots).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>do.legend</code></td>
<td>
<p><code>logical</code> indicating if a legend should be added.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spc</code></td>
<td>
<p>dimensions (x, y) in “npc” for the space between sub-plots.
The default uses a simple adaption to the number of sub-plots in
each direction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axlabspc</code></td>
<td>
<p>vector of length two containing the width
of the y axis label and the height of the x axis label in “npc”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labspc</code></td>
<td>
<p>vector of length two containing the width
of the box of the row labels and the height of the box of
the column labels in “npc”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.sim.spc</code></td>
<td>
<p>space for <code>n.sim</code> on the bottom right of the
plot in “npc” (only if available).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auxcol</code></td>
<td>
<p>auxiliary colors; vector with four components:
</p>

<ol>
<li>
<p> color of axes and ticks
</p>
</li>
<li>
<p> background color for the row and column labels
</p>
</li>
<li>
<p> background color for the plots
</p>
</li>
<li>
<p> color of grid lines
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pcol</code></td>
<td>
<p>plot base colors.  If more colors than the provided ones
are required, <code>colorRampPalette()</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid.lwd</code></td>
<td>
<p>lwd for grid</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ax.lwd</code></td>
<td>
<p>lwd for axes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tx.cex</code></td>
<td>
<p>cex for row and column labels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leg.cex</code></td>
<td>
<p>cex of legend text and <code>n.sim</code> if appropriate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>x axis label (spanned over all plot columns); when
<code>NULL</code>, the default is <code>vList[[xvar]]$expr</code>; to suppress,
use <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>y axis label (spanned over all plot rows): Typically a
label for the <code>"value"</code> of the simulation.</p>
</td>
</tr>
</table>
<table><tr style="vertical-align: top;">
<td><code>do.n.sim</code></td>
<td>
<p><code>logical</code> indicating whether
<code>n.sim</code> is displayed on the bottom right of the plot
(only if available).</p>
</td>
</tr></table>
<table>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical indicating whether more
information is displayed during plotting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.layout</code></td>
<td>
<p>logical indicating whether the grid layout is
displayed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>optional arguments passed to <code>panel()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>the layout, invisibly.
</p>


<h3>Author(s)</h3>

<p>Marius Hofert and Martin Maechler.</p>


<h3>See Also</h3>

<p><code>matplot</code>
<code>unit</code> and <code>grid.layout</code> from
package <span class="pkg">grid</span>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">vLis &lt;-
 varlist(d = list(type="grid", value = c(10, 100, 1000)),
         family=list(type="grid", value = c("Clayton", "Gumbel")),
         tau = list(type="grid", value = c(0.25, 0.5)),
         alpha = list(type="inner", value = c(0.95, 0.99, 0.999)))

iP &lt;- c(4, 1:3)# &lt;- permutation, putting alpha first
dNms &lt;- mkNms(vLis)[iP]
## an array as from  x &lt;- getArray( doMclapply(vLis, ..) ) :
x &lt;- array(
    c(6.1981, 8.0478, 8.4265, 46.883, 74.359, 86.4394, 432.585, 743.27, 859.35,
      4.8508, 6.0286, 6.3965, 26.380, 35.132, 47.1517, 243.113, 311.36, 342.84,
      7.8546, 8.9769, 9.2199, 78.235, 89.493, 92.2875, 785.674, 893.63, 923.62,
      7.7164, 8.2866, 8.8169, 75.959, 82.806, 88.0626, 756.786, 831.65, 874.70),
    dim = sapply(dNms, length), dimnames = dNms)

mayplot(x, vLis, row.vars="family", col.vars="tau", xvar="alpha", log="y",
       ylab=bquote(widehat(VaR)[alpha]))
## the same, but no xlab and no ylab :
mayplot(x, vLis, row.vars="family", col.vars="tau", xvar="alpha", log="y", xlab=NA)




</code></pre>


</div>