<div class="container">

<table style="width: 100%;"><tr>
<td>disperse</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Vary hypothetical group sizes</h2>

<h3>Description</h3>

<p>Some published studies only report a total sample size but no
group sizes. However, group sizes are crucial for consistency tests such as
GRIM. Call <code>disperse()</code> to generate possible group sizes that all add up to
the total sample size, if that total is even.
</p>
<p><code>disperse2()</code> is a variant for odd totals. It takes two consecutive numbers
and generates decreasing values from the lower as well as increasing values
from the upper. In this way, all combinations still add up to the total.
</p>
<p><code>disperse_total()</code> directly takes the total sample size, checks if it's
even or odd, splits it up accordingly, and applies <code>disperse()</code> or
<code>disperse2()</code>, respectively.
</p>
<p>These functions are primarily intended as helpers. They form the backbone
of <code>grim_map_total_n()</code> and all other functions created with
<code>function_map_total_n()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">disperse(
  n,
  dispersion = 0:5,
  n_min = 1L,
  n_max = NULL,
  constant = NULL,
  constant_index = NULL
)

disperse2(
  n,
  dispersion = 0:5,
  n_min = 1L,
  n_max = NULL,
  constant = NULL,
  constant_index = NULL
)

disperse_total(
  n,
  dispersion = 0:5,
  n_min = 1L,
  n_max = NULL,
  constant = NULL,
  constant_index = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Numeric:
</p>

<ul>
<li>
<p> In <code>disperse()</code>, single number from which to go up and down. This should be
half of an even total sample size.
</p>
</li>
<li>
<p> In <code>disperse2()</code>, the two consecutive numbers closest to half of an odd
total sample size (e.g., <code>c(25, 26)</code> for a total of 51).
</p>
</li>
<li>
<p> In <code>disperse_total()</code>, the total sample size.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dispersion</code></td>
<td>
<p>Numeric. Vector that determines the steps up and down from
<code>n</code> (or, in <code>disperse_total()</code>, from half <code>n</code>). Default is <code>0:5</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_min</code></td>
<td>
<p>Numeric. Minimal group size. Default is <code>1L</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_max</code></td>
<td>
<p>Numeric. Maximal group size. Default is <code>NULL</code>, i.e., no
maximum.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constant</code></td>
<td>
<p>Optionally, add a length-2 vector or a list of length-2
vectors (such as a data frame with exactly two rows) to accompany the pairs
of dispersed values. Default is <code>NULL</code>, i.e., no constant values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constant_index</code></td>
<td>
<p>Integer (length 1). Index of <code>constant</code> or the first
<code>constant</code> column in the output tibble. If <code>NULL</code> (the default), <code>constant</code>
will go to the right of <code>n_change</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If any group size is less than <code>n_min</code> or greater than <code>n_max</code>, it
is removed. The complementary size of the other group is also removed.
</p>
<p><code>constant</code> values are pairwise repeated. That is why <code>constant</code> must be
a length-2 atomic vector or a list of such vectors. If <code>constant</code> is a data
frame or some other named list, the resulting columns will have the same
names as the list-element names. If the list is not named, the new column
names will be <code>"constant1"</code>, <code>"constant2"</code>, etc; or just <code>"constant"</code>, for
a single pair.
</p>


<h3>Value</h3>

<p>A tibble (data frame) with these columns:
</p>

<ul>
<li> <p><code>n</code> includes the dispersed <code>n</code> values. Every pair of consecutive rows has
<code>n</code> values that each add up to the total.
</p>
</li>
<li> <p><code>n_change</code> records how the input <code>n</code> was transformed to the output <code>n</code>. In
<code>disperse2()</code>, the <code>n_change</code> strings label the lower of the input <code>n</code>
values <code>n1</code> and the higher one <code>n2</code>.
</p>
</li>
</ul>
<h3>References</h3>

<p>Bauer, P. J., &amp; Francis, G. (2021). Expression of Concern: Is It
Light or Dark? Recalling Moral Behavior Changes Perception of Brightness.
<em>Psychological Science</em>, 32(12), 2042â€“2043.
https://journals.sagepub.com/doi/10.1177/09567976211058727
</p>


<h3>See Also</h3>

<p><code>function_map_total_n()</code>, <code>grim_map_total_n()</code>, and
<code>seq_distance_df()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># For a total sample size of 40,
# set `n` to `20`:
disperse(n = 20)

# Specify `dispersion` to control
# the steps up and down from `n`:
disperse(n = 20, dispersion = c(3, 6, 10))

# In `disperse2()`, specify `n` as two
# consecutive numbers -- i.e., group sizes:
disperse2(n = c(25, 26))

# Use the total sample size directly
# with `disperse_total()`. An even total
# internally triggers `disperse()`...
disperse_total(n = 40)

# ...whereas an odd total triggers `disperse2()`:
disperse_total(n = 51)

# You may add values that repeat along with the
# dispersed ones but remain constant themselves.
# Such values can be stored in a length-2 vector
# for a single column...
disperse_total(37, constant = c("5.24", "3.80"))

# ... or a list of length-2 vectors for multiple
# columns. This includes data frames with 2 rows:
df_constant &lt;- tibble::tibble(
  name = c("Paul", "Mathilda"), age = 27:28,
  registered = c(TRUE, FALSE)
)
disperse_total(37, constant = df_constant)
</code></pre>


</div>