<div class="container">

<table style="width: 100%;"><tr>
<td>correction_function</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A function to correct stoichiometry dynamically</h2>

<h3>Description</h3>

<p>A function to correct stoichiometry dynamically
</p>


<h3>Usage</h3>

<pre><code class="language-R">correction_function(
  biomasses,
  cij,
  CN,
  p,
  a,
  canIMM,
  dietlimits,
  diet_correct = TRUE,
  Conly = FALSE,
  Immobilizationlimit = Inf
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>biomasses</code></td>
<td>
<p>A vector of biomasses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cij</code></td>
<td>
<p>The consumption matrix from Cijfcn</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CN</code></td>
<td>
<p>A vector of C:N ratios.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>A vector of production efficiency.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>A vector of assimilation efficiency.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>canIMM</code></td>
<td>
<p>A Boolean vector of whether the nodes can immobilize nitrogen.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dietlimits</code></td>
<td>
<p>The diet limits matrix for the stoichiometry correction (proportion of diet)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diet_correct</code></td>
<td>
<p>Boolean: Does the organism correct it's diet?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Conly</code></td>
<td>
<p>Boolean: Is the model meant for carbon only?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Immobilizationlimit</code></td>
<td>
<p>This is the limit of the amount of nitrogen the food web can immobilize nitrogen (NOT PLANTS). This will impact the calculations of inorganic nitrogen dynamics.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function takes inputs from the ODE and outputs corrected consumption rates.
The key difference from 'corrstoich' is that the prey DO NOT correct their feeding rates to compensate for higher consumption from the predators, so the system can leave equilibrium if a diet shift occurs.
</p>


<h3>Value</h3>

<p>Returns the consumption rates (FMAT) and production efficiencies (p).
</p>


</div>