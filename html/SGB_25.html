<div class="container">

<table style="width: 100%;"><tr>
<td>InequalityConstr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Inequality constraints and jacobian
</h2>

<h3>Description</h3>

<p>Setting of inequality constraints on shape parameters. <br><code>hin.SGB</code> sets inequality constraints on the shape parameters in a SGB regression.<br><code>hin.SGB.jac</code> defines the corresponding Jacobian.
</p>


<h3>Usage</h3>

<pre><code class="language-R">hin.SGB(x, d, u, bound, ...)
hin.SGB.jac(x, d, u, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>vector of parameters (<code>shape1</code>, <code>coefi</code>, <code>shape2</code>) where
<code>shape1</code> is the overall shape, <code>coefi</code> is the vector of regression coefficients (see <code>initpar.SGB</code>) and <code>shape2</code> the vector of <code class="reqn">D</code> Dirichlet shape parameters.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>

<p>data matrix of explanatory variables (without constant vector) <code class="reqn">(N 	\times m)</code>; <code class="reqn">N</code>: sample size, <code class="reqn">m</code>: number of auxiliary variables.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>u</code></td>
<td>

<p>data matrix of compositions (independent variables) <code class="reqn">(N \times D)</code>; <code class="reqn">D</code>: number of parts.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bound</code></td>
<td>

<p>the estimates of shapes are constrained by <code>shape1*shape2[i] &gt; bound, i=1,...,D.</code> By default <code>bound = 2.1</code>. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>not used.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions are invoked internally by <code>regSGB</code> with <code>bound</code> specified by the user. <br><code>shape1</code> is constrained to be larger than 0.1, in order to avoid numerical problems and <code>shape2</code> must be positive. <br>
Moments of ratios of parts only exist up to <code>bound</code>. Thus <code>bound = 2.1</code> guarantees the existence of variances of ratios of parts.
</p>


<h3>Value</h3>

<p><code>hin.SGB</code> : vector of length <code class="reqn">D+1</code> with the current value of <code>c(shape1-0.1,shape1*shape2-bound)</code>. It should be non-negative at convergence of the regression algorithm. <br><code>hin.SGB.jac</code> : corresponding jacobian matrix of dimensions <code class="reqn">(D+1) \times</code>  <code>length(x)</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Parameter vector for a 3 parts composition with one explanatory variable (+ intercept):
x &lt;- c(1,3.2,0.04,0.05,6,7:9)
bound &lt;- 2.1
u &lt;- t(c(0.1,0.5,0.4))  # only used to compute the number of parts.
hin.SGB(x, d, u, bound)
# = c(shape1-0.1, shape1*shape2-bound,shape2)
# all must be positive.
</code></pre>


</div>