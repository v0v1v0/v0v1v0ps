<div class="container">

<table style="width: 100%;"><tr>
<td>sparseR_prep</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Preprocess &amp; create a model matrix with interactions + polynomials</h2>

<h3>Description</h3>

<p>Preprocess &amp; create a model matrix with interactions + polynomials
</p>


<h3>Usage</h3>

<pre><code class="language-R">sparseR_prep(
  formula,
  data,
  k = 1,
  poly = 1,
  pre_proc_opts = c("knnImpute", "scale", "center", "otherbin", "none"),
  ia_formula = NULL,
  filter = c("nzv", "zv"),
  extra_opts = list(),
  family = "gaussian"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A formula of the main effects + outcome of the model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A required data frame or tibble containing the variables in
<code>formula</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Maximum order of interactions to <em>numeric</em> variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>poly</code></td>
<td>
<p>the maximum order of polynomials to consider</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pre_proc_opts</code></td>
<td>
<p>A character vector specifying methods for preprocessing
(see details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ia_formula</code></td>
<td>
<p>formula to be passed to step_interact (for interactions,
see details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter</code></td>
<td>
<p>which methods should be used to filter out variables with
(near) zero variance? (see details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extra_opts</code></td>
<td>
<p>extra options to be used for preprocessing</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>family passed from sparseR</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The pre_proc_opts acts as a wrapper for the corresponding procedures in the
<code>recipes</code> package. The currently supported options that can be passed to
pre_proc_opts are: knnImpute: Should k-nearest-neighbors be performed (if
necessary?) scale: Should variables be scaled prior to creating interactions
(does not scale factor variables or dummy variables) center: Should variables
be centered (will not center factor variables or dummy variables ) otherbin:
</p>
<p><code>ia_formula</code> will by default interact all variables with each other up
to order k. If specified, ia_formula will be passed as the <code>terms</code> argument
to <code>recipes::step_interact</code>, so the help documentation for that function
can be investigated for further assistance in specifying specific
interactions.
</p>
<p>The methods specified in filter are important; filtering is necessary to cut
down on extraneous polynomials and interactions (in cases where they really
don't make sense). This is true, for instance, when using dummy variables in
polynomials , or when using interactions of dummy variables that relate to
the same categorical variable.
</p>


<h3>Value</h3>

<p>an object of class <code>recipe</code>; see <code>recipes::recipe()</code>
</p>


</div>