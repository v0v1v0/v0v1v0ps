<div class="container">

<table style="width: 100%;"><tr>
<td>melt_spectra</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Melts the spectra data of a Spectra object and returns it as wide format.</h2>

<h3>Description</h3>

<p>This function is very useful when wanting to plot spectra using the lattice or ggplot2 packages
</p>


<h3>Usage</h3>

<pre><code class="language-R">melt_spectra(obj, attr=NULL, ...)

## S4 method for signature 'SpectraDataFrame'
melt_spectra(obj, attr = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>an object of class <code>"Spectra"</code> or inheriting from this class</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attr</code></td>
<td>
<p>vector of id variables against which the spectra will be melted (see <code>melt</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to or from other methods</p>
</td>
</tr>
</table>
<h3>Methods</h3>


<p><b>x=Spectra</b>
</p>
<p><code>melt_spectra(obj, ...)</code>
</p>

<table>
<tr>
<td style="text-align: right;"> </td>
<td style="text-align: left;"> <code>obj</code> </td>
<td style="text-align: left;"> A <code>Spectra</code> object </td>
</tr>
<tr>
<td style="text-align: right;"> </td>
<td style="text-align: left;">
<code>...</code> </td>
<td style="text-align: left;"> Ignored </td>
</tr>
<tr>
<td style="text-align: right;"> </td>
</tr>
</table>
<p><b>x=SpectraDataFrame</b>
</p>
<p><code>melt_spectra(obj, attr=NULL, ...)</code>
</p>

<table>
<tr>
<td style="text-align: right;"> </td>
<td style="text-align: left;"> <code>obj</code> </td>
<td style="text-align: left;"> A <code>SpectraDataFrame</code> object </td>
</tr>
<tr>
<td style="text-align: right;">
</td>
<td style="text-align: left;"> <code>attr</code> </td>
<td style="text-align: left;"> Character, the name of an attribute in the object data
to split the spectra against. </td>
</tr>
<tr>
<td style="text-align: right;"> </td>
<td style="text-align: left;"> <code>...</code> </td>
<td style="text-align: left;"> Ignored </td>
</tr>
<tr>
<td style="text-align: right;"> </td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Pierre Roudier <a href="mailto:pierre.roudier@gmail.com">pierre.roudier@gmail.com</a>
</p>


<h3>References</h3>

<p>Hadley Wickham (2011). The Split-Apply-Combine Strategy for Data
Analysis. Journal of Statistical Software, 40(1), 1-29. URL
http://www.jstatsoft.org/v40/i01/.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Loading example data
data(australia)
spectra(australia) &lt;- sr_no ~ ... ~ 350:2500

# Simple melt
r &lt;- melt_spectra(australia)
head(r)

## Not run: 
# Melt against some factor (or continuous data), and plot
# using ggplot2

# Create some factor
australia$fact &lt;- sample(
  LETTERS[1:3], 
  size = nrow(australia), 
  replace = TRUE
)
r &lt;- melt_spectra(australia, attr = 'fact')

# Create plot
library(ggplot2)
p &lt;- ggplot(r) + 
  geom_line(aes(x=wl, y=nir, group=id, colour=fact)) + 
  theme_bw()
print(p)

## End(Not run)

</code></pre>


</div>