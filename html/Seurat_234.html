<div class="container">

<table style="width: 100%;"><tr>
<td>ReadNanostring</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read and Load Nanostring SMI data</h2>

<h3>Description</h3>

<p>Read and Load Nanostring SMI data
</p>


<h3>Usage</h3>

<pre><code class="language-R">ReadNanostring(
  data.dir,
  mtx.file = NULL,
  metadata.file = NULL,
  molecules.file = NULL,
  segmentations.file = NULL,
  type = "centroids",
  mol.type = "pixels",
  metadata = NULL,
  mols.filter = NA_character_,
  genes.filter = NA_character_,
  fov.filter = NULL,
  subset.counts.matrix = NULL,
  cell.mols.only = TRUE
)

LoadNanostring(data.dir, fov, assay = "Nanostring")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data.dir</code></td>
<td>
<p>Path to folder containing Nanostring SMI outputs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mtx.file</code></td>
<td>
<p>Path to Nanostring cell x gene matrix CSV</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metadata.file</code></td>
<td>
<p>Contains metadata including cell center, area,
and stain intensities</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>molecules.file</code></td>
<td>
<p>Path to molecules file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>segmentations.file</code></td>
<td>
<p>Path to segmentations CSV</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Type of cell spatial coordinate matrices to read; choose one
or more of:
</p>

<ul>
<li> <p>“centroids”: cell centroids in pixel coordinate space
</p>
</li>
<li> <p>“segmentations”: cell segmentations in pixel coordinate space
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mol.type</code></td>
<td>
<p>Type of molecule spatial coordinate matrices to read;
choose one or more of:
</p>

<ul><li> <p>“pixels”: molecule coordinates in pixel space
</p>
</li></ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metadata</code></td>
<td>
<p>Type of available metadata to read;
choose zero or more of:
</p>

<ul>
<li> <p>“Area”: number of pixels in cell segmentation
</p>
</li>
<li> <p>“fov”: cell's fov
</p>
</li>
<li> <p>“Mean.MembraneStain”: mean membrane stain intensity
</p>
</li>
<li> <p>“Mean.DAPI”: mean DAPI stain intensity
</p>
</li>
<li> <p>“Mean.G”: mean green channel stain intensity
</p>
</li>
<li> <p>“Mean.Y”: mean yellow channel stain intensity
</p>
</li>
<li> <p>“Mean.R”: mean red channel stain intensity
</p>
</li>
<li> <p>“Max.MembraneStain”: max membrane stain intensity
</p>
</li>
<li> <p>“Max.DAPI”: max DAPI stain intensity
</p>
</li>
<li> <p>“Max.G”: max green channel stain intensity
</p>
</li>
<li> <p>“Max.Y”: max yellow stain intensity
</p>
</li>
<li> <p>“Max.R”: max red stain intensity
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mols.filter</code></td>
<td>
<p>Filter molecules that match provided string</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>genes.filter</code></td>
<td>
<p>Filter genes from cell x gene matrix that match
provided string</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fov.filter</code></td>
<td>
<p>Only load in select FOVs. Nanostring SMI data contains
30 total FOVs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset.counts.matrix</code></td>
<td>
<p>If the counts matrix should be built from
molecule coordinates for a specific segmentation; One of:
</p>

<ul>
<li> <p>“Nuclear”: nuclear segmentations
</p>
</li>
<li> <p>“Cytoplasm”: cell cytoplasm segmentations
</p>
</li>
<li> <p>“Membrane”: cell membrane segmentations
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cell.mols.only</code></td>
<td>
<p>If TRUE, only load molecules within a cell</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fov</code></td>
<td>
<p>Name to store FOV as</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>assay</code></td>
<td>
<p>Name to store expression matrix as</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>ReadNanostring</code>: A list with some combination of the
following values:
</p>

<ul>
<li> <p>“<code>matrix</code>”: a
sparse matrix with expression data; cells
are columns and features are rows
</p>
</li>
<li> <p>“<code>centroids</code>”: a data frame with cell centroid
coordinates in three columns: “x”, “y”, and “cell”
</p>
</li>
<li> <p>“<code>pixels</code>”: a data frame with molecule pixel coordinates
in three columns: “x”, “y”, and “gene”
</p>
</li>
</ul>
<p><code>LoadNanostring</code>: A <code>Seurat</code> object
</p>


<h3>Progress Updates with <span class="pkg">progressr</span>
</h3>

<p>This function uses
<a href="https://cran.r-project.org/package=progressr"><span class="pkg">progressr</span></a> to
render status updates and progress bars. To enable progress updates, wrap
the function call in <code>with_progress</code> or run
<code>handlers(global = TRUE)</code> before running
this function. For more details about <span class="pkg">progressr</span>, please read
<a href="https://progressr.futureverse.org/articles/progressr-intro.html"><code>vignette("progressr-intro")</code></a>
</p>


<h3>Parallelization with <span class="pkg">future</span>
</h3>

<p>This function uses
<a href="https://cran.r-project.org/package=future"><span class="pkg">future</span></a> to enable
parallelization. Parallelization strategies can be set using
<code>plan</code>. Common plans include “<code>sequential</code>”
for non-parallelized processing or “<code>multisession</code>” for parallel
evaluation using multiple <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> sessions; for other plans, see the
“Implemented evaluation strategies” section of
<code>?future::plan</code>. For a more thorough introduction
to <span class="pkg">future</span>, see
<a href="https://future.futureverse.org/articles/future-1-overview.html"><code>vignette("future-1-overview")</code></a>
</p>


<h3>Note</h3>

<p>This function requires the
<a href="https://cran.r-project.org/package=data.table"><span class="pkg">data.table</span></a> package
to be installed
</p>


</div>