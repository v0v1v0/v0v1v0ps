<div class="container">

<table style="width: 100%;"><tr>
<td>plot_sg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot average change in variables around the sudden gain</h2>

<h3>Description</h3>

<p>Generates a plot of the mean values around the sudden gain using <code>ggplot</code>.
This can be used to plot the primary outcome or secondary measures.
The parameters starting with "group" allow to plot the average gain magnitude by group.
Further ggplot2 components can be added using + following this function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_sg(
  data,
  id_var_name,
  tx_start_var_name,
  tx_end_var_name,
  sg_pre_post_var_list,
  ylab,
  xlab = "Session",
  colour_single = "#239b89ff",
  colour_group = c("viridis", "ggplot", "grey"),
  viridis_option = c("D", "A", "B", "C"),
  viridis_begin = 0,
  viridis_end = 1,
  group_var_name = NULL,
  group_levels = NULL,
  group_labels = NULL,
  group_title = NULL,
  apaish = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A <code>bysg</code> or <code>byperson</code> dataset created using the function <code>create_bysg</code> or <code>create_byperson</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id_var_name</code></td>
<td>
<p>String, specifying the name of the ID variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tx_start_var_name</code></td>
<td>
<p>String, specifying the variable name of the first measurement point of the intervention.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tx_end_var_name</code></td>
<td>
<p>String, specifying the variable name of the last measurement point of the intervention.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sg_pre_post_var_list</code></td>
<td>
<p>Vector, specifying the variable names of the 3 measurement points before,
and the 3 after the sudden gain, for the measure being plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>String, specifying the label for the y axis i.e. the name of the measure being plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>String, specifying the label for the x axis, e.g. <code>"Session"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colour_single</code></td>
<td>
<p>String, specifying the colour of the plot for one group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colour_group</code></td>
<td>
<p>String, specifying the discrete colour palette to be used for the groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>viridis_option</code></td>
<td>
<p>String specifying the colour option for discrete viridis palette, see <code>scale_fill_viridis_d</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>viridis_begin</code></td>
<td>
<p>Numeric, specifying hue between 0 and 1 at which the viridis colormap begins, see <code>scale_fill_viridis_d</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>viridis_end</code></td>
<td>
<p>Numeric, specifying hue between 0 and 1 at which the viridis colormap ends, see <code>scale_fill_viridis_d</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_var_name</code></td>
<td>
<p>String, specifying the variable name of the group variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_levels</code></td>
<td>
<p>Vector, specifying the levels as numeric for the groups in <code>group_var_name</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_labels</code></td>
<td>
<p>Vector, specifying the label names as strings for the groups in <code>group_var_name</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_title</code></td>
<td>
<p>String, specifying the title that will be used for the groups specified in <code>group_labels</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>apaish</code></td>
<td>
<p>Logical, make plot APA publishable.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A plot of the mean values around the sudden gain, for the measure specified.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># First create a bysg (or byperson) dataset
bysg &lt;- create_bysg(data = sgdata,
                    sg_crit1_cutoff = 7,
                    id_var_name = "id",
                    tx_start_var_name = "bdi_s1",
                    tx_end_var_name = "bdi_s12",
                    sg_var_list = c("bdi_s1", "bdi_s2", "bdi_s3",
                                    "bdi_s4", "bdi_s5", "bdi_s6",
                                    "bdi_s7", "bdi_s8", "bdi_s9",
                                    "bdi_s10", "bdi_s11", "bdi_s12"),
                    sg_measure_name = "bdi")

# Plot average change of BDI values around the period of the sudden gain
plot_sg(data = bysg,
        id_var_name = "id",
        tx_start_var_name = "bdi_s1",
        tx_end_var_name = "bdi_s12",
        sg_pre_post_var_list = c("sg_bdi_2n", "sg_bdi_1n", "sg_bdi_n",
                                 "sg_bdi_n1", "sg_bdi_n2", "sg_bdi_n3"),
        ylab = "BDI", xlab = "Session")
</code></pre>


</div>