<div class="container">

<table style="width: 100%;"><tr>
<td>grid2nb</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Construct neighbours for a GridTopology</h2>

<h3>Description</h3>

<p>The function builds a neighbours list for a grid topology.
It works for a k-dimentional grid topology, k&gt;=1.</p>


<h3>Usage</h3>

<pre><code class="language-R">grid2nb(grid, d = grid@cells.dim,
        queen = TRUE, nb = TRUE, self = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>grid</code></td>
<td>
<p>An object of class <code>GridTopology</code>. One can avoid to 
supply this by just suplying the dimentions in the <code>d</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>A scalar (for one dimentional grid) or a length k vector
specyfying the number of grid cells in each direction of the k
dimentions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>queen</code></td>
<td>
<p>Logical. Default is TRUE. To inform if the queen
neighbourhood structure should be considered. If FALSE, only 
a hyper-cube with a common face will be considered neighbour. 
If TRUE, a single shared coordinate meets the contiguity condition.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nb</code></td>
<td>
<p>Default TRUE. If TRUE, return the result as a neighbours
list with class <code>nb</code>. If FALSE, the result is a matrix with
<code>3^k</code> columns if <code>self = TRUE</code> or <code>3^k-1</code> if
<code>self = FALSE</code>. Zeros are used for hyper-cubes at boundaries.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>self</code></td>
<td>
<p>Default FALSE, to indicate if the hyper-cube neighbour
itself should be considered a neighbour.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Either a matrix, if “nb” is FALSE or a neighbours list with
class <code>nb</code>. See <code>card</code> for details of “nb”
objects.</p>


<h3>Note</h3>

<p>This applies to a k-dimentional grid topology.
</p>


<h3>Author(s)</h3>

<p>Elias T Krainski <a href="mailto:eliaskrainski@gmail.com">eliaskrainski@gmail.com</a></p>


<h3>See Also</h3>

<p><code>poly2nb</code>, <code>summary.nb</code>,
<code>card</code></p>


<h3>Examples</h3>

<pre><code class="language-R">nb &lt;- grid2nb(d = c(5L, 5L, 5L))
nb
summary(nb)
if (require("sp", quietly=TRUE)) {
gt &lt;- GridTopology(c(.125,.1), c(.25,.2), c(4L, 5L))
nb1 &lt;- grid2nb(gt, queen = FALSE)
nb2 &lt;- grid2nb(gt)

sg &lt;- SpatialGrid(gt)
plot(sg, lwd=3)
plot(nb1, coordinates(sg), add=TRUE, lty=2, col=2, lwd=2)
plot(nb2, coordinates(sg), add=TRUE, lty=3, col=4)

str(grid2nb(d=5))
}
</code></pre>


</div>