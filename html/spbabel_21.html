<div class="container">

<table style="width: 100%;"><tr>
<td>sptable.SpatialPolygons</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert from various forms to a table.</h2>

<h3>Description</h3>

<p>Decompose a <code>Spatial</code> or sf object to a single table structured as a row for every coordinate in all the sub-geometries, including duplicated coordinates that close polygonal rings, close lines and shared vertices between objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'SpatialPolygons'
sptable(x, ...)

## S3 method for class 'SpatialLines'
sptable(x, ...)

## S3 method for class 'SpatialPointsDataFrame'
sptable(x, ...)

## S3 method for class 'SpatialMultiPointsDataFrame'
sptable(x, ...)

sptable(object) &lt;- value

sptable(x, ...)

## S3 method for class 'trip'
map_table(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>Spatial</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>ignored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Spatial object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>modified sptable version of object</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Input can be a of type sf or  <code>SpatialPolygonsDataFrame</code>, <code>SpatialLinesDataFrame</code>, <code>SpatialMultiPointsDataFrame</code> or a <code>SpatialPointsDataFrame</code>.
For simplicity <code>sptable</code> and its inverses <code>sp</code> and <code>sf</code> assume that all geometry can be encoded with object, branch, island, order, x and y.
and that the type of topology is identified by which of these are present.
</p>
<p>For simple features objects with mixed types of topology the result is consistent, but probably not useful.
Columns that aren't present in one type will be present, padded with NA. (This is work in progress).
</p>


<h3>Value</h3>

<p>Spatial object
</p>
<p><code>tibble</code>  with columns
</p>

<ul>
<li>
<p> SpatialPolygonsDataFrame "object_"   "branch_"   "island_"   "order_" "x"    "y_"
</p>
</li>
<li>
<p> SpatialLinesDataFrame "object_"   "branch_" "order_"  "x_"      "y_"
</p>
</li>
<li>
<p> SpatialPointsDataFrame  "object_" x_"      "y_"
</p>
</li>
<li>
<p> SpatialMultiPointsDataFrame "object_" "branch_" "x_" "y_"
</p>
</li>
<li>
<p> sf some combination of the above
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## holey is a decomposed SpatialPolygonsDataFrame
spdata &lt;- sp(holey)
library(sp)
plot(spdata, col = rainbow(nrow(spdata), alpha = 0.4))
points(holey$x_, holey$y_, cex = 4)
holes &lt;- subset(holey, !island_)
## add the points that only belong to holes
points(holes$x_, holes$y_, pch = "+", cex = 2)

## manipulate based on topology
## convert to not-holes
notahole &lt;- holes
notahole$island_ &lt;- TRUE
#also convert to singular objects - note that this now means we have an overlapping pair of polys
#because the door had a hole filled by another object
notahole$object_ &lt;- notahole$branch_
plot(sp(notahole), add = TRUE, col = "red")

</code></pre>


</div>