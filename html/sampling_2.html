<div class="container">

<table style="width: 100%;"><tr>
<td>balancedcluster</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Balanced cluster</h2>

<h3>Description</h3>

<p>Selects a balanced cluster sample.
</p>


<h3>Usage</h3>

<pre><code class="language-R">balancedcluster(X,m,cluster,selection=1,comment=TRUE,method=1)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>matrix of auxiliary variables on which the sample must be balanced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>number of clusters to be selected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>
<p>vector of integers that defines the clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>selection</code></td>
<td>
<p>1, selection of the clusters with probabilities proportional 
to size,<br> 2, selection of the clusters with equal probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comment</code></td>
<td>
<p>a comment is written during the execution if <code>comment</code> is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>the used method in the function <code>samplecube</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a matrix containing the vector of inclusion probabilities and
the selected sample.</p>


<h3>See Also</h3>

<p><code>samplecube</code>, <code>fastflightcube</code>, <code>landingcube</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">############
## Example 1
############
# definition of the clusters; there are 15 units in 3 clusters
cluster=c(1,1,1,1,1,2,2,2,2,2,3,3,3,3,3)
# matrix of balancing variables
X=cbind(c(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15))
# selection of 2 clusters
s=balancedcluster(X,2,cluster,2,TRUE)
# the sample of clusters with the inclusion probabilities of the clusters
s
# the selected clusters
unique(cluster[s[,1]==1])
# the selected units 
(1:length(cluster))[s[,1]==1]
# with the probabilities
s[s[,1]==1,2]
############
## Example 2
############
data(MU284)
X=cbind(MU284$P75,MU284$CS82,MU284$SS82,MU284$S82,MU284$ME84)
s=balancedcluster(X,10,MU284$CL,1,TRUE)
cluster=MU284$CL
# the selected clusters
unique(cluster[s[,1]==1])
# the selected units 
(1:length(cluster))[s[,1]==1]
# with the probabilities
s[s[,1]==1,2]
</code></pre>


</div>