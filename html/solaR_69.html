<div class="container">

<table style="width: 100%;"><tr>
<td>C_fCompD</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Components of daily global solar irradiation on a horizontal surface</h2>

<h3>Description</h3>

<p>Extract the diffuse and direct components from the daily global irradiation on a horizontal surface by means of regressions between the clearness index and the diffuse fraction parameters.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fCompD(sol, G0d, corr = "CPR",f)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sol</code></td>
<td>
<p>A <code>Sol</code> object from <code>calcSol</code> or a <code>zoo</code> object
from <code>fSolD</code>. Both of them include a component named
<code>Bo0d</code>, which stands for the extra-atmospheric daily
irradiation incident on a horizontalsurface</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>G0d</code></td>
<td>
<p>A <code>Meteo</code> object from <code>readG0dm</code>, <code>readBD</code>, or a <code>zoo</code> object containing daily
global irradiation (Wh/m²) on a horizontal surface. See below for <code>corr = 'none'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>corr</code></td>
<td>
<p>A character, the correlation between the the fraction of diffuse irradiation and the
clearness index to be used.
</p>
<p>With this version several options are available, as described in
<code>corrFdKt</code>. For example, the <code>FdKtPage</code> is
selected with <code>corr = 'Page'</code> and the <code>FdKtCPR</code> with
<code>corr = 'CPR'</code>.
</p>
<p>If <code>corr = 'user'</code> the use of a correlation
defined by a function <code>f</code> is possible.
</p>
<p>If <code>corr = 'none'</code> the <code>G0d</code> object should include information
about global, diffuse and direct daily irradiation with columns named
<code>G0d</code>, <code>D0d</code> and <code>B0d</code>, respectively. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>A function defininig a correlation between the fraction of
diffuse irradiation and the clearness index. It is only neccessary when <code>corr = 'user'</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>zoo</code> object  which includes:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Fd</code></td>
<td>
<p>numeric, the diffuse fraction</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ktd</code></td>
<td>
<p>numeric, the clearness index</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>G0d</code></td>
<td>
<p>numeric, the global irradiation on a horizontal surface (Wh/m²)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>D0d</code></td>
<td>
<p>numeric, the diffuse irradiation on a horizontal surface (Wh/m²)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B0d</code></td>
<td>
<p>numeric, the direct irradiation on a horizontal surface (Wh/m²)</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Oscar Perpiñán Lamigueiro
</p>


<h3>References</h3>


<ul>
<li>
<p> Perpiñán, O, Energía Solar Fotovoltaica, 2015.
(<a href="https://oscarperpinan.github.io/esf/">https://oscarperpinan.github.io/esf/</a>)
</p>
</li>
<li>
<p> Perpiñán, O. (2012), "solaR: Solar Radiation and Photovoltaic
Systems with R", Journal of Statistical Software, 50(9), 1-32,
doi: <a href="https://doi.org/10.18637/jss.v050.i09">10.18637/jss.v050.i09</a>
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>fCompI</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">lat = 37.2;
BTd = fBTd(mode = 'serie')

SolD &lt;- fSolD(lat, BTd[100])

G0d = zoo(5000, index(SolD))
fCompD(SolD, G0d, corr = "Page")
fCompD(SolD, G0d, corr = "CPR")

#define a function fKtd with the correlation of CPR
fKTd = function(x){(0.99*(x &lt;= 0.17))+
                 (x&gt;0.17)*(1.188 -2.272 * x + 9.473 * x^2 - 21.856 * x^3
+ 14.648 * x^4)}
#The same as with corr = "CPR"
fCompD(SolD, G0d, corr = "user", f = fKTd)

lat = -37.2;
SolDs &lt;- fSolD(lat, BTd[283])
G0d = zoo(5000, index(SolDs))
fCompD(SolDs, G0d, corr = "CPR")

lat = 37.2;
G0dm = c(2.766,3.491,4.494,5.912,6.989,7.742,7.919,7.027,5.369,3.562,2.814,2.179)*1000;
Rad = readG0dm(G0dm, lat = lat)
solD &lt;- fSolD(lat,fBTd(mode = 'prom'))
fCompD(solD, Rad, corr = 'Page')
</code></pre>


</div>