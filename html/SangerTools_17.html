<div class="container">

<table style="width: 100%;"><tr>
<td>standardised_rates_df</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Standardised Prevalence Rates.</h2>

<h3>Description</h3>

<p>Standardisation will be  performed
for all unique values in the column passed to 'split_by'. If input data frame does not contain age bands
or age bands are not of class factor, it is recommended to use <code>age_bandizer</code> or <code>age_bandizer_2</code>.
After the function has run, the output can be copied using <code>excel_clip</code>  or  written to a database using <code>df_to_sql</code>.
Alternatively, if you are interested in seeing the effects of age confounding; consider joining the outputs of this function with the output from <code>crude_rates</code>
using a <code>left_join</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">standardised_rates_df(
  df,
  Split_by,
  Condition,
  Population_Standard,
  Granular = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>a tidy data frame in standard Master Patient Index format ie SangerTools::PopHealthData.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Split_by</code></td>
<td>
<p>A column name within df for which the standardised rates will be calculated for.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Condition</code></td>
<td>
<p>A Health condition flag denoted by 1 &amp; 0; where 1 denotes the patient being positive for the health condition.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Population_Standard</code></td>
<td>
<p>Population Standard Weight used for Standardising; default set to NULL; which denotes  use of Age Structure of df.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Granular</code></td>
<td>
<p>Takes a boolean value. If set to TRUE will output a tibble with Standardised Rates using values provided in 'Split_col' and '...'By default is set to FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Variables used to standardise by; Must always have Age band for age standardisation, additional variables are optional and should be passed separated by commas.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A tibble containing standardised Prevalence Rates by specified group.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(SangerTools)
health_data &lt;- SangerTools::age_bandizer(df = SangerTools::master_patient_index,
                                         Age_col=Age)
df_rates &lt;- standardised_rates_df(
  df = health_data,
  Split_by = Locality,
  Condition = Diabetes,
  Population_Standard = NULL,
  Granular = TRUE,
  Ageband
)
print(df_rates)
</code></pre>


</div>