<div class="container">

<table style="width: 100%;"><tr>
<td>add_bound_to_contour</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add bounds to contour plot of omitted variable bias</h2>

<h3>Description</h3>

<p>Convenience function to add bounds on a sensitivity contour plot created with <code>ovb_contour_plot</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_bound_to_contour(...)

## S3 method for class 'lm'
add_bound_to_contour(
  model,
  benchmark_covariates,
  kd = 1,
  ky = kd,
  bound_label = NULL,
  treatment = plot.env$treatment,
  reduce = plot.env$reduce,
  sensitivity.of = plot.env$sensitivity.of,
  label.text = TRUE,
  cex.label.text = 0.7,
  label.bump.x = plot.env$lim.x * (1/15),
  label.bump.y = plot.env$lim.y * (1/15),
  round = 2,
  ...
)

## S3 method for class 'fixest'
add_bound_to_contour(
  model,
  benchmark_covariates,
  kd = 1,
  ky = kd,
  bound_label = NULL,
  treatment = plot.env$treatment,
  reduce = plot.env$reduce,
  sensitivity.of = plot.env$sensitivity.of,
  label.text = TRUE,
  cex.label.text = 0.7,
  label.bump.x = plot.env$lim.x * (1/15),
  label.bump.y = plot.env$lim.y * (1/15),
  round = 2,
  ...
)

## S3 method for class 'numeric'
add_bound_to_contour(
  r2dz.x,
  r2yz.dx,
  bound_value = NULL,
  bound_label = NULL,
  label.text = TRUE,
  cex.label.text = 0.7,
  font.label.text = 1,
  label.bump.x = plot.env$lim.x * (1/15),
  label.bump.y = plot.env$lim.y * (1/15),
  round = 2,
  point.pch = 23,
  point.col = "black",
  point.bg = "red",
  point.cex = 1,
  point.font = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to other methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>An <code>lm</code> or <code>fixest</code> object with the outcome regression.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>benchmark_covariates</code></td>
<td>
<p>The user has two options: (i)  character vector of the names of covariates that will be used to bound the plausible strength of the unobserved confounders. Each variable will be considered separately; (ii) a named list with character vector names of covariates that will be used, <em>as a group</em>, to bound the plausible strength of the unobserved confounders. The names of the list will be used for the benchmark labels. Note: for factor variables with more than two levels, you need to provide the name of each level as encoded in the <code>fixest</code> model (the columns of <code>model.matrix</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kd</code></td>
<td>
<p>numeric vector. Parameterizes how many times stronger the confounder is related to the treatment in comparison to the observed benchmark covariate.
Default value is <code>1</code> (confounder is as strong as benchmark covariate).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ky</code></td>
<td>
<p>numeric vector. Parameterizes how many times stronger the confounder is related to the outcome in comparison to the observed benchmark covariate.
Default value is the same as <code>kd</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bound_label</code></td>
<td>
<p>label to bounds provided manually in <code>r2dz.x</code> and <code>r2yz.dx</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatment</code></td>
<td>
<p>A character vector with the name of the treatment variable
of the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reduce</code></td>
<td>
<p>should the bias adjustment reduce or increase the
absolute value of the estimated coefficient? Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sensitivity.of</code></td>
<td>
<p>should the contour plot show adjusted estimates (<code>"estimate"</code>)
or adjusted t-values (<code>"t-value"</code>)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.text</code></td>
<td>
<p>should label texts be plotted? Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.label.text</code></td>
<td>
<p>size of the label text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.bump.x</code></td>
<td>
<p>bump on the x coordinate of label text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.bump.y</code></td>
<td>
<p>bump on the y coordinate of label text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>round</code></td>
<td>
<p>integer indicating the number of decimal places to be used for rounding.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r2dz.x</code></td>
<td>
<p>hypothetical partial R2 of unobserved confounder
Z with treatment D, given covariates X.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r2yz.dx</code></td>
<td>
<p>hypothetical partial R2 of unobserved confounder Z
with outcome Y, given covariates X and treatment D.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bound_value</code></td>
<td>
<p>value to be printed in label bound.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>font.label.text</code></td>
<td>
<p>font for the label text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point.pch</code></td>
<td>
<p>plotting character for <code>points</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point.col</code></td>
<td>
<p>color code or name for <code>points</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point.bg</code></td>
<td>
<p>background (fill) color for <code>points</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point.cex</code></td>
<td>
<p>size of <code>points</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point.font</code></td>
<td>
<p>font for <code>points</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The function adds bounds in an existing contour plot and returns 'NULL'.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# runs regression model
model &lt;- lm(peacefactor ~ directlyharmed + age + farmer_dar + herder_dar +
                         pastvoted + hhsize_darfur + female + village,
                         data = darfur)
# contour plot
ovb_contour_plot(model = model, treatment = "directlyharmed")

# add bound 3/1 times stronger than female
add_bound_to_contour(model = model,
                     benchmark_covariates = "female",
                     kd = 3, ky = 1)

# add bound 50/2 times stronger than age
add_bound_to_contour(model = model,
                     benchmark_covariates = "age",
                     kd = 50, ky = 2)

</code></pre>


</div>