<div class="container">

<table style="width: 100%;"><tr>
<td>sparsepp-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>sparsepp</h2>

<h3>Description</h3>

<p><code>sparsepp</code> provides bindings to the
<a href="https://github.com/greg7mdp/sparsepp">sparsepp</a> - fast, memory efficient hash map for C++.
<code>sparsepp</code> is an open source C++ library derived from Google's
excellent sparsehash implementation, but considerably outperform it - <a href="https://github.com/greg7mdp/sparsepp/blob/master/bench.md">https://github.com/greg7mdp/sparsepp/blob/master/bench.md</a>.
It aims to achieve the following objectives:
</p>

<ul>
<li>
<p> A drop-in alternative for unordered_map and unordered_set.
</p>
</li>
<li>
<p> Extremely low memory usage (typically about one byte overhead per entry).
</p>
</li>
<li>
<p> Very efficient, typically faster than your compiler's unordered map/set or Boost's.
</p>
</li>
<li>
<p> C++11 support (if supported by compiler).
</p>
</li>
<li>
<p> Single header implementation - just copy sparsepp.h to your project and include it.
</p>
</li>
<li>
<p> Tested on Windows (vs2010-2015, g++), linux (g++, clang++) and MacOS (clang++).
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Dmitriy Selivanov <a href="mailto:selivanov.dmitriy@gmail.com">selivanov.dmitriy@gmail.com</a>
</p>
<p>Authors:
</p>

<ul>
<li>
<p> Gregory Popovitch <a href="mailto:greg7mdp@gmail.com">greg7mdp@gmail.com</a> [copyright holder]
</p>
</li>
<li>
<p> Google Inc [copyright holder]
</p>
</li>
</ul>
<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/greg7mdp/sparsepp">https://github.com/greg7mdp/sparsepp</a>
</p>
</li>
<li> <p><a href="https://github.com/dselivanov/r-sparsepp">https://github.com/dselivanov/r-sparsepp</a>
</p>
</li>
<li>
<p> Report bugs at <a href="https://github.com/dselivanov/r-sparsepp/issues">https://github.com/dselivanov/r-sparsepp/issues</a>
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(Rcpp)
code = "
// [[Rcpp::plugins(cpp11)]]
#include &lt;Rcpp.h&gt;
using namespace std;
using namespace Rcpp;
// drop-in replacement for unordered_map
//#include &lt;unordered_map&gt;
#include &lt;sparsepp/spp.h&gt;
//[[Rcpp::depends(sparsepp)]]
using spp::sparse_hash_map;
// @export
// [[Rcpp::export]]
IntegerVector word_count(CharacterVector v) {
  //unordered_map&lt;string, int&gt; smap;
  sparse_hash_map&lt;string, int&gt; smap;
  for(auto x: v) {
    smap[as&lt;string&gt;(x)] ++;
  }
  IntegerVector res(smap.size());
  int i = 0;
  for(auto s:smap) {
    res[i]=s.second;
    i++;
  }
  return(res);
}"
f = tempfile(, fileext = ".cpp")
writeLines(code, f)
sourceCpp(f)
unlink(f)
word_count(sample(letters, 100, T))

## End(Not run)
</code></pre>


</div>