<div class="container">

<table style="width: 100%;"><tr>
<td>sdcMicroObj-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class <code>"sdcMicroObj"</code>
</h2>

<h3>Description</h3>

<p>Class to save all information about the SDC process
</p>


<h3>Usage</h3>

<pre><code class="language-R">createSdcObj(
  dat,
  keyVars,
  numVars = NULL,
  pramVars = NULL,
  ghostVars = NULL,
  weightVar = NULL,
  hhId = NULL,
  strataVar = NULL,
  sensibleVar = NULL,
  excludeVars = NULL,
  options = NULL,
  seed = NULL,
  randomizeRecords = FALSE,
  alpha = 1
)

undolast(object)

strataVar(object) &lt;- value

## S4 replacement method for signature 'sdcMicroObj,characterOrNULL'
strataVar(object) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>The microdata set. A numeric matrix or data frame containing the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keyVars</code></td>
<td>
<p>Indices or names of categorical key variables. They must, of
course, match with the columns of ‘dat’.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numVars</code></td>
<td>
<p>Index or names of continuous key variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pramVars</code></td>
<td>
<p>Indices or names of categorical variables considered to be pramed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ghostVars</code></td>
<td>
<p>if specified a list which each element being a list of exactly two elements.
The first element must be a character vector specifying exactly one variable name that was
also specified as a categorical key variable (<code>keyVars</code>), while the second element is
a character vector of valid variable names (that must not be listed as <code>keyVars</code>).
If <code>localSuppression</code> or <code>kAnon</code> was applied, the resulting
suppression pattern for each key-variable is transferred to the depending variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weightVar</code></td>
<td>
<p>Indices or name determining the vector of sampling weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hhId</code></td>
<td>
<p>Index or name of the cluster ID (if available).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strataVar</code></td>
<td>
<p>Indices or names of stratification variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sensibleVar</code></td>
<td>
<p>Indices or names of sensible variables (for l-diversity)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>excludeVars</code></td>
<td>
<p>which variables of <code>dat</code> should not be included in
result-object? Users may specify a vector of variable-names available in <code>dat</code>
that were not specified in either <code>keyVars</code>, <code>numVars</code>, <code>pramVars</code>,
<code>ghostVars</code>, <code>hhId</code>, <code>strataVar</code> or <code>sensibleVar</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>
<p>additional options (if specified, a list must be used as input)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>(numeric) number specifiying the seed which will be set to allow for
reproducablity. The number will be rounded and saved as element <code>seed</code> in slot <code>options</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>randomizeRecords</code></td>
<td>
<p>(logical) if <code>TRUE</code>, the order of observations in the input microdata set
will be randomized.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>numeric between 0 and 1 specifying the fraction on how much keys containing <code>NAs</code> should
contribute to the frequency calculation which is also crucial for risk-estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a <code>sdcMicroObj-class</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p><code>NULL</code> or a character vector of length 1 specifying a valid variable name</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>sdcMicroObj-class</code> object
</p>
<p>an object of class <code>sdcMicroObj</code> with modified slot <code>@strataVar</code>
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form
<code>new("sdcMicroObj", ...)</code>.
</p>


<h3>Author(s)</h3>

<p>Bernhard Meindl, Alexander Kowarik, Matthias Templ, Elias Rut
</p>


<h3>References</h3>

<p>Templ, M. and Meindl, B. and Kowarik, A.: <em>Statistical Disclosure Control for
Micro-Data Using the R Package sdcMicro</em>, Journal of Statistical Software,
67 (4), 1–36, 2015. <a href="https://doi.org/10.18637/jss.v067.i04">doi:10.18637/jss.v067.i04</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## we can also specify ghost (linked) variables
## these variables are linked to some categorical key variables
## and have the sampe suppression pattern as the variable that they
## are linked to after \code{\link{localSuppression}} has been applied
data(testdata)
testdata$electcon2 &lt;- testdata$electcon
testdata$electcon3 &lt;- testdata$electcon
testdata$water2 &lt;- testdata$water

keyVars &lt;- c("urbrur","roof","walls","water","electcon","relat","sex")
numVars &lt;- c("expend","income","savings")
w &lt;- "sampling_weight"

## we want to make sure that some variables not used as key-variables
## have the same suppression pattern as variables that have been
## selected as key variables. Thus, we are using 'ghost'-variables.
ghostVars &lt;- list()

## we want variables 'electcon2' and 'electcon3' to be linked
## to key-variable 'electcon'
ghostVars[[1]] &lt;- list()
ghostVars[[1]][[1]] &lt;- "electcon"
ghostVars[[1]][[2]] &lt;- c("electcon2","electcon3")


## donttest because Examples with CPU time &gt; 2.5 times elapsed time
## we want variable 'water2' to be linked to key-variable 'water'
ghostVars[[2]] &lt;- list()
ghostVars[[2]][[1]] &lt;- "water"
ghostVars[[2]][[2]] &lt;- "water2"

## create the sdcMicroObj
obj &lt;- createSdcObj(testdata, keyVars=keyVars,
  numVars=numVars, w=w, ghostVars=ghostVars)

## apply 3-anonymity to selected key variables
obj &lt;- kAnon(obj, k=3); obj

## check, if the suppression patterns are identical
manipGhostVars &lt;- get.sdcMicroObj(obj, "manipGhostVars")
manipKeyVars &lt;- get.sdcMicroObj(obj, "manipKeyVars")
all(is.na(manipKeyVars$electcon) == is.na(manipGhostVars$electcon2))
all(is.na(manipKeyVars$electcon) == is.na(manipGhostVars$electcon3))
all(is.na(manipKeyVars$water) == is.na(manipGhostVars$water2))

## exclude some variables
obj &lt;- createSdcObj(testdata, keyVars=c("urbrur","roof","walls"), numVars="savings",
   weightVar=w, excludeVars=c("relat","electcon","hhcivil","ori_hid","expend"))
colnames(get.sdcMicroObj(obj, "origData"))

</code></pre>


</div>