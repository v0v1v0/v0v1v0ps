<div class="container">

<table style="width: 100%;"><tr>
<td>simIReff-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
<code>simIReff</code>: Stochastic Simulation for Information Retrieval Evaluation: Effectiveness Scores</h2>

<h3>Description</h3>

<p>Provides tools for the stochastic simulation of effectiveness scores to mitigate data-related
limitations of Information Retrieval evaluation research. These tools include:
</p>

<ul>
<li>
<p> Fitting of continuous and discrete distributions to model system effectiveness.
</p>
</li>
<li>
<p> Plotting of effectiveness distributions.
</p>
</li>
<li>
<p> Selection of distributions best fitting to given data.
</p>
</li>
<li>
<p> Transformation of distributions towards a prespecified expected value.
</p>
</li>
<li>
<p> Proxy to fitting of copula models based on these distributions.
</p>
</li>
<li>
<p> Simulation of new evaluation data from these distributions and copula models.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Juli√°n Urbano <a href="mailto:urbano.julian@gmail.com">urbano.julian@gmail.com</a>
</p>
<p>Other contributors:
</p>

<ul><li>
<p> Thomas Nagler <a href="mailto:thomas.nagler@tum.de">thomas.nagler@tum.de</a> [contributor]
</p>
</li></ul>
<h3>References</h3>

<p>J. Urbano and T. Nagler. (2018). Stochastic Simulation of Test Collections:
Evaluation Scores. ACM SIGIR.
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/julian-urbano/simIReff/">https://github.com/julian-urbano/simIReff/</a>
</p>
</li>
<li>
<p> Report bugs at <a href="https://github.com/julian-urbano/simIReff/issues">https://github.com/julian-urbano/simIReff/issues</a>
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
## Fit a marginal AP distribution and simulate new data
x &lt;- web2010ap[,10] # sample AP scores of a system
e &lt;- effContFitAndSelect(x, method = "BIC") # fit and select based on log-likelihood
plot(e) # plot pdf, cdf and quantile function
e$mean # expected value
y &lt;- reff(50, e) # simulation of 50 new topics

## Transform the distribution to have a pre-specified expected value
e2 &lt;- effTransform(e, mean = .14) # transform for expected value of .14
plot(e2)
e2$mean # check the result

## Build a copula model of two systems
d &lt;- web2010ap[,2:3] # sample AP scores
e1 &lt;- effCont_norm(d[,1]) # force the first margin to follow a truncated gaussian
e2 &lt;- effCont_bks(d[,2]) # force the second margin to follow a beta kernel-smoothed
cop &lt;- effcopFit(d, list(e1, e2)) # copula
y &lt;- reffcop(1000, cop) # simulation of 1000 new topics
c(e1$mean, e2$mean) # expected means
colMeans(y) # observed means

## Modify the model to both systems have the same distribution
cop2 &lt;- cop # copy the model
cop2$margins[[2]] &lt;- e1 # modify 2nd margin
y &lt;- reffcop(1000, cop2) # simulation of 1000 new topics
colMeans(y) # observed means

## Automatically build a gaussian copula to many systems
d &lt;- web2010p20[,1:20] # sample P@20 data from 20 systems
effs &lt;- effDiscFitAndSelect(d, support("p20")) # fit and select margins
cop &lt;- effcopFit(d, effs, family_set = "gaussian") # fit copula
y &lt;- reffcop(1000, cop) # simulate new 1000 topics

# compare observed vs. expected mean
E &lt;- sapply(effs, function(e) e$mean)
E.hat &lt;- colMeans(y)
plot(E, E.hat)
abline(0:1)

# compare observed vs. expected variance
Var &lt;- sapply(effs, function(e) e$var)
Var.hat &lt;- apply(y, 2, var)
plot(Var, Var.hat)
abline(0:1)

# compare distributions
o &lt;- order(colMeans(d))
boxplot(d[,o])
points(colMeans(d)[o], col = "red", pch = 4) # plot means
boxplot(y[,o])
points(colMeans(y)[o], col = "red", pch = 4) # plot means

</code></pre>


</div>