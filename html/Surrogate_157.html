<div class="container">

<table style="width: 100%;"><tr>
<td>SPF.BinBin</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Evaluate the surrogate predictive function (SPF) in the binary-binary setting (sensitivity-analysis based approach)
</h2>

<h3>Description</h3>

<p>Computes the surrogate predictive function (SPF) based on sensitivity-analyis, i.e., <code class="reqn">r(i,j)=P(\Delta T=i|\Delta S=j)</code>, in the setting where both <code class="reqn">S</code> and <code class="reqn">T</code> are binary endpoints. For example, <code class="reqn">r(-1,1)</code> quantifies the probability that the treatment has a negative effect on the true endpoint (<code class="reqn">\Delta T=-1</code>) given that it has a positive effect on the surrogate (<code class="reqn">\Delta S=1</code>). All quantities of interest are derived from the vectors of 'plausible values' for <code class="reqn">\pi</code> (i.e., vectors <code class="reqn">\pi</code> that are compatible with the observable data at hand). See <b>Details</b> below.
</p>


<h3>Usage</h3>

<pre><code class="language-R">SPF.BinBin(x)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A fitted object of class <code>ICA.BinBin</code>, <code>ICA.BinBin.Grid.Full</code>, or <code>ICA.BinBin.Grid.Sample</code>.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>All <code class="reqn">r(i,j)=P(\Delta T=i|\Delta S=j)</code> are derived from <code class="reqn">\pi</code> (vector of potential outcomes). Denote by <code class="reqn">\bold{Y}'=(T_0,T_1,S_0,S_1)</code> the vector of potential outcomes. The vector <code class="reqn">\bold{Y}</code> can take 16 values and the set of parameters <code class="reqn">\pi_{ijpq}=P(T_0=i,T_1=j,S_0=p,S_1=q)</code> (with <code class="reqn">i,j,p,q=0/1</code>) fully characterizes its distribution.
</p>
<p>Based on the data and assuming SUTVA, the marginal probabilites <code class="reqn">\pi_{1 \cdot 1 \cdot}</code>, <code class="reqn">\pi_{1 \cdot 0 \cdot}</code>, <code class="reqn">\pi_{\cdot 1 \cdot 1}</code>, <code class="reqn">\pi_{\cdot 1 \cdot 0}</code>, <code class="reqn">\pi_{0 \cdot 1 \cdot}</code>, and <code class="reqn">\pi_{\cdot 0 \cdot 1}</code> can be computed (by hand or using the function <code>MarginalProbs</code>). Define the vector 
</p>
<p style="text-align: center;"><code class="reqn">\bold{b}'=(1, \pi_{1 \cdot 1 \cdot}, \pi_{1 \cdot 0 \cdot}, \pi_{\cdot 1 \cdot 1}, \pi_{\cdot 1 \cdot 0}, \pi_{0 \cdot 1 \cdot}, \pi_{\cdot 0 \cdot 1})</code>
</p>
<p> and <code class="reqn">\bold{A}</code> is a contrast matrix such that the identified restrictions can be written as a system of linear equation
</p>
<p style="text-align: center;"><code class="reqn">\bold{A \pi} = \bold{b}.</code>
</p>

<p>The matrix <code class="reqn">\bold{A}</code> has rank <code class="reqn">7</code> and can be partitioned as <code class="reqn">\bold{A=(A_r | A_f)}</code>, and similarly the vector <code class="reqn">\bold{\pi}</code> can be partitioned as <code class="reqn">\bold{\pi^{'}=(\pi_r^{'} | \pi_f^{'})}</code> (where <code class="reqn">f</code> refers to the submatrix/vector given by the <code class="reqn">9</code> last columns/components of <code class="reqn">\bold{A/\pi}</code>). Using these partitions the previous system of linear equations can be rewritten as </p>
<p style="text-align: center;"><code class="reqn">\bold{A_r \pi_r + A_f \pi_f = b}.</code>
</p>

<p>The functions <code>ICA.BinBin</code>, <code>ICA.BinBin.Grid.Sample</code>, and  <code>ICA.BinBin.Grid.Full</code> contain algorithms that generate plausible distributions for <code class="reqn">\bold{Y}</code> (for details, see the documentation of these functions). Based on the output of these functions, <code>SPF.BinBin</code> computes the surrogate predictive function.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>r_1_1</code></td>
<td>
<p>The vector of values for <code class="reqn">r(1, 1)</code>, i.e., <code class="reqn">P(\Delta T=1|\Delta S=1</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r_min1_1</code></td>
<td>
<p>The vector of values for <code class="reqn">r(-1, 1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r_0_1</code></td>
<td>
<p>The vector of values for <code class="reqn">r(0, 1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r_1_0</code></td>
<td>
<p>The vector of values for <code class="reqn">r(1, 0)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r_min1_0</code></td>
<td>
<p>The vector of values for <code class="reqn">r(-1, 0)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r_0_0</code></td>
<td>
<p>The vector of values for <code class="reqn">r(0, 0)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r_1_min1</code></td>
<td>
<p>The vector of values for <code class="reqn">r(1, -1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r_min1_min1</code></td>
<td>
<p>The vector of values for <code class="reqn">r(-1, -1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r_0_min1</code></td>
<td>
<p>The vector of values for <code class="reqn">r(0, -1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Monotonicity</code></td>
<td>
<p>The assumption regarding monotonicity under which the result was obtained.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Wim Van der Elst, Paul Meyvisch, Ariel Alonso, &amp; Geert Molenberghs
</p>


<h3>References</h3>

<p>Alonso, A., Van der Elst, W., &amp; Molenberghs, G. (2015). Assessing a surrogate effect predictive value in a causal inference framework.
</p>


<h3>See Also</h3>

<p><code>ICA.BinBin</code>, <code>ICA.BinBin.Grid.Sample</code>, <code>ICA.BinBin.Grid.Full</code>, <code>plot.SPF.BinBin</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Use ICA.BinBin.Grid.Sample to obtain plausible values for pi
ICA_BINBIN_Grid_Sample &lt;- ICA.BinBin.Grid.Sample(pi1_1_=0.341, pi0_1_=0.119,
pi1_0_=0.254, pi_1_1=0.686, pi_1_0=0.088, pi_0_1=0.078, Seed=1,
Monotonicity=c("General"), M=2500)

# Obtain SPF
SPF &lt;- SPF.BinBin(ICA_BINBIN_Grid_Sample)

# examine results
summary(SPF)
plot(SPF)
</code></pre>


</div>