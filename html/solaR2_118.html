<div class="container">

<table style="width: 100%;"><tr>
<td>C_local2Solar</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Local time, mean solar time and UTC time zone.
</h2>

<h3>Description</h3>

<p>The function <code>local2Solar</code> converts the time zone of a <code>POSIXct</code> object to
the mean solar time and set its time zone to UTC as a synonym of mean
solar time. It includes two corrections:
the difference of longitudes between the location and the time zone, and
the daylight saving time.
</p>
<p>The function <code>lonHH</code> calculates the longitude (radians) of a time zone.
</p>


<h3>Usage</h3>

<pre><code class="language-R">local2Solar(x, lon = NULL)
lonHH(tz)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a <code>POSIXct</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lon</code></td>
<td>
<p>A numeric value of the longitude (degrees) of the
location. If <code>lon = NULL</code> (default), this value is assumed to
be equal to the longitude of the time zone of <code>x</code>, so only the
daylight saving time correction (if needed) is included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tz</code></td>
<td>
<p>A character, a time zone as documented in
<a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">https://en.wikipedia.org/wiki/List_of_tz_database_time_zones</a>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Since the result of <code>local2Solar</code> is the mean solar time, the
Equation of Time correction is not calculated with this function. The
<code>eot</code> function includes this correction if desired.
</p>


<h3>Value</h3>

<p>The function <code>local2Solar</code> produces a <code>POSIXct</code> object
with its time zone set to UTC.
</p>
<p>The function <code>lonHH</code> gives a numeric value.</p>


<h3>Note</h3>

<p>It is important to note that the <code>solaR2</code> package sets the system
time zone to <code>UTC</code> with <code>Sys.setenv(TZ = 'UTC')</code>.
</p>


<h3>Author(s)</h3>

<p>Oscar Perpiñán Lamigueiro,
Francisco Delgado López.</p>


<h3>References</h3>


<ul>
<li>
<p> Perpiñán, O, Energía Solar Fotovoltaica, 2015.
(<a href="https://oscarperpinan.github.io/esf/">https://oscarperpinan.github.io/esf/</a>)
</p>
</li>
<li>
<p> Perpiñán, O. (2012), "solaR: Solar Radiation and Photovoltaic
Systems with R", Journal of Statistical Software, 50(9), 1-32,
<a href="https://doi.org/10.18637/jss.v050.i09">doi:10.18637/jss.v050.i09</a>
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">t.local &lt;- as.POSIXct("2006-01-08 10:07:52", tz = 'Europe/Madrid')

##The local time zone and the location have the same longitude (15 degrees)
local2Solar(t.local)
##But Madrid is at lon = -3
local2Solar(t.local, lon = -3)

##Daylight saving time
t.local.dst &lt;- as.POSIXct("2006-07-08 10:07:52", tz = 'Europe/Madrid')

local2Solar(t.local.dst)
local2Solar(t.local.dst, lon = -3)

</code></pre>


</div>