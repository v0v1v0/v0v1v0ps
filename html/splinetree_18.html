<div class="container">

<table style="width: 100%;"><tr>
<td>projectedR2Forest</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Computes a level-based or shape-based evaluation metric for a splineforest.</h2>

<h3>Description</h3>

<p>Computes an R-squared-like evaluation metric for a spline forest. Goal is to see how well the predicted spline coefficients for each individual
match the spline coefficients obtained when fitting a spline only to this individual's data (we call these coefficients the true coefficients). Computes 1-SSE/SST, where SSE is the total
sum of squared projection errors of the true coefficients compared
to the predicted coefficients, and SST is the total sum of squared projection errors of the true coefficients compared to
the population mean coefficients. If this is an intercept forest, have the option to compute these sum of squares either with the intercept included or with the intercept ignored to isolate the shape.
</p>


<h3>Usage</h3>

<pre><code class="language-R">projectedR2Forest(forest, method = "oob", removeIntercept = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>forest</code></td>
<td>
<p>The output of a call to splineForest()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>How would you like to compute this metric? The choices are "oob", "itb", or "all".
"oob" means that predictions for a datapoint can only be made using trees for which that datapoint was
"out of the bag" (not in the random subsample). "all" means that all trees are used in the prediction for every
datapoint. "itb" means that predictions for a datapoint are made using only the trees for which this datapoint was IN the random subsample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>removeIntercept</code></td>
<td>
<p>If true, the projection sum of squared error is computed while ignoring the intercept coefficient.
This will help capture the tree's performance at clustering based on shape, not based on level.
This parameter is only meaningful if this forest was built using an intercept.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns 1-SSE/SST, where SSE is the total sum of squared projection errors of the true coefficients compared
to the predicted coefficients, and SST is the total sum of squared projection errors of the true coefficients compared to
the population mean coefficients.
</p>


<h3>Examples</h3>

<pre><code class="language-R">projectedR2Forest(forest, method="all", removeIntercept=TRUE)

projectedR2Forest(forest, method="all", removeIntercept=FALSE)

</code></pre>


</div>