<div class="container">

<table style="width: 100%;"><tr>
<td>compare_stages</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compare two staged event tree</h2>

<h3>Description</h3>

<p>Compare two staged event trees, return the differences of the stages
structure and plot the difference tree. Three different methods to
compute the difference tree are available (see Details).
</p>


<h3>Usage</h3>

<pre><code class="language-R">compare_stages(
  object1,
  object2,
  method = "naive",
  return_tree = FALSE,
  plot = FALSE,
  ...
)

hamming_stages(object1, object2, return_tree = FALSE)

diff_stages(object1, object2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object1</code></td>
<td>
<p>an object of class <code>sevt</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object2</code></td>
<td>
<p>an object of class <code>sevt</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>character, method to compare staged event trees.
One of: <code>"naive"</code>,
<code>"hamming"</code> or <code>"stages"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_tree</code></td>
<td>
<p>logical, if <code>TRUE</code> the difference tree is returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>logical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional parameters to be passed to <code>plot.sevt</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>compare_stages</code> tests if the stage structure of two <code>sevt</code>
objects
is the same.
Three methods are available:
</p>

<ul>
<li> <p><code>naive</code> first applies <code>stndnaming</code> to both
objects and then simply compares the resulting stage names.
</p>
</li>
<li> <p><code>hamming</code> uses the <code>hamming_stages</code> function that finds
a minimal subset of nodes which stages
must be changed to obtain the same structure.
</p>
</li>
<li> <p><code>stages</code> uses the <code>diff_stages</code> function that compares
stages to check whether the same stage structure is present in both models.
</p>
</li>
</ul>
<p>Setting <code>return_tree = TRUE</code> will return the stages
difference obtained with the selected method.
The stages difference is a list of numerical vectors with same
lengths and structure as <code>stages(object1)</code> or <code>stages(object2)</code>,
where values are 1 if the corresponding node has different
(with respect to the selected <code>method</code>) associated stage, and
0 otherwise.
</p>
<p>With <code>plot = TRUE</code> the plot of the difference tree is displayed.
</p>
<p>If <code>return_tree = FALSE</code> and <code>plot = FALSE</code>
the logical output is the same for the
three methods and thus the <code>naive</code> method should be used
since it is computationally faster.
</p>
<p><code>hamming_stages</code> finds a minimal set of nodes for which the associated stages
should be changed to obtain equivalent structures. To do that, a maximum-weight bipartite
matching problem between the stages of the two staged trees is solved using the
Hungarian method implemented in the <code>solve_LSAP</code> function of the <span class="pkg">clue</span>
package.
<code>hamming_stages</code> requires the package <code>clue</code>.
</p>


<h3>Value</h3>

<p><code>compare_stages</code>: if <code>return_tree = FALSE</code>, logical: <code>TRUE</code> if the two
models are exactly equal, otherwise <code>FALSE</code>.
Else if <code>return_tree = TRUE</code>, the differences between
the two trees, according to the selected <code>method</code>.
</p>
<p><code>hamming_stages</code>: if <code>return_tree = FALSE</code>, integer, the minimum
number of situations where the stage should be changed to obtain the same
models. If <code>return_tree = TRUE</code> a stages-like structure showing which
situations should be modified to obtain the same models.
</p>
<p><code>diff_stages</code>: a stages-like structure marking the situations belonging
to stages which are not the exactly equal.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("Asym")
mod1 &lt;- stages_bhc(full(Asym, lambda = 1))
mod2 &lt;- stages_fbhc(full(Asym, lambda = 1))
compare_stages(mod1, mod2)

##########
m0 &lt;- full(PhDArticles[, 1:4], lambda = 0)
m1 &lt;- stages_bhc(m0)
m2 &lt;- stages_bj(m0, distance = "totvar", thr = 0.25)
diff_stages(m1, m2)
</code></pre>


</div>