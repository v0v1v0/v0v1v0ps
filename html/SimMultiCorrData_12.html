<div class="container">

<table style="width: 100%;"><tr>
<td>error_vars</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate Variables for Error Loop</h2>

<h3>Description</h3>

<p>This function simulates the continuous, ordinal (r &gt;= 2 categories), Poisson, or Negative Binomial variables
used in <code>error_loop</code>.  It is called in each iteration, regenerates all variables, and calculates the
resulting correlation matrix.
This function would not ordinarily be called directly by the user.
</p>


<h3>Usage</h3>

<pre><code class="language-R">error_vars(marginal, support, method, means, vars, constants, lam, size, prob,
  mu, Sigma, rho_calc, q, r, k_cat, k_cont, k_pois, k_nb, Y_cat, Y, Yb, Y_pois,
  Y_nb, n, seed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>marginal</code></td>
<td>
<p>a list of length equal <code>k_cat</code>; the i-th element is a vector of the cumulative
probabilities defining the marginal distribution of the i-th variable;
if the variable can take r values, the vector will contain r - 1 probabilities (the r-th is assumed to be 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>support</code></td>
<td>
<p>a list of length equal <code>k_cat</code>; the i-th element is a vector of containing the r
ordered support values; if not provided, the default is for the i-th element to be the vector 1, ..., r</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>the method used to generate the continuous variables.  "Fleishman" uses a third-order polynomial transformation
and "Polynomial" uses Headrick's fifth-order transformation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>means</code></td>
<td>
<p>a vector of means for the continuous variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>a vector of variances</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constants</code></td>
<td>
<p>a matrix with <code>k_cont</code> rows, each a vector of constants c0, c1, c2, c3 (if <code>method</code> = "Fleishman") or
c0, c1, c2, c3, c4, c5 (if <code>method</code> = "Polynomial"), like that returned by
<code>find_constants</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lam</code></td>
<td>
<p>a vector of lambda (&gt; 0) constants for the Poisson variables (see <code>Poisson</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>a vector of size parameters for the Negative Binomial variables (see <code>NegBinomial</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>a vector of success probability parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu</code></td>
<td>
<p>a vector of mean parameters (*Note: either <code>prob</code> or <code>mu</code> should be supplied for all Negative Binomial variables,
not a mixture)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Sigma</code></td>
<td>
<p>the 2 x 2 intermediate correlation matrix generated by <code>error_loop</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho_calc</code></td>
<td>
<p>the 2 x 2 final correlation matrix calculated in <code>error_loop</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>the row index of the 1st variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>the column index of the 2nd variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k_cat</code></td>
<td>
<p>the number of ordinal (r &gt;= 2 categories) variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k_cont</code></td>
<td>
<p>the number of continuous variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k_pois</code></td>
<td>
<p>the number of Poisson variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k_nb</code></td>
<td>
<p>the number of Negative Binomial variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y_cat</code></td>
<td>
<p>the ordinal variables generated from <code>error_loop</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>the continuous (mean 0, variance 1) variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Yb</code></td>
<td>
<p>the continuous variables with desired mean and variance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y_pois</code></td>
<td>
<p>the Poisson variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y_nb</code></td>
<td>
<p>the Negative Binomial variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>the sample size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>the seed value for random number generation</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with the following components:
</p>
<p><code>Sigma</code> the intermediate MVN correlation matrix
</p>
<p><code>rho_calc</code> the calculated final correlation matrix generated from Sigma
</p>
<p><code>Y_cat</code> the ordinal variables
</p>
<p><code>Y</code> the continuous (mean 0, variance 1) variables
</p>
<p><code>Yb</code> the continuous variables with desired mean and variance
</p>
<p><code>Y_pois</code> the Poisson variables
</p>
<p><code>Y_nb</code> the Negative Binomial variables
</p>


<h3>References</h3>

<p>Please see references for <code>error_loop</code>.
</p>


<h3>See Also</h3>

<p><code>ordcont</code>, <code>rcorrvar</code>, <code>rcorrvar2</code>,
<code>error_loop</code>
</p>


</div>