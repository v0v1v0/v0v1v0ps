<div class="container">

<table style="width: 100%;"><tr>
<td>predict_weights</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Predict Weights of Samples in Terminal Nodes Based on a Survival Tree Fit (Data Supplied as a Dataframe)</h2>

<h3>Description</h3>

<p>The function 
<code>predict_weights</code> predicts weights of samples in terminal nodes based on a survival tree fit.
</p>


<h3>Usage</h3>

<pre><code class="language-R">predict_weights(
  survival_tree,
  numeric_predictor,
  factor_predictor,
  data,
  missing = "omit"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>survival_tree</code></td>
<td>
<p>a fitted survival tree</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numeric_predictor</code></td>
<td>
<p>a formula specifying the numeric predictors. 
As in <code>~x1+x2+x3</code>, the three numeric variables <code>x1</code>, <code>x2</code>, and <code>x3</code> are included as numeric predictors. 
<code>x1[i]</code>, <code>x2[i]</code>, and <code>x3[i]</code> are the predictors of the ith sample.
The best practice is to use the same variables names in the training and testing dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>factor_predictor</code></td>
<td>
<p>a formula specifying the numeric predictors. 
As in <code>~z1+z2+z3</code>, the three character variables <code>z1</code>, <code>z2</code>, and <code>z3</code> are included as factor predictors. 
<code>z1[i]</code>, <code>z2[i]</code>, and <code>z3[i]</code> are the predictors of the ith sample.
The best practice is to use the same variables names in the training and testing dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>the dataframe (test data) that stores the outcome and predictor variables.
Variables in the global environment will be used if <code>data</code> is missing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missing</code></td>
<td>
<p>a character value that specifies the handling of missing data. 
If <code>missing=="omit"</code>, samples with missing values in the splitting variables will be discarded.
If <code>missing=="majority"</code>, samples with missing values in the splitting variables will be assigned to the majority node.
If <code>missing=="weighted"</code>, samples with missing values in the splitting variables will be weighted by the weights of branch nodes.
The best practice is to use the same method as the trained random tree.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Predict Weights of Samples in Terminal Nodes Based on a Survival Tree Fit (Data Supplied as a Dataframe)
</p>


<h3>Value</h3>

<p>A weight matrix representing the weights of samples in each node.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(survival)
a_survival_tree&lt;-
  survival_tree(
    survival_outcome=Surv(time,status==2)~1,
    numeric_predictor=~age+ph.ecog+ph.karno+pat.karno+meal.cal,
    factor_predictor=~as.factor(sex),
    data=lung)
a_weight&lt;-
  predict_weights(
    a_survival_tree,
    numeric_predictor=~age+ph.ecog+ph.karno+pat.karno+meal.cal,
    factor_predictor=~as.factor(sex),
    data=lung)
</code></pre>


</div>