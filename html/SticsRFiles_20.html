<div class="container">

<table style="width: 100%;"><tr>
<td>get_param_txt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read STICS input parameters from text files</h2>

<h3>Description</h3>

<p>Read STICS model input parameters from a usm in text format
(STICS input)
Generally used after calling building a usm with <code>JavaSTICS</code>.
</p>
<p>Read a specific STICS model input parameter file.
Users would generally use the wrapper <code>get_param_txt()</code> instead.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_param_txt(
  workspace,
  param = NULL,
  plant_id = NULL,
  variety = NULL,
  value_id = NULL,
  exact = FALSE,
  stics_version = "latest",
  dirpath = lifecycle::deprecated(),
  ...
)

get_ini_txt(
  file = "ficini.txt",
  stics_version,
  filepath = lifecycle::deprecated()
)

get_general_txt(file = "tempopar.sti", filepath = lifecycle::deprecated())

get_tmp_txt(file = "tempoparv6.sti", filepath = lifecycle::deprecated())

get_plant_txt(
  file = "ficplt1.txt",
  variety = NULL,
  filepath = lifecycle::deprecated()
)

get_tec_txt(
  file = "fictec1.txt",
  stics_version = "latest",
  several_fert = NULL,
  several_thin = NULL,
  is_pasture = NULL,
  filepath = lifecycle::deprecated(),
  ...
)

get_soil_txt(
  file = "param.sol",
  stics_version,
  filepath = lifecycle::deprecated()
)

get_station_txt(file = "station.txt", filepath = lifecycle::deprecated())

get_usm_txt(
  file = "new_travail.usm",
  plant_id = NULL,
  filepath = lifecycle::deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>workspace</code></td>
<td>
<p>Path of the workspace containing the STICS (txt)
input files.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param</code></td>
<td>
<p>Vector of parameter names. Optional, if not provided,
the function returns an object with all parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plant_id</code></td>
<td>
<p>plant index (1, 2), default(NULL) calculated from from
plant number in STICS initialization file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variety</code></td>
<td>
<p>Integer. The plant variety to get the parameter from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value_id</code></td>
<td>
<p>index of technical interventions to be used to
retrieve parameter values, or layer index for soil parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exact</code></td>
<td>
<p>Boolean indicating if the function must return results
only for exact match.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stics_version</code></td>
<td>
<p>An optional version name as listed in
get_stics_versions_compat() return</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dirpath</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> <code>dirpath</code> is no
longer supported, use <code>workspace</code> instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments to pass (for future-proofing only)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>File path</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filepath</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> <code>filepath</code> is no
longer supported, use <code>file</code> instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>several_fert</code></td>
<td>
<p>Is there several fertilization in the USM ? See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>several_thin</code></td>
<td>
<p>Is there several thinning in the USM ? See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>is_pasture</code></td>
<td>
<p>Is the plant a pasture ? See details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If the <code>variety</code> is not given and a <code>param</code> is asked,
the function will return the values for the variety that is simulated in
the USM by checking the <code>variete</code> parameter in the technical file.
If <code>param</code> is not provided by the user, the values from all varieties
will be returned unless the user ask for a given <code>variety</code>.
</p>
<p><code>several_fert</code>, <code>several_thin</code> and <code>is_pasture</code> are read from
the tmp file (<code>tempoparv6.sti</code>). <code>get_param_txt()</code> does it automatically.
If you absolutely need to use directly <code>get_tec_txt</code>, please see example.
</p>


<h3>Value</h3>

<p>A list of parameters value(s),
or if <code>param = NULL</code> a list of all parameters:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>ini</code></td>
<td>
<p>Initialization parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>general</code></td>
<td>
<p>General parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tec</code></td>
<td>
<p>Technical parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plant</code></td>
<td>
<p>Plant parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>soil</code></td>
<td>
<p>Soil parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>station</code></td>
<td>
<p>Station parameters</p>
</td>
</tr>
</table>
<p>A list of parameters, depending on the file/function:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>ini</code></td>
<td>
<p>Initialization parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>general</code></td>
<td>
<p>General parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tec</code></td>
<td>
<p>Technical parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plant</code></td>
<td>
<p>Plant parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>soil</code></td>
<td>
<p>Soil parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>station</code></td>
<td>
<p>Station parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tmp</code></td>
<td>
<p>Temporary parameters</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>Users would generally use <code>get_param_txt</code> to identify parameters
names and values and pass them to other functions.
</p>
<p>The functions are compatible with intercrops. Users generally only use
<code>get_param_txt()</code>, which is a wrapper for all these functions.
</p>


<h3>See Also</h3>

<p><code>gen_varmod()</code>,
</p>
<p><code>get_param_txt()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">path &lt;- get_examples_path(file_type = "txt")

# Getting the interrow distance parameter value
get_param_txt(path, param = "interrang")

# Getting varietal parameters values
# Get the leaf lifespan of the variety used in the usm:
get_param_txt(workspace = path, param = "durvieF")
# Get the leaf lifespan of another variety available in the plant file:
get_param_txt(workspace = path, param = "durvieF", variety = "Furio")
# To get the values for several (or all) varieties, either put all varieties:
varieties &lt;- c("Pactol", "Cherif", "Furio", "Dunia", "Volga", "Cecilia")
get_param_txt(workspace = path, param = "durvieF", variety = varieties)
# Or get it from the output of the function returning all parameters:
get_param_txt(workspace = path)$plant$plant1$durvieF

# Get parameters for a specific plant
get_param_txt(workspace = path, plant_id = 1)
get_param_txt(workspace = path, param = "durvieF", plant_id = 1)
get_param_txt(workspace = path, param = "durvieF", plant_id = 1,
variety = varieties)

# Get parameters for specific interventions or soil layers
get_param_txt(workspace = path, param = "amount", value_id = c(1,3))
get_param_txt(workspace = path, param = "Hinitf", value_id = c(1,3))
get_param_txt(workspace = path, param = "epc", value_id = c(1,3))

## Not run: 
# Read the initialisation file (ficini.txt):
library(SticsRFiles)
path &lt;- file.path(get_examples_path(file_type = "txt"), "ficini.txt")
get_ini_txt(path)

# Read the tec file directly:

# First, get the parameters from the tmp file:
tmp &lt;- get_tmp_txt(file = file.path(get_examples_path(file_type = "txt"),
                                    "tempoparv6.sti"))
several_fert &lt;- ifelse(tmp$option_engrais_multiple == 1, TRUE, FALSE)
several_thin &lt;- ifelse(tmp$option_thinning == 1, TRUE, FALSE)
is_pasture &lt;- ifelse(tmp$option_pature == 1, TRUE, FALSE)

# Then, get the technical parameters:
get_tec_txt(
  file = file.path(get_examples_path(file_type = "txt"), "fictec1.txt"),
  several_fert = several_fert, several_thin = several_thin,
  is_pasture = is_pasture
)

## End(Not run)

</code></pre>


</div>