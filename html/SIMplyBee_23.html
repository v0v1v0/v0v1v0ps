<div class="container">

<table style="width: 100%;"><tr>
<td>calcColonyValue</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate colony value(s)</h2>

<h3>Description</h3>

<p>Level 0 function that calculate value(s) of a colony.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calcColonyValue(x, FUN = NULL, simParamBee = NULL, ...)

calcColonyPheno(x, FUN = mapCasteToColonyPheno, simParamBee = NULL, ...)

calcColonyGv(x, FUN = mapCasteToColonyGv, simParamBee = NULL, ...)

calcColonyBv(x, FUN = mapCasteToColonyBv, simParamBee = NULL, ...)

calcColonyDd(x, FUN = mapCasteToColonyDd, simParamBee = NULL, ...)

calcColonyAa(x, FUN = mapCasteToColonyAa, simParamBee = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>Colony-class</code> or <code>MultiColony-class</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>function, that calculates colony value from values of
colony members</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simParamBee</code></td>
<td>
<p><code>SimParamBee</code>, global simulation parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments of <code>FUN</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a matrix with one value or a row of values when <code>x</code> is
<code>Colony-class</code> and a row-named matrix when <code>x</code> is
<code>MultiColony-class</code>, where names are colony IDs
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>calcColonyPheno()</code>: Calculate colony phenotype value from caste individuals' phenotype values
</p>
</li>
<li> <p><code>calcColonyGv()</code>: Calculate colony genetic value from caste individuals' genetic values
</p>
</li>
<li> <p><code>calcColonyBv()</code>: Calculate colony breeding value from caste individuals' breeding values
</p>
</li>
<li> <p><code>calcColonyDd()</code>: Calculate colony dominance value from caste individuals' dominance values
</p>
</li>
<li> <p><code>calcColonyAa()</code>: Calculate colony epistasis value from caste individuals' epistasis value
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>mapCasteToColonyValue</code> as an example of <code>FUN</code>,
<code>selectColonies</code> for example for to select colonies based
on these values, and
<code>vignette(topic = "QuantitativeGenetics", package = "SIMplyBee")</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">founderGenomes &lt;- quickHaplo(nInd = 5, nChr = 1, segSites = 100)
SP &lt;- SimParamBee$new(founderGenomes)


# Define two traits that collectively affect colony honey yield:
# 1) queen's effect on colony honey yield, say via pheromone secretion phenotype
# 2) workers' effect on colony honey yield, say via foraging ability phenotype
# The traits will have a negative genetic correlation of -0.5 and heritability
# of 0.25 (on an individual level)
nWorkers &lt;- 10
mean &lt;- c(10, 10 / nWorkers)
varA &lt;- c(1, 1 / nWorkers)
corA &lt;- matrix(data = c(
  1.0, -0.5,
  -0.5, 1.0
), nrow = 2, byrow = TRUE)
varE &lt;- c(3, 3 / nWorkers)
varA / (varA + varE)
SP$addTraitADE(nQtlPerChr = 100,
               mean = mean,
               var = varA, corA = corA,
               meanDD = 0.1, varDD = 0.2, corD = corA,
               relAA = 0.1, corAA = corA)
SP$setVarE(varE = varE)

basePop &lt;- createVirginQueens(founderGenomes)
drones &lt;- createDrones(x = basePop[1], nInd = 200)
droneGroups &lt;- pullDroneGroupsFromDCA(drones, n = 10, nDrones = nFathersPoisson)

# Create and cross Colony and MultiColony class
colony &lt;- createColony(x = basePop[2])
colony &lt;- cross(colony, drones = droneGroups[[1]])
colony &lt;- buildUp(colony, nWorkers = nWorkers, nDrones = 3)
apiary &lt;- createMultiColony(basePop[3:5], n = 2)
apiary &lt;- cross(apiary, drones = droneGroups[c(2, 3)])
apiary &lt;- buildUp(apiary, nWorkers = nWorkers, nDrones = 3)

# Colony value - shorthand version
# (using the default mapCasteToColony*() functions - you can provide yours instead!)
# Phenotype value
calcColonyPheno(colony)
calcColonyPheno(apiary)
# Genetic value
calcColonyGv(colony)
calcColonyGv(apiary)

# Colony value - long version
# (using the default mapCasteToColony*() function - you can provide yours instead!)
calcColonyValue(colony, FUN = mapCasteToColonyPheno)
calcColonyValue(apiary, FUN = mapCasteToColonyPheno)

# Colony value - long version - using a function stored in SimParamBee (SP)
# (using the default mapCasteToColony*() function - you can provide yours instead!)
SP$colonyValueFUN &lt;- mapCasteToColonyPheno
calcColonyValue(colony)
calcColonyValue(apiary)

</code></pre>


</div>