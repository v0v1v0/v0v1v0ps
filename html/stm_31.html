<div class="container">

<table style="width: 100%;"><tr>
<td>plot.MultimodDiagnostic</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plotting Method for Multimodality Diagnostic Objects</h2>

<h3>Description</h3>

<p>The plotting method for objects of the S3 class 'MultimodDiagnostic', which
are returned by the function <code>multiSTM()</code>, which performs a battery of
tests aimed at assessing the stability of the local modes of an STM model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'MultimodDiagnostic'
plot(x, ind = NULL, topics = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of S3 class 'MultimodDiagnostic'. See
<code>multiSTM</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ind</code></td>
<td>
<p>An integer of list of integers specifying which plots to generate
(see details). If <code>NULL</code> (default), all plots are generated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>topics</code></td>
<td>
<p>An integer or vector of integers specifying the topics for
which to plot the posterior distribution of covariate effect estimates. If
<code>NULL</code> (default), plots are generated for every topic in the S3 object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments to be passed to the plotting functions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This methods generates a series of plots, which are indexed as follows. If a
subset of the plots is required, specify their indexes using the <code>ind</code>
argument. Please note that not all plot types are available for every object
of class 'MultimodDiagnostic': </p>
 <ol>
<li>
<p> Histogram of Expected
Common Words: Generates a 10-bin histogram of the column means of
<code>obj$wmat</code>, a K-by-N matrix reporting the number of "top words" shared
by the reference model and the candidate model. The "top words" for a given
topic are defined as the 10 highest-frequency words.  </p>
</li>
<li>
<p> Histogram of
Expected Common Documents: Generates a 10-bin histogram of the column means
of <code>obj$tmat</code>, a K-by-N matrix reporting the number of "top documents"
shared by the reference model and the candidate model. The "top documents"
for a given topic are defined as the 10 documents in the reference corpus
with highest topical frequency.  </p>
</li>
<li>
<p> Distribution of .95
Confidence-Interval Coverage for Regression Estimates: Generates a histogram
of <code>obj$confidence.ratings</code>, a vector whose entries specify the
proportion of regression coefficient estimates in a candidate model that
fall within the .95 confidence interval for the corresponding estimate in
the reference model. This can only be generated if
<code>obj$confidence.ratings</code> is non-<code>NULL</code>.  </p>
</li>
<li>
<p> Posterior
Distributions of Covariate Effect Estimates By Topic: Generates a square
matrix of plots, each depicting the posterior distribution of the regression
coefficients for the covariate specified in <code>obj$reg.parameter.index</code>
for one topic. The topics for which the plots are to be generated are
specified by the <code>topics</code> argument. If the length of <code>topics</code> is
not a perfect square, the plots matrix will include white space. The plots
have a dashed black vertical line at zero, and a continuous red vertical
line indicating the coefficient estimate in the reference model. This can
only be generated if <code>obj$cov.effects</code> is non-<code>NULL</code>.  </p>
</li>
<li>
<p>Histogram of Expected L1-Distance From Reference Model: Generates a 10-bin
histogram of the column means of <code>obj$lmat</code>, a K-by-N matrix reporting
the L1-distance of each topic from the corresponding one in the reference
model.  </p>
</li>
<li>
<p> L1-distance vs. Top-10 Word Metric: Produces a smoothed color
density representation of the scatterplot of <code>obj$lmat</code> and
<code>obj$wmat</code>, the metrics for L1-distance and shared top-words, obtained
through a kernel density estimate. This can be used to validate the metrics
under consideration.  </p>
</li>
<li>
<p> L1-distance vs. Top-10 Docs Metric: Produces a
smoothed color density representation of the scatterplot of <code>obj$lmat</code>
and <code>obj$tmat</code>, the metrics for L1-distance and shared top-documents,
obtained through a kernel density estimate. This can be used to validate the
metrics under consideration.  </p>
</li>
<li>
<p> Top-10 Words vs. Top-10 Docs Metric:
Produces a smoothed color density representation of the scatterplot of
<code>obj$wmat</code> and <code>obj$tmat</code>, the metrics for shared top-words and
shared top-documents, obtained through a kernel density estimate. This can
be used to validate the metrics under consideration.  </p>
</li>
<li>
<p> Maximized Bound
vs. Aggregate Top-10 Words Metric: Generates a scatter plot with linear
trendline for the maximized bound vector (<code>obj$lb</code>) and a linear
transformation of the top-words metric aggregated by model
(<code>obj$wmod/1000</code>).  </p>
</li>
<li>
<p> Maximized Bound vs. Aggregate Top-10 Docs
Metric: Generates a scatter plot with linear trendline for the maximized
bound vector (<code>obj$lb</code>) and a linear transformation of the top-docs
metric aggregated by model (<code>obj$tmod/1000</code>).  </p>
</li>
<li>
<p> Maximized Bound
vs. Aggregate L1-Distance Metric: Generates a scatter plot with linear
trendline for the maximized bound vector (<code>obj$lb</code>) and a linear
transformation of the L1-distance metric aggregated by model
(<code>obj$tmod/1000</code>).  </p>
</li>
<li>
<p> Top-10 Docs Metric vs. Semantic Coherence:
Generates a scatter plot with linear trendline for the reference-model
semantic coherence scores and the column means of <code>object$tmat</code>.  </p>
</li>
<li>
<p>L1-Distance Metric vs. Semantic Coherence: Generates a scatter plot with
linear trendline for the reference-model semantic coherence scores and the
column means of <code>object$lmat</code>.  </p>
</li>
<li>
<p> Top-10 Words Metric vs. Semantic
Coherence: Generates a scatter plot with linear trendline for the
reference-model semantic coherence scores and the column means of
<code>object$wmat</code>.  </p>
</li>
<li>
<p> Same as <code>5</code>, but using the limited-mass
L1-distance metric. Can only be generated if <code>obj$mass.threshold != 1</code>.
</p>
</li>
<li>
<p> Same as <code>11</code>, but using the limited-mass L1-distance metric. Can
only be generated if <code>obj$mass.threshold != 1</code>.  </p>
</li>
<li>
<p> Same as
<code>7</code>, but using the limited-mass L1-distance metric. Can only be
generated if <code>obj$mass.threshold != 1</code>.  </p>
</li>
<li>
<p> Same as <code>13</code>, but
using the limited-mass L1-distance metric. Can only be generated if
<code>obj$mass.threshold != 1</code>.  </p>
</li>
</ol>
<h3>Author(s)</h3>

<p>Brandon M. Stewart (Princeton University) and Antonio Coppola
(Harvard University)
</p>


<h3>References</h3>

<p>Roberts, M., Stewart, B., &amp; Tingley, D. (Forthcoming).
"Navigating the Local Modes of Big Data: The Case of Topic Models. In Data
Analytics in Social Science, Government, and Industry." New York: Cambridge
University Press.
</p>


<h3>See Also</h3>

<p><code>multiSTM</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

## Not run: 

# Example using Gadarian data

temp&lt;-textProcessor(documents=gadarian$open.ended.response, 
                    metadata=gadarian)
meta&lt;-temp$meta
vocab&lt;-temp$vocab
docs&lt;-temp$documents
out &lt;- prepDocuments(docs, vocab, meta)
docs&lt;-out$documents
vocab&lt;-out$vocab
meta &lt;-out$meta
set.seed(02138)
mod.out &lt;- selectModel(docs, vocab, K=3, 
                       prevalence=~treatment + s(pid_rep), 
                       data=meta, runs=20)

out &lt;- multiSTM(mod.out, mass.threshold = .75, 
                reg.formula = ~ treatment,
                metadata = gadarian)

plot(out)
plot(out, 1)

## End(Not run)
</code></pre>


</div>