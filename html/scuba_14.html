<div class="container">

<table style="width: 100%;"><tr>
<td>deco.ceiling</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Decompression Ceiling for a Diver
</h2>

<h3>Description</h3>

<p>Given the state of a diver's tissues,
find the diver's decompression ceiling depth (minimum permissible depth)
or decompression ceiling pressure (minimum permissible ambient
pressure).
</p>


<h3>Usage</h3>

<pre><code class="language-R">deco.ceiling(state, model, what = c("depth", "pressure"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>state</code></td>
<td>

<p>Diver's tissue saturations. See Details.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>

<p>Haldane type decompression model (object of class <code>"hm"</code>)
or one of the standard model names recognised by <code>pickmodel</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>what</code></td>
<td>

<p>What to calculate. See Details.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Given the current state of a diver's tissues,
this command calculates the diver's decompression ceiling:
the shallowest depth (or lowest ambient pressure) to which it is safe to
ascend.
</p>
<p>The argument <code>state</code> gives the diver's current state
or the diver's progressive state during a dive.
It has typically been calculated using <code>haldane</code>.
It should be either:
</p>

<ul>
<li>
<p>A numeric vector giving the diver's current nitrogen tensions
for each tissue. 
The length of the vector matches the number of tissues in
the <code>model</code>.
</p>
</li>
<li>
<p>A matrix giving the diver's current nitrogen and (if present)
helium tensions for each tissue. The rows of the matrix correspond to
tissues in the model. The first column (or the column labelled
<code>"N2"</code>) contains the nitrogen tensions, and if present, the second
column (or column labelled <code>"He"</code>) contains the helium
tensions.
</p>
</li>
<li>
<p>A three-dimensional array giving the progressive states of
the diver over time. The first index corresponds to time.
The second index corresponds to tissues in the model. The third
coordinate corresponds to inert gases <code>"N2"</code> and <code>"He"</code>.
</p>
</li>
</ul>
<p>Entries in the vector, matrix or array <code>state</code> are pressures
in atmospheres absolute (ata).
</p>
<p>The minimum tolerated ambient pressure <code>Pamb.tol</code> is calculated
using the equivalent of Buehlmann's formula (Buehlmann et al, 1995,
section 6.5, page 117). If <code>what="pressure"</code>, this minimum
tolerated ambient pressure is returned (negative pressures are reset
to zero). If <code>what="depth"</code> this pressure is converted to
diving depth in metres assuming that the surface pressure is 1 ata
(negative depths are reset to zero).
</p>


<h3>Value</h3>

<p>A numeric vector, matrix or array of the same type as <code>state</code>
and with the same dimensions as <code>state</code>,
giving the decompression ceiling for each tissue,
each inert gas, and each time point as given.
If <code>what="pressure"</code> the entries in the result are pressures
in ata. If <code>what="depth"</code> the entries are depths in metres.
</p>


<h3>Author(s)</h3>

<p>Adrian Baddeley <a href="mailto:Adrian.Baddeley@curtin.edu.au">Adrian.Baddeley@curtin.edu.au</a>.</p>


<h3>References</h3>

<p>Buehlmann, A.B., Voellm, E.B. and Nussberger, P. (2002)
Tauchmedizin. 5th edition. Springer-Verlag, Berlin.
ISBN 3-540-42979-4.
</p>


<h3>See Also</h3>

<p><code>hm</code> for decompression models.
</p>
<p><code>haldane</code> to calculate tissue tensions
during or after a dive.
</p>


<h3>Examples</h3>

<pre><code class="language-R">   # diver state after saturation diving on EANx30 at 20 metres
   s &lt;- saturated.state("Z", 20, nitrox(0.30))

   # decompression ceiling for each compartment
   depthceiling &lt;- deco.ceiling(s, "Z")
   round(depthceiling, 2)
   round(max(depthceiling), 2)
   # decompress at 8 metres or deeper

   # flying-after-diving with cabin pressure 0.8 ata
   pressureceiling &lt;- deco.ceiling(s, "Z", "pressure")
   round(pressureceiling, 2)
   any(pressureceiling &gt; 0.8)
   # immediate flying-after-diving is not safe
</code></pre>


</div>