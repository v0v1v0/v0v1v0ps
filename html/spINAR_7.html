<div class="container">

<table style="width: 100%;"><tr>
<td>spinar_penal_val</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Validated penalized semiparametric estimation of INAR models</h2>

<h3>Description</h3>

<p>Semiparametric penalized estimation of the autoregressive parameters and the innovation distribution of INAR(<code>p</code>) models,
<code class="reqn">\code{p} \in \{1,2\}</code>. The estimation is conducted by maximizing the penalized conditional likelihood of the model.
Included is a possible validation of one or both penalization parameters. If no validation is wanted, the function coincides
to the spinar_penal function of this package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">spinar_penal_val(
  x,
  p,
  validation,
  penal1 = NA,
  penal2 = NA,
  over = NA,
  folds = 10,
  init1 = 1,
  init2 = 1,
  progress = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>[<code>integer</code>]<br>
vector with integer observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>[<code>integer(1)</code>]<br>
order of the INAR model, where <code class="reqn">\code{p} \in \{1,2\}</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>validation</code></td>
<td>
<p>[<code>logical(1)</code>]<br>
indicates whether validation is wanted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>penal1</code></td>
<td>
<p>[<code>numeric(1)</code>]<br><code class="reqn">L_1</code> penalization parameter.
It will be ignored if <code>validation = TRUE</code> and <code>over</code> <code class="reqn">\in \{"both", "L_1"\}</code>. It is mandatory if <code>validation = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>penal2</code></td>
<td>
<p>[<code>numeric(1)</code>]<br><code class="reqn">L_2</code> penalization parameter.
It will be ignored if <code>validation = TRUE</code> and <code>over</code> <code class="reqn">\in \{"both", "L_2"\}</code>. It is mandatory if <code>validation = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>over</code></td>
<td>
<p>[<code>string(1)</code>]<br>
validation over <code>"both"</code> penalization parameters or only over <code>"L_1"</code> or <code>"L_2"</code>.
It is mandatory if <code>validation = TRUE</code>, otherwise it will be ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>folds</code></td>
<td>
<p>[<code>integer(1)</code>]<br>
number of folds for (cross) validation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init1</code></td>
<td>
<p>[<code>numeric(1)</code>]<br>
initial value for penal1 in validation. Default value is init1 = 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init2</code></td>
<td>
<p>[<code>numeric(1)</code>]<br>
initial value for penal2 in validation. Default value is init2 = 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress</code></td>
<td>
<p>[<code>logical(1)</code>]<br>
Should a nice progress bar be shown? Turning it off, could lead to significantly
faster calculation. Default is <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>validation = FALSE</code>, the function returns a vector containing the penalized estimated coefficients
<code class="reqn">\code{alpha}_1,...,\code{alpha}_p</code> and the penalized estimated entries of the pmf <code class="reqn">\code{pmf}_0, \code{pmf}_1</code>... where <code class="reqn">\code{pmf}_i</code> represents the probability of
an innovation being equal to <code class="reqn">i</code>.
</p>
<p>If <code>validation = TRUE</code>, the function returns a named list, where the first entry contains
the penalized estimated coefficients <code class="reqn">\code{alpha}_1,...,\code{alpha}_p</code> and the penalized estimated entries of the pmf <code class="reqn">\code{pmf}_0, \code{pmf}_1</code>,... where <code class="reqn">\code{pmf}_i</code> represents the probability of
an innovation being equal to <code class="reqn">i</code>. The second (and if <code>over = both</code> also the third entry) contain(s) the validated penalization parameter(s).
</p>


<h3>Examples</h3>

<pre><code class="language-R"># generate data
dat1 &lt;- spinar_sim(n = 50, p = 1, alpha = 0.5,
                   pmf = c(0.3, 0.3, 0.2, 0.1, 0.1))


# penalized semiparametric estimation with validation over L1
spinar_penal_val(x = dat1, p = 1, validation = TRUE, penal2 = 0.1,
                 over = "L1")
# penalized semiparametric estimation with validation over both L1 and L2
spinar_penal_val(x = dat1, p = 1, validation = TRUE, over = "both")

</code></pre>


</div>