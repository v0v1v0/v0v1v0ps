<div class="container">

<table style="width: 100%;"><tr>
<td>PROC.BinBin</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Evaluate the individual causal association (ICA) and reduction in probability of a prediction error (RPE) in the setting where both <code class="reqn">S</code> and <code class="reqn">T</code> are binary endpoints</h2>

<h3>Description</h3>

<p>The function <code>PROC.BinBin</code> assesses the ICA and RPE in the single-trial causal-inference framework when both the surrogate and the true endpoints are binary outcomes. It additionally allows to account for sampling variability by means of bootstrap. See <b>Details</b> below.</p>


<h3>Usage</h3>

<pre><code class="language-R">PROC.BinBin(Dataset=Dataset, Surr=Surr, True=True, Treat=Treat, 
BS=FALSE, seqs=250, MC_samples=1000, Seed=1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Dataset</code></td>
<td>
<p>A <code>data.frame</code> that should consist of one line per patient. Each line contains (at least) a binary surrogate value, a binary true endpoint value, and a treatment indicator. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Surr</code></td>
<td>
<p>The name of the variable in <code>Dataset</code> that contains the binary surrogate endpoint values. Should be coded as <code class="reqn">0</code> and <code class="reqn">1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>True</code></td>
<td>
<p>The name of the variable in <code>Dataset</code> that contains the binary true endpoint values. Should be coded as <code class="reqn">0</code> and <code class="reqn">1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Treat</code></td>
<td>
<p>The name of the variable in <code>Dataset</code> that contains the treatment indicators. The treatment indicator should be coded as <code class="reqn">1</code> for the experimental group and <code class="reqn">-1</code> for the control group. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BS</code></td>
<td>
<p>Logical. If <code>TRUE</code>, then Dataset will be bootstrapped to account for sampling variability. If <code>FALSE</code>, then no bootstrap is performed. See the <b>Details</b> section below. Default <code>FALSE</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seqs</code></td>
<td>
<p>The number of copies of the dataset that are produced or alternatively the number of bootstrap datasets that are produced. Default <code>seqs=250</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MC_samples</code></td>
<td>
<p>The number of Monte Carlo samples that need to be obtained per copy of the data set. Default <code>MC_samples=1000</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Seed</code></td>
<td>
<p>The seed to be used. Default <code>Seed=1</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In the continuous normal setting, surroagacy can be assessed by studying the association between the individual causal effects on <code class="reqn">S</code> and <code class="reqn">T</code> (see <code>ICA.ContCont</code>). In that setting, the Pearson correlation is the obvious measure of association.
</p>
<p>When <code class="reqn">S</code> and <code class="reqn">T</code> are binary endpoints, multiple alternatives exist. Alonso et al. (2016) proposed the individual causal association (ICA; <code class="reqn">R_{H}^{2}</code>), which captures the association between the individual causal effects of the treatment on <code class="reqn">S</code> (<code class="reqn">\Delta_S</code>) and <code class="reqn">T</code> (<code class="reqn">\Delta_T</code>) using information-theoretic principles. 
</p>
<p>The function <code>PPE.BinBin</code> computes <code class="reqn">R_{H}^{2}</code> using a grid-based approach where all possible combinations of the specified grids for the parameters that are allowed to vary freely are considered. It additionally computes the minimal probability of a prediction error (PPE) and the reduction on the PPE using information that <code class="reqn">S</code> conveys on <code class="reqn">T</code> (RPE). Both measures provide complementary information over the <code class="reqn">R_{H}^{2}</code> and facilitate more straightforward clinical interpretation. No assumption about monotonicity can be made. The function <code>PROC.BinBin</code> makes direct use of the function <code>PPE.BinBin</code>. However, it is computationally much faster thanks to equally dividing the number of Monte Carlo samples over copies of the input data. In addition, it allows to account for sampling variability using a bootstrap procedure. Finally, the function <code>PROC.BinBin</code> computes the marginal probabilities directly from the input data set. 
</p>


<h3>Value</h3>

<p>An object of class <code>PPE.BinBin</code> with components,
</p>
<table>
<tr style="vertical-align: top;">
<td><code>PPE</code></td>
<td>
<p>The vector of the PPE values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RPE</code></td>
<td>
<p>The vector of the RPE values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PPE_T</code></td>
<td>
<p>The vector of the <code class="reqn">PPE_T</code> values indicating the probability on a prediction error without using information on <code class="reqn">S</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R2_H</code></td>
<td>
<p>The vector of the <code class="reqn">R_H^2</code> values.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Paul Meyvisch, Wim Van der Elst, Ariel Alonso, Geert Molenberghs
</p>


<h3>References</h3>

<p>Alonso A,  Van der Elst W, Molenberghs G, Buyse M and Burzykowski T. (2016). An information-theoretic approach for the evaluation of surrogate endpoints based on causal inference. 
</p>
<p>Meyvisch P., Alonso A.,Van der Elst W, Molenberghs G.. Assessing the predictive value of a binary surrogate for a binary true endpoint, based on the minimum probability of a prediction error.
</p>


<h3>See Also</h3>

<p><code>PPE.BinBin</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Conduct the analysis 
 
## Not run:  # time consuming code part
library(Surrogate)
# load the CIGTS data 
data(CIGTS)
CIGTS_25000&lt;-PROC.BinBin(Dataset=CIGTS, Surr=IOP_12, True=IOP_96, 
Treat=Treat, BS=FALSE,seqs=250, MC_samples=100, Seed=1)

## End(Not run)

</code></pre>


</div>