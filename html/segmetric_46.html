<div class="container">

<table style="width: 100%;"><tr>
<td>db_functions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Database of metrics functions</h2>

<h3>Description</h3>

<p>These functions are used to register new metrics in the <code>segmetric</code>
database.
</p>

<ul>
<li> <p><code>sm_list_metrics()</code>: List all registered metrics.
</p>
</li>
<li> <p><code>sm_new_metric()</code>: Create a new metric entry to be registered in
the database.
</p>
</li>
<li> <p><code>sm_reg_metric()</code>: Register a new metric in the database.
</p>
</li>
<li> <p><code>sm_unreg_metric()</code>: Remove a metric entry from the database.
</p>
</li>
<li> <p><code>sm_desc_metric()</code>: Describe a metric registered from the database.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">.db_list()

.db_set(key, value)

.db_del(key)

.db_get(key)

sm_list_metrics()

sm_new_metric(
  fn,
  fn_subset,
  name = "",
  optimal = 0,
  summarizable = TRUE,
  description = "",
  reference = ""
)

sm_reg_metric(metric_id, entry)

sm_unreg_metric(metric_id)

sm_desc_metric(metric_id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fn</code></td>
<td>
<p>A <code>function</code> that receives a <code>segmetric</code> object and
returns the metric values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fn_subset</code></td>
<td>
<p>A <code>function</code> that returns a <code>subset</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>A <code>character</code> containing the metric name
(Defaults to <code>""</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>description</code></td>
<td>
<p>A <code>character</code> containing a description of the metric
(Defaults to <code>""</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference</code></td>
<td>
<p>A <code>character</code> with the reference to a scientific
literature describing the metric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metric_id</code></td>
<td>
<p>A <code>character</code> value containing a unique metric
identification.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>entry</code></td>
<td>
<p>A <code>metric_entry</code> object returned by <code>new_metric()</code>
function.</p>
</td>
</tr>
</table>
<h3>Value</h3>


<ul>
<li> <p><code>sm_list_metrics()</code>: Return <code>character</code> vector with supported metrics.
</p>
</li>
<li> <p><code>sm_new_metric()</code>: Return a <code>metric_entry</code> object containing the
metric function (<code>fn</code>), name (<code>name</code>), description (<code>description</code>), and
reference (<code>reference</code>).
</p>
</li>
<li> <p><code>sm_reg_metric()</code>, <code>sm_unreg_metric()</code>: No return value, called to
(un)register a metric.
</p>
</li>
<li> <p><code>sm_desc_metric()</code>: No return value, called to print a metric description.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">sm_reg_metric(
    metric_id = "Example",
    entry = sm_new_metric(
        fn = function(m, ...) {
            sm_area(sm_ytilde(m)) / 
                sm_area(sm_ref(m), order = sm_ytilde(m))
        },
        fn_subset = sm_ytilde,
        name = "Metric name example",
        description = paste("Values range from A to B.",
                            "Optimal value is C"),
        reference = "Author (Year)"
    ))

sm_desc_metric("Example")
sm_list_metrics()

</code></pre>


</div>