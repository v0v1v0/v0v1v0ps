<div class="container">

<table style="width: 100%;"><tr>
<td>spatstat.options</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Internal Options in Spatstat Package</h2>

<h3>Description</h3>

<p>Allows the user to examine and reset the values
of global parameters which control actions in the
<span class="pkg">spatstat</span> package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  spatstat.options(...)
  reset.spatstat.options()
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Either empty,
or a succession of parameter names in quotes,
or a succession of <code>name=value</code> pairs.
See below for the parameter names.
</p>
</td>
</tr></table>
<h3>Details</h3>

<p>The function <code>spatstat.options</code>
allows the user to examine and reset the values
of global parameters which control actions in the
<span class="pkg">spatstat</span> package.
It is analogous to the system function <code>options</code>.
</p>
<p>The function <code>reset.spatstat.options</code> resets all the
global parameters in <span class="pkg">spatstat</span> to their original,
default values.
</p>
<p>The global parameters of interest to the user are:
</p>

<dl>
<dt>checkpolygons</dt>
<dd>
<p>Logical flag indicating whether the functions
<code>owin</code> and <code>as.owin</code> should
apply very strict checks on the validity of polygon data. 
These strict checks are no longer necessary, and the default is
<code>checkpolygons=FALSE</code>.
See also <code>fixpolygons</code> below.
</p>
</dd>
<dt>checksegments</dt>
<dd>
<p>Logical flag indicating whether the functions
<code>psp</code> and <code>as.psp</code> should check
the validity of line segment data (in particular, checking that
the endpoints of the line segments are inside the specified
window). It is advisable to leave this flag set to <code>TRUE</code>. 
</p>
</dd>
<dt>dpp.maxmatrix</dt>
<dd>
<p>Integer specifying the maximum size of matrices
generated by <code>dppeigen</code>. Defaults to <code>2^24</code>.
</p>
</dd>
<dt>eroded.intensity</dt>
<dd>
<p>Logical flag affecting the behaviour of the
score and pseudo-score residual functions
<code>Gcom</code>, <code>Gres</code>
<code>Kcom</code>, <code>Kres</code>, 
<code>psstA</code>, 
<code>psstG</code>, 
<code>psst</code>.
The flag indicates whether to compute intensity estimates
on an eroded window (<code>eroded.intensity=TRUE</code>)
or on the original data window
(<code>eroded.intensity=FALSE</code>, the default). 
</p>
</dd>
<dt>expand</dt>
<dd>
<p>The default expansion factor (area inflation factor)
for expansion of the simulation window in
<code>rmh</code> (see <code>rmhcontrol</code>).
Initialised to <code>2</code>.
</p>
</dd>
<dt>expand.polynom</dt>
<dd>
<p>Logical. Whether expressions involving <code>polynom</code>
in a model formula should be expanded, so that
<code>polynom(x,2)</code> is replaced by <code>x + I(x^2)</code> and so on.
Initialised to <code>TRUE</code>.
</p>
</dd>
<dt>fastpois</dt>
<dd>
<p>Logical. Whether to use a fast algorithm
(introduced in <span class="pkg">spatstat 1.42-3</span>) for
simulating the Poisson point process in <code>rpoispp</code>
when the argument <code>lambda</code> is a pixel image.
Initialised to <code>TRUE</code>.
Should be set to <code>FALSE</code> if needed to guarantee repeatability
of results computed using earlier versions of <span class="pkg">spatstat</span>.
</p>
</dd>
<dt>fastthin</dt>
<dd>
<p>Logical. Whether to use a fast C language algorithm
(introduced in <span class="pkg">spatstat 1.42-3</span>) for
random thinning in <code>rthin</code> when the argument
<code>P</code> is a single number.
Initialised to <code>TRUE</code>.
Should be set to <code>FALSE</code> if needed to guarantee repeatability
of results computed using earlier versions of <span class="pkg">spatstat</span>.
</p>
</dd>
<dt>fastK.lgcp</dt>
<dd>
<p>Logical. Whether to use fast or slow algorithm to compute the
(theoretical) <code class="reqn">K</code>-function of a log-Gaussian Cox process
for use in <code>lgcp.estK</code> or <code>Kmodel</code>.
The slow algorithm uses accurate numerical integration; the
fast algorithm uses Simpson's Rule for numerical integration,
and is about two orders of magnitude faster.
Initialised to <code>FALSE</code>. 
</p>
</dd>
<dt>fixpolygons</dt>
<dd>
<p>Logical flag indicating whether the functions
<code>owin</code> and <code>as.owin</code> should
repair errors in polygon data. For example,
self-intersecting polygons and overlapping polygons will
be repaired. The default is <code>fixpolygons=TRUE</code>.
</p>
</dd>
<dt>fftw</dt>
<dd>
<p>Logical value indicating whether the two-dimensional
Fast Fourier Transform
should be computed using the package <span class="pkg">fftwtools</span>,
instead of the <code>fft</code> function in the <span class="pkg">stats</span> package.
This affects the speed of <code>density.ppp</code>,
<code>density.psp</code>, <code>blur</code>
<code>setcov</code> and <code>Smooth.ppp</code>.
</p>
</dd>
<dt>gpclib</dt>
<dd>
<p>Defunct. This parameter was used to permit or forbid the use of the
package <span class="pkg">gpclib</span>, because of its restricted software licence.
This package is no longer needed.
</p>
</dd>
<dt>huge.npoints</dt>
<dd>
<p>The maximum value of <code>n</code> for which <code>runif(n)</code> will
not generate an error (possible errors include failure to allocate
sufficient memory, and integer overflow of <code>n</code>).
An attempt to generate more than this number of random points
triggers a warning from <code>runifpoint</code> and other
functions. Defaults to <code>1e6</code>.
</p>
</dd>
<dt>image.colfun</dt>
<dd>
<p>Function determining the default colour map for
<code>plot.im</code>. When called with one integer argument
<code>n</code>, this function should return a character vector of length
<code>n</code> specifying <code>n</code> different colours.
</p>
</dd>
<dt>Kcom.remove.zeroes</dt>
<dd>
<p>Logical value, determining whether the algorithm in
<code>Kcom</code> and <code>Kres</code>
removes or retains the contributions to the function
from pairs of points that are identical. If these are
retained then the function has a jump at <code class="reqn">r=0</code>.
Initialised to <code>TRUE</code>.
</p>
</dd>
<dt>maxedgewt</dt>
<dd>
<p>Edge correction weights will be trimmed
so as not to exceed this value.
This applies to the weights computed by
<code>edge.Trans</code> or <code>edge.Ripley</code>
and used in <code>Kest</code> and its relatives.
</p>
</dd>
<dt>maxmatrix</dt>
<dd>
<p>The maximum permitted size (rows times columns)
of matrices generated by <span class="pkg">spatstat</span>'s internal code.
Used by <code>ppm</code> and <code>predict.ppm</code>
(for example) to decide when to
split a large calculation into blocks.
Defaults to <code>2^24=16777216</code>. 
</p>
</dd>
<dt>monochrome</dt>
<dd>
<p>Logical flag indicating whether graphics should be
plotted in grey scale (<code>monochrome=TRUE</code>) or
in colour (<code>monochrome=FALSE</code>, the default).
</p>
</dd>
<dt>n.bandwidth</dt>
<dd>
<p>Integer. Number of trial values of smoothing bandwidth to use for
cross-validation in <code>bw.relrisk</code> and similar
functions.
</p>
</dd>
<dt>ndummy.min</dt>
<dd>
<p>The minimum number of dummy points in a quadrature scheme
created by <code>default.dummy</code>.
Either an integer or a pair of integers
giving the minimum number of dummy points in the <code>x</code> and <code>y</code>
directions respectively. 
</p>
</dd>
<dt>ngrid.disc</dt>
<dd>
<p>Number of points in the square grid used to compute
a discrete approximation to the areas of discs
in <code>areaLoss</code> and <code>areaGain</code>
when exact calculation is not available.
A single integer.
</p>
</dd>
<dt>npixel</dt>
<dd>
<p>Default number of pixels in a binary mask or pixel image.
Either an integer, or a pair of integers,
giving the number of pixels in the <code>x</code> and <code>y</code>
directions respectively.
</p>
</dd>
<dt>nvoxel</dt>
<dd>
<p>Default number of voxels in a 3D image,
typically for calculating the distance transform in <code>F3est</code>.
Initialised to 4 megavoxels: <code>nvoxel = 2^22 = 4194304</code>.
</p>
</dd>
<dt>par.binary</dt>
<dd>
<p>List of arguments to be passed to the function
<code>image</code>
when displaying a binary image mask (in <code>plot.owin</code>
or <code>plot.ppp</code>).
Typically used to reset the colours of foreground and background.
</p>
</dd>
<dt>par.contour</dt>
<dd>
<p>List of arguments controlling contour plots of pixel images
by <code>contour.im</code>.
</p>
</dd>
<dt>par.fv</dt>
<dd>
<p>List of arguments controlling the plotting of functions 
by <code>plot.fv</code> and its relatives.
</p>
</dd>
<dt>par.persp</dt>
<dd>
<p>List of arguments to be passed to the function
<code>persp</code>
when displaying a real-valued image, such as the fitted surfaces
in <code>plot.ppm</code>.
</p>
</dd>
<dt>par.points</dt>
<dd>
<p>List of arguments controlling the plotting of point patterns
by <code>plot.ppp</code>.
</p>
</dd>
<dt>par.pp3</dt>
<dd>
<p>List of arguments controlling the plotting of three-dimensional
point patterns by <code>plot.pp3</code>.
</p>
</dd>
<dt>print.ppm.SE</dt>
<dd>
<p>Default rule used by <code>print.ppm</code>
to decide whether to calculate and print standard errors
of the estimated coefficients of the model.
One of the strings <code>"always"</code>, <code>"never"</code> or
<code>"poisson"</code> (the latter indicating that standard errors
will be calculated only for Poisson models). The default is
<code>"poisson"</code> because the calculation for non-Poisson models
can take a long time.
</p>
</dd>
<dt>progress</dt>
<dd>
<p>Character string determining the style of progress reports
printed by <code>progressreport</code>. Either
<code>"tty"</code>, <code>"tk"</code> or <code>"txtbar"</code>.
For explanation of these options, see <code>progressreport</code>.
</p>
</dd>
<dt>project.fast</dt>
<dd>
<p>Logical. If <code>TRUE</code>, the algorithm of
<code>project.ppm</code>
will be accelerated using a shorcut.
Initialised to <code>FALSE</code>.
</p>
</dd>
<dt>psstA.ngrid</dt>
<dd>
<p>Single integer, 
controlling the accuracy of the discrete approximation
of areas computed in the function <code>psstA</code>.
The area of a disc is approximated by counting points on
an <code class="reqn">n \times n</code> grid.
Initialised to 32.
</p>
</dd>
<dt>psstA.nr</dt>
<dd>
<p>Single integer,
determining the number of distances <code class="reqn">r</code>
at which the function <code>psstA</code> will be evaluated
(in the default case where argument <code>r</code> is absent).
Initialised to 30.
</p>
</dd>
<dt>psstG.remove.zeroes</dt>
<dd>
<p>Logical value, determining whether the algorithm in
<code>psstG</code> 
removes or retains the contributions to the function
from pairs of points that are identical. If these are
retained then the function has a jump at <code class="reqn">r=0</code>.
Initialised to <code>TRUE</code>.
</p>
</dd>
<dt>rmh.p, rmh.q, rmh.nrep</dt>
<dd>
<p>New default values for the parameters <code>p</code>, <code>q</code>
and <code>nrep</code> in the Metropolis-Hastings simulation
algorithm. These override the defaults
in <code>rmhcontrol.default</code>.
</p>
</dd>
<dt>scalable</dt>
<dd>
<p>Logical flag indicating whether the new code in <code>rmh.default</code>
which makes the results scalable (invariant to change of units)
should be used.  In order to recover former behaviour (so that
previous results can be reproduced) set this option equal to
<code>FALSE</code>.  See the “Warning” section in the help for
<code>rmh()</code> for more detail.
</p>
</dd>
<dt>terse</dt>
<dd>
<p>Integer between 0 and 4.
The level of terseness (brevity) in printed output
from many functions in <span class="pkg">spatstat</span>.
Higher values mean shorter output.
A rough guide is the following:
</p>

<table>
<tr>
<td style="text-align: left;">
	0 </td>
<td style="text-align: left;"> Full output</td>
</tr>
<tr>
<td style="text-align: left;">
        1 </td>
<td style="text-align: left;"> Avoid wasteful output </td>
</tr>
<tr>
<td style="text-align: left;">
        2 </td>
<td style="text-align: left;"> Remove space between paragraphs</td>
</tr>
<tr>
<td style="text-align: left;">
        3 </td>
<td style="text-align: left;"> Suppress extras such as standard errors </td>
</tr>
<tr>
<td style="text-align: left;">
        4 </td>
<td style="text-align: left;"> Compress text, suppress internal warnings
      </td>
</tr>
</table>
<p>The value of <code>terse</code> is initialised to 0.
</p>
</dd>
<dt>transparent</dt>
<dd>
<p>Logical value indicating whether default colour maps
are allowed to include semi-transparent colours, where possible.
Default is <code>TRUE</code>.
Currently this only affects <code>plot.ppp</code>. 
</p>
</dd>
<dt>units.paren</dt>
<dd>
<p>The kind of parenthesis which encloses the text that
explains a <code>unitname</code>. This text is seen in
the text output of functions like <code>print.ppp</code> and
in the graphics generated by <code>plot.fv</code>.
The value should be one of the character strings <code>'('</code>, <code>'['</code>,
<code>'{'</code> or <code>''</code>. The default is <code>'('</code>.
</p>
</dd>
</dl>
<p>If no arguments are given, 
the current values of all parameters are returned,
in a list.
</p>
<p>If one parameter name is given, the current value of this
parameter is returned (<b>not</b> in a list, just the value).
</p>
<p>If several parameter names are given,
the current values of these parameters are returned, in a list.
</p>
<p>If <code>name=value</code> pairs are given, the named parameters
are reset to the given values, and the <b>previous</b> values of
these parameters are returned, in a list.
</p>


<h3>Value</h3>

<p>Either a list of parameters and their values,
or a single value. See Details.
</p>


<h3>Internal parameters</h3>

<p>The following parameters may also be specified to
<code>spatstat.options</code> but are intended for
software development or testing purposes.
</p>

<dl>
<dt>closepairs.newcode</dt>
<dd>
<p>Logical. Whether to use new version of the
code for <code>closepairs</code>.
Initialised to <code>TRUE</code>.
</p>
</dd>
<dt>crossing.psp.useCall</dt>
<dd>
<p>Logical. Whether to use new version of the
code for <code>crossing.psp</code>.
Initialised to <code>TRUE</code>.
</p>
</dd>
<dt>crosspairs.newcode</dt>
<dd>
<p>Logical. Whether to use new version of the
code for <code>crosspairs</code>.
Initialised to <code>TRUE</code>.
</p>
</dd>
<dt>densityC</dt>
<dd>
<p>Logical. 
Indicates whether to use accelerated C code
(<code>densityC=TRUE</code>) or interpreted R code (<code>densityC=FALSE</code>)
to evaluate <code>density.ppp(X, at="points")</code>.
Initialised to <code>TRUE</code>.
</p>
</dd>
<dt>exactdt.checks.data</dt>
<dd>
<p>Logical.
Do not change this value, unless you are
Adrian Baddeley <a href="mailto:Adrian.Baddeley@curtin.edu.au">Adrian.Baddeley@curtin.edu.au</a>. 
</p>
</dd>
<dt>fasteval</dt>
<dd>
<p>One of the strings <code>'off'</code>, <code>'on'</code> or
<code>'test'</code> determining whether to use accelerated C code
to evaluate the conditional intensity of a Gibbs model.
Initialised to <code>'on'</code>.
</p>
</dd>
<dt>old.morpho.psp</dt>
<dd>
<p>Logical. Whether to use old R code for
morphological operations.
Initialise to <code>FALSE</code>.
</p>
</dd>
<dt>selfcrossing.psp.useCall</dt>
<dd>
<p>Logical. Whether to use new version of the
code for <code>selfcrossing.psp</code>.
Initialised to <code>TRUE</code>.
</p>
</dd>
<dt>use.Krect</dt>
<dd>
<p>Logical. Whether to use specialised code for the
K-function in a rectangular window.
Initialised to <code>TRUE</code>.
</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Adrian Baddeley <a href="mailto:Adrian.Baddeley@curtin.edu.au">Adrian.Baddeley@curtin.edu.au</a>, Rolf Turner <a href="mailto:rolfturner@posteo.net">rolfturner@posteo.net</a> and Ege Rubak <a href="mailto:rubak@math.aau.dk">rubak@math.aau.dk</a>.
</p>


<h3>See Also</h3>

<p><code>options</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  # save current values whatever they are
  oldopt &lt;- spatstat.options()

  spatstat.options("npixel")
  spatstat.options(npixel=150)
  spatstat.options(npixel=c(100,200))

  spatstat.options(par.binary=list(col=grey(c(0.5,1))))

  spatstat.options(par.persp=list(theta=-30,phi=40,d=4))
  # see help(persp.default) for other options

  # revert to the state at the beginning of these examples
  spatstat.options(oldopt)

  # revert to 'factory defaults'
  reset.spatstat.options()
</code></pre>


</div>