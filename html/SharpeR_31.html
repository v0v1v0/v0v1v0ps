<div class="container">

<table style="width: 100%;"><tr>
<td>power.sr_test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Power calculations for Sharpe ratio tests</h2>

<h3>Description</h3>

<p>Compute power of test, or determine parameters to obtain target power.
</p>


<h3>Usage</h3>

<pre><code class="language-R">power.sr_test(n=NULL,zeta=NULL,sig.level=0.05,power=NULL,
              alternative=c("one.sided","two.sided"),ope=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Number of observations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zeta</code></td>
<td>
<p>the 'signal-to-noise' parameter, defined as the population
mean divided by the population standard deviation, 'annualized'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig.level</code></td>
<td>
<p>Significance level (Type I error probability).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>Power of test (1 minus Type II error probability).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>One- or two-sided test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ope</code></td>
<td>
<p>the number of observations per 'epoch'. For convenience of
interpretation, The Sharpe ratio is typically quoted in 'annualized' 
units for some epoch, that is, 'per square root epoch', though returns 
are observed at a frequency of <code>ope</code> per epoch. 
The default value is 1, meaning the code will not attempt to guess
what the observation frequency is, and no annualization adjustments
will be made.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Suppose you perform a single-sample test for significance of the
Sharpe ratio based on the corresponding single-sample t-test. 
Given any three of: the effect size (the population SNR, <code class="reqn">\zeta</code>), 
the number of observations, and the type I and type II rates,
this function computes the fourth.
</p>
<p>See ‘The Sharpe Ratio: Statistics and Applications’,
section 2.5.8.
</p>
<p>This is a thin wrapper on <code>power.t.test</code>.
</p>
<p>Exactly one of the parameters <code>n</code>, <code>zeta</code>, <code>power</code>, and 
<code>sig.level</code> must be passed as NULL, and that parameter is determined 
from the others.  Notice that <code>sig.level</code> has non-NULL default, so NULL 
must be explicitly passed if you want to compute it.
</p>


<h3>Value</h3>

<p>Object of class <code>power.htest</code>, a list of the arguments
(including the computed one) augmented with <code>method</code>, <code>note</code>
and <code>n.epoch</code> elements, the latter is the number of epochs 
under the given annualization (<code>ope</code>), <code>NA</code> if none given.
</p>


<h3>Author(s)</h3>

<p>Steven E. Pav <a href="mailto:shabbychef@gmail.com">shabbychef@gmail.com</a>
</p>


<h3>References</h3>

<p>Sharpe, William F. "Mutual fund performance." Journal of business (1966): 119-138.
<a href="https://ideas.repec.org/a/ucp/jnlbus/v39y1965p119.html">https://ideas.repec.org/a/ucp/jnlbus/v39y1965p119.html</a>
</p>
<p>Johnson, N. L., and Welch, B. L. "Applications of the non-central t-distribution."
Biometrika 31, no. 3-4 (1940): 362-389. doi: <a href="https://doi.org/10.1093/biomet/31.3-4.362">10.1093/biomet/31.3-4.362</a>
</p>
<p>Pav, S. E. "The Sharpe Ratio: Statistics and Applications." CRC Press, 2021.
</p>
<p>Lehr, R. "Sixteen S-squared over D-squared: A relation for crude 
sample size estimates." Statist. Med., 11, no 8 (1992): 1099–1102. 
doi: <a href="https://doi.org/10.1002/sim.4780110811">10.1002/sim.4780110811</a>
</p>


<h3>See Also</h3>

<p><code>reannualize</code>
</p>
<p><code>power.t.test</code>, <code>sr_test</code>
</p>
<p>Other sr: 
<code>as.sr()</code>,
<code>confint.sr()</code>,
<code>dsr()</code>,
<code>is.sr()</code>,
<code>plambdap()</code>,
<code>predint()</code>,
<code>print.sr()</code>,
<code>reannualize()</code>,
<code>se()</code>,
<code>sr_equality_test()</code>,
<code>sr_test()</code>,
<code>sr_unpaired_test()</code>,
<code>sr_vcov()</code>,
<code>sr</code>,
<code>summary.sr</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">anex &lt;- power.sr_test(253,1,0.05,NULL,ope=253) 
anex &lt;- power.sr_test(n=253,zeta=NULL,sig.level=0.05,power=0.5,ope=253) 
anex &lt;- power.sr_test(n=NULL,zeta=0.6,sig.level=0.05,power=0.5,ope=253) 
# Lehr's Rule 
zetas &lt;- seq(0.1,2.5,length.out=51)
ssizes &lt;- sapply(zetas,function(zed) { 
  x &lt;- power.sr_test(n=NULL,zeta=zed,sig.level=0.05,power=0.8,
       alternative="two.sided",ope=253)
  x$n / 253})
# should be around 8.
print(summary(ssizes * zetas * zetas))
# e = n z^2 mnemonic approximate rule for 0.05 type I, 50% power
ssizes &lt;- sapply(zetas,function(zed) { 
  x &lt;- power.sr_test(n=NULL,zeta=zed,sig.level=0.05,power=0.5,ope=253)
  x$n / 253 })
print(summary(ssizes * zetas * zetas - exp(1)))

</code></pre>


</div>