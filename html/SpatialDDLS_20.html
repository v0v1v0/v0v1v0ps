<div class="container">

<table style="width: 100%;"><tr>
<td>DeconvDLModel-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>The DeconvDLModel Class</h2>

<h3>Description</h3>

<p>The <code>DeconvDLModel</code> object stores all the information
related to deep neural network models. It consists of the trained model, the
training history, and the predictions on test data. After running
<code>calculateEvalMetrics</code>, it is possible to find the performance
evaluation of the model on test data (see <code>?calculateEvalMetrics</code>
for details).
</p>


<h3>Details</h3>

<p>The steps related to Deep Learning are carried out using the <span class="pkg">keras</span> and
<span class="pkg">tensorflow</span> packages, which use the R6 classes system. If you want to
save the <code>DeconvDLModel</code> object as an RDS file,
<span class="pkg">SpatialDDLS</span> provides a <code>saveRDS</code> generic function that transforms
the R6 object containing the trained model into a native valid R object.
Specifically, the model is converted into a list with the architecture of the
network and the weights learned during training, which is the minimum
information needed to use the model as a predictor. If you want to keep the
optimizer state, see <code>?saveTrainedModelAsH5</code>. If you want to
store either the <code>DeconvDLModel</code> or the
<code>SpatialDDLS</code> objects on disk as RDA files, see
<code>?preparingToSave</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>model</code></dt>
<dd>
<p>Trained deep neural network. This slot can contain an R6
<code>keras.engine.sequential.Sequential</code> object or a list with two
elements: the architecture of the model and the resulting weights after
training.</p>
</dd>
<dt><code>training.history</code></dt>
<dd>
<p>List with the evolution of the selected metrics during
training.</p>
</dd>
<dt><code>test.metrics</code></dt>
<dd>
<p>Performance of the model on test data.</p>
</dd>
<dt><code>test.pred</code></dt>
<dd>
<p>Predicted cell type proportions on test data.</p>
</dd>
<dt><code>cell.types</code></dt>
<dd>
<p>Vector with cell types considered by the model.</p>
</dd>
<dt><code>features</code></dt>
<dd>
<p>Vector with features (genes) considered by the model. These
features will be used for subsequent predictions.</p>
</dd>
<dt><code>test.deconv.metrics</code></dt>
<dd>
<p>Performance of the model on test data by cell type.
This slot is generated by the <code>calculateEvalMetrics</code> function
(see <code>?calculateEvalMetrics</code> for more details).</p>
</dd>
<dt><code>interpret.gradients</code></dt>
<dd>
<p>Gradients for interpretation. <span class="pkg">SpatialDDLS</span>
provides some functions to better understand prediction made by the model
(see <code>?interGradientsDL</code> for more details). This slot is a list
of either one or two elements: gradients of either the loss function or the
predicted class with respect to the input variables using pure (only one
cell type) mixed transcriptional profiles. These gradients can be
interpreted as to what extent the model is using these variables to predict
each cell type proportions.</p>
</dd>
</dl>
</div>