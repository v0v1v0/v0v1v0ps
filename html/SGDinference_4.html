<div class="container">

<table style="width: 100%;"><tr>
<td>sgdi_qr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Averaged S-subGD and its Inference via Random Scaling in Linear Quantile Regression</h2>

<h3>Description</h3>

<p>Compute the averaged S-subGD (stochastic subgradient) estimator for the coefficients in linear quantile regression and conduct inference via random scaling method.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sgdi_qr(
  formula,
  data,
  gamma_0 = NULL,
  alpha = 0.501,
  burn = 1,
  inference = "rs",
  bt_start = NULL,
  qt = 0.5,
  studentize = TRUE,
  no_studentize = 100L,
  intercept = TRUE,
  rss_idx = c(1),
  level = 0.95,
  path = FALSE,
  path_index = c(1)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>formula. The response is on the left of a ~ operator. The terms are on the right of a ~ operator, separated by a + operator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>an optional data frame containing variables in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma_0</code></td>
<td>
<p>numeric. A tuning parameter for the learning rate (gamma_0 x t ^ alpha). Default is NULL and it is determined by the adaptive method in Lee et al. (2023).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>numeric. A tuning parameter for the learning rate (gamma_0 x t ^ alpha). Default is 0.501.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>burn</code></td>
<td>
<p>numeric. A tuning parameter for "burn-in" observations. 
We burn-in up to (burn-1) observations and use observations from (burn) for estimation. Default is 1, i.e. no burn-in.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inference</code></td>
<td>
<p>character. Specifying the inference method. Default is "rs" (random scaling matrix for joint inference using all the parameters). 
"rss" is for ransom scaling subset inference. This option requires that "rss_indx" should be provided.
"rsd" is for the diagonal elements of the random scaling matrix, excluding one for the intercept term.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bt_start</code></td>
<td>
<p>numeric. (p x 1) vector, excluding the intercept term. User-provided starting value. Default is NULL. Then, it is estimated by conquer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qt</code></td>
<td>
<p>numeric. Quantile. Default is 0.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>studentize</code></td>
<td>
<p>logical. Studentize regressors. Default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>no_studentize</code></td>
<td>
<p>numeric. The number of observations to compute the mean and std error for studentization. Default is 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intercept</code></td>
<td>
<p>logical. Use the intercept term for regressors. Default is TRUE. 
If this option is TRUE, the first element of the parameter vector is the intercept term.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rss_idx</code></td>
<td>
<p>numeric. Index of x for random scaling subset inference. Default is 1, the first regressor of x. 
For example, if we want to focus on the 1st and 3rd covariates of x, then set it to be c(1,3).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>numeric. The confidence level required. Default is 0.95. Can choose 0.90 and 0.80.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>logical. The whole path of estimation results is out. Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path_index</code></td>
<td>
<p>numeric. A vector of indices to print out the path. Default is 1.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>"sgdi"</code>, which is a list containing the following
</p>

<dl>
<dt><code>coefficients</code></dt>
<dd>
<p>a vector of estimated parameter values</p>
</dd>
<dt><code>V</code></dt>
<dd>
<p>a random scaling matrix depending on the inference method</p>
</dd>
<dt><code>ci.lower</code></dt>
<dd>
<p>a vector of lower confidence limits</p>
</dd>
<dt><code>ci.upper</code></dt>
<dd>
<p>a vector of upper confidence limits</p>
</dd>
<dt><code>inference</code></dt>
<dd>
<p>character that specifies the inference method</p>
</dd>
<dt><code>level</code></dt>
<dd>
<p>The confidence level required. Default is 0.95.</p>
</dd>
<dt><code>path_coefficients</code></dt>
<dd>
<p>The path of coefficients.</p>
</dd>
</dl>
<h3>Note</h3>

<p>The dimension of <code>coefficients</code> is (p+1) if <code>intercept</code>=TRUE or p otherwise.
The random scaling matrix <code>V</code> is a full matrix if "rs" is chosen;
it is a scalar or smaller matrix, depending on the specification of "rss_indx" if "rss" is selected;
it is a vector of diagonal elements of the full matrix if "rsd" is selected. 
In this case, the first element is missing if the intercept is included.
The confidence intervals may contain NA under "rss" and "rsd".
</p>


<h3>Examples</h3>

<pre><code class="language-R">n = 1e05
p = 5
bt0 = rep(5,p)
x = matrix(rnorm(n*(p-1)), n, (p-1))
y = cbind(1,x) %*% bt0 + rnorm(n)
my.dat = data.frame(y=y, x=x)
sgdi.out = sgdi_qr(y~., data=my.dat)
</code></pre>


</div>