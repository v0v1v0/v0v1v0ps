<div class="container">

<table style="width: 100%;"><tr>
<td>PCC.Stemma</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>PCC.Stemma: Building the Stemma Codicum</h2>

<h3>Description</h3>

<p>Builds a <em>stemma codicum</em> of the tradition, following the Poole-Camps-Cafiero method.
</p>


<h3>Usage</h3>

<pre><code class="language-R">PCC.Stemma(x, omissionsAsReadings = FALSE, limit = 0, recoverNAs= TRUE,
           layout_as_stemma = FALSE, ask = TRUE, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a numeric matrix, with witnesses in columns, variant locations in rows, and readings coded by a number; or a character matrix, with witnesses in columns, variant locations in rows, and, in each cell, one or several readings, coded by numbers and separated by a comma (e.g. '1,2,3', if the witness has three different readings).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>omissionsAsReadings</code></td>
<td>

<p>logical; if <code>TRUE</code>, omissions are treated as variant readings. They are taken into account in determining conflicts between variant locations or in computing severe disagreements between witnesses).
</p>
<p>Default: <code>FALSE</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limit</code></td>
<td>

<p>The maximum number of severe disagreements expected for witnesses to be in the same group. 
</p>
<p>Default: <code>0</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recoverNAs</code></td>
<td>

<p>logical; if <code>TRUE</code>, when an actual witness or reconstructed subarchetype is identified to the reconstructed model of a group, every NA it has is recovered by taking the value of the reconstructed model; if <code>FALSE</code>, their NAs values are kept. 
Default: <code>TRUE</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layout_as_stemma</code></td>
<td>
<p>logical; if TRUE, the witnesses will be placed vertically
according to the distance from their parent, as per the function <code>layout_as_stemma</code> (experimental!)
Default: FALSE
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ask</code></td>
<td>

<p>logical; if <code>FALSE</code>, decisions will be made without asking the user for input.
Default: <code>TRUE</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>logical; if <code>FALSE</code>, the function will only return the results, without information on the operations.
Default: <code>FALSE</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>PCC.Stemma</code> function calls successively the functions <code>PCC.disagreement</code>, <code>PCC.buildGroup</code> and <code>PCC.reconstructModel</code> to build a stemma codicum of the tradition studied. By default, it stops when less than four witnesses are to be compared, as the possibility of errors becomes high. The user is however able to ask the algorithm its final answer for those last witnesses.
</p>


<h3>Value</h3>

<p>The function returns either a single list, or a list containing several lists (if multiple stemmata were drawn). Each list contains:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>fullDatabase</code></td>
<td>
<p>The full database, with the new reconstructed models 
and recovered NAs (if applicable).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>database</code></td>
<td>
<p>The same with the <em>descripti</em> removed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edgelist</code></td>
<td>
<p>An edgelist expressing the relations between the witnesses of each group with, as a third column, the distances between witnesses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>models</code></td>
<td>
<p>A list containing the database of readings for each model at the time of their reconstruction (i.e., before they are compared to extant witnesses).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modelsByGroup</code></td>
<td>
<p>A matrix with, in columns the groups, and a single row containing the label of their model.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Jean-Baptiste Camps (<a href="mailto:jbcamps@hotmail.com">jbcamps@hotmail.com</a>) &amp; Florian Cafiero (<a href="mailto:florian.cafiero@polytechnique.edu">florian.cafiero@polytechnique.edu</a>)
</p>


<h3>References</h3>

<p>Camps, Jean-Baptiste, and Florian Cafiero. ‘Stemmatology: An R Package for the Computer-Assisted Analysis of Textual Traditions’. <em>Proceedings of the Second Workshop on Corpus-Based Research in the Humanities (CRH-2)</em>, edited by Andrew U. Frank et al., 2018, pp. 65–74, <a href="https://halshs.archives-ouvertes.fr/hal-01695903v1">https://halshs.archives-ouvertes.fr/hal-01695903v1</a>.
</p>
<p>Camps, Jean-Baptiste, and Florian Cafiero. ‘Genealogical Variant Locations and Simplified Stemma: A Test Case’. <em>Analysis of Ancient and Medieval Texts and Manuscripts: Digital Approaches</em>, edited by Tara Andrews and Caroline Macé, Brepols, 2015, pp. 69–93, <a href="https://halshs.archives-ouvertes.fr/halshs-01435633">https://halshs.archives-ouvertes.fr/halshs-01435633</a>, DOI: <a href="http://dx.doi.org/10.1484/M.LECTIO-EB.5.102565">10.1484/M.LECTIO-EB.5.102565</a>.
</p>
<p>Poole, Eric. ‘L’analyse stemmatique des textes documentaires’. <em>La pratique des ordinateurs dans la critique des textes</em>, Paris, 1979, p. 151-161.
</p>
<p>Poole, Eric, ‘The Computer in Determining Stemmatic Relationships’. <em>Computers and the Humanities</em>, 8-4 (1974), p. 207-16.
</p>


<h3>See Also</h3>

<p><code>PCC.disagreement</code>, <code>PCC.buildGroup</code>, <code>PCC.reconstructModel</code>, <code>layout_as_stemma</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load data
data("parzival")
# or alternatively, import it
#fournival = import.TEIApparatus(file = "myFournival.xml", 
#                      appTypes = c("substantive"))
## Not run: 
# Interactive mode
# Analyse it with the PCC functions
myDBs = PCC.Exploratory(parzival)
# draw a stemma
PCC.Stemma(myDBs$databases[[2]])

## End(Not run)

# Non interactive mode
myDBs = PCC.Exploratory(parzival, ask = FALSE, threshold = 0.06)
PCC.Stemma(myDBs$databases[[2]], ask = FALSE)
</code></pre>


</div>