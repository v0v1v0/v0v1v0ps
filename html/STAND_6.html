<div class="container">

<table style="width: 100%;"><tr>
<td>efraction.exact</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Exceedance Fraction and Exact Confidence Limits  </h2>

<h3>Description</h3>

<p>Calculate estimate of the exceedance fraction <code class="reqn">FL = Pr [X &gt; L]</code>
and exact confidence limits for random sample from normal/lognormal distribution.
This function should only be used for complete samples. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">efraction.exact(x, gam = 0.95, L=NA ,logx=TRUE,wpnt=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>vector of data values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gam</code></td>
<td>
<p>one-sided confidence level <code class="reqn">\gamma</code>. Default is 0.95</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L</code></td>
<td>
<p> L is specified limit for the exceedance fraction; e.g., the occupational exposure limit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logx</code></td>
<td>
<p>If <code>TRUE</code>, sample is from lognormal, else normal. Default is <code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wpnt</code></td>
<td>
<p>if <code>TRUE</code>, show warning from pnt. Default is <code class="reqn">FALSE</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p> The exceedance fraction represent the proportion of the X's
that exceed a given limit Lp. The null hypothesis of interest is
<code class="reqn">Ho: F \ge Fo = 1-p</code>; i.e., Fo is the maximum proportion of the
population that can exceed the limit Lp. The null hypothesis is
rejected if the <code class="reqn">100 \gamma\%</code> UCL for FL is less than Fo ,
indicating that the exposure profile is acceptable. The type I error rate
for this test is less than or equal to <code class="reqn">\alpha = 1 - \gamma</code>.  </p>


<h3>Value</h3>

<p>A LIST with components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>estimate of exceedance fraction for lognormal distribution as %</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fe.LCL</code></td>
<td>
<p> 100*<code class="reqn">\gamma</code>% exact lower confidence limit % units</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fe.UCL</code></td>
<td>
<p> 100*<code class="reqn">\gamma</code>% exact upper confidence limit % units</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L</code></td>
<td>
<p>L is specified limit for the exceedance fraction, e.g. the occupational exposure limit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gam</code></td>
<td>
<p>one-sided confidence level <code class="reqn">\gamma</code>. Default is 0.95</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Logx</code></td>
<td>
<p>If <code>TRUE</code>, sample is from lognormal, else normal. Default is <code>TRUE</code></p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>(fe.LCL, fe.UCL) is an approximate <code class="reqn">100(2\gamma -1)</code> percent
confidence interval for F. The R function <code>uniroot</code> is used to find the
noncentrality parameter of noncentral t distribution to calculate CL's
for <code class="reqn">U = (L - \mu) / \sigma</code> where F = pnorm(U).  In some versions of R this
may cause a warning message.  See R bug report RP 9171 full precision
was not achieved in 'pnt'.  This warning message may occur in <code>uniroot</code>
calls to <code>pt</code> and does not effect the precision of the final result</p>


<h3>Author(s)</h3>

<p> E. L. Frome</p>


<h3>References</h3>

<p>Johnson, N. L. and B. L. Welch (1940), "Application of the Non-Central
t-Distribution," <em>Biometrika</em>, 31(3/4), 362-389.
</p>
<p>Lyles, R. H. and L. L. Kupper (1996), "On strategies for comparing occupational
exposure data to limits," <em>American Industrial Hygiene Association
Journal</em>. 57:6-15.
</p>
<p>Frome, E. L. and Wambach, P. F. (2005), "Statistical Methods and Software for 
the Analysis of Occupational Exposure Data with Non-Detectable Values," 
<em>ORNL/TM-2005/52,Oak Ridge National Laboratory</em>, Oak Ridge, TN 37830.
Available at: <a href="http://www.csm.ornl.gov/esh/aoed/ORNLTM2005-52.pdf">http://www.csm.ornl.gov/esh/aoed/ORNLTM2005-52.pdf</a>
</p>
<p>Ignacio, J. S. and W. H. Bullock (2006), <em>A Strategy for Assesing
and Managing Occupational Exposures</em>, Third Edition, AIHA Press,
Fairfax, VA.
</p>
<p>Mulhausen, J. R. and J. Damiano (1998), <em> A Strategy for Assessing
and Managing Occupational Exposures</em>, Second Edition, AIHA Press, Fairfax, VA.
</p>


<h3>See Also</h3>

<p>Help files for <code>efraction.ml</code>,<code>efclnp</code>,
<code>percentile.exact</code>, <code>efraction.exact</code>, 
<code>aihand</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># calculate exceedance fraction and exact CLs for Example data
# Appendix  Mulhausen and Damiano(1998) Ignacion and Bullock (2006
data(aihand)
x &lt;- aihand$x ;  det &lt;- rep(1,length(x))
aiha&lt;-data.frame(x,det) #  complete data
unlist(efraction.exact(x,gam=0.95,L=5) ) #  exact CLs
unlist(efraction.ml(aiha,gam=0.95,L=5))  #  ML CLs
unlist(efclnp(aiha,L=5))                 #  nonparametric CLs 
</code></pre>


</div>