<div class="container">

<table style="width: 100%;"><tr>
<td>addKnownMargins</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>add known margins/totals</h2>

<h3>Description</h3>

<p>add known margins/totals for a combination of variables for the population
to an object of class <code>simPopObj</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">addKnownMargins(inp, margins)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>inp</code></td>
<td>
<p>a <code>simPopObj</code> containing population and household survey
data as well as optionally margins in standardized format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margins</code></td>
<td>
<p>a <code>data.frame</code> containing for a combination of unique
variable levels for n-variables the number of known occurences in the
population. The numbers must be listed in the last column of data.frame
'margins' while the characteristics must be listed in the first 'n' columns.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function takes a data.frame containing known marginals/totals for a some
variables that must exist in the population (stored in slot 'pop' of input
object 'inp') and updates slot 'table' of the input object. This slot
finally contains the known totals.
</p>
<p>households are drawn from the data and new ID's are generated for the new
households.
</p>


<h3>Value</h3>

<p>an object of class <code>simPopObj</code> with updated slot
'table'.
</p>


<h3>Author(s)</h3>

<p>Bernhard Meindl
</p>


<h3>References</h3>

<p>M. Templ, B. Meindl, A. Kowarik, A. Alfons, O. Dupriez (2017) Simulation of Synthetic Populations for Survey Data Considering Auxiliary
Information. <em>Journal of Statistical Survey</em>, <strong>79</strong> (10), 1â€“38. <a href="https://doi.org/10.18637/jss.v079.i10">doi:10.18637/jss.v079.i10</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(eusilcS)
data(eusilcP)
## Not run: 
## approx. 20 seconds computation time
inp &lt;- specifyInput(data=eusilcS, hhid="db030", hhsize="hsize", strata="db040", weight="db090")
inp &lt;- simStructure(data=inp, method="direct", basicHHvars=c("age", "rb090"))
inp &lt;- simCategorical(inp, additional=c("pl030", "pb220a"), method="multinom",nr_cpus=1)

margins &lt;- as.data.frame(
  xtabs(rep(1, nrow(eusilcP)) ~ eusilcP$region + eusilcP$gender + eusilcP$citizenship))
colnames(margins) &lt;- c("db040", "rb090", "pb220a", "freq")
inp &lt;- addKnownMargins(inp, margins)
str(inp)

## End(Not run)
</code></pre>


</div>