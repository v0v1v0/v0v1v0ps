<div class="container">

<table style="width: 100%;"><tr>
<td>emmeans_power</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute power for <span class="pkg">emmeans</span> contrasts</h2>

<h3>Description</h3>

<p>Computes power based on t value and degrees of freedom for contrasts.
<em>Do not use to calculate "observed power" for empirical datasets
(Hoenig &amp; Heisey, 2001).</em>
</p>


<h3>Usage</h3>

<pre><code class="language-R">emmeans_power(x, ...)

## S3 method for class 'emmGrid'
emmeans_power(x, ...)

## S3 method for class 'summary_em'
emmeans_power(x, ...)

## S3 method for class 'data.frame'
emmeans_power(
  x,
  alpha_level = Superpower_options("alpha_level"),
  liberal_lambda = Superpower_options("liberal_lambda"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>emmGrid</code>. Grid of contrasts to estimate power from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed to the function if object is not already a <code>emmGrid</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_level</code></td>
<td>
<p>Alpha level used to determine statistical significance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>liberal_lambda</code></td>
<td>
<p>Logical indicator of whether to use the liberal (cohen_f^2\*(num_df+den_df)) or conservative (cohen_f^2\*den_df) calculation of the noncentrality (lambda) parameter estimate. Default is FALSE.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note that calculation of power is based on the F- and t-ratio assuming
two-sided testing. Thus, the function does not honor adjustments of the
testing procedure due to either one-sided testing (or two-one sided tests)
or corrections for multiple comparisons via the <code>p.adjust</code> option in 
<code>emmeans</code>.
</p>
<p>Power for one-sided tests can be calculated, if the means of the simulated
dataset are consistent with the directional hypothesis, by doubling
<code>alpha_level</code>. Similarly, power for Bonferroni-corrected contrasts can be
calculated by adjusting <code>alpha_level</code> accordingly (see examples).
<code>...</code> Other arguments passed onto the function
</p>


<h3>Value</h3>

<p>Returns dataframe with simulation data (power and effect sizes!), anova results and simple effect results, plot of exact data, and alpha_level. Note: Cohen's f = sqrt(pes/1-pes) and the noncentrality parameter is = f^2*df(error)
</p>

<dl>
<dt><code>"dataframe"</code></dt>
<dd>
<p>A dataframe of the simulation result.</p>
</dd>
<dt><code>"aov_result"</code></dt>
<dd>
<p><code>aov</code> object returned from <code>aov_car</code>.</p>
</dd>
<dt><code>"aov_result"</code></dt>
<dd>
<p><code>emmeans</code> object returned from <code>emmeans</code>.</p>
</dd>
<dt><code>"main_result"</code></dt>
<dd>
<p>The power analysis results for ANOVA level effects.</p>
</dd>
<dt><code>"pc_results"</code></dt>
<dd>
<p>The power analysis results for the pairwise (t-test) comparisons.</p>
</dd>
<dt><code>"emm_results"</code></dt>
<dd>
<p>The power analysis results of the pairwise comparison results.</p>
</dd>
<dt><code>"manova_results"</code></dt>
<dd>
<p>Default is "NULL". If a within-subjects factor is included, then the power of the multivariate (i.e. MANOVA) analyses will be provided.</p>
</dd>
<dt><code>"alpha_level"</code></dt>
<dd>
<p>The alpha level, significance cut-off, used for the power analysis.</p>
</dd>
<dt><code>"method"</code></dt>
<dd>
<p>Record of the function used to produce the simulation</p>
</dd>
<dt><code>"plot"</code></dt>
<dd>
<p>A plot of the dataframe from the simulation; should closely match the meansplot in <code>ANOVA_design</code></p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Frederik Aust
</p>


<h3>References</h3>

<p>Hoenig, J. M., &amp; Heisey, D. M. (2001). The Abuse of Power. The American Statistician, 55(1), 19â€“24. https://doi.org/10.1198/000313001300339897
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Set up a within design with 2 factors, each with 2 levels
design_result &lt;- ANOVA_design(design = "2w*2w",
n = 40, mu = c(1, 0, 1, 0),
sd = 2, r = 0.8,
labelnames = c("condition", "cheerful",
 "sad", "voice", "human", "robot"))
 
exact_result &lt;- ANOVA_exact(design_result, 
alpha_level = 0.05, verbose = FALSE, 
emm = TRUE, contrast_type = "pairwise")

# Power for pairwise contrasts
exact_result$emm_results

# Corresponding emmeans contrasts
exact_result$emmeans$contrasts

# Manually recalculate power
emmeans_power(exact_result$emmeans$contrasts, 
alpha_level = 0.05)

# Calculate power for Bonferroni-adjusted pairwise comparisons
n_contrasts &lt;- nrow(as.data.frame(exact_result$emmeans$contrasts))
emmeans_power(exact_result$emmeans$contrasts, 
alpha_level = 0.05 / n_contrasts)

# Calculate power for one-sided custom contrasts
exact_result$emmeans$emmeans
custom_contrast &lt;- contrast(exact_result$emmeans$emmeans, 
list(robot_vs_sad_human = c(0, 1, -0.5, -0.5)))
emmeans_power(custom_contrast,
 alpha_level = 0.05 * 2)

# Calculate power for follow-up ANOVA
follow_up &lt;- joint_tests(exact_result$emmeans$emmeans, 
by = "condition")
emmeans_power(follow_up, 
alpha_level = 0.05 / 2)
emmeans_power(emmeans(exact_result$emmeans$emmeans, 
pairwise ~ voice | condition)$contrasts, 
alpha_level = 0.05 / 2)

## End(Not run)
</code></pre>


</div>