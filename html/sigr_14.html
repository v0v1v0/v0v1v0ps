<div class="container">

<table style="width: 100%;"><tr>
<td>check_utility_calc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Check a few things we expect to be true for the utility frame.</h2>

<h3>Description</h3>

<p>Utility to inspect a utility frame for some debugging.
</p>


<h3>Usage</h3>

<pre><code class="language-R">check_utility_calc(
  values,
  ...,
  orig_score = NULL,
  orig_outcome = NULL,
  constant_utilities = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>values</code></td>
<td>
<p>model_utility result</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Not used, forces later argument to be specified by name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constant_utilities</code></td>
<td>
<p>logical, if TRUE assume utilities were constant per-row.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>NULL if okay, else a string describing the problem.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
d &lt;- data.frame(
  predicted_probability = c(0, 0.5, 0.5, 0.5),
  made_purchase = c(FALSE, TRUE, FALSE, FALSE),
  false_positive_value = -5,    # acting on any predicted positive costs $5
  true_positive_value = 95,     # revenue on a true positive is $100 minus action cost
  true_negative_value = 0.001,  # true negatives have no value in our application
                                # but just give ourselves a small reward for being right
  false_negative_value = -0.01  # adding a small notional tax for false negatives,
                                # don't want our competitor getting these accounts.
  )

values &lt;- model_utility(d, 'predicted_probability', 'made_purchase')
check_utility_calc(values,
                   orig_score = d$predicted_probability,
                   orig_outcome = d$made_purchase)

</code></pre>


</div>