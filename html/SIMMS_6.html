<div class="container">

<table style="width: 100%;"><tr>
<td>create.classifier.multivariate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Trains and tests a multivariate survival model</h2>

<h3>Description</h3>

<p>Trains a model on training datasets. Predicts the risk score for all the
training &amp; datasets, independently. This function also predicts the risk
score for combined training datasets cohort and validation datasets cohort.
The risk score estimation is done by multivariate models fit by
<code>fit.survivalmodel</code>. The function also predicts risk scores for each of
the <code>top.n.features</code> independently.
</p>


<h3>Usage</h3>

<pre><code class="language-R">create.classifier.multivariate(
  data.directory = ".",
  output.directory = ".",
  feature.selection.datasets = NULL,
  feature.selection.p.threshold = 0.05,
  training.datasets = NULL,
  validation.datasets = NULL,
  top.n.features = 25,
  models = c("1", "2", "3"),
  learning.algorithms = c("backward", "forward"),
  alpha.glm = c(1),
  k.fold.glm = 10,
  seed.value = 51214,
  cores.glm = 1,
  rf.ntree = 1000,
  rf.mtry = NULL,
  rf.nodesize = 15,
  rf.samptype = "swor",
  rf.sampsize = function(x) {     x * 0.66 },
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data.directory</code></td>
<td>
<p>Path to the directory containing datasets as specified
by <code>feature.selection.datasets</code>, <code>training.datasets</code>,
<code>validation.datasets</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output.directory</code></td>
<td>
<p>Path to the output folder where intermediate and
results files will be saved</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature.selection.datasets</code></td>
<td>
<p>A vector containing names of datasets used
for feature selection in function <code>derive.network.features()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature.selection.p.threshold</code></td>
<td>
<p>One of the P values that were used for
feature selection in function <code>derive.network.features()</code>. This
function does not support vector of P values as used in
<code>derive.network.features()</code> for performance reasons</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>training.datasets</code></td>
<td>
<p>A vector containing names of training datasets</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>validation.datasets</code></td>
<td>
<p>A vector containing names of validation datasets</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>top.n.features</code></td>
<td>
<p>A numeric value specifying how many top ranked
features will be used for univariate survival modelling</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>models</code></td>
<td>
<p>A character vector specifying which of the models ('1' = N+E,
'2' = N, '3' = E) to run</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>learning.algorithms</code></td>
<td>
<p>A character vector specifying which learning
algorithm to be used for model fitting and feature selection. Defaults to
c('backward', 'forward'). Available options are: c('backward', 'forward',
'glm', 'randomforest')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.glm</code></td>
<td>
<p>A numeric vector specifying elastic-net mixing parameter
alpha, with range alpha raning from [0,1]. 1 for LASSO (default) and 0 for
ridge. For multiple values of alpha, most optimal value is selected through
cross validation on training set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k.fold.glm</code></td>
<td>
<p>A numeric value specifying k-fold cross validation if glm
was chosen in <code>learning.algorithms</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed.value</code></td>
<td>
<p>A numeric value specifying seed for glm k-fold cross or random forest
validation if glm was chosen in <code>learning.algorithms</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores.glm</code></td>
<td>
<p>An integer value specifying number of cores to be used for
glm if it was chosen in <code>learning.algorithms</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rf.ntree</code></td>
<td>
<p>An integer value specifying the number of trees in random forest. 
Defaults to 1000. This should be tuned after starting with a large forest such as 1000 
in the initial run and assessing the results in output\/OOB_error__TRAINING_* to see 
where the OOB error rate stablises, and then rerunning with the stablised rf.ntree 
parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rf.mtry</code></td>
<td>
<p>An integer value specifying the number of variables randomly selected 
for splitting a node. Defaults to sqrt(features), which is the same as in the 
underlying R package random survival forest <code>randomForestSRC::rfsrc</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rf.nodesize</code></td>
<td>
<p>An integer value specifying number of unique cases in a terminal 
node. Defaults to 15, which is the same as in the underlying R package random survival 
forest <code>randomForestSRC::rfsrc</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rf.samptype</code></td>
<td>
<p>An character string specifying name of sampling. Defaults to 
sampling without replacement 'swor'. Available options are: c('swor', 'swr')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rf.sampsize</code></td>
<td>
<p>A function specifying sampling size when <code>rf.samptype</code> is set 
to sampling without replacement ('swor'). Defaults to 66%: <code>function(x){x * .66}</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other params to be passed on to the random forest call to the underlying 
R package random survival forest <code>randomForestSRC::rfsrc</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The output files are stored under <code>output.directory</code>/output/
</p>


<h3>Author(s)</h3>

<p>Syed Haider &amp; Vincent Stimper
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# see package's main documentation

</code></pre>


</div>