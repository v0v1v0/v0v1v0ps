<div class="container">

<table style="width: 100%;"><tr>
<td>sr_test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>test for Sharpe ratio</h2>

<h3>Description</h3>

<p>Performs one and two sample tests of Sharpe ratio on vectors of data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sr_test(
  x,
  y = NULL,
  alternative = c("two.sided", "less", "greater"),
  zeta = 0,
  ope = 1,
  paired = FALSE,
  conf.level = 0.95,
  type = c("exact", "t", "Z", "Mertens", "Bao"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a (non-empty) numeric vector of data values, or an
object of class <code>sr</code>, containing a scalar sample Sharpe estimate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>an optional (non-empty) numeric vector of data values, or
an object of class <code>sr</code>, containing a scalar sample Sharpe estimate.
Only an unpaired test can be performed when at least one of <code>x</code> and <code>y</code> are
of class <code>sr</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>a character string specifying the alternative hypothesis,
must be one of <code>"two.sided"</code> (default), <code>"greater"</code> or
<code>"less"</code>.  You can specify just the initial letter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zeta</code></td>
<td>
<p>a number indicating the null hypothesis offset value, the
<code class="reqn">S</code> value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ope</code></td>
<td>
<p>the number of observations per 'epoch'. For convenience of
interpretation, The Sharpe ratio is typically quoted in 'annualized' 
units for some epoch, that is, 'per square root epoch', though returns 
are observed at a frequency of <code>ope</code> per epoch. 
The default value is 1, meaning the code will not attempt to guess
what the observation frequency is, and no annualization adjustments
will be made.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paired</code></td>
<td>
<p>a logical indicating whether you want a paired test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>confidence level of the interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>which method to apply.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments to be passed to or from methods.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Given <code class="reqn">n</code> observations <code class="reqn">x_i</code> from a normal random variable,
with mean <code class="reqn">\mu</code> and standard deviation <code class="reqn">\sigma</code>, tests
</p>
<p style="text-align: center;"><code class="reqn">H_0: \frac{\mu}{\sigma} = S</code>
</p>

<p>against two or one sided alternatives.
</p>
<p>Can also perform two sample tests of Sharpe ratio. For paired observations
<code class="reqn">x_i</code> and <code class="reqn">y_i</code>, tests
</p>
<p style="text-align: center;"><code class="reqn">H_0: \frac{\mu_x}{\sigma_x} = \frac{\mu_u}{\sigma_y}</code>
</p>

<p>against two or one sided alternative, via 
<code>sr_equality_test</code>.
</p>
<p>For unpaired (and independent) observations, tests
</p>
<p style="text-align: center;"><code class="reqn">H_0: \frac{\mu_x}{\sigma_x} - \frac{\mu_u}{\sigma_y} = S</code>
</p>

<p>against two or one-sided alternatives via an asymptotic
approximation.
</p>
<p>The one sample test admits a number of different methods:
</p>

<dl>
<dt>exact</dt>
<dd>
<p>The default, which is only exact when returns are
normal, based on inverting the non-central t distribution.</p>
</dd>
<dt>t</dt>
<dd>
<p>Uses the Johnson Welch approximation to the standard error, 
centered around the sample value.</p>
</dd>
<dt>Z</dt>
<dd>
<p>Uses the Johnson Welch approximation to the standard error,
performing a simple correction for the bias of the Sharpe ratio based on 
Miller and Gehr formula.</p>
</dd>
<dt>Mertens</dt>
<dd>
<p>Uses the Mertens higher order approximation to the standard
error, centered around the sample value.</p>
</dd>
<dt>Bao</dt>
<dd>
<p>Uses the Bao higher order approximation to the standard error,
performing a higher order correction for the bias of the Sharpe ratio.</p>
</dd>
</dl>
<p>See <code>confint.sr</code> for more information on these types
</p>
<p>See ‘The Sharpe Ratio: Statistics and Applications’,
section 3.2.1, 3.2.2, and 3.3.1.
</p>


<h3>Value</h3>

<p>A list with class <code>"htest"</code> containing the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>statistic</code></td>
<td>
<p>the value of the t- or Z-statistic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameter</code></td>
<td>
<p>the degrees of freedom for the statistic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.value</code></td>
<td>
<p>the p-value for the test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int</code></td>
<td>
<p>a confidence interval appropriate to the specified alternative hypothesis. NYI for some cases.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimate</code></td>
<td>
<p>the estimated Sharpe or difference in Sharpes depending on whether it was a one-sample test or a two-sample test. Annualized</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>null.value</code></td>
<td>
<p>the specified hypothesized value of the Sharpe or difference of Sharpes depending on whether it was a one-sample test or a two-sample test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>a character string describing the alternative hypothesis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>a character string indicating what type of test was performed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.name</code></td>
<td>
<p>a character string giving the name(s) of the data.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Steven E. Pav <a href="mailto:shabbychef@gmail.com">shabbychef@gmail.com</a>
</p>


<h3>References</h3>

<p>Sharpe, William F. "Mutual fund performance." Journal of business (1966): 119-138.
<a href="https://ideas.repec.org/a/ucp/jnlbus/v39y1965p119.html">https://ideas.repec.org/a/ucp/jnlbus/v39y1965p119.html</a>
</p>
<p>Pav, S. E. "The Sharpe Ratio: Statistics and Applications." CRC Press, 2021.
</p>


<h3>See Also</h3>

<p><code>reannualize</code>
</p>
<p><code>sr_equality_test</code>, <code>sr_unpaired_test</code>, <code>t.test</code>.
</p>
<p>Other sr: 
<code>as.sr()</code>,
<code>confint.sr()</code>,
<code>dsr()</code>,
<code>is.sr()</code>,
<code>plambdap()</code>,
<code>power.sr_test()</code>,
<code>predint()</code>,
<code>print.sr()</code>,
<code>reannualize()</code>,
<code>se()</code>,
<code>sr_equality_test()</code>,
<code>sr_unpaired_test()</code>,
<code>sr_vcov()</code>,
<code>sr</code>,
<code>summary.sr</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># should reject null
x &lt;- sr_test(rnorm(1000,mean=0.5,sd=0.1),zeta=2,ope=1,alternative="greater")
x &lt;- sr_test(rnorm(1000,mean=0.5,sd=0.1),zeta=2,ope=1,alternative="two.sided")
# should not reject null
x &lt;- sr_test(rnorm(1000,mean=0.5,sd=0.1),zeta=2,ope=1,alternative="less")

# test for uniformity
pvs &lt;- replicate(128,{ x &lt;- sr_test(rnorm(1000),ope=253,alternative="two.sided")
                        x$p.value })
plot(ecdf(pvs))
abline(0,1,col='red') 
# testing an object of class sr
asr &lt;- as.sr(rnorm(1000,1 / sqrt(253)),ope=253)
checkit &lt;- sr_test(asr,zeta=0)

</code></pre>


</div>