<div class="container">

<table style="width: 100%;"><tr>
<td>revisit_dsgn</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a panel revisit design</h2>

<h3>Description</h3>

<p>Create a revisit design for panels in a survey that specifies the time
periods that members of each panel will be sampled. Three basic panel design
structures may be created: always revisit panel, serially alternating panels,
or rotating panels.
</p>


<h3>Usage</h3>

<pre><code class="language-R">revisit_dsgn(n_period, panels, begin = 1, skip = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n_period</code></td>
<td>
<p>Number of time periods for the panel design. For example,
number of periods if sampling occurs once per period or number of months if
sampling occurs once per month.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>panels</code></td>
<td>
<p>List of lists where each list specifies a revisit panel
structure. Each sublist consists of four components: <code>n</code> - sample size for
each panel in the sublist, <code>pnl_dsgn</code> - a vector with an even number of
elements specifying the panel revisit schedule in terms of the number of
consecutive time periods sample units will be sampled, followed by number
of consecutive time periods skipped, and then repeated as necessary. <code>pnl_n</code>
- number of panels in the sublist, and <code>start_option</code> - option for starting
the <code>revisit_dsgn</code> (<code>None</code>, <code>Partial_Begin</code>, or <code>Partial_End</code>)
which must be the same a <code>pnl_dsgn</code>. Three basic panel
structures are possible: a) if <code>pnl_dsgn</code> ends in <code>0</code>, then the sample units
are visited on all subsequent time periods, b) if <code>pnl_dsgn</code> ends in <code>NA</code>, then
panel follows a rotating panel structure, and c) if <code>pnl_dsgn</code> ends in any
number &gt; <code>0</code>, then panel follows a serially alternating panel structure. See
details for further information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>begin</code></td>
<td>
<p>Numeric name of first sampling occasion, e.g. a specific
period.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip</code></td>
<td>
<p>Number of time periods to skip between planned sampling
periods, e.g., sampling will occur only every 5 periods if <code>skip = 5</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function creates revisit designs using the concepts in McDonald
(2003) to specify the revisit pattern across time periods for each panel.
The panel revisit schedule is specified by a vector. Odd positions in
vector specify the number of consecutive time periods when panel units are
sampled. Even positions in vector specify the number of consecutive time
periods when panel units are not sampled.
</p>
<p>If last even position is a <code>"0"</code>, then a single panel follows an always
revisit panel structure.  After satisfying the initial revisit schedule
specified prior to the <code>"0"</code>, units in a panel are always visited for rest of
the time periods. The simplest always revisit panel design is to revisit
every sample unit on every time period, specified as <code>pnl_dsgn = c(1,0)</code> or
using McDonald's notation [1-0].
</p>
<p>If the last even position is <code>NA</code>, the panels follow a rotating panel
structure. For example, <code>pnl_dsgn = c(1, NA)</code> designates that sample units in
a panel will be visited once and then never again, [1-n] in McDonald's
notation. <code>pnl_dsgn =c(1, 4, 1, NA)</code> designates that sample units in a panel
will be visited once, then not sampled on next four time periods, then
sampled again once at the next time period and then never sampled again,
[1-4-1-n] in McDonald/s notation.
</p>
<p>If the last even position is &gt; <code>0</code>, the panels follow a serially alternating
panel structure. For example, <code>pnl_dsgn = c(1, 4)</code> designates that sample
units in a panel will be visited once, then not sampled during the next
four time periods, then sampled once and not sampled for next four time
periods, and that cycle repeated until end of the number of time periods,
[1-4] in McDonald's notation. <code>pnl_dsgn = c(2, 3, 1, 4)</code> designates that the
cycle has sample units in a panel being visited during two consecutive time
periods, not sampled for three consecutive time periods, sampled for one time
period and then not sampled on next four time periods, and the cycle is
repeated until end of the number of time periods, [2-3-1-4] in McDonald's
notation.
</p>
<p>The number of panels in a single panel design is specified by <code>pnl_n</code>.  For
an always revisit panel structure, a single panel is created and <code>pnl_n</code> is
ignored. For a rotating panel structure, when <code>pnl_n = NA</code>, the number of
panels is equal to n_period. Note that this should only be used when the
rotating panel structure is the only panel design, i.e., no split panel
design (see below for split panel details). If <code>pnl_n = m</code> is specified for a
rotating panel design, then then number of panels will be <code>m</code>.  For example,
<code>pnl_dsgn = c( 1, 4, 1, NA)</code> and and <code>pnl_n = 5</code> means that only 5 panels will
be constructed and the last time period to be sampled will be time period
10. In McDonald's notation the panel design structure is [(1-4-1-n)^5].  If
the number of time periods, <code>n_period</code>, is 20 and no other panel design
structure is specified, then the last 10 time periods will not be sampled.
For serially alternating panels, when <code>pnl_n = NA</code>, the number of panels will
be the sum of the elements in pan_dsgn (ignoring <code>NA</code>). If <code>pnl_n</code> is specified
as <code>m</code>, then <code>m</code> panels will be created.  For example, <code>pnl_dsgn = c(1, 4, 1, 4)</code>
and <code>pnl_n = 3</code>, [(1-4-1-4)^3] in McDonald's notation, will create first three
panels of the 510 serially alternating panels specified by <code>pnl_dsgn</code>.
</p>
<p>A serially alternating or rotating panel revisit design may not result in
the same number of units being sampled during each time period,
particularly during the initial start up period.  The default is to not
specify a startup option (<code>"None"</code>).  Start up option <code>"Partial_Begin"</code>
initiates the revisit design at the last time period scheduled for sampling
in the first panel. For example, a [2-3-1-4] design starts at time period 6
instead of time period 1 under the Partial_Begin option. For a serially
alternating panel structure, start up option <code>"Partial_End"</code> initiates the
revisit design at the time period that begins the second serially
alternating pattern. For example, a [2-3-1-4] design starts at time period
11 instead of time period 1. For a rotating panel structure design, use of
Partial_End makes the assumption that the number of panels equals the
number of time periods and adds units to the last "m" panels for time
periods <code>1</code> to <code>"m"</code> as if number of time periods was extended by <code>"m"</code> where <code>"m"</code>
is one less than then the sum of the panel design.  For example, a
[1-4-1-4-1-n] design would result in <code>m = 10</code>.  Note that some designs with
<code>pnl_n</code> not equal to the number of sample occasions can produce unexpected
panel designs.  See examples.
</p>
<p>Different types of panel structures can be combined, these are termed split
panels by many authors, by specifying more than one list for the panels
parameter.  The total number of panels is the sum of the number of panels
in each of the panel structures specified by the split panel design.
</p>


<h3>Value</h3>

<p>A two-dimensional array of sample sizes to be sampled at each
combination of panel and time period.
</p>


<h3>Author(s)</h3>

<p>Tony Olsen <a href="mailto:Olsen.Tony@epa.gov">Olsen.Tony@epa.gov</a>
</p>


<h3>References</h3>

<p>McDonald, T. (2003). Review of environmental monitoring methods: survey
designs. <em>Environmental Monitoring and Assessment</em> <b>85</b>,
277-292.
</p>


<h3>See Also</h3>


<dl>
<dt><code>revisit_bibd</code></dt>
<dd>
<p>to create a balanced incomplete block
panel revisit design</p>
</dd>
<dt><code>revisit_rand</code></dt>
<dd>
<p>to create a revisit design with random
assignment to panels and time periods</p>
</dd>
<dt><code>pd_summary</code></dt>
<dd>
<p> to summarize characteristics of a
panel revisit design</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R"># One panel of  60 sample units sampled at every time period: [1-0]
revisit_dsgn(20, panels = list(
  Annual = list(
    n = 60, pnl_dsgn = c(1, 0), pnl.n = NA,
    start_option = "None"
  )
), begin = 1)

# Rotating panels of 60 units sampled once and never again: [1-n].  Number
# of panels equal n_period.
revisit_dsgn(20,
  panels = list(
    R60N = list(n = 60, pnl_dsgn = c(1, NA), pnl_n = NA, start_option = "None")
  ),
  begin = 1
)

# Serially alternating panel with three visits to sample unit then skip
# next two time periods: [3-2]
revisit_dsgn(20, panels = list(
  SA60PE = list(
    n = 20, pnl_dsgn = c(3, 2), pnl_n = NA,
    start_option = "Partial_End"
  )
), begin = 1)

# Split panel of sample units combining above two panel designs: [1-0, 1-n]
revisit_dsgn(n_period = 20, begin = 2017, panels = list(
  Annual = list(
    n = 60, pnl_dsgn = c(1, 0), pnl.n = NA,
    start_option = "None"
  ),
  R60N = list(n = 60, pnl_dsgn = c(1, NA), pnl_n = NA, start_option = "None")
))
</code></pre>


</div>