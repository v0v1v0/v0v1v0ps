<div class="container">

<table style="width: 100%;"><tr>
<td>loocv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Leave-one-trial-out cross-validation for treatment effect prediction
</h2>

<h3>Description</h3>

<p>The function <code>loocv()</code> computed leave-one-out prediction of the treatment
effect on the true endpoint for each trial,
based on the observed effect on the surrogate endpoint in the trial itself
and based on the meta-analytic model fitted on the remaining trials
(Michiels et al, 2009).
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'surrosurv'
loocv(object, models, nCores, parallel = TRUE, ...)

## S3 method for class 'loocvSurrosurv'
print(x, n = min(length(x), 6), silent = FALSE, ...)
          
## S3 method for class 'loocvSurrosurv'
plot(x, models, exact.models, 
                                plot.type = c('classic', 'regression'),
                                main, ylab, xlab, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>

<p>Either an object of class <code>surrosurv</code> with an attribute <code>data</code>
of class data.frame or a data.frame with columns
</p>

<ul>
<li> <p><code>trialref</code>, the trial reference
</p>
</li>
<li> <p><code>trt</code>, the treatment arm (-0.5 or 0.5)
</p>
</li>
<li> <p><code>id</code>, the patient id
</p>
</li>
<li> <p><code>timeT</code>, the value of the true endpoint T
</p>
</li>
<li> <p><code>statusT</code>, the censoring/event (0/1) indicator of the true endpoint T
</p>
</li>
<li> <p><code>timeS</code>, the value of the surrogate endpoint S
</p>
</li>
<li> <p><code>statusS</code>, the censoring/event (0/1) indicator of the surrogate endpoint S
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nCores</code></td>
<td>

<p>The number of cores for parallel computing
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>

<p>Should results be computed using parallelization?
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>models, exact.models</code></td>
<td>

<p>Which models should be fitted (see <code>surrosurv()</code>).
By default, the same models fitted in <code>object</code> (or <code>x</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>The fitted models, an object of class <code>surrosurv</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>

<p>the number of rows to print
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>

<p>Should the results be return for storing without printing them?
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.type</code></td>
<td>

<p>The type ox x-scale for the loocv plot: either the trial number (<code>classic</code>)
or the log-HR on the surrogate endpoint (<code>regression</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main, ylab, xlab, ...</code></td>
<td>

<p>Further parameters to be passed to <code>surrosurv</code>
(for <code>loocv()</code>)
or to the generics <code>print()</code> and <code>plot()</code>
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>loocvSurrosurv</code> 
containing, for each trial:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>margPars</code></td>
<td>

<p>the observed treatment effects 
on the surrogate ednpoint (<code>alpha</code>) and
on the true endpoint (<code>beta</code>)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>for each method in <code>models</code>
the predicted value and prediction interval for <code>beta</code>.
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>NA
</p>


<h3>References</h3>

<p>Michiels S, Le Maitre A, Buyse M, et al.
Surrogate endpoints for overall survival
in locally advanced head and neck cancer:
meta-analyses of individual patient data.
<em>Lancet Oncol</em>. 2009;10(4):341-50.
doi: <a href="https://doi.org/10.1016/S1470-2045(09)70023-3">10.1016/S1470-2045(09)70023-3</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  ## Not run: 
  # Possibly long computation time!
  data('gastadv')
  cvRes &lt;- loocv(gastadv)
  cvRes
  plot(cvRes)
  
## End(Not run)
</code></pre>


</div>