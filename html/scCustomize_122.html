<div class="container">

<table style="width: 100%;"><tr>
<td>Read_CellBender_h5_Multi_File</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Load CellBender h5 matrices (corrected) from multiple files</h2>

<h3>Description</h3>

<p>Extract sparse matrix with corrected counts from CellBender h5 output file across multiple samples
within the same directory.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Read_CellBender_h5_Multi_File(
  data_dir = NULL,
  filtered_h5 = TRUE,
  custom_name = NULL,
  sample_list = NULL,
  sample_names = NULL,
  h5_group_name = NULL,
  feature_slot_name = "features",
  parallel = FALSE,
  num_cores = NULL,
  merge = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data_dir</code></td>
<td>
<p>Directory containing the .h5 files output by CellBender.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filtered_h5</code></td>
<td>
<p>logical (default TRUE).  Will set the shared file name suffix if <code>custom_name</code> is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>custom_name</code></td>
<td>
<p>if file name was customized in CellBender then this parameter should contain the portion
of file name that is shared across all samples.  Must included the ".h5" extension as well.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample_list</code></td>
<td>
<p>a vector of sample names if only specific samples are desired.  If <code>NULL</code> will
read in all files within <code>data_dir</code> directory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample_names</code></td>
<td>
<p>a set of sample names to use for each sample entry in returned list.  If <code>NULL</code> will
set names to the subdirectory name of each sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h5_group_name</code></td>
<td>
<p>Name of the group within H5 file that contains count data.  This is only
required if H5 file contains multiple subgroups and non-default names.  Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature_slot_name</code></td>
<td>
<p>Name of the slot contain feature names/ids.  Must be one of:
"features"(Cell Ranger v3+) or "genes" (Cell Ranger v1/v2 or STARsolo).  Default is "features".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>logical (default FALSE) whether or not to use multi core processing to read in matrices</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_cores</code></td>
<td>
<p>how many cores to use for parallel processing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>merge</code></td>
<td>
<p>logical (default FALSE) whether or not to merge samples into a single matrix or return
list of matrices.  If TRUE each sample entry in list will have cell barcode prefix added.  The prefix
will be taken from <code>sample_names</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra parameters passed to <code>Read_CellBender_h5_Mat</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>list of sparse matrices
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
base_path &lt;- 'path/to/data/directory'
mat_list &lt;- Read_CellBender_h5_Multi_File(data_dir = base_path)

## End(Not run)

</code></pre>


</div>