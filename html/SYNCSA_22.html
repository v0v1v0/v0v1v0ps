<div class="container">

<table style="width: 100%;"><tr>
<td>optimal</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Searching for optimal traits</h2>

<h3>Description</h3>

<p>Maximize trait-convergence assembly patterns (TCAP = roTE), trait-divergence
assembly patterns (TDAP = roXE.T), maximize both trait-divergence assembly
patterns and trait-convergence assembly patterns (TCAP.TDAP = roXE) or
alpha divergence (roRE) For more details, see <code>syncsa</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">optimal(
  comm,
  traits = NULL,
  envir = NULL,
  checkdata = TRUE,
  subset.min = 1,
  subset.max = ncol(traits),
  pattern = NULL,
  ro.method = "mantel",
  dist = "euclidean",
  method = "pearson",
  scale = TRUE,
  scale.envir = TRUE,
  ranks = TRUE,
  ord = "metric",
  put.together = NULL,
  na.rm = FALSE,
  notification = TRUE,
  progressbar = FALSE
)

## S3 method for class 'optimal'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>comm</code></td>
<td>
<p>Community data, with species as columns and sampling units as
rows. This matrix can contain either presence/absence or abundance data.
Alternatively comm can be an object of class metacommunity.data, an alternative
way to set all data.frames/matrices. When you use the class metacommunity.data the arguments
traits, envir and put.together must be null. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>traits</code></td>
<td>
<p>Matrix data of species described by traits, with traits as
columns and species as rows (Default traits = NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envir</code></td>
<td>
<p>Environmental variables for each community, with variables as
columns and sampling units as rows (Default envir = NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checkdata</code></td>
<td>
<p>Logical argument (TRUE or FALSE) to check if species
sequence in the community data follows the same order as the one in the
trait and if sampling units in the community data follows the same order as the one in the
environmental matrices (Default checkdata = TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset.min</code></td>
<td>
<p>Minimum of traits in each subset (Default subset.min = 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset.max</code></td>
<td>
<p>Maximum of traits in each subset (Default subset.max = ncol(traits)).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern</code></td>
<td>
<p>Patterns for maximize correlation, "tcap", "tdap",
"tcap.tdap" or "rao" (Default pattern = NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ro.method</code></td>
<td>
<p>Method to obtain the correlation, "mantel" or "procrustes"
(Default ro.method = "mantel").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>
<p>Dissimilarity index, as accepted by vegdist: "manhattan",
"euclidean", "canberra", "bray", "kulczynski", "jaccard", "gower",
"altGower", "morisita", "horn", "mountford", "raup" , "binomial" or "chao".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Correlation method, as accepted by cor: "pearson", "spearman"
or "kendall".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>Logical argument (TRUE or FALSE) to specify if the traits are
measured on different scales (Default Scale = TRUE). When scale = TRUE traits
are measured on different scales and the matrix T is subjected to
standardization within each trait. When scale = FALSE if traits are measured on
the same scale and the matrix T is not subjected to standardization.
Furthermore, if scale = TRUE the matrix of traits is subjected to
standardization within each trait, and Gower Index is used to calculate the
degree of belonging to the species, and if scale = FALSE the matrix of
traits is not subjected to standardization, and Euclidean distance is
calculated to determine the degree of belonging to the species.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale.envir</code></td>
<td>
<p>Logical argument (TRUE or FALSE) to specify if the
environmental variables are measured on different scales (Default scale =
TRUE). If the enviromental variables are measured on different scales, the
matrix is subjected to centralization and standardization within each
variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ranks</code></td>
<td>
<p>Logical argument (TRUE or FALSE) to specify if ordinal variables are
convert to ranks (Default ranks = TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ord</code></td>
<td>
<p>Method to be used for ordinal variables, see <code>gowdis</code>
(Default ord = "metric").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>put.together</code></td>
<td>
<p>List to specify group traits that are added or removed
together (Default put.together = NULL). This argument must be a list, see
examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>Logical argument (TRUE or FALSE) to specify if pairwise
deletion of missing observations when computing dissimilarities (Default
na.rm = FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>notification</code></td>
<td>
<p>Logical argument (TRUE or FALSE) to specify if
notifications of missing observations are shown (Default notification =
TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progressbar</code></td>
<td>
<p>Logical argument (TRUE or FALSE) to specify if display a
progress bar on the R console (Default progressbar = FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class optimal.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other parameters for the respective functions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Package <strong>SYNCSA</strong> requires that the species and community sequence in
the data.frame or matrix must be the same for all dataframe/matrices.
The function <code>organize.syncsa</code> organizes the data for the functions
of the package, placing the matrices of community, traits and
environmental varibles in the same order. The function
use of function organize.syncsa is not requered for run the functions, but
is recommended. In this way the arguments comm, traits, envir, as well as the argument
put.together, can be specified them as normal arguments or by passing them
with the object returned by the function <code>organize.syncsa</code> using, in this
case only the argument comm. Using the object returned by organize.syncsa, the comm argument
is used as an alternative way of entering to set all data.frames/matrices, and therefore
the other arguments (traits, envir, and put.together) must be null.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Subset</code></td>
<td>
<p>Subset of traits that maximizes the correlation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ro</code></td>
<td>
<p>Correlation for the subset of traits.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p><strong>IMPORTANT</strong>: The sequence species show up in community data
matrix MUST be the same as they show up in traits matrix. See details and
<code>organize.syncsa</code>.
</p>


<h3>Author(s)</h3>

<p>Vanderlei Julio Debastiani &lt;vanderleidebastiani@yahoo.com.br&gt;
</p>


<h3>References</h3>

<p>Pillar, V.D.; Duarte, L.d.S. (2010). A framework for
metacommunity analysis of phylogenetic structure. Ecology Letters, 13,
587-596.
</p>
<p>Pillar, V.D., Duarte, L.d.S., Sosinski, E.E. &amp; Joner, F. (2009).
Discriminating trait-convergence and trait-divergence assembly patterns in
ecological community gradients. Journal of Vegetation Science, 20, 334:348.
</p>


<h3>See Also</h3>

<p><code>syncsa</code>, <code>organize.syncsa</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(flona)
optimal(flona$community, flona$traits, flona$environment, subset.min = 3,
   subset.max = 5, pattern = "tcap")
optimal(flona$community, flona$traits, flona$environment, subset.min = 3,
   subset.max = 5, pattern = "tdap")
optimal(flona$community, flona$traits, flona$environment, subset.min = 3,
   subset.max = 5, pattern = "tcap.tdap")
put.together &lt;- list(c("fol", "sem"), c("tam", "red"))
put.together
optimal(flona$community, flona$traits, flona$environment, subset.min = 1,
   subset.max = 3, pattern = "tcap", put.together = put.together)
</code></pre>


</div>