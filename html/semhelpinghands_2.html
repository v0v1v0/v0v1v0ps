<div class="container">

<table style="width: 100%;"><tr>
<td>add_exo_cov</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add Covariances Between
Exogenous Variables</h2>

<h3>Description</h3>

<p>It generates the
'lavaan' model syntax for exogenous
variables in a <code>lavaan</code> model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_exo_cov(model, FUN = "sem", print = TRUE)

auto_exo_cov(model, FUN = "sem", print = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>The model syntax to
which the covariances are to be
added.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>Name (as string) of the
<code>lavaan</code> wrapper to be called.
Normally should be <code>"sem"</code>, the
default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print</code></td>
<td>
<p>Logical. Whether the
generated syntax should also be
printed by <code>cat()</code>. Default is
<code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>lavaan::sem()</code>
usually will set covariances between
"exogenous" variables free when
<code>fixed.x = FALSE</code> ("exogenous" is
defined here as variables that appear
on the right hand side but not on the
left hand side of the <code>~</code> operator').
However, if a covariance between the
residual term of an endogenous
variable and an exogenous variable is
manually set to free, <code>lavaan::sem()</code>
may not set the aforementioned
covariances free. Users will need to
free them manually, and there may be
a lot of them in some models.
</p>
<p>This function gets a model syntax
and generates the syntax for these
covariances. Users can then inspect
it, modify it if necessary, and then
copy and paste it to the model
syntax.
</p>


<h3>Value</h3>

<p><code>add_exo_cov()</code> returns a one-element
character vector of the syntax, with
lines separated by "\n". The
generated syntax is appended to the
input model syntax.
</p>
<p><code>auto_exo_cov()</code> returns a
one-element character vector of the
generated syntax, with lines
separated by "\n".
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>add_exo_cov()</code>: Add covariances
between exogenous variables to the
model syntax and than return the
modified model syntax.
</p>
</li>
<li> <p><code>auto_exo_cov()</code>: Generate the
model syntax for the covariances
between exogenous variables.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Shu Fai Cheung
<a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(lavaan)
set.seed(8976223)
n &lt;- 100
x &lt;- rnorm(n)
m &lt;- .5 * x + rnorm(n, 0, sqrt(.4))
z &lt;- rnorm(n)
y &lt;- .4 * m + .3 * z * m + rnorm(n, 0, .5)
dat &lt;- data.frame(x, m, z, y)
dat$zm &lt;- dat$z * dat$m
mod0 &lt;-
"
m ~ x
y ~ m + z + zm
m ~~ z + zm
"
fit &lt;- sem(mod0, dat, fixed.x = FALSE)

# Add covariances. Also printed by default.
mod0_cov &lt;- add_exo_cov(mod0)

# Fit the model
fit_cov &lt;- sem(mod0_cov, dat, fixed.x = FALSE)

# Manually adding the covariances
mod1 &lt;-
"
m ~ x
y ~ m + z + zm
m ~~ z + zm
z  ~~ zm + x
zm ~~ x
"
fit1 &lt;- sem(mod1, dat, meanstructure = TRUE, fixed.x = FALSE)

# Compare the results

# No manual covariances
fit

# Automatically generated covariances
fit_cov

# Manually added covariances
fit1


</code></pre>


</div>