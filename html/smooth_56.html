<div class="container">

<table style="width: 100%;"><tr>
<td>sim.oes</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate Occurrence Part of ETS model</h2>

<h3>Description</h3>

<p>Function generates data using ETS with Single Source of Error as a data
generating process for the demand occurrence. As the main output it produces
probabilities of occurrence.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sim.oes(model = "MNN", obs = 10, nsim = 1, frequency = 1,
  occurrence = c("odds-ratio", "inverse-odds-ratio", "direct", "general"),
  bounds = c("usual", "admissible", "restricted"), randomizer = c("rlnorm",
  "rinvgauss", "rgamma", "rnorm"), persistence = NULL, phi = 1,
  initial = NULL, initialSeason = NULL, modelB = model,
  persistenceB = persistence, phiB = phi, initialB = initial,
  initialSeasonB = initialSeason, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>Type of ETS model according to [Hyndman et. al., 2008]
taxonomy. Can consist of 3 or 4 chars: <code>ANN</code>, <code>AAN</code>, <code>AAdN</code>,
<code>AAA</code>, <code>AAdA</code>, <code>MAdM</code> etc. The conventional oETS model assumes
that the error term is positive, so "MZZ" models are recommended for this.
If you use additive error models, then the function will exponentiate the
obtained values before transforming them and getting the probability. This
is the type of model A.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs</code></td>
<td>
<p>Number of observations in each generated time series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>Number of series to generate (number of simulations to do).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frequency</code></td>
<td>
<p>Frequency of generated data. In cases of seasonal models
must be greater than 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>occurrence</code></td>
<td>
<p>Type of occurrence model. See <code>vignette("oes","smooth")</code>
for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bounds</code></td>
<td>
<p>Type of bounds to use for persistence vector if values are
generated. <code>"usual"</code> - bounds from p.156 by Hyndman et. al., 2008.
<code>"restricted"</code> - similar to <code>"usual"</code> but with upper bound equal
to 0.3. <code>"admissible"</code> - bounds from tables 10.1 and 10.2 of Hyndman
et. al., 2008. Using first letter of the type of bounds also works. These
bounds are also used for multiplicative models, but the models are much
more restrictive, so weird results might be obtained. Be careful!</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>randomizer</code></td>
<td>
<p>Type of random number generator function used for error
term. It is advised to use <code>rlnorm()</code> or <code>rinvgauss()</code> in case of
multiplicative error models. If a randomiser is used, it is advised to
specify the parameters in the ellipsis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>persistence</code></td>
<td>
<p>Persistence vector, which includes all the smoothing
parameters. Must correspond to the chosen model. The maximum length is 3:
level, trend and seasonal smoothing parameters. If <code>NULL</code>, values are
generated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phi</code></td>
<td>
<p>Value of damping parameter. If trend is not chosen in the model,
the parameter is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initial</code></td>
<td>
<p>Vector of initial states of level and trend. The maximum
length is 2. If <code>NULL</code>, values are generated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initialSeason</code></td>
<td>
<p>Vector of initial states for seasonal coefficients.
Should have length equal to <code>frequency</code> parameter. If <code>NULL</code>,
values are generated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modelB</code></td>
<td>
<p>Type of model B. This is used in <code>occurrence="general"</code>
and <code>occurrence="inverse-odds-ratio"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>persistenceB</code></td>
<td>
<p>The persistence vector for the model B.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phiB</code></td>
<td>
<p>Value of damping parameter for the model B.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initialB</code></td>
<td>
<p>Vector of initial states of level and trend for the model B.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initialSeasonB</code></td>
<td>
<p>Vector of initial states for seasonal coefficients for
the model B.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters passed to the chosen randomizer. All the
parameters should be passed in the order they are used in chosen randomizer.
Both model A and model B share the same parameters for the randomizer.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For the information about the function, see the vignette:
<code>vignette("simulate","smooth")</code>
</p>


<h3>Value</h3>

<p>List of the following values is returned:
</p>

<ul>
<li> <p><code>model</code> - Name of ETS model.
</p>
</li>
<li> <p><code>modelA</code> - Model A, generated using <code>sim.es()</code> function;
</p>
</li>
<li> <p><code>modelB</code> - Model B, generated using <code>sim.es()</code> function;
</p>
</li>
<li> <p><code>probability</code> - The value of probability generated by the model;
</p>
</li>
<li> <p><code>occurrence</code> - Type of occurrence used in the model;
</p>
</li>
<li> <p><code>logLik</code> - Log-likelihood of the constructed model.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Ivan Svetunkov, <a href="mailto:ivan@svetunkov.ru">ivan@svetunkov.ru</a>
</p>


<h3>References</h3>


<ul>
<li>
<p> Snyder, R. D., 1985. Recursive Estimation of Dynamic Linear Models.
Journal of the Royal Statistical Society, Series B (Methodological) 47 (2), 272-276.
</p>
</li>
<li>
<p> Hyndman, R.J., Koehler, A.B., Ord, J.K., and Snyder, R.D. (2008)
Forecasting with exponential smoothing: the state space approach,
Springer-Verlag. <a href="https://doi.org/10.1007/978-3-540-71918-2">doi:10.1007/978-3-540-71918-2</a>.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>oes, sim.es, Distributions</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# This example uses rinvgauss function from statmod package.
oETSMNNIG &lt;- sim.oes(model="MNN",frequency=12,obs=60,
                               randomizer="rinvgauss",mean=1,dispersion=0.5)

# A simpler example with log normal distribution
oETSMNNlogN &lt;- sim.oes(model="MNN",frequency=12,obs=60,initial=1,
                       randomizer="rlnorm",meanlog=0,sdlog=0.1)

</code></pre>


</div>