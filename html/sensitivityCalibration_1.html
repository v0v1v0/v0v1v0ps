<div class="container">

<table style="width: 100%;"><tr>
<td>calibrate_anim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Make the dynamic calibration plot.</h2>

<h3>Description</h3>

<p>This is another main function in the package. For a given p and the border of the sensitivity parameters (lambda, delta),
a calibration plot is made for each (lambda, delta) pair on the border.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calibrate_anim(border, q, u, p, degree, xmax, ymax, data_matched)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>border</code></td>
<td>
<p>Border or frontier of the sensitivity parameters for a fixed p.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p> Number of matched covariates plus treatment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>u</code></td>
<td>
<p> Unmeasured confounder; u = c(1,0) if the unmeasured confounder is assumed to be binary.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p> The probability vector corresponding to u; p = c(0.5, 0.5) if the unmeasured confounder is assumed to be Bernoulli(0.5).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>degree</code></td>
<td>
<p>Degree of freedom of the spline fit for the boundary.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xmax</code></td>
<td>
<p>Maximum xlim of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ymax</code></td>
<td>
<p>Maximum ylim of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data_matched</code></td>
<td>
<p>The matched dataset.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>border is the dataframe returned by the function find_border. It has to contain at least (k+1) different
lambda/delta pairs in order to fit a smoothing spline with k dfs.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(NHANES_blood_lead_small_matched)
attach(NHANES_blood_lead_small_matched)

# Prepare the border
lambda_vec = c(seq(0.1,1.9,0.1), 2.2, 2.5, 3, 3.5, 4)
delta_vec = c(7.31, 5.34, 4.38, 3.76, 3.18, 2.87, 2.55, 2.36, 2.16, 1.99, 1.86,
1.74, 1.63, 1.54, 1.44, 1.40, 1.31, 1.28, 1.22, 1.08, 0.964, 0.877, 0.815, 0.750)
border = data.frame(lambda_vec, delta_vec)

calibrate_anim(border, 9, c(1,0), c(0.5,0.5), 10, 5, 3.5, NHANES_blood_lead_small_matched)

detach(NHANES_blood_lead_small_matched)

</code></pre>


</div>