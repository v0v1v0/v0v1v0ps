<div class="container">

<table style="width: 100%;"><tr>
<td>drill_custom_functions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Drill expressions / custom functions <code>dplyr</code> translations</h2>

<h3>Description</h3>

<p>One benefit of <code>dplyr</code> is that it provide a nice DSL over datasbase ops but that
means there needs to be knowlege of functions supported by the host database and
then a translation layer so they can be used in R.
</p>


<h3>Details</h3>

<p>Similarly, there are functions like <code>grepl()</code> in R that don't directly exist in
databases. Yet, one can create a translation for <code>grepl()</code> that maps to a
<a href="https://github.com/parisni/drill-simple-contains">Drill custom function</a> so you
don't have to think differently or rewrite your pipes when switching from core
tidyverse ops and database ops.
</p>
<p>Many functions translate on their own, but it's handy to provide explicit ones,
especially when you want to use parameters in a different order.
</p>
<p>If you want a particular custom function mapped, file a PR or issue request in
the link found in the <code>DESCRIPTION</code> file.
</p>

<ul>
<li> <p><code>as.character(x)</code> : <code style="white-space: pre;">⁠CAST( x AS CHARACTER )⁠</code>
</p>
</li>
<li> <p><code>as.integer64(x)</code> : <code style="white-space: pre;">⁠CAST( x AS BIGINT )⁠</code>
</p>
</li>
<li> <p><code>as.date(x)</code> : <code style="white-space: pre;">⁠CAST( x AS DATE )⁠</code>
</p>
</li>
<li> <p><code>as.logical(x)</code> : <code style="white-space: pre;">⁠CAST( x AS BOOLEAN) ⁠</code>
</p>
</li>
<li> <p><code>as.numeric(x)</code> : <code style="white-space: pre;">⁠CAST( x AS DOUBLE )⁠</code>
</p>
</li>
<li> <p><code>as.posixct(x)</code> : <code style="white-space: pre;">⁠CAST( x AS TIMESTAMP )⁠</code>
</p>
</li>
<li> <p><code>binary_string(x)</code> : <code>BINARY_STRING( x )</code>
</p>
</li>
<li> <p><code>cbrt(x)</code> : <code>CBRT( x )</code>
</p>
</li>
<li> <p><code>char_to_timestamp(x, y)</code> : <code>TO_TIMESTAMP( x, y )</code>
</p>
</li>
<li> <p><code>grepl(y, x)</code> : <code>CONTAINS( x, y )</code>
</p>
</li>
<li> <p><code>contains(x, y)</code> : <code>CONTAINS( x, y )</code>
</p>
</li>
<li> <p><code>convert_to(x, y)</code> : <code>CONVERT_TO( x, y )</code>
</p>
</li>
<li> <p><code>convert_from(x, y)</code> : <code>CONVERT_FROM( x, y )</code>
</p>
</li>
<li> <p><code>degrees(x)</code> : <code>DEGREES( x )</code>
</p>
</li>
<li> <p><code>lshift(x, y)</code> : <code>DEGREES( x, y )</code>
</p>
</li>
<li> <p><code>negative(x)</code> : <code>NEGATIVE( x )</code>
</p>
</li>
<li> <p><code>pow(x, y)</code> : <code>MOD( x, y )</code>
</p>
</li>
<li> <p><code>sql_prefix(x, y)</code> : <code>POW( x, y )</code>
</p>
</li>
<li> <p><code>string_binary(x)</code> : <code>STRING_BINARY( x )</code>
</p>
</li>
<li> <p><code>radians(x)</code> : <code>RADIANS( x )</code>
</p>
</li>
<li> <p><code>rshift(x)</code> : <code>RSHIFT( x )</code>
</p>
</li>
<li> <p><code>to_char(x, y)</code> : <code style="white-space: pre;">⁠TO_CHAR  x, y )⁠</code>
</p>
</li>
<li> <p><code>to_date(x, y)</code> : <code>TO_DATE( x, y )</code>
</p>
</li>
<li> <p><code>to_number(x, y)</code> : <code>TO_NUMBER( x, y )</code>
</p>
</li>
<li> <p><code>trunc(x)</code> : <code>TRUNC( x )</code>
</p>
</li>
<li> <p><code>double_to_timestamp(x)</code> = <code>TO_TIMESTAMP( x )</code>
</p>
</li>
<li> <p><code>char_length(x)</code> = <code>CHAR_LENGTH( x )</code>
</p>
</li>
<li> <p><code>flatten(x)</code> = <code>FLATTEN( x )</code>
</p>
</li>
<li> <p><code>kvgen(x)</code> = <code>KVGEN( x )</code>
</p>
</li>
<li> <p><code>repeated_count(x)</code> = <code>REPEATED_COUNT( x )</code>
</p>
</li>
<li> <p><code>repeated_contains(x)</code> = <code>REPEATED_CONTAINS( x )</code>
</p>
</li>
<li> <p><code>ilike(x, y)</code> = <code>ILIKE( x, y )</code>
</p>
</li>
<li> <p><code>init_cap(x)</code> = <code>INIT_CAP( x )</code>
</p>
</li>
<li> <p><code>length(x)</code> = <code>LENGTH( x )</code>
</p>
</li>
<li> <p><code>lower(x)</code> = <code>LOWER( x )</code>
</p>
</li>
<li> <p><code>tolower(x)</code> = <code>LOWER( x )</code>
</p>
</li>
<li> <p><code>ltrim(x, y)</code> = <code>LTRIM( x, y )</code>
</p>
</li>
<li> <p><code style="white-space: pre;">⁠nullif(x, y⁠</code> = <code>NULLIF( x, y )</code>
</p>
</li>
<li> <p><code>position(x, y)</code> = <code style="white-space: pre;">⁠POSITION( x IN  y )⁠</code>
</p>
</li>
<li> <p><code>gsub(x, y, z)</code> = <code>REGEXP_REPLACE( z, x, y )</code>
</p>
</li>
<li> <p><code>regexp_replace(x, y, z)</code> = <code>REGEXP_REPLACE( x, y, z )</code>
</p>
</li>
<li> <p><code>rtrim(x, y)</code> = <code>RTRIM( x, y )</code>
</p>
</li>
<li> <p><code>rpad(x, y)</code> = <code>RPAD( x, y )</code>
</p>
</li>
<li> <p><code>rpad_with(x, y, z)</code> = <code>RPAD( x, y, z )</code>
</p>
</li>
<li> <p><code>lpad(x, y)</code> = <code>LPAD( x, y )</code>
</p>
</li>
<li> <p><code>lpad_with(x, y, z)</code> = <code>LPAD( x, y, z )</code>
</p>
</li>
<li> <p><code>strpos(x, y)</code> = <code>STRPOS( x, y )</code>
</p>
</li>
<li> <p><code>substr(x, y, z)</code> = <code>SUBSTR( x, y, z )</code>
</p>
</li>
<li> <p><code>upper(x)</code> = <code>UPPER(1)</code>
</p>
</li>
<li> <p><code>toupper(x)</code> = <code>UPPER(1)</code>
</p>
</li>
</ul>
<p>You can get a compact list of these with:
</p>
<p><code>sql_translate_env(src_drill()$con)</code>
</p>
<p>as well.
</p>


<h3>See Also</h3>

<p>Other Drill REST API (dplyr): 
<code>src_drill()</code>,
<code>src_tbls.src_drill()</code>
</p>


</div>