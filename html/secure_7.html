<div class="container">

<table style="width: 100%;"><tr>
<td>secure.sim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulation model</h2>

<h3>Description</h3>

<p>genertate random samples from a sparse factor regression model
</p>


<h3>Usage</h3>

<pre><code class="language-R">secure.sim(U, D, V, n, snr, Xsigma, rho = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>U</code></td>
<td>
<p>specified value of U</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>D</code></td>
<td>
<p>specified value of D</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>V</code></td>
<td>
<p>specified value of V</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>sample size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>snr</code></td>
<td>
<p>signal to noise ratio</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Xsigma</code></td>
<td>
<p>covariance matrix for generating sample of X</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>parameter defining correlated error</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>Generated response matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>Generated predictor matrix</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">#require(secure)

# Simulate data from a sparse factor regression model
p &lt;- 100; q &lt;- 50; n &lt;- 300
snr &lt;- 0.5; ssigma &lt;- 0.5; nlambda &lt;- 200 
nrank &lt;- 3

U &lt;- matrix(0,ncol=nrank ,nrow=p);  V &lt;- matrix(0,ncol=nrank ,nrow=q)
U[,1]&lt;-c(sample(c(1,-1),8,replace=TRUE),rep(0,p-8))
U[,2]&lt;-c(rep(0,5),sample(c(1,-1),9,replace=TRUE),rep(0,p-14))
U[,3]&lt;-c(rep(0,11),sample(c(1,-1),9,replace=TRUE),rep(0,p-20))
V[,1]&lt;-c(sample(c(1,-1),5,replace=TRUE)*runif(5,0.3,1),rep(0,q-5))
V[,2]&lt;-c(rep(0,5),sample(c(1,-1),5,replace=TRUE)*runif(5,0.3,1),rep(0,q-10))
V[,3]&lt;-c(rep(0,10),sample(c(1,-1),5,replace=TRUE)*runif(5,0.3,1),rep(0,q-15))
U[,1:3]&lt;- apply(U[,1:3],2,function(x)x/sqrt(sum(x^2)))
V[,1:3]&lt;- apply(V[,1:3],2,function(x)x/sqrt(sum(x^2)))
D &lt;- diag(c(20,15,10)) 
C &lt;- U%*%D%*%t(V)

Xsigma &lt;- ssigma^abs(outer(1:p, 1:p,FUN="-"))
sim.sample &lt;- secure.sim(U,D,V,n,snr,Xsigma)
Y &lt;- sim.sample$Y
X &lt;- sim.sample$X

</code></pre>


</div>