<div class="container">

<table style="width: 100%;"><tr>
<td>eightneighbours</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Count Number of Neighbours in a Rectangular Cellular Grid.</h2>

<h3>Description</h3>

<p>This function returns the sum of the eight neibours of a cell within a
matrix. It can be used to simulate simple cellular automata,
e.g. Conway's Game of Life.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  eightneighbours(x)
  eightneighbors(x)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The cellular grid, which typically contains integer values of
zero (dead cell) or one (living cell).</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A matrix with the same structure as <code>x</code>, but with the sum of the
neighbouring cells of each cell.
</p>


<h3>See Also</h3>

<p><code>seedfill</code>, <code>neighbours</code>, <code>conway</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">n &lt;- 80; m &lt;- 80
x &lt;- matrix(rep(0, m*n), nrow = n)
x[round(runif(1500, 1, m*n))] &lt;- 1
## uncomment this for another figure
#x[40, 20:60] &lt;- 1

image(x, col=c("wheat", "grey", "red"))
x2 &lt;- x
for (i in 2:10){
  nb &lt;- eightneighbours(x)

  ## survive with 2 or 3 neighbours
  xsurv &lt;- ifelse(x &gt; 0 &amp; (nb == 2 | nb ==3), 1, 0)

  ## generate for empty cells with 3 neigbours
  xgen &lt;- ifelse(x == 0 &amp; nb == 3, 1, 0)

  x  &lt;- ((xgen + xsurv)&gt;0)
  x2 &lt;- ifelse(x2&gt;1, 1, x2)
  x2 &lt;- ifelse(x&gt;0, 2, x2)

  image(x2, col=c("wheat", "grey", "red"), add=TRUE)
}
</code></pre>


</div>