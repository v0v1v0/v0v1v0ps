<div class="container">

<table style="width: 100%;"><tr>
<td>var_filter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Variable Filter</h2>

<h3>Description</h3>

<p>This function filter variables base on specified conditions, such as missing rate, identical value rate, information value.
</p>


<h3>Usage</h3>

<pre><code class="language-R">var_filter(dt, y, x = NULL, lims = list(missing_rate = 0.95, identical_rate
  = 0.95, info_value = 0.02), var_rm = NULL, var_kp = NULL,
  var_rm_reason = FALSE, positive = "bad|1", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dt</code></td>
<td>
<p>A data frame with both x (predictor/feature) and y (response/label) variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Name of y variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Name of x variables. Defaults to NULL. If x is NULL, then all columns except y are counted as x variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lims</code></td>
<td>
<p>A list of variable filters' thresholds.
</p>

<ul>
<li> <p><code>missing_rate</code> The missing rate of kept variables should &lt;= 0.95 by defaults.
</p>
</li>
<li> <p><code>identical_rate</code> The identical value rate (excluding NAs) of kept variables should &lt;= 0.95 by defaults.
</p>
</li>
<li> <p><code>info_value</code> The information value (iv) of kept variables should &gt;= 0.02 by defaults.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_rm</code></td>
<td>
<p>Name of force removed variables, Defaults to NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_kp</code></td>
<td>
<p>Name of force kept variables, Defaults to NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_rm_reason</code></td>
<td>
<p>Logical, Defaults to FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>positive</code></td>
<td>
<p>Value of positive class, Defaults to "bad|1".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame with columns for y and selected x variables, and a data frame with columns for remove reason if var_rm_reason is TRUE.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load German credit data
data(germancredit)

# variable filter
dt_sel = var_filter(germancredit, y = "creditability")
dim(dt_sel)

# return the reason of varaible removed
dt_sel2 = var_filter(germancredit, y = "creditability", var_rm_reason = TRUE)
lapply(dt_sel2, dim)

str(dt_sel2$dt)
str(dt_sel2$rm)

# keep columns manually, such as rowid
germancredit$rowid = row.names(germancredit)
dt_sel3 = var_filter(germancredit, y = "creditability", var_kp = 'rowid')

# remove columns manually
dt_sel4 = var_filter(germancredit, y = "creditability", var_rm = 'rowid')

</code></pre>


</div>