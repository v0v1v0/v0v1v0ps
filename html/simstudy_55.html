<div class="container">

<table style="width: 100%;"><tr>
<td>genSpline</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate spline curves</h2>

<h3>Description</h3>

<p>Generate spline curves
</p>


<h3>Usage</h3>

<pre><code class="language-R">genSpline(
  dt,
  newvar,
  predictor,
  theta,
  knots = c(0.25, 0.5, 0.75),
  degree = 3,
  newrange = NULL,
  noise.var = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dt</code></td>
<td>
<p>data.table that will be modified</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newvar</code></td>
<td>
<p>Name of new variable to be created</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictor</code></td>
<td>
<p>Name of field in old data.table that is predicting new value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>A vector or matrix of values between 0 and 1. Each column of the matrix
represents the weights/coefficients that will be applied to the basis functions
determined by the knots and degree. Each column of theta represents a separate
spline curve.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>knots</code></td>
<td>
<p>A vector of values between 0 and 1, specifying quantile
cut-points for splines. Defaults to c(0.25, 0.50, 0.75).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>degree</code></td>
<td>
<p>Integer specifying polynomial degree of curvature.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newrange</code></td>
<td>
<p>Range of the spline function , specified as a string
with two values separated by a semi-colon. The first value represents the
minimum, and the second value represents the maximum. Defaults to NULL, which
sets the range to be between 0 and 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noise.var</code></td>
<td>
<p>Add to normally distributed noise to observation - where mean
is value of spline curve.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A modified data.table with an added column named newvar.
</p>


<h3>Examples</h3>

<pre><code class="language-R">ddef &lt;- defData(varname = "age", formula = "0;1", dist = "uniform")

theta1 &lt;- c(0.1, 0.8, 0.6, 0.4, 0.6, 0.9, 0.9)
knots &lt;- c(0.25, 0.5, 0.75)

viewSplines(knots = knots, theta = theta1, degree = 3)

set.seed(234)
dt &lt;- genData(1000, ddef)

dt &lt;- genSpline(
  dt = dt, newvar = "weight",
  predictor = "age", theta = theta1,
  knots = knots, degree = 3,
  noise.var = .025
)

dt
</code></pre>


</div>