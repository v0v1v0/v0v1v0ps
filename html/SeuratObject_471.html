<div class="container">

<table style="width: 100%;"><tr>
<td>SaveSeuratRds</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Save and Load <code>Seurat</code> Objects from Rds files</h2>

<h3>Description</h3>

<p>Save and Load <code>Seurat</code> Objects from Rds files
</p>


<h3>Usage</h3>

<pre><code class="language-R">SaveSeuratRds(
  object,
  file = NULL,
  move = TRUE,
  destdir = deprecated(),
  relative = FALSE,
  ...
)

LoadSeuratRds(file, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A <code>Seurat</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>Path to save <code>object</code> to; defaults to
<code>file.path(getwd(), paste0(Project(object), ".Rds"))</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>move</code></td>
<td>
<p>Move on-disk layers into <code>dirname(file)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>destdir</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relative</code></td>
<td>
<p>Save relative paths instead of absolute ones</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Arguments passed on to <code>base::saveRDS</code>, <code>base::readRDS</code>
</p>

<dl>
<dt><code>ascii</code></dt>
<dd>
<p>a logical.  If <code>TRUE</code> or <code>NA</code>, an ASCII
representation is written; otherwise (default), a binary one is used.
See the comments in the help for <code>save</code>.</p>
</dd>
<dt><code>version</code></dt>
<dd>
<p>the workspace format version to use.  <code>NULL</code>
specifies the current default version (3). The only other supported
value is 2, the default from <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 1.4.0 to <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> 3.5.0.</p>
</dd>
<dt><code>compress</code></dt>
<dd>
<p>a logical specifying whether saving to a named file is
to use <code>"gzip"</code> compression, or one of <code>"gzip"</code>,
<code>"bzip2"</code> or <code>"xz"</code> to indicate the type of compression to
be used.  Ignored if <code>file</code> is a connection.</p>
</dd>
<dt><code>refhook</code></dt>
<dd>
<p>a hook function for handling reference objects.</p>
</dd>
</dl>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Invisibly returns <code>file</code>
</p>


<h3>Progress Updates with <span class="pkg">progressr</span>
</h3>

<p>This function uses
<a href="https://cran.r-project.org/package=progressr"><span class="pkg">progressr</span></a> to
render status updates and progress bars. To enable progress updates, wrap
the function call in <code>with_progress</code> or run
<code>handlers(global = TRUE)</code> before running
this function. For more details about <span class="pkg">progressr</span>, please read
<a href="https://progressr.futureverse.org/articles/progressr-intro.html"><code>vignette("progressr-intro")</code></a>
</p>


<h3>Note</h3>

<p>This function requires the
<a href="https://cran.r-project.org/package=fs"><span class="pkg">fs</span></a> package
to be installed
</p>


<h3>See Also</h3>

<p><code>saveRDS()</code> <code>readRDS()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (requireNamespace("fs", quietly = TRUE)) {
  # Write out with DelayedArray
  if (requireNamespace("HDF5Array", quietly = TRUE)) {
    pbmc &lt;- pbmc_small

    pbmc[["disk"]] &lt;- CreateAssay5Object(list(
      mem = LayerData(pbmc, "counts"),
      disk = as(LayerData(pbmc, "counts"), "HDF5Array")
    ))

    # Save `pbmc` to an Rds file
    out &lt;- tempfile(fileext = ".Rds")
    SaveSeuratRds(pbmc, file = out)

    # Object cache
    obj &lt;- readRDS(out)
    Tool(obj, "SaveSeuratRds")

    # Load the saved object with on-disk layers back into memory
    pbmc2 &lt;- LoadSeuratRds(out)
    pbmc2
    pbmc2[["disk"]]
  }

  # Write out with BPCells
  if (requireNamespace("BPCells", quietly = TRUE)) {
    pbmc &lt;- pbmc_small

    bpm &lt;- BPCells::write_matrix_dir(LayerData(pbmc, "counts"), dir = tempfile())
    bph &lt;- BPCells::write_matrix_hdf5(
      LayerData(pbmc, "counts"),
      path = tempfile(fileext = ".h5"),
      group = "counts"
    )
    pbmc[["disk"]] &lt;- CreateAssay5Object(list(dir = bpm, h5 = bph))

    # Save `pbmc` to an Rds file
    out &lt;- tempfile(fileext = ".Rds")
    SaveSeuratRds(pbmc, file = out)

    # Object cache
    obj &lt;- readRDS(out)
    Tool(obj, "SaveSeuratRds")

    # Load the saved object with on-disk layers back into memory
    pbmc2 &lt;- LoadSeuratRds(out)
    pbmc2
    pbmc2[["disk"]]
  }
}

</code></pre>


</div>