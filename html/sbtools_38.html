<div class="container">

<table style="width: 100%;"><tr>
<td>query_sb</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Query SB for items using generic query parameters</h2>

<h3>Description</h3>

<p>Generic SB query function to construct advanced queries.
</p>
<p>The following is a list of query parameters you can use 
in the <code>query_list</code> parameter.
</p>

<ul>
<li>
<p> q (character): Query string
</p>
</li>
<li>
<p> q (character): Lucene query string
</p>
</li>
<li>
<p> fields (character): Character vector of fields to return
</p>
</li>
<li>
<p> folderId (character): Alphanumeric string representing folder ID
</p>
</li>
<li>
<p> parentId (character): Alphanumeric string representing folder ID. This
can be used to return all children items within the folder, but not within 
sub-folders.
</p>
</li>
<li>
<p> sort (character) One of "firstContact", "dateCreated", "lastUpdated", 
or "title". By default sorted by search score
</p>
</li>
<li>
<p> order (character) One of "asc" or "desc"
</p>
</li>
<li>
<p> ids Vector of item ids.
</p>
</li>
<li>
<p> ancestors (character): Alphanumeric string representing folder ID. This
can be used to return all children items within the folder, even within 
sub-folders. Used as a filter 
</p>
</li>
<li>
<p> tags Filter by tags, e.g, "distribution". Used as a filter 
</p>
</li>
<li>
<p> browseCategory One of .... Used as a filter 
</p>
</li>
<li>
<p> browseType One of .... Used as a filter 
</p>
</li>
<li>
<p> dateRange A json string with keys dateType and choice. Where dateType is one of
Acquisition, Award, Collected, dateCreated, Received, Reported, Transmitted, Due, End,
Info, lastUpdated, Publication, Release, or Start. And where choice is one of 
day, week, month, year, or range (if range selected, also supply start and end
keys with dates of the form YYYY-MM-DD). Used as a filter 
</p>
</li>
<li>
<p> projectStatus One of Active, Approved, Completed, In Progress, Proposed. Used as a filter 
</p>
</li>
<li>
<p> spatialQuery A WKT string. Used as a filter 
</p>
</li>
<li>
<p> extentQuery Use existing extents (footprints) to search against item bounding 
boxes and representational points. This is a alphanumeric string.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">query_sb(query_list, ..., limit = 20)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>query_list</code></td>
<td>
<p>List of item query selectors. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters are passed on to <code>GET</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limit</code></td>
<td>
<p>Maximum number of returned items. Will do paging to retrieve
results when limit is over 1000. Use with caution, queries 10k results
are slow.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of <code>sbitem</code> objects
</p>


<h3>See Also</h3>

<p><code>query_items</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
query_sb(list(q = "water"))

# Search by project status
query_sb(list(projectStatus = "Active"))

# Search a folder ID
query_sb(list(q = "water", folderId = '504216b9e4b04b508bfd337d'))

# Filter by ancestor
query_sb(list(ancestors = "4f831626e4b0e84f6086809b"))

# Filter by tags
query_sb(list(tags = "distribution"))

# Filter by browse category
query_sb(list(browseCategory = "Image"))

# Filter by browse type
query_sb(list(browseType = "Map Service"))

# Filter by WKT geometry string
wkt1 &lt;- "POLYGON((-104.4 41.0,-95.1 41.0,-95.1 37.5,-104.4 37.5,-104.4 41.0))"
wkt2 &lt;- "POLYGON((-104.4 38.3,-95.2 38.3,-95.2 33.7,-104.4 34.0,-104.4 38.3))"
query_sb(list(spatialQuery = wkt1))
query_sb(list(spatialQuery = wkt1, spatialQuery = wkt2))

# Date range
query_sb(list(dateRange = '{"dateType":"Collected","choice":"year"}'))
query_sb(list(dateRange = '{"dateType":"lastUpdated","choice":"month"}'))
query_sb(list(dateRange = 
		'{"dateType":"Release","choice":"range","start":"2014-09-01","end":"2015-09-01"}'))

## End(Not run)


</code></pre>


</div>