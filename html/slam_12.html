<div class="container">

<table style="width: 100%;"><tr>
<td>simple_sparse_array</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simple Sparse Arrays</h2>

<h3>Description</h3>

<p>Data structures and operators for sparse arrays based on
a representation by index matrix and value vector.</p>


<h3>Usage</h3>

<pre><code class="language-R">simple_sparse_array(i, v, dim = NULL, dimnames = NULL)

as.simple_sparse_array(x)
is.simple_sparse_array(x)

simplify_simple_sparse_array(x, higher = TRUE)
reduce_simple_sparse_array(x, strict = FALSE, order = FALSE)
drop_simple_sparse_array(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>
<p>Integer matrix of array indices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>Vector of values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dim</code></td>
<td>
<p>Integer vector specifying the size of the dimensions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimnames</code></td>
<td>
<p>either <code>NULL</code> or the names for the dimensions.
This is a list
with one component for each dimension, either <code>NULL</code> or a
character vector of the length given by <code>dim</code> for that
dimension.  The list can be named, and the list names will be
used as names for the dimensions.  If the list is shorter
than the number of dimensions, it is extended by <code>NULL</code>'s to
the length required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> object; an object of class <code>simple_sparse_array</code>
(see Note).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>higher</code></td>
<td>
<p>Option to use the dimensions of the values (see Note).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>
<p>Option to treat violations of sparse representation as error
(see Note).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>Option to reorder elements (see Note).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>simple_sparse_array</code> is a generator for
a class of “lightweight” sparse arrays, 
represented by index matrices and value vectors.
Currently, only methods for indexing and coercion are implemented.
</p>


<h3>Note</h3>

<p>The <em>zero</em> element is defined as <code>vector(typeof(v), 1L)</code>,
for example, <code>FALSE</code> for <code>logical</code> values (see
<code>vector</code>). Clearly, sparse arrays should not contain
<em>zero</em> elements, however, for performance reasons the class
generator does not remove them.
</p>
<p>If <code>strict = FALSE</code> (default) <code>reduce_simple_sparse_array</code> tries
to repair violations of sparse representation (<em>zero, multiple</em>
elements), otherwise it stops. If <code>order = TRUE</code> the elements are
further reordered (see <code>array</code>).
</p>
<p><code>simplify_simple_sparse_array</code> tries to reduce <code>v</code>. If
<code>higher = TRUE</code> (default) augments <code>x</code> by the common dimensions
of <code>v</code> (from the left), or the common length. Note that <em>scalar</em>
elements are never extended and unused dimensions never dropped.
</p>
<p><code>drop_simple_sparse_array</code> drops unused dimensions.
</p>
<p>If <code>prod(dim(x)) &gt; slam_options("max_dense")</code> empty and negative
indexing are disabled
for <code>[</code> and <code>[&lt;-</code>. Further, non-negative single (vector)
indexing is limited to 52 bits of representation.
</p>


<h3>See Also</h3>

<p><code>simple_triplet_matrix</code> for sparse matrices.
</p>
<p><code>slam_options</code> for options.
</p>


<h3>Examples</h3>

<pre><code class="language-R">x &lt;- array(c(1, 0, 0, 2, 0, 0, 0, 3), dim = c(2, 2, 2))
s &lt;- as.simple_sparse_array(x)
identical(x, as.array(s))

simple_sparse_array(matrix(c(1, 3, 1, 3, 1, 3), nrow = 2), c(1, 2))
</code></pre>


</div>