<div class="container">

<table style="width: 100%;"><tr>
<td>optimize_weights</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Optimize weights from list of prediction matrices</h2>

<h3>Description</h3>

<p>Computes the optimal weights to obtain the minimal loss function from a list of prediction matrices.
</p>


<h3>Usage</h3>

<pre><code class="language-R">optimize_weights(predictionlist, outcome, FUN = trps)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>predictionlist</code></td>
<td>
<p>A list of R x T prediction matrices where each column sum to 1 and each row sums to</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome</code></td>
<td>
<p>An integer vector listing the</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>The function used for optimizing the predictions. The default is top use rps for the rank probability score. Another option is logloss for log loss.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a numeric vector containing an optimal vector of weights that sum to 1 and that minimizes the loss function.
</p>


<h3>Author(s)</h3>

<p>Claus Ekstrom <a href="mailto:ekstrom@sund.ku.dk">ekstrom@sund.ku.dk</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
m1 &lt;- matrix(c(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, .5, .5, 0, 0, .5, .5), 4)
m1 # Prediction where certain on the top ranks
m2 &lt;- matrix(c(.5, .5, 0, 0, .5, .5, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), 4)
m2  # Prediction where the groups are okay 
m3 &lt;- matrix(c(.5, .5, 0, 0, .5, .5, 0, 0, 0, 0, .5, .5, 0, 0, .5, .5), 4)
m3  # Prediction where no clue about anything
m4 &lt;- matrix(rep(1/4, 16), 4)

optimize_weights(list(m1, m2, m3, m4), 1:4)

</code></pre>


</div>