<div class="container">

<table style="width: 100%;"><tr>
<td>nydata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>New York leukemia data</h2>

<h3>Description</h3>

<p>New York leukemia data taken from the data sets supporting Waller and Gotway 2004 (the data should be loaded by running <code>example(NY_data)</code> to demonstrate spatial data import techniques)
</p>


<h3>Usage</h3>

<pre><code class="language-R">nydata
</code></pre>


<h3>Format</h3>

<p>A data frame with 281 observations on the following 12 variables, and the binary coded spatial weights used in the source.
</p>

<ul>
<li>
<p>AREANAME: name of census tract
</p>
</li>
<li>
<p>AREAKEY: unique FIPS code for each tract
</p>
</li>
<li>
<p>X: x-coordinate of tract centroid (in km)
</p>
</li>
<li>
<p>Y: y-coordinate of tract centroid (in km)
</p>
</li>
<li>
<p>POP8: population size (1980 U.S. Census)
</p>
</li>
<li>
<p>TRACTCAS: number of cases 1978-1982
</p>
</li>
<li>
<p>PROPCAS: proportion of cases per tract
</p>
</li>
<li>
<p>PCTOWNHOME: percentage of people in each tract owning their own home
</p>
</li>
<li>
<p>PCTAGE65P: percentage of people in each tract aged 65 or more
</p>
</li>
<li>
<p>Z: ransformed propoprtions
</p>
</li>
<li>
<p>AVGIDIST: average distance between centroid and TCE sites
</p>
</li>
<li>
<p>PEXPOSURE: "exposure potential": inverse distance between each census tract centroid and the nearest TCE site, IDIST, transformed via log(100*IDIST)
</p>
</li>
<li>
<p>Cases: as TRACTCAS with more digits
</p>
</li>
<li>
<p>Xm: X in metres
</p>
</li>
<li>
<p>Ym: Y in metres
</p>
</li>
<li>
<p>Xshift: feature offset
</p>
</li>
<li>
<p>Yshift: feature offset
</p>
</li>
</ul>
<h3>Details</h3>

<p>The examples section shows how the DBF files from the book website for Chapter 9 were converted into the <code>nydata</code> data frame and the <code>listw_NY</code> spatial weights list. The <code>shapes</code> directory includes the original version of the UTM18 census tract boundaries imported from BNA format (http://sedac.ciesin.columbia.edu/ftpsite/pub/census/usa/tiger/ny/bna_st/t8_36.zip) before the OGR/GDAL BNA driver was available. The <code>NY8_utm18</code> shapefile was constructed using a bna2mif converter and converted to shapefile format after adding data using <code>writeOGR</code>. The new file <code>NY8_bna_utm18.gpkg</code> has been constructed from the original BNA file, but read using the OGR BNA driver with GEOS support. The NY8 shapefile and GeoPackage NY8_utm18.gpkg include invalid polygons, but because the OGR BNA driver may have GEOS support (used here), the tract polygon objects in NY8_bna_utm18.gpkg are valid.
</p>


<h3>Source</h3>

<p>http://www.sph.emory.edu/~lwaller/ch9index.htm
</p>


<h3>References</h3>

<p>Waller, L. and C. Gotway (2004) <em>Applied Spatial Statistics for Public Health Data</em>. New York: John Wiley and Sons.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## NY leukemia

if (requireNamespace("sf", quietly = TRUE)) {
library(foreign)
nydata &lt;- read.dbf(system.file("misc/nydata.dbf", package="spData")[1])
nydata &lt;- sf::st_as_sf(nydata, coords=c("X", "Y"), remove=FALSE)
plot(sf::st_geometry(nydata))

nyadjmat &lt;- as.matrix(read.dbf(system.file("misc/nyadjwts.dbf",
                                           package="spData")[1])[-1])
ID &lt;- as.character(names(read.dbf(system.file("misc/nyadjwts.dbf",
                                              package="spData")[1]))[-1])
identical(substring(ID, 2, 10), substring(as.character(nydata$AREAKEY), 2, 10))

if (requireNamespace("sf", quietly = TRUE)) {
library(spdep)
listw_NY &lt;- mat2listw(nyadjmat, as.character(nydata$AREAKEY), style="B")
}
}

</code></pre>


</div>