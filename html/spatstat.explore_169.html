<div class="container">

<table style="width: 100%;"><tr>
<td>fv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Create a Function Value Table
</h2>

<h3>Description</h3>

<p>Advanced Use Only.
This low-level function creates an object of class <code>"fv"</code>
from raw numerical data. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">fv(x, argu = "r", ylab = NULL, valu, fmla = NULL, alim = NULL,
   labl = names(x), desc = NULL, unitname = NULL, fname = NULL, yexp = ylab)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>A data frame with at least 2 columns containing the
values of the function argument and the corresponding values
of (one or more versions of) the function.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>argu</code></td>
<td>

<p>String. The name of the column of <code>x</code> that contains
the values of the function argument.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>

<p>Either <code>NULL</code>, or an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> language expression
representing the mathematical name of the
function. See Details.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>valu</code></td>
<td>

<p>String. The name of the column of <code>x</code> that should be taken
as containing the function values, in cases where a single column
is required.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fmla</code></td>
<td>

<p>Either <code>NULL</code>, or a <code>formula</code> specifying the default
plotting behaviour. See Details.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alim</code></td>
<td>

<p>Optional.
The default range of values of the function argument for which the
function will be plotted.
Numeric vector of length 2.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labl</code></td>
<td>

<p>Optional. Plot labels for the columns of <code>x</code>.
A vector of strings, with one entry for each column of <code>x</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>desc</code></td>
<td>

<p>Optional. Descriptions of the columns of <code>x</code>.
A vector of strings, with one entry for each column of <code>x</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unitname</code></td>
<td>

<p>Optional. Name of the unit (usually a unit of length)
in which the function argument is
expressed. Either a single character string,
or a vector of two character strings giving the
singular and plural forms, respectively.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fname</code></td>
<td>

<p>Optional.
The name of the function itself. A character string.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yexp</code></td>
<td>

<p>Optional. Alternative form of <code>ylab</code>
more suitable for annotating an axis of the plot.
See Details.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This documentation is provided
for experienced programmers who want to modify the internal
behaviour of <span class="pkg">spatstat</span>. Other users please see <code>fv.object</code>.
</p>
<p>The low-level function <code>fv</code> is used to create an object of
class <code>"fv"</code> from raw numerical data.
</p>
<p>The data frame <code>x</code> contains the numerical data.
It should have one column
(typically but not necessarily named <code>"r"</code>)
giving the values of the function argument for which
the function has been evaluated; and at least one other column,
containing the corresponding values of the function.
</p>
<p>Typically there is more than one column of function values.
These columns typically give the values of different versions or estimates
of the same function,
for example, different estimates of the <code class="reqn">K</code> function
obtained using different edge corrections.
However they may also contain the values of related functions
such as the derivative or hazard rate.
</p>
<p><code>argu</code> specifies the name of the column of
<code>x</code> that contains the values of the function argument
(typically <code>argu="r"</code> but this is not compulsory).
</p>
<p><code>valu</code> specifies the name of another column
that contains the ‘recommended’ estimate of the function.
It will be used to provide function values in those situations where
a single column of data is required. For example,
<code>envelope</code> computes its simulation envelopes
using the recommended value of the summary function.
</p>
<p><code>fmla</code> specifies the default plotting behaviour.
It should be a formula, or a string that can be converted to a
formula. Variables in the formula are names of columns of <code>x</code>.
See <code>plot.fv</code> for the interpretation of this
formula.
</p>
<p><code>alim</code> specifies the recommended range of the
function argument. This is used in situations where statistical
theory or statistical practice indicates that the computed
estimates of the function are not trustworthy outside a certain
range of values of the function argument. By default,
<code>plot.fv</code> will restrict the plot to this range.
</p>
<p><code>fname</code> is a string giving the name of the function itself.
For example, the <code class="reqn">K</code> function would have <code>fname="K"</code>.
</p>
<p><code>ylab</code> is a mathematical expression
for the function value, used when labelling an axis
of the plot, or when printing a description of the
function. It should be an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> language object. 
For example the <code class="reqn">K</code> function's mathematical name <code class="reqn">K(r)</code> is rendered
by <code>ylab=quote(K(r))</code>. 
</p>
<p>If <code>yexp</code> is present, then <code>ylab</code> will be
used only for printing, and <code>yexp</code> will be used for
annotating axes in a plot. (Otherwise <code>yexp</code> defaults to <code>ylab</code>).
For example the cross-type <code class="reqn">K</code> function
<code class="reqn">K_{1,2}(r)</code> is rendered by something like
<code>ylab=quote(Kcross[1,2](r))</code>
and 
<code>yexp=quote(Kcross[list(1,2)](r))</code>
to get the most satisfactory behaviour.
</p>
<p>(A useful tip: use <code>substitute</code> instead of
<code>quote</code> to insert values of variables into an expression,
e.g. <code>substitute(Kcross[i,j](r), list(i=42,j=97))</code>
yields the same as <code>quote(Kcross[42, 97](r))</code>.)
</p>
<p><code>labl</code> is a character vector specifying plot labels
for each column of <code>x</code>. These labels will appear on the
plot axes (in non-default plots), legends and printed output.
Entries in <code>labl</code>
may contain the string <code>"%s"</code> which will be replaced
by <code>fname</code>. For example the border-corrected estimate
of the <code class="reqn">K</code> function has label <code>"%s[bord](r)"</code> which
becomes <code>"K[bord](r)"</code>.
</p>
<p><code>desc</code> is a character vector containing intelligible
explanations of each column of <code>x</code>. Entries in
<code>desc</code> may contain the string <code>"%s"</code> which will be replaced
by <code>ylab</code>. For example the border correction estimate of the
<code class="reqn">K</code> function has description <code>"border correction estimate of %s"</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>"fv"</code>, see <code>fv.object</code>.
</p>


<h3>Author(s)</h3>

<p>Adrian Baddeley <a href="mailto:Adrian.Baddeley@curtin.edu.au">Adrian.Baddeley@curtin.edu.au</a> and Rolf Turner <a href="mailto:rolfturner@posteo.net">rolfturner@posteo.net</a>.</p>


<h3>See Also</h3>

<p>See <code>plot.fv</code> for plotting an <code>"fv"</code> object.
</p>
<p>See <code>as.function.fv</code> to convert an <code>"fv"</code> object
to an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> function.
</p>
<p>Use <code>cbind.fv</code> to combine several <code>"fv"</code> objects.
Use <code>bind.fv</code> to glue additional columns onto an existing
<code>"fv"</code> object.
</p>
<p>Simple calculations such as arithmetic and mathematical operations
can be computed directly.
The range of <code class="reqn">y</code> values of a function <code>f</code> can be computed by
typing <code>range(f)</code>. These operations are dispatched to 
<code>Summary.fv</code>, <code>Math.fv</code> and <code>Ops.fv</code>.
</p>
<p>Use <code>eval.fv</code> or <code>with.fv</code> for more complicated
calculations.
</p>
<p>The functions <code>fvnames</code>, <code>fvnames&lt;-</code> allow the user to
use standard abbreviations to refer to columns of an <code>"fv"</code> object.
</p>
<p><em>Undocumented</em> functions for modifying an <code>"fv"</code> object
include <code>tweak.fv.entry</code> and <code>rebadge.fv</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">  df &lt;- data.frame(r=seq(0,5,by=0.1))
  df &lt;- transform(df, a=pi*r^2, b=3*r^2)
  X &lt;- fv(df, "r", quote(A(r)),
              "a", cbind(a, b) ~ r,
              alim=c(0,4),
              labl=c("r", "%s[true](r)", "%s[approx](r)"),
              desc=c("radius of circle",
                     "true area %s",
                     "rough area %s"),
              fname="A")
  X
</code></pre>


</div>