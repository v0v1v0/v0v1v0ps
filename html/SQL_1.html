<div class="container">

<table style="width: 100%;"><tr>
<td>SQL</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run duckdb SQL statements on data frames</h2>

<h3>Description</h3>

<p>Runs Duckdb SQL statements on in-memory data frames without registering nor copying them.
Optionnaly sends the result of a query to a parquet file in an efficient way.
Using the 'path' argument may be be twenty times faster than using the COPY ... TO SQL statement.
</p>


<h3>Usage</h3>

<pre><code class="language-R">SQL(query,path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>

<p>A character string containing SQL statements undertandable by Duckdb.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>

<p>A path to a parquet file to be created.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If 'path' is not given a value, returns the result of the query as a data frame, else returns an invisible NULL.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
SQL("SELECT * FROM mtcars LIMIT 1")

# Temporary tables may be created but must be quoted when used
SQL("
  CREATE TABLE cyls AS SELECT DISTINCT cyl FROM mtcars;
  SELECT * FROM 'cyls'
")

## Not run: 
# Mixing data frames and parquet files, then writing to parquet
dep &lt;- rio::import('V:/PALETTES/IGoR/data/dep2014.dbf')

SQL(
  "SELECT a.*,b.REGION
   FROM 'V:/PALETTES/parquet/rp68a19.parquet' a
   LEFT JOIN dep b
   ON a.DR=b.DEP",
  'V:/PALETTES/tmp/rp68a19s.parquet'
)
 
## End(Not run)
</code></pre>


</div>