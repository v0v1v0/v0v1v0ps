<div class="container">

<table style="width: 100%;"><tr>
<td>dataPrep</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Neighborhood Data Preparation
</h2>

<h3>Description</h3>

<p>Prepares a neighborhood data from a given image, using the left-to-right then top-to-bottom raster scan order (see Bui and Apley 2018a).
</p>


<h3>Usage</h3>

<pre><code class="language-R">dataPrep(img, nb, vars = NULL, subsample = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>img</code></td>
<td>

<p>the given image in the matrix format.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nb</code></td>
<td>

<p>the size of the neighborhood. It must be a 1-length or 3-length vector of positive integer(s). If the former, it is the same with a 3-length vector with the same elements.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>

<p>names of variables to be selected in the neighborhood data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subsample</code></td>
<td>

<p>the portion of data rows be returned. It takes values in (0, 1]. If <code>subsample = 1</code>, all data rows will be returned, and if <code>subsample = .5</code>, only roughly a half will be returned.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A dataframe with column names "V1", "V2", "V3", ...
The first column "V1" contains the response pixel, whereas the other columns contain pixels in the neighborhood (with size <code>nb</code>) of the response pixel.
</p>


<h3>Note</h3>

<p>Only rows without missing values (corresponding to pixels with full neighborhood) are returned.
</p>


<h3>Author(s)</h3>

<p>Anh Bui
</p>


<h3>References</h3>

<p>Bui, A.T. and Apley., D.W. (2018a) "A Monitoring and Diagnostic Approach for Stochastic Textured Surfaces", Technometrics, 60, 1-13.
</p>


<h3>See Also</h3>

<p><code>surfacemodel, monitoringStat</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## construct a neighborhood data for an unrealistically small mock image (7x9 pixels).
mock.img &lt;- matrix(sample(0:255, 63, replace = TRUE), 7, 9)
mock.img
dataPrep(img = mock.img, nb = 2) # the same with nb = c(2, 2, 2)

## select only columns "V2", "V5", and "V13" in the output
dataPrep(img = mock.img, nb = 2, vars = c("V2", "V5", "V13"))

## return only a half number of rows
dataPrep(img = mock.img, nb = 2, subsample = .5)
</code></pre>


</div>