<div class="container">

<table style="width: 100%;"><tr>
<td>plot_hist</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plotting Histograms of a Stressed Model</h2>

<h3>Description</h3>

<p>Plots the histogram of a stressed model component (random variable)
under the scenario weights.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_hist(
  object,
  xCol = 1,
  wCol = "all",
  base = FALSE,
  x_limits,
  displ = TRUE,
  binwidth,
  displLines = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A <code>SWIM</code> or <code>SWIMw</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xCol</code></td>
<td>
<p>Numeric or character, (name of) the column of the underlying data
of the <code>object</code> (<code>default = 1</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wCol</code></td>
<td>
<p>Vector, the columns of the scenario weights 
of the <code>object</code> corresponding to different 
stresses (<code>default = "all"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>Logical, if <code>TRUE</code>, statistics under the baseline 
are also returned (<code>default = "FALSE"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_limits</code></td>
<td>
<p>Vector, the limits of the x-axis of the plot, the
value for <code>xlim</code> in the <code>coord_cartesian</code>
function in <code>ggplot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>displ</code></td>
<td>
<p>Logical, if <code>TRUE</code> the plot is displayed,
otherwise the data.frame for customised plotting with
<code>ggplot</code> is returned (<code>default = TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binwidth</code></td>
<td>
<p>Numeric, the width of the bins used to plot
the histogram, the <code>binwidth</code> in the
<code>geom_freqpoly</code> function  in <code>ggplot</code>
(default corresponds to 30 bins).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>displLines</code></td>
<td>
<p>Logical, if <code>TRUE</code> lines are displayed
instead of bins (<code>default = FALSE</code>).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>displ = TRUE</code>, a histogram of the stochastic model
under the scenario weights.
</p>
<p>If <code>displ = FALSE</code>, a data.frame for customised plotting with
<code>ggplot</code>. The data.frame contains the columns: the column,
<code>xCol</code>, of the data of the stressed model, <code>stress</code>
(the stresses) and <code>value</code> (the values). <br>
Denote by <code>res</code> the return of the function call, then
<code>ggplot</code> can be called via:
</p>
<p style="text-align: center;"><code class="reqn">ggplot(res, aes(x = res[ ,1], y = ..density.., weight = value)))</code>
</p>

<p style="text-align: center;"><code class="reqn"> + geom_{freqpoly}(binwidth, aes(color = factor(stress))).</code>
</p>



<h3>See Also</h3>

<p>See <code>cdf</code> and <code>plot_cdf</code> for
values and plotting of the empirical distribution
function of a stressed model, respectively, and
<code>quantile_stressed</code> for sample quantiles of
a stressed model.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## example with a stress on VaR
set.seed(0)
x &lt;- data.frame("gamma" = rgamma(10^5, shape = 2))
res1 &lt;- stress(type = "VaR", x = x,
  alpha = c(0.75, 0.95), q_ratio = 1.1)
plot_hist(res1, xCol = "gamma", wCol = 1:2, base = TRUE, binwidth = 0.4)
plot_hist(res1, xCol = "gamma", wCol = 1:2, base = TRUE, binwidth = 0.4, displLines = TRUE)

</code></pre>


</div>