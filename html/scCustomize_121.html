<div class="container">

<table style="width: 100%;"><tr>
<td>Read_CellBender_h5_Multi_Directory</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Load CellBender h5 matrices (corrected) from multiple directories</h2>

<h3>Description</h3>

<p>Extract sparse matrix with corrected counts from CellBender h5 output file across multiple sample
subdirectories.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Read_CellBender_h5_Multi_Directory(
  base_path,
  secondary_path = NULL,
  filtered_h5 = TRUE,
  custom_name = NULL,
  sample_list = NULL,
  sample_names = NULL,
  h5_group_name = NULL,
  feature_slot_name = "features",
  replace_suffix = FALSE,
  new_suffix_list = NULL,
  parallel = FALSE,
  num_cores = NULL,
  merge = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>base_path</code></td>
<td>
<p>path to the parent directory which contains all of the subdirectories of interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>secondary_path</code></td>
<td>
<p>path from the parent directory to count matrix files for each sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filtered_h5</code></td>
<td>
<p>logical (default TRUE).  Will set the shared file name suffix <code>custom_name</code> is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>custom_name</code></td>
<td>
<p>if file name was customized in CellBender then this parameter should contain the portion
of file name that is shared across all samples.  Must included the ".h5" extension as well.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample_list</code></td>
<td>
<p>a vector of sample directory names if only specific samples are desired.  If <code>NULL</code> will
read in subdirectories in parent directory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample_names</code></td>
<td>
<p>a set of sample names to use for each sample entry in returned list.  If <code>NULL</code> will
set names to the subdirectory name of each sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h5_group_name</code></td>
<td>
<p>Name of the group within H5 file that contains count data.  This is only
required if H5 file contains multiple subgroups and non-default names.  Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature_slot_name</code></td>
<td>
<p>Name of the slot contain feature names/ids.  Must be one of:
"features"(Cell Ranger v3+) or "genes" (Cell Ranger v1/v2 or STARsolo).  Default is "features".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace_suffix</code></td>
<td>
<p>logical (default FALSE).  Whether or not to replace the barcode suffixes of matrices
using <code>Replace_Suffix</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_suffix_list</code></td>
<td>
<p>a vector of new suffixes to replace existing suffixes if <code>replace_suffix = TRUE</code>.
See <code>Replace_Suffix</code> for more information.  To remove all suffixes set <code>new_suffix_list = ""</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>logical (default FALSE) whether or not to use multi core processing to read in matrices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_cores</code></td>
<td>
<p>how many cores to use for parallel processing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>merge</code></td>
<td>
<p>logical (default FALSE) whether or not to merge samples into a single matrix or return
list of matrices.  If TRUE each sample entry in list will have cell barcode prefix added.  The prefix
will be taken from <code>sample_names</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra parameters passed to <code>Read_CellBender_h5_Mat</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>list of sparse matrices
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
base_path &lt;- 'path/to/data/directory'
mat_list &lt;- Read_CellBender_h5_Multi_Directory(base_path = base_path)

## End(Not run)

</code></pre>


</div>