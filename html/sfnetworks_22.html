<div class="container">

<table style="width: 100%;"><tr>
<td>spatial_edge_measures</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Query spatial edge measures</h2>

<h3>Description</h3>

<p>These functions are a collection of specific spatial edge measures, that
form a spatial extension to edge measures in
<code>tidygraph</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">edge_azimuth(degrees = FALSE)

edge_circuity(Inf_as_NaN = FALSE)

edge_length()

edge_displacement()
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>degrees</code></td>
<td>
<p>Should the angle be returned in degrees instead of radians?
Defaults to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Inf_as_NaN</code></td>
<td>
<p>Should the circuity values of loop edges be stored as
<code>NaN</code> instead of <code>Inf</code>? Defaults to <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Just as with all query functions in tidygraph, spatial edge
measures are meant to be called inside tidygraph verbs such as
<code>mutate</code> or <code>filter</code>, where
the network that is currently being worked on is known and thus not needed
as an argument to the function. If you want to use an algorithm outside of
the tidygraph framework you can use <code>with_graph</code> to
set the context temporarily while the algorithm is being evaluated.
</p>


<h3>Value</h3>

<p>A numeric vector of the same length as the number of edges in the
graph.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>edge_azimuth()</code>: The angle in radians between a straight
line from the edge startpoint pointing north, and the straight line from
the edge startpoint and the edge endpoint. Calculated with
<code>st_geod_azimuth</code>. Requires a geographic CRS.
</p>
</li>
<li> <p><code>edge_circuity()</code>: The ratio of the length of an edge
linestring geometry versus the straight-line distance between its boundary
nodes, as described in Giacomin &amp;
Levinson, 2015. DOI: 10.1068/b130131p.
</p>
</li>
<li> <p><code>edge_length()</code>: The length of an edge linestring geometry
as calculated by <code>st_length</code>.
</p>
</li>
<li> <p><code>edge_displacement()</code>: The straight-line distance between the two
boundary nodes of an edge, as calculated by <code>st_distance</code>.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">library(sf, quietly = TRUE)
library(tidygraph, quietly = TRUE)

net = as_sfnetwork(roxel)

net %&gt;%
  activate("edges") %&gt;%
  mutate(azimuth = edge_azimuth())

net %&gt;%
  activate("edges") %&gt;%
  mutate(azimuth = edge_azimuth(degrees = TRUE))

net %&gt;%
  activate("edges") %&gt;%
  mutate(circuity = edge_circuity())

net %&gt;%
  activate("edges") %&gt;%
  mutate(length = edge_length())

net %&gt;%
  activate("edges") %&gt;%
  mutate(displacement = edge_displacement())

</code></pre>


</div>