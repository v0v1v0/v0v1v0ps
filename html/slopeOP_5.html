<div class="container">

<table style="width: 100%;"><tr>
<td>slopeOP</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>slopeOP</h2>

<h3>Description</h3>

<p>Optimal partitioning algorithm for change-in-slope problem with a finite number of states (beginning and ending values of each segment is restricted to a finite set of values called states).
The algorithm takes into account a continuity constraint between successive segments and infers a continuous piecewise linear signal.
</p>


<h3>Usage</h3>

<pre><code class="language-R">slopeOP(data, states, penalty = 0, constraint = "null", minAngle = 0,
  type = "channel", testMode = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>vector of data to segment: a univariate time series</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>states</code></td>
<td>
<p>vector of states = set of accessible starting/ending values for segments in increasing order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>penalty</code></td>
<td>
<p>the penalty value (a non-negative real number)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constraint</code></td>
<td>
<p>string defining a constraint : "null", "isotonic", "unimodal" or "smoothing"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minAngle</code></td>
<td>
<p>a minimal inner angle in degree between consecutive segments in case constraint = "smoothing"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>string defining the pruning type to use. "null" = no pruning, "channel" = use monotonicity property, "pruning" = pelt-type property</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>testMode</code></td>
<td>
<p>a boolean, if true the function also returns the percent of elements to scan (= ratio scanned elements vs. scanned elements if no pruning)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list of 3 elements  = (changepoints, states, globalCost). (Pruning is optional)
</p>

<dl>
<dt><code>changepoints</code></dt>
<dd>
<p>is the vector of changepoints (we return the extremal values of all segments from left to right)</p>
</dd>
<dt><code>states</code></dt>
<dd>
<p>is the vector of successive states. states[i] is the value we inferred at position changepoints[i]</p>
</dd>
<dt><code>globalCost</code></dt>
<dd>
<p>is a number equal to the global cost of the non-penalized change-in-slope problem. That is the value of the fit to the data ignoring the penalties for adding changes</p>
</dd>
<dt><em>pruning</em></dt>
<dd>
<p>is the percent of positions to consider in cost matrix Q  (returned only if testMode = TRUE)</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">myData &lt;- slopeData(index = c(1,100,200,300), states = c(0,5,3,6), noise = 1)
slopeOP(data = myData, states = 0:6, penalty = 10)
</code></pre>


</div>