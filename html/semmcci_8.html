<div class="container">

<table style="width: 100%;"><tr>
<td>MCMI</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Monte Carlo Confidence Intervals (Multiple Imputation)</h2>

<h3>Description</h3>

<p>Calculates Monte Carlo confidence intervals
for free and defined parameters.
Missing values are handled using multilple imputation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">MCMI(
  lav,
  mi,
  R = 20000L,
  alpha = c(0.001, 0.01, 0.05),
  decomposition = "eigen",
  pd = TRUE,
  tol = 1e-06,
  seed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>lav</code></td>
<td>
<p>Object of class <code>lavaan</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mi</code></td>
<td>
<p>Object of class <code>mids</code> (output of <code>mice::mice()</code>),
object of class <code>amelia</code> (output of <code>Amelia::amelia()</code>),
or a list of multiply imputed data sets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>Positive integer.
Number of Monte Carlo replications.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Numeric vector.
Significance level <code class="reqn">\alpha</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decomposition</code></td>
<td>
<p>Character string.
Matrix decomposition of the sampling variance-covariance matrix
for the data generation.
If <code>decomposition = "chol"</code>, use Cholesky decomposition.
If <code>decomposition = "eigen"</code>, use eigenvalue decomposition.
If <code>decomposition = "svd"</code>, use singular value decomposition.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pd</code></td>
<td>
<p>Logical.
If <code>pd = TRUE</code>,
check if the sampling variance-covariance matrix
is positive definite using <code>tol</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>Numeric.
Tolerance used for <code>pd</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Integer.
Random seed for reproducibility.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A sampling distribution of parameter estimates is generated
from the multivariate normal distribution
using the parameter estimates and the sampling variance-covariance matrix
obtained using multiple imputation.
Confidence intervals for free and defined parameters
are generated using the simulated sampling distribution.
Parameters can be defined using the <code style="white-space: pre;">⁠:=⁠</code> operator
in the <code>lavaan</code> model syntax.
</p>


<h3>Value</h3>

<p>Returns an object of class <code>semmcci</code> which is
a list with the following elements:
</p>

<dl>
<dt>call</dt>
<dd>
<p>Function call.</p>
</dd>
<dt>args</dt>
<dd>
<p>List of function arguments.</p>
</dd>
<dt>thetahat</dt>
<dd>
<p>Parameter estimates <code class="reqn">\hat{\theta}</code>.</p>
</dd>
<dt>thetahatstar</dt>
<dd>
<p>Sampling distribution of parameter estimates
<code class="reqn">\hat{\theta}^{\ast}</code>.</p>
</dd>
<dt>fun</dt>
<dd>
<p>Function used ("MCMI").</p>
</dd>
</dl>
<h3>References</h3>

<p>Pesigan, I. J. A., &amp; Cheung, S. F. (2023).
Monte Carlo confidence intervals for the indirect effect with missing data.
<em>Behavior Research Methods</em>.
<a href="https://doi.org/10.3758/s13428-023-02114-4">doi:10.3758/s13428-023-02114-4</a>
</p>
<p>Rubin, D. B. (1987).
<em>Multiple imputation for nonresponse in surveys</em>.
John Wiley &amp; Sons, Inc.
</p>


<h3>See Also</h3>

<p>Other Monte Carlo in Structural Equation Modeling Functions: 
<code>Func()</code>,
<code>MC()</code>,
<code>MCFunc()</code>,
<code>MCGeneric()</code>,
<code>MCStd()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(semmcci)
library(lavaan)

# Data ---------------------------------------------------------------------
data("Tal.Or", package = "psych")
df &lt;- mice::ampute(Tal.Or)$amp

# Monte Carlo (Multiple Imputation) ----------------------------------------
## Multiple Imputation -----------------------------------------------------
mi &lt;- mice::mice(
  data = df,
  print = FALSE,
  m = 5L, # use a large value e.g., 100L for actual research,
  seed = 42
)

## Fit Model in lavaan -----------------------------------------------------
model &lt;- "
  reaction ~ cp * cond + b * pmi
  pmi ~ a * cond
  cond ~~ cond
  indirect := a * b
  direct := cp
  total := cp + (a * b)
"
fit &lt;- sem(data = df, model = model) # use default listwise deletion

## MCMI() ------------------------------------------------------------------
MCMI(
  fit,
  mi = mi,
  R = 5L, # use a large value e.g., 20000L for actual research
  alpha = 0.05
)

</code></pre>


</div>