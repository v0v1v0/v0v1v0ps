<div class="container">

<table style="width: 100%;"><tr>
<td>Fitting Functions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Fit Functions for Stability Selection
</h2>

<h3>Description</h3>

<p>Functions that fit a model until <code class="reqn">q</code> variables are selected and
that returns the indices (and names) of the selected variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## package lars:
lars.lasso(x, y, q, ...)
lars.stepwise(x, y, q, ...)

## package glmnet:
glmnet.lasso(x, y, q, type = c("conservative", "anticonservative"), ...)
glmnet.lasso_maxCoef(x, y, q, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a matrix containing the predictors or an object of class
<code>"mboost"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>a vector or matrix containing the outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>number of (unique) selected variables (or groups of variables
depending on the model) that are selected on each subsample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p> a charachter vector specifying if the number of selected
variables per subsample is <code class="reqn">\leq q</code> (<code>type = "conservative"</code>) 
or <code class="reqn">\geq q</code> (<code>type = "anticonservative"</code>). The conservative
version <em>ensures</em> that the PFER is controlled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> additional arguments passed to the underlying fitting function.
See the example on <code>glmnet.lasso_maxCoef</code> in <code>stabsel</code> for 
the specification of additional arguments via <code>stabsel</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>All fitting functions are named after the package and the type of
model that is fitted: <code>package_name.model</code>, e.g.,
<code>glmnet.lasso</code> stands for a lasso model that is fitted using the
package <span class="pkg">glmnet</span>.
</p>
<p><code>glmnet.lasso_maxCoef</code> fits a lasso model with a given penalty parameter 
and returns the <code>q</code> largest coefficients. If one wants to use
<code>glmnet.lasso_maxCoef</code>, one must specify the penalty parameter
<code>lambda</code> (via the <code>...</code> argument) or in
<code>stabsel</code> via <code>args.fitfun(lambda = )</code>. Note that usually, 
the penalty parameter cannot be specified but is chosen such that <code>q</code>
variables are selected. For an example on how to use 
<code>glmnet.lasso_maxCoef</code> see <code>stabsel</code>.
</p>


<h3>Value</h3>

<p>A named list with elements
</p>
<table>
<tr style="vertical-align: top;">
<td><code>selected</code></td>
<td>
<p>logical. A vector that indicates which variable was
selected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>logical. A matrix that indicates which variable was
selected in which step. Each row represents one variable, the
columns represent the steps.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>stabsel</code> for stability selection itself.
</p>


<h3>Examples</h3>

<pre><code class="language-R">  if (require("TH.data")) {
      ## make data set available
      data("bodyfat", package = "TH.data")
  } else {
      ## simulate some data if TH.data not available. 
      ## Note that results are non-sense with this data.
      bodyfat &lt;- matrix(rnorm(720), nrow = 72, ncol = 10)
  }
  
  if (require("lars")) {
      ## selected variables
      lars.lasso(bodyfat[, -2], bodyfat[,2], q = 3)$selected
      lars.stepwise(bodyfat[, -2], bodyfat[,2], q = 3)$selected
  }
  
  if (require("glmnet")) {
      glmnet.lasso(bodyfat[, -2], bodyfat[,2], q = 3)$selected
      ## selection path
      glmnet.lasso(bodyfat[, -2], bodyfat[,2], q = 3)$path
  
      ## Using the anticonservative glmnet.lasso (see args.fitfun):
      stab.glmnet &lt;- stabsel(x = bodyfat[, -2], y = bodyfat[,2],
                             fitfun = glmnet.lasso, 
                             args.fitfun = list(type = "anticonservative"), 
                             cutoff = 0.75, PFER = 1)
  }
</code></pre>


</div>