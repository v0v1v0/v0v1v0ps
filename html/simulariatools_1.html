<div class="container">

<table style="width: 100%;"><tr>
<td>contourPlot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Contour plot of pollutant concentration</h2>

<h3>Description</h3>

<p><code>contourPlot</code> plots a contour map of pollutants. This function has been
deprecated since version 2.0.0 and will be removed very soon.
Use <code>contourPlot2</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">contourPlot(
  data,
  domain = NULL,
  background = NULL,
  underlayer = NULL,
  overlayer = NULL,
  legend = NULL,
  levels = NULL,
  size = 0,
  cover = TRUE,
  transparency = 0.66,
  smoothness = 1,
  colors = NULL,
  bare = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A dataframe containing data to be plotted in the form of X, Y and
Z (levels).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>domain</code></td>
<td>
<p>An array with min X, max X, min Y, max Y, number of ticks on X
axis, number of ticks on Y axis (optional).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>background</code></td>
<td>
<p>String containing the path to the png file to be plotted as
a basemap (optional).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>underlayer</code></td>
<td>
<p>Array of strings containing layers to be plotted between
basemap and contour plot (optional).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overlayer</code></td>
<td>
<p>Array of strings containing layers to be plotted on top of
the contour plot (optional).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>(string) Legend title (optional).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levels</code></td>
<td>
<p>Array of levels for contour plot. If not set, automatic levels
are plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>float with the thickness of the contour line.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cover</code></td>
<td>
<p>boolean (default TRUE) to specify whether the contour plot
should be filled or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transparency</code></td>
<td>
<p>float (between 0 and 1, default=0.66). Transparency level
of the contour plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smoothness</code></td>
<td>
<p>integer factor to improve the horizontal resolution
(smaller cells) by bilinear interpolation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colors</code></td>
<td>
<p>Color palette for contour plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bare</code></td>
<td>
<p>Boolean (default FALSE) parameter to completely remove axis,
legend, titles and any other graphical element from the plot.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is a convenience function to plot contour levels of a pollutant matrix
with <code>ggplot2</code>.
</p>


<h3>Value</h3>

<p>A <code>ggplot2</code> plot.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Load example data in long format
data(volcano)
volcano3d &lt;- reshape2::melt(volcano)
names(volcano3d) &lt;- c("x", "y", "z")
# Contour plot with default options
contourPlot(volcano3d)

# Import variable CONCAN from inpufile, convert km to m (k = 1000):
data &lt;- importRaster(paste0(dir, inputfile), 
                     k = 1000, 
                     variable = "CONCAN")

# Simple contour plot
contourPlot(data)

# Specifiy (sub)domain to be plotted; background image; legend title and 
# pollutant levels.
contourPlot(data, 
            domain(500000, 510000, 6000000, 6010000, 7, 7), 
            background = "img/background.png", 
            legend = "no2 [ug/m3]", 
            levels = c(10, 20, 30, 40))

# Add underlayer (same for overlayer)
library(ggplot2)
library(maptools)
perimetro &lt;- readShapeLines("path_to/perimetro.shp")
perimetro &lt;- fortify(perimetro)
strada &lt;- readShapeLines("path_to/strada.shp")
strada &lt;- fortify(strada)
myUnderlayer &lt;- vector(mode = "list", length = 2)
myUnderlayer[[1]] &lt;- geom_polygon(data = perimetro, 
                                  aes(long, lat, group = group), 
                                  colour = "black", 
                                  fill = NA, 
                                  size = 0.1, 
                                  alpha = 0.5)
myUnderlayer[[2]] &lt;- geom_path(data = strada, 
                               aes(long, lat, group = group), 
                               colour = "grey", 
                               size = 0.1, 
                               alpha = 0.5)
contourPlot(data = test, 
            background = "path_to/basemap.png", 
            underlayer = myUnderlayer)

# Change default colour palette
contourPlot(data = test, 
            colors = RColorBrewer::brewer.pal(3, name = "PiYG"))

## End(Not run)

</code></pre>


</div>