<div class="container">

<table style="width: 100%;"><tr>
<td>fmi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fraction of Missing Information.</h2>

<h3>Description</h3>

<p>This function estimates the Fraction of Missing Information (FMI) for
summary statistics of each variable, using either an incomplete data set or
a list of imputed data sets.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fmi(data, method = "saturated", group = NULL, ords = NULL,
  varnames = NULL, exclude = NULL, fewImps = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Either a single <code>data.frame</code> with incomplete observations,
or a <code>list</code> of imputed data sets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>character. If <code>"saturated"</code> or <code>"sat"</code> (default),
the model used to estimate FMI is a freely estimated covariance matrix and
mean vector for numeric variables, and/or polychoric correlations and
thresholds for ordered categorical variables, for each group (if
applicable). If <code>"null"</code>, only means and variances are estimated for
numeric variables, and/or thresholds for ordered categorical variables
(i.e., covariances and/or polychoric correlations are constrained to zero).
See Details for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>character. The optional name of a grouping variable, to request
FMI in each group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ords</code></td>
<td>
<p>character. Optional vector of names of ordered-categorical
variables, which are not already stored as class <code>ordered</code> in
<code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varnames</code></td>
<td>
<p>character. Optional vector of variable names, to calculate
FMI for a subset of variables in <code>data</code>. By default, all numeric and
ordered variables will be included, unless <code>data</code> is a single
incomplete <code>data.frame</code>, in which case only numeric variables can be
used with FIML estimation. Other variable types will be removed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude</code></td>
<td>
<p>character. Optional vector of variable names to exclude from
the analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fewImps</code></td>
<td>
<p>logical. If <code>TRUE</code>, use the estimate of FMI that applies
a correction to the estimated between-imputation variance. Recommended when
there are few imputations; makes little difference when there are many
imputations. Ignored when <code>data</code> is not a list of imputed data sets.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function estimates a saturated model with <code>lavaan</code>
for a single incomplete data set using FIML, or with <code>lavaan.mi</code>
for a list of imputed data sets. If method = <code>"saturated"</code>, FMI will be
estiamted for all summary statistics, which could take a lot of time with
big data sets. If method = <code>"null"</code>, FMI will only be estimated for
univariate statistics (e.g., means, variances, thresholds). The saturated
model gives more reliable estimates, so it could also help to request a
subset of variables from a large data set.
</p>


<h3>Value</h3>

<p><code>fmi</code> returns a list with at least 2 of the following:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Covariances</code></td>
<td>
<p>A list of symmetric matrices: (1) the estimated/pooled
covariance matrix, or a list of group-specific matrices (if applicable) and
(2) a matrix of FMI, or a list of group-specific matrices (if applicable).
Only available if <code>method = "saturated"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Variances</code></td>
<td>
<p>The
estimated/pooled variance for each numeric variable. Only available if
<code>method = "null"</code> (otherwise, it is on the diagonal of Covariances).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Means</code></td>
<td>
<p>The estimated/pooled mean for each numeric variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Thresholds</code></td>
<td>
<p>The estimated/pooled threshold(s) for each
ordered-categorical variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>message</code></td>
<td>
<p>A message indicating caution
when the null model is used.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Mauricio Garnier Villarreal (University of Kansas;
<a href="mailto:mauricio.garniervillarreal@marquette.edu">mauricio.garniervillarreal@marquette.edu</a>) Terrence Jorgensen
(University of Amsterdam; <a href="mailto:TJorgensen314@gmail.com">TJorgensen314@gmail.com</a>)
</p>


<h3>References</h3>

<p>Rubin, D. B. (1987). <em>Multiple imputation for nonresponse
in surveys</em>. New York, NY: Wiley.
</p>
<p>Savalei, V. &amp; Rhemtulla, M. (2012). On obtaining estimates of the fraction
of missing information from full information maximum likelihood.
<em>Structural Equation Modeling, 19</em>(3), 477–494.
<a href="https://doi.org/10.1080/10705511.2012.687669">doi:10.1080/10705511.2012.687669</a>
</p>
<p>Wagner, J. (2010). The fraction of missing information as a tool for
monitoring the quality of survey data. <em>Public Opinion Quarterly,
74</em>(2), 223–243. <a href="https://doi.org/10.1093/poq/nfq007">doi:10.1093/poq/nfq007</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
HSMiss &lt;- HolzingerSwineford1939[ , c(paste("x", 1:9, sep = ""),
                                      "ageyr","agemo","school")]
set.seed(12345)
HSMiss$x5 &lt;- ifelse(HSMiss$x5 &lt;= quantile(HSMiss$x5, .3), NA, HSMiss$x5)
age &lt;- HSMiss$ageyr + HSMiss$agemo/12
HSMiss$x9 &lt;- ifelse(age &lt;= quantile(age, .3), NA, HSMiss$x9)

## calculate FMI (using FIML, provide partially observed data set)
(out1 &lt;- fmi(HSMiss, exclude = "school"))
(out2 &lt;- fmi(HSMiss, exclude = "school", method = "null"))
(out3 &lt;- fmi(HSMiss, varnames = c("x5","x6","x7","x8","x9")))
(out4 &lt;- fmi(HSMiss, group = "school"))

## Not run: 
## ordered-categorical data
data(datCat)
lapply(datCat, class)
## impose missing values
set.seed(123)
for (i in 1:8) datCat[sample(1:nrow(datCat), size = .1*nrow(datCat)), i] &lt;- NA
## impute data m = 3 times
library(Amelia)
set.seed(456)
impout &lt;- amelia(datCat, m = 3, noms = "g", ords = paste0("u", 1:8), p2s = FALSE)
imps &lt;- impout$imputations
## calculate FMI, using list of imputed data sets
fmi(imps, group = "g")

## End(Not run)

</code></pre>


</div>