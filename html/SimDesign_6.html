<div class="container">

<table style="width: 100%;"><tr>
<td>AnalyseIf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform a test that indicates whether a given <code>Analyse()</code> function should be executed</h2>

<h3>Description</h3>

<p>This function is designed to prevent specific analysis function executions when the
design conditions are not met. Primarily useful when the <code>analyse</code> argument to
<code>runSimulation</code> was input as a named list object, however some of the
analysis functions are not interesting/compatible with the generated data and should
therefore be skipped.
</p>


<h3>Usage</h3>

<pre><code class="language-R">AnalyseIf(x, condition = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>logical statement to evaluate. If the statement evaluates to <code>TRUE</code>
then the remainder of the defined function will be evaluated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>condition</code></td>
<td>
<p>(optional) the current design condition. This does not need to be supplied
if the expression in <code>x</code> evaluates to valid logical (e.g., use <code>Attach(condition)</code>
prior to using <code>AnalyseIf</code>, or use <code>with(condition, AnalyseIf(someLogicalTest))</code>)</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Phil Chalmers <a href="mailto:rphilip.chalmers@gmail.com">rphilip.chalmers@gmail.com</a>
</p>


<h3>References</h3>

<p>Chalmers, R. P., &amp; Adkins, M. C.  (2020). Writing Effective and Reliable Monte Carlo Simulations
with the SimDesign Package. <code>The Quantitative Methods for Psychology, 16</code>(4), 248-280.
<a href="https://doi.org/10.20982/tqmp.16.4.p248">doi:10.20982/tqmp.16.4.p248</a>
</p>
<p>Sigal, M. J., &amp; Chalmers, R. P. (2016). Play it again: Teaching statistics with Monte
Carlo simulation. <code>Journal of Statistics Education, 24</code>(3), 136-156.
<a href="https://doi.org/10.1080/10691898.2016.1246953">doi:10.1080/10691898.2016.1246953</a>
</p>


<h3>See Also</h3>

<p><code>Analyse</code>, <code>runSimulation</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

Design &lt;- createDesign(N=c(10,20,30), var.equal = c(TRUE, FALSE))

Generate &lt;- function(condition, fixed_objects) {
  Attach(condition)
  dat &lt;- data.frame(DV = rnorm(N*2), IV = gl(2, N, labels=c('G1', 'G2')))
  dat
}

# always run this analysis for each row in Design
Analyse1 &lt;- function(condition, dat, fixed_objects) {
  mod &lt;- t.test(DV ~ IV, data=dat)
  mod$p.value
}

# Only perform analysis when variances are equal and N = 20 or 30
Analyse2 &lt;- function(condition, dat, fixed_objects) {
  AnalyseIf(var.equal &amp;&amp; N %in% c(20, 30), condition)
  mod &lt;- t.test(DV ~ IV, data=dat, var.equal=TRUE)
  mod$p.value
}

Summarise &lt;- function(condition, results, fixed_objects) {
  ret &lt;- EDR(results, alpha=.05)
  ret
}

#-------------------------------------------------------------------

# append names 'Welch' and 'independent' to associated output
res &lt;- runSimulation(design=Design, replications=100, generate=Generate,
                     analyse=list(Welch=Analyse1, independent=Analyse2),
                     summarise=Summarise)
res

# leave results unnamed
res &lt;- runSimulation(design=Design, replications=100, generate=Generate,
                     analyse=list(Analyse1, Analyse2),
                     summarise=Summarise)



## End(Not run)

</code></pre>


</div>