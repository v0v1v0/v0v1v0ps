<div class="container">

<table style="width: 100%;"><tr>
<td>logoutServer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>logout server module</h2>

<h3>Description</h3>

<p>Shiny authentication module for use with logoutUI
</p>


<h3>Usage</h3>

<pre><code class="language-R">logoutServer(id, active, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>An ID string that corresponds with the ID used to call the module's UI function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>active</code></td>
<td>
<p><code>reactive</code> supply the returned <code>user_auth</code> boolean reactive from loginServer
here to hide/show the logout button</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to toggle</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This module uses shiny's new moduleServer method as opposed to the callModule
method used by the now deprecated login function and must be called differently in your app.
For details on how to migrate see the 'Migrating from callModule to moduleServer' section of 
<a href="https://shiny.rstudio.com/articles/modules.html">Modularizing Shiny app code</a>.
</p>


<h3>Value</h3>

<p>Reactive boolean, to be supplied as the <code>log_out</code> argument of the
loginServer module to trigger the logout process
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(shiny)

# dataframe that holds usernames, passwords and other user data
user_base &lt;- dplyr::tibble(
  user = c("user1", "user2"),
  password = c("pass1", "pass2"),
  permissions = c("admin", "standard"),
  name = c("User One", "User Two")
)

ui &lt;- fluidPage(
  # add logout button UI
  div(class = "pull-right", shinyauthr::logoutUI(id = "logout")),
  # add login panel UI function
  shinyauthr::loginUI(id = "login"),
  # setup table output to show user info after login
  tableOutput("user_table")
)

server &lt;- function(input, output, session) {
  # call login module supplying data frame, 
  # user and password cols and reactive trigger
  credentials &lt;- shinyauthr::loginServer(
    id = "login",
    data = user_base,
    user_col = user,
    pwd_col = password,
    log_out = reactive(logout_init())
  )
  
  # call the logout module with reactive trigger to hide/show
  logout_init &lt;- shinyauthr::logoutServer(
    id = "logout",
    active = reactive(credentials()$user_auth)
  )
  
  output$user_table &lt;- renderTable({
    # use req to only render results when credentials()$user_auth is TRUE
    req(credentials()$user_auth)
    credentials()$info
  })
}

if (interactive()) shinyApp(ui = ui, server = server)
</code></pre>


</div>