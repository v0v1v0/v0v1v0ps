<div class="container">

<table style="width: 100%;"><tr>
<td>createStreams</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create stream network from DEM</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
</p>
<p>Creates a stream network from a provided DEM. In most cases it is advisable to first hydro-process the DEM (see <code>hydroProcess()</code>) to remove depressions which preclude continuous flow from one DEM cell to the next.
</p>


<h3>Usage</h3>

<pre><code class="language-R">createStreams(
  DEM,
  threshold,
  vector = NULL,
  save_path = NULL,
  n.cores = NULL,
  force_update_wbt = FALSE,
  silent_wbt = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>DEM</code></td>
<td>
<p>The path to a digital elevation model file with .tif extension, or a terra spatRaster object. It is usually advisable to have already hydro-processed the DEM to remove artificial depressions. See <code>hydroProcess()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>The accumulation threshold in DEM cells necessary to start defining a stream.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vector</code></td>
<td>
<p>Output file specifications. NULL for no vector file at all; "env" for only a variable returned to the R environment; or, to return to environment and save to disk, "gpkg" for a geopackage file, "shp" for a shapefile.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_path</code></td>
<td>
<p>An optional path in which to save the newly created stream network. If left NULL will save it in the same directory as the provided DEM or, if the DEM is a terra object, return only terra objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.cores</code></td>
<td>
<p>The maximum number of cores to use. Leave NULL to use all cores minus 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force_update_wbt</code></td>
<td>
<p>Whitebox Tools is by default only downloaded if it cannot be found on the computer, and no check are performed to ensure the local version is current. Set to TRUE if you know that there is a new version and you would like to use it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent_wbt</code></td>
<td>
<p>Should Whitebox tools messages be suppressed? This function prints messages to the console already but these messages can be useful if you need to do some debugging.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is essentially a convenient wrapper around three WhiteboxTools geospatial tools (<code>whitebox::wbt_d8_flow_accumulation()</code>, <code>whitebox::wbt_d8_pointer()</code>, and <code>whitebox::wbt_extract_streams()</code>) and some terra functions to convert rasters to vector files.
</p>


<h3>Value</h3>

<p>A raster representation of streams and, if requested, a vector representation of streams. Returned as terra objects and saved to disk if <code>save_path</code> is not null.
</p>


<h3>Author(s)</h3>

<p>Ghislain de Laplante (gdela069@uottawa.ca or ghislain.delaplante@yukon.ca)
</p>


<h3>Examples</h3>

<pre><code class="language-R">


hydroDEM &lt;- hydroProcess(elev, 200, streams, n.cores = 2)
res &lt;- createStreams(hydroDEM, 50, n.cores = 2)

terra::plot(res$streams_derived)


</code></pre>


</div>