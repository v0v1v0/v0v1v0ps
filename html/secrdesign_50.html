<div class="container">

<table style="width: 100%;"><tr>
<td>select.stats</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Select Statistics to Summarize </h2>

<h3>Description</h3>

<p>When the results of each simulation with <code>run.scenarios</code> are
saved as a dataframe (e.g. from predict()) it is necessary to select
estimates of just one parameter for numerical summarization. This does
the job. <code>find.param</code> is a helper function to quickly display the
parameters available for summarisation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">
select.stats(object, parameter = "D", statistics, true)
find.param(object)
find.stats(object)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>‘estimatetables’ object from <code>run.scenarios</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameter</code></td>
<td>
<p>character name of parameter to extract</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>statistics</code></td>
<td>
<p>character vector of statistic names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true</code></td>
<td>
<p>numeric vector of ''true' values of parameter, one per scenario</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>select.stats</code> is used to select a particular vector of numeric
values for summarization. The ‘parameter’ argument indexes a row in the
data.frame for one replicate (i.e., one ‘real’ parameter). Each
‘statistic’ is either a column in that data.frame or a statistic derived
from a column.
</p>
<p>If <code>statistics</code> is not specified, the default is to use all numeric
columns in the input (i.e., c(‘estimate’, ‘SE.estimate’, ‘lcl’, ‘ucl’)
for predict and c(‘beta’, ‘SE.beta’, ‘lcl’, ‘ucl’) for coef).
</p>
<p><code>statistics</code> may include any of ‘estimate’, ‘SE.estimate’, ‘lcl’,
‘ucl’, 'true', ‘RB’, ‘RSE’, ‘COV’ and ‘ERR’ (for outputtype ‘coef’ use ‘beta’ and
‘SE.beta’ instead of ‘estimate and 'SE.estimate’). ‘true’ refers to the
known parameter value used to generate the data.
</p>
<p>The computed statistics are:
</p>

<table>
<tr>
<td style="text-align: left;">
  Statistic </td>
<td style="text-align: left;"> Name </td>
<td style="text-align: left;"> Value </td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
  RB </td>
<td style="text-align: left;"> Relative bias </td>
<td style="text-align: left;"> (estimate - true) / true </td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
  RSE </td>
<td style="text-align: left;"> Relative SE </td>
<td style="text-align: left;"> SE.estimate / estimate </td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
  ERR </td>
<td style="text-align: left;"> Absolute deviation </td>
<td style="text-align: left;"> abs(estimate - true) </td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
  COV </td>
<td style="text-align: left;"> Coverage </td>
<td style="text-align: left;"> (estimate &gt; lcl) &amp; (estimate &lt; ucl) </td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>‘RB’, ‘COV’ and ‘ERR’ relate an estimate to the known (true) value of
the parameter in <code>object$scenarios</code>. They are computed only when a
model has been fitted without method = ‘none’.
</p>
<p>‘COV’ remains binary (0/1) in the output from <code>select.stats</code>; the
result of interest is the mean of this statistic across replicates (see
<code>summary.secrdesign</code>). Similarly, ‘ERR’ is used with field ‘rms’
in <code>summary.secrdesign</code> to compute the
root-mean-squared-error RMSE.
</p>
<p><code>find.param</code> and <code>find.stats</code> may be used to ‘peek’ at objects
of class ‘estimatetables’ and ‘selectedstatistics’ respectively to
recall the available parameter estimates or ‘statistics’.
</p>
<p>An attempt is made to extract <code>true</code> automatically if it is not provided. This does not always work (e.g. with extractfn <code>region.N</code>, region differing from the mask, and a heterogeneous density model). Check this by including “true” as a statistic to summarise (see Examples).
</p>


<h3>Value</h3>

<p>For <code>select.stats</code>, an object with class
c(‘selectedstatistics’,‘secrdesign’, ‘list’) suitable for numerical
summarization with <code>summary.selectedstatistics</code>. The value
of ‘parameter’ is stored as an attribute.
</p>
<p>For <code>find.param</code>, a character vector of the names of parameters
with estimates in <code>object</code>.
</p>


<h3>See Also</h3>

<p><code>run.scenarios</code>, <code>validate</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## using nrepl = 2 just for checking
scen1 &lt;- make.scenarios(D = c(5,10), sigma = 25, g0 = 0.2)
traps1 &lt;- make.grid()
tmp1 &lt;- run.scenarios(nrepl = 2, trapset = traps1, scenarios = scen1,
    fit = TRUE, extractfn = secr::trim)
tmp2 &lt;- predict(tmp1)
tmp3 &lt;- select.stats(tmp2, 'D', c('estimate','true','RB','RSE','COV'))
summary(tmp3)
</code></pre>


</div>