<div class="container">

<table style="width: 100%;"><tr>
<td>IBS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>The Integration of the Brier Score</h2>

<h3>Description</h3>

<p>IBS is  an integrated version of the Brier which is used to calculate the integration of the Brier Score.
The Brier Score is the mean square difference between the true classes and the predicted probabilities.
Basically, the IBS is an integrated
weighted squared distance between the estimated survival function and the empirical
survival function. The inverse probability censoring weighting(IPCW) is used to adjust for censoring.
</p>


<h3>Usage</h3>

<pre><code class="language-R">IBS(object, sp_matrix, IBSrange = c(-2, -1))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>object of class <code>Surv</code> created by Surv function
or a fitted survival model, including the survival model
fitted by <code>coxph</code>, <code>survreg</code>, and <code>rfsrc</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sp_matrix</code></td>
<td>
<p>a matrix or data.frame of predicted values of survival probabilities for the testing set.
Rows denote different samples, columns denote different time points,
and the values in entry (i,j) of the matrix denote the predicted survival probability
of the ith sample at the time point corresponding to the jth column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IBSrange</code></td>
<td>
<p>a vector contains all discrete time points corresponding to the predicted probability in sp_matrix.
Or the scale you want to get the IBS; and if it is a single point the return value will be the Brier Score at the timepoint.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The percentage of censored observations increases in time, and this will surely affect the dispersion of the empirical Brier Score.
The question of how censoring in finite samples acts on the distribution of our measures of inaccuracy is an interesting subject.
Our recommendation is to choose t* in a way that censoring is not too heavy (for example, the median follow-up time).
We also prefer measures with integrated loss functions since they will reflect inaccuracy over an interval rather than just at one point in time.
In addition, the corresponding empirical measures are likely to have lower dispersion, because censored observations contribute their estimated event-free probabilities to the integrand until the censoring occurs.
</p>


<h3>Value</h3>

<p>The integration of the Brier score of the predicted values of survival probabilities
on the discrete time points or the time scale of interest to users.
</p>


<h3>Author(s)</h3>

<p>Hanpu Zhou <a href="mailto:zhouhanpu@csu.edu.cn">zhouhanpu@csu.edu.cn</a>
</p>


<h3>References</h3>

<p>HooraMoradian, DenisLarocque, &amp; FranoisBellavance. (2017). \(l_1\) splitting rules in survival forests. Lifetime Data Analysis, 23(4), 671â€“691.
</p>
<p>Graf, Erika, Schmoor, Claudia, Sauerbrei, &amp; Willi, et al. (1999). Assessment and comparison of prognostic classification schemes for survival data. Statist. Med., 18(1718), 2529-2545.
</p>
<p>Brier, G. W. . (1950). Verification of forecasts expressed in terms of probability. Monthly Weather Review, 78.
</p>
<p>Gneiting, T. , &amp;  Raftery, A. E. . (2007). Strictly Proper Scoring Rules, Prediction, and Estimation.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(survival)
library(SurvMetrics)
set.seed(123)
N &lt;- 100
mydata &lt;- SDGM4(N, p = 20, c_step = -0.5)
index.train &lt;- sample(1:N, 2 / 3 * N)
data.train &lt;- mydata[index.train, ]
data.test &lt;- mydata[-index.train, ]

time_interest &lt;- sort(data.train$time[data.train$status == 1])
sp_matrix &lt;- matrix(sort(runif(nrow(data.test) * length(time_interest)),
  decreasing = TRUE
), nrow = nrow(data.test))
object &lt;- Surv(data.test$time, data.test$status)

# the default time points
IBS(object, sp_matrix, time_interest)
# a time range
IBS(object, sp_matrix, c(18:100))

</code></pre>


</div>