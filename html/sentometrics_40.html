<div class="container">

<table style="width: 100%;"><tr>
<td>peakdocs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract documents related to sentiment peaks</h2>

<h3>Description</h3>

<p>This function extracts the documents with most extreme sentiment (lowest, highest or both
in absolute terms). The extracted documents are unique, even when, for example, all most extreme
sentiment values (across sentiment calculation methods) occur only for one document.
</p>


<h3>Usage</h3>

<pre><code class="language-R">peakdocs(sentiment, n = 10, type = "both", do.average = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sentiment</code></td>
<td>
<p>a <code>sentiment</code> object created using <code>compute_sentiment</code> or
<code>as.sentiment</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>a positive <code>numeric</code> value to indicate the number of documents associated to sentiment
peaks to extract. If <code>n &lt; 1</code>, it is interpreted as a quantile (for example, 0.07 would mean the
7% most extreme documents).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>a <code>character</code> value, either <code>"pos"</code>, <code>"neg"</code> or <code>"both"</code>, respectively to look
for the <code>n</code> documents related to the most positive, most negative or most extreme (in absolute terms) sentiment
occurrences.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>do.average</code></td>
<td>
<p>a <code>logical</code> to indicate whether peaks should be selected based on the average sentiment
value per document.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector of type <code>"character"</code> corresponding to the <code>n</code> extracted document identifiers.
</p>


<h3>Author(s)</h3>

<p>Samuel Borms
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(505)

data("usnews", package = "sentometrics")
data("list_lexicons", package = "sentometrics")
data("list_valence_shifters", package = "sentometrics")

l &lt;- sento_lexicons(list_lexicons[c("LM_en", "HENRY_en")])

corpus &lt;- sento_corpus(corpusdf = usnews)
corpusSample &lt;- quanteda::corpus_sample(corpus, size = 200)
sent &lt;- compute_sentiment(corpusSample, l, how = "proportionalPol")

# extract the peaks
peaksAbs &lt;- peakdocs(sent, n = 5)
peaksAbsQuantile &lt;- peakdocs(sent, n = 0.50)
peaksPos &lt;- peakdocs(sent, n = 5, type = "pos")
peaksNeg &lt;- peakdocs(sent, n = 5, type = "neg")

</code></pre>


</div>