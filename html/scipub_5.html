<div class="container">

<table style="width: 100%;"><tr>
<td>partial_correltable</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create partial correlation table (with stars for significance)
for scientific publication</h2>

<h3>Description</h3>

<p>The <code>partial_correltable</code> function can be used to create
partial correlation
table (with stars for significance) for scientific publication
This is intended to summarize partial correlations
between (<code>vars</code>) from an input dataset (<code>data</code>),
residualizing all <code>vars</code> by <code>partialvars</code>.
This function allows for numeric, binary, and factor
variables as <code>partialvars</code>. but only numeric <code>vars</code>
are used and any non-numeric <code>vars</code> will be dropped.
All other flags follow from <code>scipub::correltable</code>.
Correlations are based on <code>stats::cor</code>, <code>use</code> and <code>method</code>
follow from that function.
Stars indicate significance: <code style="white-space: pre;">⁠*p&lt;.05, **p&lt;.01, ***p&lt;.001⁠</code>
For formatting, variables can be renamed, numbers can be rounded,
upper or lower triangle only can be selected (or whole matrix),
and empty columns/rows can be dropped if using triangles.
For more compact columns, variable names can be numbered in the
rows and column names will be corresponding numbers.
Requires <code>tidyverse</code> and <code>stats</code> libraries.
</p>


<h3>Usage</h3>

<pre><code class="language-R">partial_correltable(
  data,
  vars = NULL,
  var_names = vars,
  partialvars = NULL,
  partialvar_names = partialvars,
  method = c("pearson", "spearman"),
  use = c("pairwise", "complete"),
  round_n = 2,
  tri = c("upper", "lower", "all"),
  cutempty = c(FALSE, TRUE),
  colnum = c(FALSE, TRUE),
  html = c(FALSE, TRUE)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The input dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>A list of the names of 2+ variables to correlate,
e.g. c("Age","height","WASI"). All variables must be numeric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_names</code></td>
<td>
<p>An optional list to rename the <code>vars</code> colnames
in the output table, e.g. c("Age (years)","Height (inches)","IQ").
Must match <code>vars</code> in length. If not supplied, <code>vars</code> will be printed as is.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>partialvars</code></td>
<td>
<p>A list of the names of 1+ variables to partial out,
e.g. c("iq","Sex","Income"). Can include numeric, binary, factor variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>partialvar_names</code></td>
<td>
<p>An optional list to rename the <code>partialvars</code>
colnames in the output table, e.g. c("IQ (WASI)","Sex","Income").
Must match <code>partialvar_names</code> in length.
If not supplied, <code>partialvar_names</code> will be printed as is.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Type of correlation to calculate c("pearson", "spearman"),
based on <code>stats::cor</code>, default = "pearson".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use</code></td>
<td>
<p>Use pairwise.complete.obs or restrict to complete cases
c("pairwise", "complete"), based on <code>stats::cor</code>, default = "pairwise".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>round_n</code></td>
<td>
<p>The number of decimal places to
round all output to (default=2).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tri</code></td>
<td>
<p>Select output formatting c("upper", "lower","all");
KEEP the upper triangle, lower triangle, or all values, default ="upper.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutempty</code></td>
<td>
<p>If keeping only upper/lower triangle with <code>tri</code>,
cut empty row/column, default=FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colnum</code></td>
<td>
<p>For more concise column names, number row names and
just use corresponding numbers as column names,
default=FALSE, if TRUE overrides cutempty.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>html</code></td>
<td>
<p>Format as html in viewer or not (default=F, print in console),
needs library(htmlTable) installed.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Output Table 1
</p>


<h3>Examples</h3>

<pre><code class="language-R">partial_correltable(
  data = psydat, vars = c("Age", "Height", "iq"),
  partialvars = c("Sex", "Income"),
  tri = "lower", html = TRUE
)

partial_correltable(
  data = psydat, vars = c("Age", "Height", "iq"),
  var_names = c("Age (months)", "Height (inches)", "IQ"),
  partialvars = c("Sex", "Income"),
  tri = "upper", colnum = TRUE, html = TRUE
)

partial_correltable(
  data = psydat, vars = c("Age", "Height", "iq"),
  var_names = c("Age (months)", "Height (inches)", "IQ"),
  partialvars = c("anxT"),
  partialvar_names = "Anxiety",
  tri = "all", html = TRUE
)
</code></pre>


</div>