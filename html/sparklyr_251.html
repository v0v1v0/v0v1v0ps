<div class="container">

<table style="width: 100%;"><tr>
<td>ml_prefixspan</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Frequent Pattern Mining â€“ PrefixSpan</h2>

<h3>Description</h3>

<p>PrefixSpan algorithm for mining frequent itemsets.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ml_prefixspan(
  x,
  seq_col = "sequence",
  min_support = 0.1,
  max_pattern_length = 10,
  max_local_proj_db_size = 3.2e+07,
  uid = random_string("prefixspan_"),
  ...
)

ml_freq_seq_patterns(model)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>spark_connection</code>, <code>ml_pipeline</code>, or a <code>tbl_spark</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seq_col</code></td>
<td>
<p>The name of the sequence column in dataset (defaults to
"sequence"). Rows with nulls in this column are ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_support</code></td>
<td>
<p>The minimum support required to be considered a frequent
sequential pattern.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_pattern_length</code></td>
<td>
<p>The maximum length of a frequent sequential
pattern. Any frequent pattern exceeding this length will not be included in
the results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_local_proj_db_size</code></td>
<td>
<p>The maximum number of items allowed in a
prefix-projected database before local iterative processing of the
projected database begins. This parameter should be tuned with respect to
the size of your executors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uid</code></td>
<td>
<p>A character string used to uniquely identify the ML estimator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Optional arguments; currently unused.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A Prefix Span model.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(sparklyr)
sc &lt;- spark_connect(master = "local", version = "2.4.0")

items_df &lt;- dplyr::tibble(
  seq = list(
    list(list(1, 2), list(3)),
    list(list(1), list(3, 2), list(1, 2)),
    list(list(1, 2), list(5)),
    list(list(6))
  )
)
items_sdf &lt;- copy_to(sc, items_df, overwrite = TRUE)

prefix_span_model &lt;- ml_prefixspan(
  sc,
  seq_col = "seq",
  min_support = 0.5,
  max_pattern_length = 5,
  max_local_proj_db_size = 32000000
)

frequent_items &lt;- prefix_span_model$frequent_sequential_patterns(items_sdf) %&gt;% collect()

## End(Not run)

</code></pre>


</div>