<div class="container">

<table style="width: 100%;"><tr>
<td>survivalsvm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>survivalsvm</h2>

<h3>Description</h3>

<p>Performs support vectors analysis for data sets with survival outcome. 
Three approaches are available in the package: 
The regression approach takes censoring into account when formulating the inequality constraints of the support vector problem. 
In the ranking approach, the inequality constraints set the objective to maximize the concordance index for comparable pairs of observations. 
The hybrid approach combines the regression and ranking constraints in the same model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">survivalsvm(formula = NULL, data = NULL, subset = NULL,
  type = "regression", diff.meth = NULL, gamma.mu = NULL,
  opt.meth = "quadprog", kernel = "lin_kernel", kernel.pars = NULL,
  time.variable.name = NULL, status.variable.name = NULL, sgf.sv = 5,
  sigf = 7, maxiter = 20, margin = 0.05, bound = 10, eig.tol = 1e-06,
  conv.tol = 1e-07, posd.tol = 1e-08)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>[<code>formula(1)</code>]<br>
Object of class <code>formula</code>. See <code>formula</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>[<code>data.frame(1)</code>]<br>
Object of class <code>data.frame</code> containing data points that will be used to fit the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>[<code>vector(1)</code>]<br>
An index vector specifying the cases to be used in the training sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>[<code>character(1)</code>]<br>
String indicating which type of survival support vectors model is desired. This must be one
of the following strings: 'regression', 'vanbelle1', 'vanbelle2' or 'hybrid'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diff.meth</code></td>
<td>
<p>[<code>character(1)</code>]<br>
String indicating which of <code>'makediff1'</code>, <code>'makediff2'</code> or <code>'makediff3'</code>
is used in case of 'vanbelle1', 'vanbelle2' and 'hybrid'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma.mu</code></td>
<td>
<p>[<code>numeric(1)|vector(1)</code>]<br>
Parameters of regularization. Note that a vector with two parameters is required in case of <code>hybrid</code> approach. Just
one value is required in case of <code>regression</code>, <code>vanbelle1</code> or <code>vanbelle2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opt.meth</code></td>
<td>
<p>[<code>character(1)</code>]<br>
Program used to solve the quadratic optimization problem. Either "<code>quadprog</code>" or "<code>ipop</code>".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kernel</code></td>
<td>
<p>[<code>Kernel(1)</code>]<br>
Kernel used to fit the model: linear kern ('lin_kernel'), additive kernel ('add_kernel'),
radial basis kernels ('rbf_kernel') and the polynomial kernel ('poly_kernel').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kernel.pars</code></td>
<td>
<p>[<code>vector(1)</code>]<br>
Parameters of kernel, when required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.variable.name</code></td>
<td>
<p>[<code>character</code>]<br>
Name of the survival time variable in <code>data</code>, when given in argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>status.variable.name</code></td>
<td>
<p>[<code>character(1)</code>]<br>
Name of the status variable in <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sgf.sv</code></td>
<td>
<p>[<code>character(1)</code>]<br>
Number of decimal digits in the solution of the quadratic optimization problem.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigf</code></td>
<td>
<p>[<code>numeric(1)</code>]<br>
Used by <code>ipop</code>. See <code>ipop</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxiter</code></td>
<td>
<p>[<code>integer(1)</code>]<br>
Used by <code>ipop</code>. See <code>ipop</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin</code></td>
<td>
<p>[<code>numeric(1)</code>]<br>
Used by <code>ipop</code>. See <code>ipop</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bound</code></td>
<td>
<p>[<code>numeric(1)</code>]<br>
Used by <code>ipop</code>. See <code>ipop</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eig.tol</code></td>
<td>
<p>[<code>numeric(1)</code>]<br>
Used by <code>nearPD</code> for adjusting positive definiteness. See <code>nearPD</code> for detail.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conv.tol</code></td>
<td>
<p>[<code>numeric(1)</code>]<br>
Used by <code>nearPD</code> for adjusting positive definiteness. See <code>nearPD</code> for detail.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>posd.tol</code></td>
<td>
<p>[<code>numeric(1)</code>]<br>
Used by <code>nearPD</code> for adjusting positive definiteness. See <code>nearPD</code> for detail.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The following denotations are used for the models implemented:
</p>

<ul>
<li> <p><code>'regression'</code> referring to the regression approach, named <code>SVCR</code> in Van Belle et al. (2011b),
</p>
</li>
<li> <p><code>'vanbelle1'</code> according to the first version of survival surpport vector machines based on ranking constraints,
named <code>RANKSVMC</code> by Van Belle et al. (2011b),
</p>
</li>
<li> <p><code>'vanbelle2'</code> according to the second version of survival surpport vector machines based on ranking constraints
like presented in <code>model1</code> by Van Belle et al. (2011b) and
</p>
</li>
<li> <p><code>'hybrid'</code>  combines simultaneously the regression and ranking constraints in the same model. Hybrid model is labeled
<code>model2</code> by Van Belle et al. (2011b).
</p>
</li>
</ul>
<p>The argument <code>'type'</code> of the function <code>survivalsvm</code> is used to set the type of model to be fitted.
For the models <code>vanbelle1</code>, <code>vanbelle2</code> and <code>hybrid</code>, differences between comparable
pairs of observations are required. Each observation is compared with its nearest neighbor according to the survival time, and the
three possible comparison approaches makediff1, makediff2 and makediff3 are offered to compute the
differences between comparable neighbors.
</p>
<p>The current version of <code>survivalsvm</code> uses the solvers <code>ipop</code> and <code>quadprog</code> to solve the dual
optimization problems deduced from the suport vector formulations of the models presented above. Notice that for using <code>quadprog</code>
the kernel matrix needs to be symmetric and positive definite. Therefore when the conditions are not met, the kernel matrix needs be slightly perturbed to obtain the nearest positive definite kernel matrix.
The alternative to <code>quadprog</code> is <code>ipop</code>, that can also handle a non-negative definite kernel matrix, however more time may be
required to solve the quadratic optimization dual problem. The argument <code>opt.meth</code> is used to select the solver.
</p>
<p>The <code>survivalsvm</code> command can be called giving a formula, in which the survival time and the status are grouped into a
two colunm matrix using the command <code>Surv</code> from the package <code>survival</code>. An alternative is to pass the data
frame of training data points as an argument using <code>data</code>, to mention the name of the survival time variable and
the name of the status variable as illustrated in the third example below.
</p>


<h3>Value</h3>

<p><code>survivalsvm</code>
Object of class <code>survivalsvm</code>, with elements:
</p>

<table>
<tr>
<td style="text-align: left;">
   <code>call</code> </td>
<td style="text-align: left;"> command calling this program, </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>typeofsurvivalsvm</code> </td>
<td style="text-align: left;"> type of survival support vector machines approach,</td>
</tr>
<tr>
<td style="text-align: left;">
   <code>model.fit</code> </td>
<td style="text-align: left;"> the fitted survival model,</td>
</tr>
<tr>
<td style="text-align: left;">
   <code>var.names</code> </td>
<td style="text-align: left;"> names of variables used.</td>
</tr>
<tr>
<td style="text-align: left;">
 </td>
</tr>
</table>
<h3>Note</h3>

<p>This implementation is in part inspired by the <code>Matlab</code> toolbox <code>Survlab</code>
(<a href="http://user.it.uu.se/~kripe367/survlab/instruction.html"><code>A Survival Analysis Toolbox</code></a>).
</p>


<h3>Author(s)</h3>

<p>Cesaire J. K. Fouodo
</p>


<h3>References</h3>


<ul>
<li>
<p> Van Belle, V., Pelcmans, K., Van Huffel S. and Suykens J. A.K. (2011a).
Improved performance on high-dimensional survival data by application of Survival-SVM.
Bioinformatics (Oxford, England) 27, 87-94.
</p>
</li>
<li>
<p> Van Belle, V., Pelcmans, K., Van Huffel S. and Suykens J. A.K. (2011b).
Support vector methods for survival analysis: a comparaison between ranking and regression approaches.
Artificial Intelligence in medecine 53, 107-118.
</p>
</li>
</ul>
<h3>See Also</h3>

<p>predict.survivalsvm
</p>


<h3>Examples</h3>

<pre><code class="language-R">survivalsvm(Surv(time, status) ~ ., veteran, gamma.mu = 0.1)

survsvm.reg &lt;- survivalsvm(formula = Surv(diagtime, status) ~ ., data = veteran,
                           type = "regression", gamma.mu = 0.1,
                           opt.meth = "ipop", kernel = "add_kernel")
                            
survsvm.vb2 &lt;- survivalsvm(data = veteran, time.variable.name = "diagtime",
                           status.variable.name = "status", 
                           type = "vanbelle2", gamma.mu = 0.1,
                           opt.meth = "quadprog", diff.meth = "makediff3", 
                           kernel = "lin_kernel",
                           sgf.sv = 5, sigf = 7, maxiter = 20, 
                           margin = 0.05, bound = 10)
                            
</code></pre>


</div>