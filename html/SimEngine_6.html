<div class="container">

<table style="width: 100%;"><tr>
<td>run</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run the simulation</h2>

<h3>Description</h3>

<p>This is the workhorse function of <span class="pkg">SimEngine</span> that actually
runs the simulation. This should be called after all functions that set
up the simulation (<code>set_config</code>, <code>set_script</code>, etc.) have been
called.
</p>


<h3>Usage</h3>

<pre><code class="language-R">run(sim)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>sim</code></td>
<td>
<p>A simulation object of class <code>sim_obj</code>, usually created by
<code>new_sim</code></p>
</td>
</tr></table>
<h3>Value</h3>

<p>The original simulation object but with the results attached (along
with any errors and warnings). Results are stored in <code>sim$results</code>,
errors are stored in <code>sim$errors</code>, and warnings are stored in
<code>sim$warnings</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">sim &lt;- new_sim()
create_data &lt;- function(n) { rpois(n, lambda=5) }
est_mean &lt;- function(dat, type) {
  if (type=="M") { return(mean(dat)) }
  if (type=="V") { return(var(dat)) }
}
sim %&lt;&gt;% set_levels(n=c(10,100,1000), est=c("M","V"))
sim %&lt;&gt;% set_config(num_sim=1)
sim %&lt;&gt;% set_script(function() {
  dat &lt;- create_data(L$n)
  lambda_hat &lt;- est_mean(dat=dat, type=L$est)
  return (list("lambda_hat"=lambda_hat))
})
sim %&lt;&gt;% run()
sim$results %&gt;% print()
</code></pre>


</div>