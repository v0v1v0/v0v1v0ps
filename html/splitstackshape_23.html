<div class="container">

<table style="width: 100%;"><tr>
<td>Reshape</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reshape Wide Data Into a Semi-long Form</h2>

<h3>Description</h3>

<p>The <code>stats::reshape()</code> function in base R is very handy when you want a
semi-long (or semi-wide) <code>data.frame</code>. However, base R's <code>reshape</code> has
problems is with "unbalanced" panel data, for instance data where one
variable was measured at three points in time, and another only twice.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Reshape(data, id.vars = NULL, var.stubs, sep = ".", rm.rownames, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The source <code>data.frame</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id.vars</code></td>
<td>
<p>The variables that serve as unique identifiers. Defaults to
<code>NULL</code>, at which point, all names which are not identified as variable groups
are used as the identifiers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var.stubs</code></td>
<td>
<p>The prefixes of the variable groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>The character that separates the "variable name" from the "times"
in the wide <code>data.frame</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rm.rownames</code></td>
<td>
<p>Ignored as <code>data.table</code>s do not have rownames anyway.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments to <code>NoSep()</code> in case the separator is of a
different form.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function was written to overcome that limitation of dealing with
unbalanced data, but is also appropriate for basic wide-to-long reshaping
tasks.
</p>
<p>Related functions like <code>utils::stack()</code> in base R and <code>reshape2::melt()</code> in
"reshape2" are also very handy when you want a "long" reshaping of data, but
they result in a very long structuring of your data, not the "semi-wide"
format that <code>reshape</code> produces. <code>data.table::melt()</code> can produce output like
<code>reshape</code>, but it also expects an equal number of measurements for each
variable.
</p>


<h3>Value</h3>

<p>A "long" <code>data.table</code> of the reshaped data that retains the
attributes added by base R's <code>reshape</code> function.
</p>


<h3>Author(s)</h3>

<p>Ananda Mahto
</p>


<h3>See Also</h3>

<p><code>Stacked()</code>, <code>utils::stack()</code>, <code>stats::reshape()</code>,
<code>reshape2::melt()</code>, <code>data.table::melt()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
set.seed(1)
mydf &lt;- data.frame(id_1 = 1:6, id_2 = c("A", "B"), varA.1 = sample(letters, 6),
                 varA.2 = sample(letters, 6), varA.3 = sample(letters, 6),
                 varB.2 = sample(10, 6), varB.3 = sample(10, 6),
                 varC.3 = rnorm(6))
mydf

## Note that these data are unbalanced
## reshape() will not work
## Not run: 
reshape(mydf, direction = "long", idvar=1:2, varying=3:ncol(mydf))

## End(Not run)

## The Reshape() function can handle such scenarios

Reshape(mydf, id.vars = c("id_1", "id_2"),
       var.stubs = c("varA", "varB", "varC"))

</code></pre>


</div>