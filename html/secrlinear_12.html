<div class="container">

<table style="width: 100%;"><tr>
<td>linearmask.object</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Description of Linear Mask Objects</h2>

<h3>Description</h3>

<p>An object of class <code>linearmask</code> maps linear habitat, such
as a river, in a way that is useful for spatially explicit
capture–recapture analysis.  The object contains two representations
of the linear habitat: as features in a SpatialLinesDataFrame, and
discretized as a set of equally spaced points, as in a mask object
from <span class="pkg">secr</span>.
</p>
<p>Usually the object was created in a call to
<code>read.linearmask</code>, which performs the discretization given
linear input data and a chosen spacing.
</p>
<p>A linearmask object does not explicitly include topological
information i.e. the branching pattern of river networks. Instead, a
network is constructed on-the-fly in <code>asgraph</code> by joining
adjacent mask points (those within a certain small Euclidean
distance). This results in 'shortcut' edges where lines approach at an
acute angle (see the Examples for a demonstration).
</p>
<p>A more complete, but also more cumbersome, solution for
river networks might be to adapt the SpatialStreamNetwork object class
of the <span class="pkg">SSN</span> package (ver Hoef et al. 2014). Data input for
<span class="pkg">SSN</span> requires pre-processing in the proprietary software ArcGIS.
</p>


<h3>Value</h3>

<p>The object itself is a dataframe of coordinates for the points
comprising the mask, as for a 2-dimensional habitat mask (mask).
</p>
<p>Additional information is stored as attributes (these usually remain
hidden, but are essential except for ‘graph’):
</p>
<table>
<tr style="vertical-align: top;">
<td><code>spacingfactor</code></td>
<td>
<p>The spacing factor determines which
points in a linear mask are joined to form a linear network, as
happens automatically when computing distances with
<code>networkdistance</code>. Points are joined when their Euclidean
separation is less than spacingfactor x spacing. The default value
is 1.1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SLDF</code></td>
<td>
<p>The SLDF attribute is a SpatialLinesDataFrame
(defined in <span class="pkg">sp</span>) that provides the underlying description of the
linear habitat.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>graph</code></td>
<td>
<p><span class="pkg">igraph</span> network. Optionally computed by <code>read.linearmask</code>
and saved as attribute, or computed on the fly by <code>networkdistance</code></p>
</td>
</tr>
</table>
<p>.
</p>
<table><tr style="vertical-align: top;">
<td><code>covariates</code></td>
<td>
<p>A required dataframe of covariate values, including at least the column ‘LineID’</p>
</td>
</tr></table>
<p>Other attributes are common to masks and linearmasks:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>spacing</code></td>
<td>
<p>In this context, the length of habitat in metres that is associated with
each mask point (segment length).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meanSD</code></td>
<td>
<p>A matrix with mean and standard deviation of
coordinates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boundingbox</code></td>
<td>
<p>In this context, a dataframe giving the coordinate
ranges spanned by the SLDF. Differs from 2-D mask in not being 'buffered' by spacing/2.</p>
</td>
</tr>
</table>
<p>Further attributes of 2-dimensional masks (area, polygon etc.) are not
relevant but may be present. The object has class
<code>c("linearmask", "mask", "data.frame")</code> or <code>c("list",
  "linearmask", "mask", "data.frame")</code> for a multi-session linear mask.
</p>


<h3>References</h3>

<p>Ver Hoef, J. M., Peterson, E. E., Clifford, D. and Shah, R. (2014)
<b>SSN</b> : an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> package for spatial statistical modeling on stream
networks. <em>Journal of Statistical Software</em> <b>56(3)</b>, 1–45.
</p>


<h3>See Also</h3>

<p><code>read.linearmask</code>, <code>mask</code>,
<code>showpath</code>, <code>networkdistance</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## make a complex linear mask
x &lt;- seq(0, 4*pi, length = 200)
xy &lt;- data.frame(x = x*100, y = sin(x)*300)
xy2 &lt;- data.frame(x = x*100, y = cos(x)*300)
test &lt;- read.linearmask(data = xy, spacing = 10)
test2 &lt;- read.linearmask(data = xy2, spacing = 10)
test3 &lt;- rbind(test, test2)

## visualize the igraph network used by networkdistance()
tmp &lt;- asgraph(test3)
if(require('igraph')) {
  i2 &lt;- get.edges(tmp,1:ecount(tmp))
  plot(test3, linecol = 'white', col = 'grey')
  segments(test3[i2[,1],1], test3[i2[,1],2], test3[i2[,2],1],
      test3[i2[,2],2], lwd=2, col='blue')
}
</code></pre>


</div>