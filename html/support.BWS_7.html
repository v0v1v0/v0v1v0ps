<div class="container">

<table style="width: 100%;"><tr>
<td>bws.response</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Generating artificial responses to Case 1 best-worst scaling questions
</h2>

<h3>Description</h3>

<p>This function synthesizes responses to Case 1 best-worst scaling (BWS) questions on the basis of a maximum difference model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bws.response(design, item.names = NULL, b, n, detail = FALSE,
             seed = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>

<p>A matrix or data frame containing a balanced incomplete block design (BIBD).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>item.names</code></td>
<td>

<p>A character vector containing the names of items: if <code>NULL</code> (default), default names (i.e., <code>ITEM1</code>, <code>ITEM2</code>, ...) are used in the resultant dataset. The argument is valid for the dataset in a detailed format.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>

<p>A vector containing parameters of independent variables in the model. The vector is used to calculate utilities for alternatives.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>

<p>An integer value showing the number of respondents in the resultant dataset.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>detail</code></td>
<td>

<p>A logical variable: if <code>TRUE</code>, the dataset is returned in a detailed format; and if <code>FALSE</code> (default), the dataset is returned in a simple format.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>

<p>Seed for a random number generator.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function synthesizes responses to Case 1 BWS questions on the basis of a maximum difference model. The model assumes that there are <code class="reqn">m</code> items to be evaluated, and that <code class="reqn">k</code> (<code class="reqn">&lt; m</code>) items exist in a choice set (a question). The number of possible pairs where item <code class="reqn">i</code> is selected as the best and item <code class="reqn">j</code> is selected as the worst (<code class="reqn">i \neq j</code>) from <code class="reqn">k</code> items is given by <code class="reqn">k \times (k - 1)</code>. The model also assumes that the respondents select item <code class="reqn">i</code> as the best and item <code class="reqn">j</code> as the worst because the difference in utility between items <code class="reqn">i</code> and <code class="reqn">j</code> is the highest among all of the <code class="reqn">k \times (k - 1)</code> differences in utility. The systematic component of the utility is assumed to be a linear additive function of the item variables. If the error component of the utility is assumed to be an independently, identically distributed type I extreme value, the probability of selecting item <code class="reqn">i</code> as the best and item <code class="reqn">j</code> as the worst is expressed as a conditional logit model.
</p>
<p>Given the parameter values assigned to the argument <code>b</code>, and the choice sets assigned to the argument <code>design</code>, the function <code>bws.response</code> calculates the utility for the items. The parameter values assigned to the argument <code>b</code> are set as a numerical vector where the elements correspond to the parameters of item variables. For example, assume that seven items A, B, C, D, E, F, and G exist in the list for evaluation, and their corresponding dummy-coded item variables <code class="reqn">D_{A}</code>, <code class="reqn">D_{B}</code>, <code class="reqn">D_{C}</code>, <code class="reqn">D_{D}</code>, <code class="reqn">D_{E}</code>, and <code class="reqn">D_{G}</code> (item F is assumed to be the reference item) have parameter values of 0.5, 1.2, 1.6, 1.8, 2.1, and 0.9, respectively. A vector assigned to the argument <code>b</code> is <code>c(0.5, 1.2, 1.6, 1.8, 2.1, 0, 0.9)</code>, where the sixth element (i.e., item F) corresponds to the reference level, and thus has a value of <code>0</code>. After calculating the utility values (by adding the calculated values of the systematic component of the utility and random numbers generated from a type I extreme value distribution), the function <code>bws.response</code> finds the pair with the highest difference in utility from the <code class="reqn">k \times (k - 1)</code> differences in utility.
</p>


<h3>Value</h3>

<p>The function <code>bws.response</code> returns a data frame that contains synthesized responses to Case 1 BWS questions, in either a detailed or a simple format. The detailed format dataset contains the following variables, as well as independent variables according to the argument <code>item.names</code>.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>An identification number of artificial respondents.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Q</code></td>
<td>
<p>A serial number of questions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PAIR</code></td>
<td>
<p>A serial number of possible pairs of the best and worst items for each question.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BEST</code></td>
<td>
<p>An item number treated as the best in the possible pairs of the best and worst items for each question.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>WORST</code></td>
<td>
<p>An item number treated as the worst in the possible pairs of the best and worst items for each question.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RES</code></td>
<td>
<p>Responses to BWS questions, taking the value of 1 if a possible pair of the best and worst items is selected by the synthesized respondents and 0 otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>STR</code></td>
<td>
<p>A stratification variable used to identify each combination of respondent and question.</p>
</td>
</tr>
</table>
<p>The simple format dataset contains the following variables.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>An identification number of artificial respondents.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Bi</code></td>
<td>
<p>A variable describing the row number of the item that is selected as the best in the <code class="reqn">i</code>-th BWS question (see the help for <code>bws.dataset</code> for a row number format). The serial number of questions is appended to the tail of the variable name (e.g., <code>B1</code> for the first question, <code>B2</code> for the second question, and <code>B3</code> for the third question).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Wi</code></td>
<td>
<p>A variable describing the row number of the item that is selected as the worst in the <code class="reqn">i</code>-th BWS question (see the help for <code>bws.dataset</code> for a row number format). The serial number of questions is appended to the tail of the variable name (e.g., <code>W1</code> for the first question, <code>W2</code> for the second question, and <code>W3</code> for the third question).</p>
</td>
</tr>
</table>
<p>The detailed format dataset includes a dependent variable and independent variables for the analysis, and thus is available for discrete choice analysis functions such as the function <code>clogit</code> in the <b>survival</b> package. On the other hand, the simple format dataset only contains variables that correspond to responses to BWS questions, as well as <code>id</code> variable. It must be converted using the function <code>bws.dataset</code> in the package for the analysis. For details, see the Example section.
</p>


<h3>See Also</h3>

<p><code>support.BWS-package</code>, <code>bws.dataset</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># The following lines of code synthesize responses to Case 1 BWS questions,
# return them in detailed and simple format, and then fit the models using
# the function clogit in the survival package. The questions evaluate seven
# items. The choice sets consist of seven questions with four items each.
# The function find.BIB in the crossdes package creates the corresponding
# BIBD with seven treatments, seven blocks, and size four. The systematic
# component of the utility for items is the same as that explained in the
# Details section.

## Not run: 
# Load packages
library(survival)
library(crossdes)

# Generate BIBD
set.seed(123)
bibd &lt;- find.BIB(trt = 7, b = 7, k = 4)
isGYD(bibd)
bibd

# Synthesize responses to Case 1 BWS questions
b &lt;- c(0.5, 1.2, 1.6, 1.8, 2.1, 0, 0.9)
items = c("A", "B", "C", "D", "E", "F", "G")
dat.detail &lt;- bws.response(
  design = bibd, item.names = items,
  b = b, n = 100,
  detail = TRUE, seed = 123)
str(dat.detail)
dat.simple &lt;- bws.response(
  design = bibd,
  b = b, n = 100,
  detail = FALSE, seed = 123)
str(dat.simple)

# Convert dat.simple into dataset for the analysis
response.vars &lt;- colnames(dat.simple)[-1]
dat.simple.md &lt;- bws.dataset(
  respondent.dataset = dat.simple,
  response.type = 1,
  choice.sets = bibd,
  design.type = 2,
  item.names = items,
  id = "id",
  response = response.vars,
  model = "maxdiff")

# Fit conditional logit models
mf &lt;- RES ~ A + B + C + D + E + G + strata(STR)
out.detail &lt;- clogit(mf, dat.detail)
out.simple &lt;- clogit(mf, dat.simple.md)
out.simple
all.equal(coef(out.detail), coef(out.simple))

## End(Not run)
</code></pre>


</div>