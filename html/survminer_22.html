<div class="container">

<table style="width: 100%;"><tr>
<td>ggsurvplot_df</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot Survival Curves from Survival Summary Data Frame</h2>

<h3>Description</h3>

<p>An extension to ggsurvplot() to plot survival curves from
any data frame containing the summary of survival curves as returned the
surv_summary() function.
</p>
<p>Might be useful for a user who wants
to use ggsurvplot for visualizing survival curves computed by another
method than the standard survfit.formula function. In this
case, the user has just to provide the data frame containing the summary of
the survival analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ggsurvplot_df(
  fit,
  fun = NULL,
  color = NULL,
  palette = NULL,
  linetype = 1,
  break.x.by = NULL,
  break.time.by = NULL,
  break.y.by = NULL,
  surv.scale = c("default", "percent"),
  surv.geom = geom_step,
  xscale = 1,
  conf.int = FALSE,
  conf.int.fill = "gray",
  conf.int.style = "ribbon",
  conf.int.alpha = 0.3,
  censor = TRUE,
  censor.shape = "+",
  censor.size = 4.5,
  title = NULL,
  xlab = "Time",
  ylab = "Survival probability",
  xlim = NULL,
  ylim = NULL,
  axes.offset = TRUE,
  legend = c("top", "bottom", "left", "right", "none"),
  legend.title = "Strata",
  legend.labs = NULL,
  ggtheme = theme_survminer(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>a data frame as returned by surv_summary. Should contains at least
the following columns: </p>
 <ul>
<li>
<p> time: survival time </p>
</li>
<li>
<p> surv:
survival probability </p>
</li>
<li>
<p> strata: grouping variables </p>
</li>
<li>
<p> n.censor: number
of censors </p>
</li>
<li>
<p> upper: upper end of confidence interval </p>
</li>
<li>
<p> lower: lower
end of confidence interval </p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>an arbitrary function defining a transformation of the survival
curve.  Often used transformations can be specified with a character
argument: "event" plots cumulative events (f(y) = 1-y), "cumhaz" plots the
cumulative hazard function (f(y) = -log(y)), and "pct" for survival
probability in percentage.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>color to be used for the survival curves. </p>
 <ul>
<li>
<p> If the
number of strata/group (n.strata) = 1, the expected value is the color name.
For example color = "blue". </p>
</li>
<li>
<p> If n.strata &gt; 1, the expected value is the
grouping variable name. By default, survival curves are colored by strata
using the argument color = "strata",  but you can also color survival curves
by any other grouping variables used to fit the survival curves. In this
case, it's possible to specify a custom color palette by using the argument
palette.</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>palette</code></td>
<td>
<p>the color palette to be used. Allowed values include "hue" for
the default hue color scale; "grey" for grey color palettes; brewer palettes
e.g. "RdBu", "Blues", ...; or custom color palette e.g. c("blue", "red"); and scientific journal palettes from ggsci R package, e.g.: "npg",
"aaas", "lancet", "jco", "ucscgb", "uchicago", "simpsons" and
"rickandmorty".
See details section for more information.  Can be also a numeric vector of
length(groups); in this case a basic color palette is created using the
function palette.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linetype</code></td>
<td>
<p>line types. Allowed values includes i) "strata" for changing
linetypes by strata (i.e. groups); ii) a numeric vector (e.g., c(1, 2)) or a
character vector c("solid", "dashed").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>break.x.by</code></td>
<td>
<p>alias of break.time.by. Numeric value controlling x axis
breaks. Default value is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>break.time.by</code></td>
<td>
<p>numeric value controlling time axis breaks. Default value
is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>break.y.by</code></td>
<td>
<p>same as break.x.by but for y axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>surv.scale</code></td>
<td>
<p>scale transformation of survival curves. Allowed values are
"default" or "percent".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>surv.geom</code></td>
<td>
<p>survival curve style. Is the survival curve entered a step
function (geom_step) or a smooth function (geom_line).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xscale</code></td>
<td>
<p>numeric or character value specifying x-axis scale. </p>

<ul>
<li>
<p> If numeric, the value is used to divide the labels on the x axis. For
example, a value of 365.25 will give labels in years instead of the original
days. </p>
</li>
<li>
<p> If character, allowed options include one of c("d_m", "d_y",
"m_d", "m_y", "y_d", "y_m"), where d = days, m = months and y = years. For
example, xscale = "d_m" will transform labels from days to months; xscale =
"m_y", will transform labels from months to years.</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int</code></td>
<td>
<p>logical value. If TRUE, plots confidence interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int.fill</code></td>
<td>
<p>fill color to be used for confidence interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int.style</code></td>
<td>
<p>confidence interval style. Allowed values include
c("ribbon", "step").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int.alpha</code></td>
<td>
<p>numeric value specifying fill color transparency. Value
should be in [0, 1], where 0 is full transparency and 1 is no transparency.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>censor</code></td>
<td>
<p>logical value. If TRUE, censors will be drawn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>censor.shape</code></td>
<td>
<p>character or numeric value specifying the point shape of
censors. Default value is "+" (3), a sensible choice is "|" (124).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>censor.size</code></td>
<td>
<p>numveric value specifying the point size of censors.
Default is 4.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>main title and axis labels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>main title and axis labels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>main title and axis labels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>x and y axis limits e.g. xlim = c(0, 1000), ylim = c(0, 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>x and y axis limits e.g. xlim = c(0, 1000), ylim = c(0, 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axes.offset</code></td>
<td>
<p>logical value. Default is TRUE. If FALSE, set the plot axes
to start at the origin.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>character specifying legend position. Allowed values are one of
c("top", "bottom", "left", "right", "none"). Default is "top" side position.
to remove the legend use legend = "none". Legend position can be also
specified using a numeric vector c(x, y); see details section.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.title</code></td>
<td>
<p>legend title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.labs</code></td>
<td>
<p>character vector specifying legend labels. Used to replace
the names of the strata from the fit. Should be given in the same order as
those strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ggtheme</code></td>
<td>
<p>function, ggplot2 theme name. Default value is
theme_survminer. Allowed values include ggplot2 official themes: see
<code>theme</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments to be passed i) to ggplot2 geom_*() functions such
as linetype, size, ii) or to the function ggpar() for
customizing the plots. See details section.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">library(survival)

# Fit survival curves
#::::::::::::::::::::::::::::::::::::::::::::::::::::::::
fit1 &lt;- survfit( Surv(time, status) ~ 1, data = colon)
fit2 &lt;- survfit( Surv(time, status) ~ adhere, data = colon)

# Summary
#::::::::::::::::::::::::::::::::::::::::::::::::::::::::
head(surv_summary(fit1, colon))

head(surv_summary(fit2, colon))

# Visualize
#::::::::::::::::::::::::::::::::::::::::::::::::::::::::
ggsurvplot_df(surv_summary(fit1, colon))

ggsurvplot_df(surv_summary(fit2, colon), conf.int = TRUE,
             legend.title = "Adhere", legend.labs = c("0", "1"))

# Kaplan-Meier estimate
#::::::::::::::::::::::::::::::::::::::::::::::::::::::::
out_km &lt;- survfit(Surv(time, status) ~ 1, data = lung)

# Weibull model
#::::::::::::::::::::::::::::::::::::::::::::::::::::::::
wb &lt;- survreg(Surv(time, status) ~ 1, data = lung)
s &lt;- seq(.01, .99, by = .01)
t &lt;- predict(wb, type = "quantile", p = s, newdata = lung[1, ])
out_wb &lt;- data.frame(time = t, surv = 1 - s, upper = NA, lower = NA, std.err = NA)

# plot both
#::::::::::::::::::::::::::::::::::::::::::::::::::::::::
p_km &lt;- ggsurvplot(out_km, conf.int = FALSE)
p_wb &lt;- ggsurvplot(out_wb, conf.int = FALSE, surv.geom = geom_line)

p_km
p_wb
p_km$plot + geom_line(data = out_wb, aes(x = time, y = surv))

</code></pre>


</div>