<div class="container">

<table style="width: 100%;"><tr>
<td>plot.SafeRankExpt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>plot() method for the result of an experiment with varying numbers of ballots</h2>

<h3>Description</h3>

<p>The "adjusted rank" of a candidate is their ranking <code class="reqn">r</code> plus their
scaled "winning margin". The scaled margin is
<code class="reqn">e^{-cx/\sqrt{n}}</code>, where <code class="reqn">x</code> is the adjusted margin (i.e. the number
of votes by which this candidate is ahead of the next-weaker candidate,
adjusted for the number of ballots <code class="reqn">n</code> and the number of seats <code class="reqn">s</code>),
and <code class="reqn">c&gt;0</code> is the margin-scaling parameter 'cMargin'.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'SafeRankExpt'
plot(
  x,
  facetWrap = FALSE,
  nResults = NA,
  anBallots = 0,
  cMargin = 1,
  xlab = "Ballots",
  ylab = "Adjusted Rank",
  title = NULL,
  subtitle = "(default)",
  line = TRUE,
  boxPlot = FALSE,
  boxPlotCutInterval = 10,
  pointSize = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>object containing experimental results</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facetWrap</code></td>
<td>
<p>TRUE provides per-candidate scatterplots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nResults</code></td>
<td>
<p>number of candidates whose results are plotted (omitting
the least-favoured candidates first)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anBallots, cMargin</code></td>
<td>
<p>parameters in the rank-adjustment formula</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab, ylab</code></td>
<td>
<p>axis labels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>overall title for the plot.  Default: NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subtitle</code></td>
<td>
<p>subtitle for the plot.  Default: value of nSeats and
any non-zero rank-adjustment parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line</code></td>
<td>
<p>TRUE will connect points with lines, and will disable jitter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boxPlot</code></td>
<td>
<p>TRUE for a boxplot, rather than the default xy-scatter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boxPlotCutInterval</code></td>
<td>
<p>parameter of boxplot, default 10</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pointSize</code></td>
<td>
<p>diameter of points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>params for generic plot()</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The default value of 'cMargin=1.0' draws visual attention to candidates with
a very small winning margin, as their adjusted rank is very near to
<code class="reqn">r+1</code>.  Candidates with anything more than a small winning margin have
only a small rank adjustment, due to the exponential scaling.
</p>
<p>A scaling linear in <code class="reqn">s/n</code> is applied to margins when 'anBallots&gt;0'.  Such
a linear scaling may be a helpful way to visualise the winning margins in STV
elections because the margin of victory for an elected candidate is typically
not much larger than the quota of <code class="reqn">n/(s+1)</code> (Droop) or <code class="reqn">n/s</code> (Hare).
The linear scaling factor is <code class="reqn">as/n</code>, where <code class="reqn">a</code> is the value of
'anBallots', <code class="reqn">s</code> is the number of seats, and <code class="reqn">n</code> is the number of
ballots. For plotting on the (inverted) adjusted rank scale, the
linearly-scaled margin is added to the candidate's rank.  Note that the
linearly-scaled margins are zero when <code class="reqn">a=0</code>, and thus have no effect on
the adjusted rank.  You might want to increase the value of 'anBallots',
starting from 1.0, until the winning candidate's adjusted rank is 1.0 when
all ballots are counted, then confirm that the adjusted ranks of other
candidates are still congruent with their ranking (i.e. that the
rank-adjustment is less than 1 in all cases except perhaps on an initial
transient with small numbers of ballots).
</p>
<p>When both 'anBallots' and 'cMargins' are non-zero, the ranks are adjusted
with both exponentially-scaled margins and linearly-scaled margins. The
resulting plot would be difficult to interpret in a valid way.
</p>
<p>Todo: Accept a list of SafeVoteExpt objects.
</p>
<p>Todo: Multiple counts with the same number of ballots could be summarised
with a box-and-whisker graphic, rather than a set of jittered points.
</p>
<p>Todo: Consider developing a linear scaling that is appropriate for
plotting stochastic experimental data derived from Condorcet elections.
</p>


<h3>Value</h3>

<p>graphics object, with side-effect in RStudio Plots pane
</p>


</div>