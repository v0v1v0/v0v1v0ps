<div class="container">

<table style="width: 100%;"><tr>
<td>delsa</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Distributed Evaluation of Local Sensitivity Analysis</h2>

<h3>Description</h3>

 <p><code>delsa</code> implements Distributed Evaluation of 
Local Sensitivity Analysis to calculate first order parameter 
sensitivity at multiple locations in parameter space. The locations 
in parameter space can either be obtained by a call to <code>parameterSets</code> 
or by specifying <code>X0</code> directly, in which case the prior variance 
of each parameter <code>varprior</code> also needs to be specified. Via <code>plot</code> 
(which uses functions of the package <code>ggplot2</code> and <code>reshape2</code>), 
the indices can be visualized.
</p>


<h3>Usage</h3>

<pre><code class="language-R">delsa(model = NULL, perturb=1.01,
  par.ranges, samples, method,
  X0, varprior, varoutput,
  ...)
  
## S3 method for class 'delsa'
tell(x, y = NULL,...)

## S3 method for class 'delsa'
print(x, ...)

## S3 method for class 'delsa'
plot(x, which=1:3, ask = dev.interactive(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>a function, or a model with a <code>predict</code> method,
defining the model to analyze.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perturb</code></td>
<td>
<p>Perturbation used to calculate sensitivity at each evaluation location</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>par.ranges</code></td>
<td>
<p>A named list of minimum and maximum parameter values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samples</code></td>
<td>
<p>Number of samples to generate. For the <code>"grid"</code> and
<code>"innergrid"</code> method, corresponds to the number of samples for
each parameter, and may be a vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Sampling scheme. See <code>parameterSets</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X0</code></td>
<td>
<p>Parameter values at which to evaluate sensitivity indices. 
Can be used instead of specifying sampling <code>method</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varprior</code></td>
<td>
<p>Prior variance. If <code>X0</code> is specified, <code>varprior</code> 
must also be specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varoutput</code></td>
<td>
<p>Output variance. If <code>"summation"</code> is specified (default value), 
the ouput variance is computed by summing the first order effects. If <code>"empirical"</code> 
is specified, the ouput variance is estimated frome the output sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>any other arguments for <code>model</code> which are passed
unchanged each time it is called.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a list of class <code>"delsa"</code> storing the state of the
sensitivity study (parameters, data, estimates).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>a vector of model responses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>if a subset of the plots is required, specify a subset of the numbers 1:3</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ask</code></td>
<td>
<p>logical; if TRUE, the user is asked before each plot, see <code>par(ask=.)</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>print</code> shows summary of the first order indices across parameter space.
</p>
<p><code>plot</code> shows: (1) the cumulative distribution function of first order 
sensitivity across parameter space, (2) variation of first order sensitivity 
in relation to model response, and (3) sensitivity in relation to parameter value.
</p>


<h3>Value</h3>

<p><code>delsa</code> returns a list of class <code>"delsa"</code>, containing all
the input arguments detailed before, plus the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>the matched call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>a <code>data.frame</code> containing the design of experiments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>a vector of model responses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delsafirst</code></td>
<td>
<p>the first order indices for each location in <code>X0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deriv</code></td>
<td>
<p>the values of derivatives for each location in <code>X0</code></p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Conversion for <code>sensitivity</code> package by Joseph Guillaume, 
based on original R code by Oldrich Rakovec.
Addition of the <code>varoutput</code> argument by Bertrand Iooss (2020).
</p>


<h3>References</h3>

<p>Rakovec, O., M. C. Hill, M. P. Clark, A. H. Weerts, A. J. Teuling, R. Uijlenhoet (2014), 
Distributed 
Evaluation of Local Sensitivity Analysis (DELSA), with application to hydrologic models, 
Water Resour. Res., 50, 1-18
</p>


<h3>See Also</h3>

<p><code>parameterSets</code> which is used to generate points, <code>sensitivity</code> 
for other methods in the package
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Test case : the non-monotonic Sobol g-function
# (there are 8 factors, all following the uniform distribution on [0,1])


library(randtoolbox)
x &lt;- delsa(model=sobol.fun,
           par.ranges=replicate(8,c(0,1),simplify=FALSE),
           samples=100,method="sobol")

# Summary of sensitivity indices of each parameter across parameter space
print(x)

library(ggplot2)
library(reshape2)
plot(x)

</code></pre>


</div>