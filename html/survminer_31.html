<div class="container">

<table style="width: 100%;"><tr>
<td>ggcoxzph</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Graphical Test of Proportional Hazards with ggplot2</h2>

<h3>Description</h3>

<p>Displays a graph of the scaled Schoenfeld residuals, along with a
smooth curve using <span class="pkg">ggplot2</span>. Wrapper around plot.cox.zph.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ggcoxzph(
  fit,
  resid = TRUE,
  se = TRUE,
  df = 4,
  nsmo = 40,
  var,
  point.col = "red",
  point.size = 1,
  point.shape = 19,
  point.alpha = 1,
  caption = NULL,
  ggtheme = theme_survminer(),
  ...
)

## S3 method for class 'ggcoxzph'
print(x, ..., newpage = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>an object of class cox.zph.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resid</code></td>
<td>
<p>a logical value, if TRUE the residuals are included on the plot,
as well as the smooth fit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se</code></td>
<td>
<p>a logical value, if TRUE, confidence bands at two standard errors
will be added.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>the degrees of freedom for the fitted natural spline, df=2 leads to
a linear fit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsmo</code></td>
<td>
<p>number of points used to plot the fitted spline.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>the set of variables for which plots are desired. By default, plots
are produced in turn for each variable of a model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point.col, point.size, point.shape, point.alpha</code></td>
<td>
<p>color, size, shape and visibility to be used for points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>caption</code></td>
<td>
<p>the caption of the final grob (<code>bottom</code> in arrangeGrob)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ggtheme</code></td>
<td>
<p>function, ggplot2 theme name.
Allowed values include ggplot2 official themes: see <code>theme</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to either the print() function or to the <code>ggpar</code> function for customizing the plot (see Details section).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class ggcoxzph</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newpage</code></td>
<td>
<p>open a new page. See <code>grid.arrange</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><strong>Customizing the plots</strong>: The plot can be easily
customized using additional arguments to be passed to the function ggpar().
Read ?ggpubr::ggpar. These arguments include
<em>font.main,font.submain,font.caption,font.x,font.y,font.tickslab,font.legend</em>:
a vector of length 3 indicating respectively the size (e.g.: 14), the style
(e.g.: "plain", "bold", "italic", "bold.italic") and the color (e.g.: "red")
of main title, subtitle, caption, xlab and ylab and axis tick labels,
respectively. For example <em>font.x = c(14, "bold", "red")</em>.  Use font.x
= 14, to change only font size; or use font.x = "bold", to change only font
face.
</p>


<h3>Value</h3>

<p>Returns an object of class <code>ggcoxzph</code> which is a list of ggplots.
</p>


<h3>Functions</h3>


<ul><li> <p><code>ggcoxzph</code>: Graphical Test of Proportional Hazards using ggplot2.
</p>
</li></ul>
<h3>Author(s)</h3>

<p>Marcin Kosinski , <a href="mailto:m.p.kosinski@gmail.com">m.p.kosinski@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(survival)
fit &lt;- coxph(Surv(futime, fustat) ~ age + ecog.ps + rx, data=ovarian)
cox.zph.fit &lt;- cox.zph(fit)
# plot all variables
ggcoxzph(cox.zph.fit)
# plot all variables in specified order
ggcoxzph(cox.zph.fit, var = c("ecog.ps", "rx", "age"), font.main = 12)
# plot specified variables in specified order
ggcoxzph(cox.zph.fit, var = c("ecog.ps", "rx"), font.main = 12, caption = "Caption goes here")

</code></pre>


</div>