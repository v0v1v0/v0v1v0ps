<div class="container">

<table style="width: 100%;"><tr>
<td>seekerArray</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Process microarray data end to end</h2>

<h3>Description</h3>

<p>This function fetches data and metadata from NCBI GEO and ArrayExpress,
processes raw Affymetrix data using RMA and custom CDFs from Brainarray, and
maps probes to genes. See also the vignettes:
<code>browseVignettes('seeker')</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">seekerArray(
  study,
  geneIdType,
  platform = NULL,
  parentDir = ".",
  metadataOnly = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>study</code></td>
<td>
<p>String indicating the study accession and used to name the output
directory within <code>parentDir</code>. Must start with "GSE", "E-", or "LOCAL". If
starts with "GSE", data are fetched using <code>GEOquery::getGEO()</code>. If starts
with "E-", data are fetched using <code>ArrayExpress::getAE()</code>. If starts with
"LOCAL", data in the form of cel(.gz) files must in the directory
<code>parentDir</code>/<code>study</code>/raw, and <code>parentDir</code>/<code>study</code> must contain
a file "sample_metadata.csv" that has a column <code>sample_id</code> containing the
names of the cel(.gz) files without the file extension.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geneIdType</code></td>
<td>
<p>String indicating whether to map probes to gene IDs from
Ensembl ("ensembl") or Entrez ("entrez").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>platform</code></td>
<td>
<p>String indicating the GEO-based platform accession for the raw
data. See <a href="https://www.ncbi.nlm.nih.gov/geo/browse/?view=platforms">https://www.ncbi.nlm.nih.gov/geo/browse/?view=platforms</a>.
Only necessary if <code>study</code> starts with "LOCAL", or starts with "GSE"
and the study uses multiple platforms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parentDir</code></td>
<td>
<p>Directory in which to store the output, which will be a
directory named according to <code>study</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metadataOnly</code></td>
<td>
<p>Logical indicating whether to only process the sample
metadata, and skip processing the expression data.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The standard output:
</p>

<ul>
<li>
<p> naive_expression_set.qs: Initial <code>ExpresssionSet</code> generated by
GEOquery::getGEO or <code>ArrayExpress::ae2bioc()</code>. Should generally <em>not</em> be
used if sample_metadata.csv and gene_expression_matrix.qs are available.
</p>
</li>
<li>
<p> sample_metadata.csv: Table of sample metadata. Column <code>sample_id</code> matches
colnames of the gene expression matrix.
</p>
</li>
<li>
<p> gene_expression_matrix.qs: Rows correspond to genes, columns to samples.
Expression values are log2-transformed.
</p>
</li>
<li>
<p> custom_cdf_name.txt: Name of custom CDF package used by <code>affy::justRMA()</code>
to process and normalize raw Affymetrix data and map probes to genes.
</p>
</li>
<li>
<p> feature_metadata.qs: <code>GPL</code> object, if gene expression matrix was generated
from processed data.
</p>
</li>
<li>
<p> probe_gene_mapping.csv.gz: Table of probes and genes, if gene expression
matrix was generated from processed data.
</p>
</li>
<li>
<p> "raw" directory: Contains raw Affymetrix files.
</p>
</li>
<li>
<p> params.yml: Parameters used to process the dataset.
</p>
</li>
<li>
<p> session.log: R session information.
</p>
</li>
</ul>
<p>The output may include other files from NCBI GEO or ArrayExpress. Files with
extension "qs" can be read into R using <code>qs::qread()</code>.
</p>


<h3>Value</h3>

<p>Path to the output directory <code>parentDir</code>/<code>study</code>, invisibly.
</p>


<h3>See Also</h3>

<p><code>seeker()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
seekerArray('GSE25585', 'entrez')

## End(Not run)

</code></pre>


</div>