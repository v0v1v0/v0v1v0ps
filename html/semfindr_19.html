<div class="container">

<table style="width: 100%;"><tr>
<td>index_plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Index Plot of an Arbitrary Statistic</h2>

<h3>Description</h3>

<p>A generic index plot
function for plotting values of
a column # in a matrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">index_plot(
  object,
  column = NULL,
  plot_title = "Index Plot",
  x_label = NULL,
  cutoff_x_low = NULL,
  cutoff_x_high = NULL,
  largest_x = 1,
  absolute = FALSE,
  point_aes = list(),
  vline_aes = list(),
  hline_aes = list(),
  cutoff_line_aes = list(),
  case_label_aes = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A matrix-like object,
such as the output from
<code>influence_stat()</code>, <code>est_change()</code>,
<code>est_change_raw()</code>, and their
counterparts for the approximate
approach.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>column</code></td>
<td>
<p>String. The column
name of the values to be plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_title</code></td>
<td>
<p>The title of the
plot. Default is <code>"Index Plot"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_label</code></td>
<td>
<p>The Label for the
vertical axis, for the value of
<code>column</code>. Default is <code>NULL</code>.
If <code>NULL</code>, then the label is
changed to
<code>"Statistic"</code> if <code>absolute</code> is
<code>FALSE</code>, and <code>"Absolute(Statistics)"</code>
if <code>absolute</code> is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff_x_low</code></td>
<td>
<p>Cases with values
smaller than this value will be labeled.
A cutoff line will be drawn at this
value.
Default is <code>NULL</code>. If <code>NULL</code>, no
cutoff line will be drawn for this
value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff_x_high</code></td>
<td>
<p>Cases with values
larger than this value will be labeled.
A cutoff line will be drawn at this
value.
Default is <code>NULL</code>. If <code>NULL</code>, no
cutoff line will be drawn for this
value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>largest_x</code></td>
<td>
<p>The number of cases
with the largest absolute value on
'columnâ€œ
to be labelled. Default is 1. If not
an integer, it will be rounded to the
nearest integer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>absolute</code></td>
<td>
<p>Whether absolute values
will be plotted. Useful when cases
are to be compared on magnitude,
ignoring sign. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point_aes</code></td>
<td>
<p>A named list of
arguments to be passed to
<code>ggplot2::geom_point()</code> to modify how
to draw the points. Default is
<code>list()</code> and internal default
settings will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vline_aes</code></td>
<td>
<p>A named list of
arguments to be passed to
<code>ggplot2::geom_segment()</code> to modify how
to draw the line for each case
in the index plot. Default is
<code>list()</code> and internal default
settings will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hline_aes</code></td>
<td>
<p>A named list of
arguments to be passed to
<code>ggplot2::geom_hline()</code> to modify how
to draw the horizontal line for zero
case influence. Default is <code>list()</code>
and internal default settings will be
used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff_line_aes</code></td>
<td>
<p>A named list
of arguments to be passed to
<code>ggplot2::geom_hline()</code> to modify how
to draw the line for user cutoff
values. Default is <code>list()</code>
and internal default settings will be
used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>case_label_aes</code></td>
<td>
<p>A named list of
arguments to be passed to
<code>ggrepel::geom_label_repel()</code> to
modify how to draw the labels for
cases marked (based on arguments
such as <code>cutoff_x_low</code> or <code>largest_x</code>).
Default is <code>list()</code> and internal
default settings will be used.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This index plot function
is for plotting any measure of
influence or extremeness in a matrix.
It can be used for measures not supported
with other functions.
</p>
<p>Like functions such as <code>gcd_plot()</code>
and <code>est_change_plot()</code>, it supports
labelling cases based on the values
on the selected measure
(originaL values or absolute values).
</p>
<p>Users can also plot cases based on
the absolute values. This is useful
when cases are to be compared on
magnitude, ignoring the sign.
</p>


<h3>Value</h3>

<p>A ggplot2 plot. Plotted by
default. If assigned to a variable
or called inside a function, it will
not be plotted. Use <code>plot()</code> to
plot it.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>.
</p>


<h3>See Also</h3>

<p><code>influence_stat()</code>, <code>est_change()</code>,
<code>est_change_raw()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(lavaan)
dat &lt;- pa_dat
# The model
mod &lt;-
"
m1 ~ a1 * iv1 + a2 * iv2
dv ~ b * m1
a1b := a1 * b
a2b := a2 * b
"
# Fit the model
fit &lt;- lavaan::sem(mod, dat)
summary(fit)

# --- Leave-One-Out Approach

# Fit the model n times. Each time with one case removed.
# For illustration, do this only for selected cases.
fit_rerun &lt;- lavaan_rerun(fit, parallel = FALSE,
                          to_rerun = 1:10)
# Get all default influence stats
out &lt;- influence_stat(fit_rerun)

# Plot case influence on chi-square. Label the 3 cases with the influence.
index_plot(out, "chisq", largest_x = 3)

# Plot absolute case influence on chi-square.
index_plot(out, "chisq", absolute = TRUE)

</code></pre>


</div>