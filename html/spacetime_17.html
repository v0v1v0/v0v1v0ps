<div class="container">

<table style="width: 100%;"><tr>
<td>STTDF-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class "STTDF"</h2>

<h3>Description</h3>

<p> A class for spatio-temporal trajectory data </p>


<h3>Usage</h3>

<pre><code class="language-R">  ## S4 method for signature 'STTDF,ltraj'
coerce(from, to, strict=TRUE)
  ## S4 method for signature 'ltraj,STTDF'
coerce(from, to, strict=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>from object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to</code></td>
<td>
<p>target class</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>
<p>ignored</p>
</td>
</tr>
</table>
<h3>Objects from the Class</h3>

<p>Objects of this class carry sparse (irregular) space/time data </p>


<h3>Slots</h3>


<dl>
<dt>
<code>sp</code>:</dt>
<dd>
<p>Object of class <code>"Spatial"</code>, containing the bounding
box of all trajectories</p>
</dd>
<dt>
<code>time</code>:</dt>
<dd>
<p>Object of class <code>"xts"</code>, containing the temporal 
bounding box of all trajectories</p>
</dd>
<dt>
<code>traj</code>:</dt>
<dd>
<p>Object of class <code>list</code>, each element holding
an STI object reflecting a single trajectory; </p>
</dd>
<dt>
<code>data</code>:</dt>
<dd>
<p>Object of class <code>data.frame</code>, which holds
the data values for each feature in each trajectory </p>
</dd>
</dl>
<h3>Methods</h3>


<dl>
<dt>[</dt>
<dd>
<p><code>signature(x = "STTDF")</code>: select trajectories, based
on index, or spatial and/or temporal predicates </p>
</dd> 
</dl>
<h3>Note</h3>

<p> The <code>data.frame</code> needs to have a column called
<code>burst</code> which is a factor (or character) and contains the
grouping of observations that come from a continuous sequence of
observations. In addition, a column <code>id</code> is used to identify
individual items. </p>


<h3>Author(s)</h3>

<p> Edzer Pebesma, <a href="mailto:edzer.pebesma@uni-muenster.de">edzer.pebesma@uni-muenster.de</a> </p>


<h3>References</h3>

<p> https://www.jstatsoft.org/v51/i07/ </p>


<h3>Examples</h3>

<pre><code class="language-R">library(sp)
m = 3# nr of trajectories
n = 100 # length of each
l = vector("list", m)
t0 = as.POSIXct("2013-05-05",tz="GMT")
set.seed(1331) # fix randomness
for (i in 1:m) {
    x = cumsum(rnorm(n))
    y = cumsum(rnorm(n))
    sp = SpatialPoints(cbind(x,y))
    #t = t0 + (0:(n-1) + (i-1)*n) * 60
    t = t0 + (0:(n-1) + (i-1)*n/2) * 60
    l[[i]] = STI(sp, t)
}
stt= STT(l)
sttdf = STTDF(stt, data.frame(attr = rnorm(n*m), id = paste("ID", rep(1:m, each=n))))
x = as(stt, "STI")
stplot(sttdf, col=1:m, scales=list(draw=TRUE))
stplot(sttdf, by = "id")
stplot(sttdf[1])
stplot(sttdf[1])

# select a trajectory that intersect with a polygon
p = Polygon(cbind(x=c(-20,-15,-15,-20,-20),y=c(10,10,15,15,10)))
pol=SpatialPolygons(list(Polygons(list(p), "ID")))
#if (require(rgeos)) {
#  stplot(sttdf[pol])
#  names(sttdf[pol]@traj)
#  stplot(sttdf[1:2],col=1:2)
#  stplot(sttdf[,t0])
#  stplot(sttdf[,"2013"])
#  stplot(sttdf[pol,"2013"])
#  is.null(sttdf[pol,t0])
#}

</code></pre>


</div>