<div class="container">

<table style="width: 100%;"><tr>
<td>splitstackshape-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>splitstackshape</h2>

<h3>Description</h3>

<p>Stack and Reshape Datasets After Splitting Concatenated Values
</p>


<h3>Details</h3>


<table>
<tr>
<td style="text-align: left;"> Package: </td>
<td style="text-align: left;"> splitstackshape</td>
</tr>
<tr>
<td style="text-align: left;"> Type: </td>
<td style="text-align: left;"> Package</td>
</tr>
<tr>
<td style="text-align: left;">
Version: </td>
<td style="text-align: left;"> 1.4.8</td>
</tr>
<tr>
<td style="text-align: left;"> Date: </td>
<td style="text-align: left;"> 2019-04-21</td>
</tr>
<tr>
<td style="text-align: left;"> License: </td>
<td style="text-align: left;"> GPL-3</td>
</tr>
<tr>
<td style="text-align: left;"> </td>
</tr>
</table>
<p>Online data collection tools like Google Forms often export multiple-response
questions with data concatenated in cells. The <code>concat.split()</code> family of
functions splits such data into separate cells. The package also includes
functions to <em>stack</em> groups of columns and to <em>reshape</em> wide data, even when
the data are "unbalanced"â€”something which <code>stats::reshape()</code> does not handle,
and which <code>reshape2::melt()</code> and <code>reshape2::dcast()</code> from <em>reshape2</em> do not
easily handle.
</p>


<h3>Author(s)</h3>

<p>Ananda Mahto
</p>
<p>Maintainer: Ananda Mahto <a href="mailto:mrdwab@gmail.com">mrdwab@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## concat.split
head(cSplit(concat.test, "Likes", drop = TRUE))

## Reshape
set.seed(1)
mydf &lt;- data.frame(id_1 = 1:6, id_2 = c("A", "B"), varA.1 = sample(letters, 6),
                   varA.2 = sample(letters, 6), varA.3 = sample(letters, 6),
                   varB.2 = sample(10, 6), varB.3 = sample(10, 6), 
                   varC.3 = rnorm(6))
mydf
Reshape(mydf, id.vars = c("id_1", "id_2"),
        var.stubs = c("varA", "varB", "varC"))

## Stacked
Stacked(data = mydf, id.vars = c("id_1", "id_2"),
        var.stubs = c("varA", "varB", "varC"),
        sep = ".")
## Not run: 
## Processing times
set.seed(1)
Nrow &lt;- 1000000
Ncol &lt;- 10
mybigdf &lt;- cbind(id = 1:Nrow, as.data.frame(matrix(rnorm(Nrow*Ncol),
                                                   nrow=Nrow)))
head(mybigdf)
dim(mybigdf)
tail(mybigdf)
A &lt;- names(mybigdf)
names(mybigdf) &lt;- c("id", paste("varA", 1:3, sep = "_"),
                    paste("varB", 1:4, sep = "_"),
                    paste("varC", 1:3, sep = "_"))
system.time({
   O1 &lt;- Reshape(mybigdf, id.vars = "id",
   var.stubs = c("varA", "varB", "varC"), sep = "_")
   O1 &lt;- O1[order(O1$id, O1$time), ]
})
system.time({
   O2 &lt;- merged.stack(mybigdf, id.vars="id",
   var.stubs=c("varA", "varB", "varC"), sep = "_")
})
system.time({
   O3 &lt;- Stacked(mybigdf, id.vars="id",
   var.stubs=c("varA", "varB", "varC"), sep = "_")
})
DT &lt;- data.table(mybigdf)
system.time({
   O4 &lt;- merged.stack(DT, id.vars="id",
   var.stubs=c("varA", "varB", "varC"), sep = "_")
})

## End(Not run)

</code></pre>


</div>