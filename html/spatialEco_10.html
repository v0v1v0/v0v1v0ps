<div class="container">

<table style="width: 100%;"><tr>
<td>cgls_urls</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Provide URL's for Copernicus Global Land Service datasets</h2>

<h3>Description</h3>

<p>Returns URL's of a product/version/resolution
</p>


<h3>Usage</h3>

<pre><code class="language-R">cgls_urls(
  dates = NULL,
  resolution = c(1000, 300),
  product = c("fapar", "fcover", "lai", "ndvi"),
  ver = c("newest", "v1", "v2", "v3")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dates</code></td>
<td>
<p>Dates to subset default is NULL, returns all products</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resolution</code></td>
<td>
<p>The product resolution c("1km", "300m"),</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>product</code></td>
<td>
<p>Which product to query options are "fapar",</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ver</code></td>
<td>
<p>Product version options are "newest", "v1", "v2", "v3"</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Provides a query of the ESA's Copernicus Global Land Service global
The query is performed on the manifest files and return URL's
however, to download data you will need login credentials which,
can be acquired from: http://land.copernicus.eu
</p>
<p>If provided, dates need to be in a "YYYY-MM-DD" format. The dates
are an explicit search string and can contain dates that are not in
the imagery. As such, the user should generate a daily date string
representing the range of the desired download as not to have to
guess the available dates. Also note that multiple processing versions
of a given image are retained in the manifest. This means that if you
download a previous processing version, it could be an invalid image.
It is highly recommended that you do not change the default
ver="newest" argument unless there is a specific reason to.
</p>
<p>Available products
</p>

<ul>
<li>
<p> fapar    Fraction of photosynthetically active radiation
absorbed by the vegetation
</p>
</li>
<li>
<p> fcover   Fraction of green vegetation cover
</p>
</li>
<li>
<p> lai      Leaf Area index
</p>
</li>
<li>
<p> ndvi     Normalized Difference Vegetation Index
</p>
</li>
</ul>
<p>Not yet implemented; Soil Water Index, Surface Soil Moisture, and Land Surface Temperature.
</p>


<h3>Value</h3>

<p>A vector of download URL's for the products
</p>


<h3>Author(s)</h3>

<p>Jeffrey S. Evans  <a href="mailto:jeffrey_evans@tnc.org">jeffrey_evans@tnc.org</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Create date string for query
d &lt;- seq(as.Date("2020/05/01"), as.Date("2020-09-01"), by="day")

# Search for 300m (333m) LAI within specified date range 
( dates.lai &lt;- cgls_urls(dates = d, resolution = 300, 
                        product = "lai") )

# Return all 300m LAI 
all.lai &lt;- cgls_urls(resolution = 300, product = "lai")
  nrow(all.lai)


## Not run: 						 
# Example for downloading URL's
# You need to define your login credentials to download data
#   username = "xxxx"  
#   password = "xxxx" 
  
  for(i in 1:length(dates.lai)){
    if(i &gt; 1){ Sys.sleep(3) }
    file.url &lt;- paste0("https://", paste(username, password, sep=":"), "@", 
                       sub(".*//", "", dates.lai[i]))  
      download.file(file.url, file.path(tempdir(), 
                    basename(dates.lai[i])), mode = 'wb') 
  }

## End(Not run)

</code></pre>


</div>