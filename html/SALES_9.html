<div class="container">

<table style="width: 100%;"><tr>
<td>cv.cpernet</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cross-validation for cpernet</h2>

<h3>Description</h3>

<p>Does k-fold cross-validation for <code>cpernet</code>, produces a plot, and returns
a value for <code>lambda</code>. This function is based on the <code>cv</code> function
from the <code>glmnet</code> package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cv.cpernet(
  x,
  y,
  w = 1,
  lambda = NULL,
  pred.loss = "loss",
  nfolds = 5,
  foldid,
  tau = 0.8,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>x</code> matrix as in <code>cpernet</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>response variable <code>y</code> as in <code>cpernet</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>weight applied to the asymmetric squared error loss of the mean
part. Default is 1.0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>optional user-supplied lambda sequence; default is <code>NULL</code>,
and <code>cpernet</code> chooses its own sequence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pred.loss</code></td>
<td>
<p>loss function used to calculate cross-validation error. The
only option now is <code>"loss"</code>, which is the asymmetric squared error
loss (ASEL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfolds</code></td>
<td>
<p>number of folds. Default value is 5. Although <code>nfolds</code> can
be as large as the sample size (leave-one-out CV), it is not recommended
for large datasets. Smallest value allowed is 3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>foldid</code></td>
<td>
<p>an optional vector of values between 1 and <code>nfolds</code>,
identifying what fold each observation is in. If supplied, <code>nfolds</code>
will be supressed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau</code></td>
<td>
<p>the asymmetry coefficient <code class="reqn">\tau</code> used in the asymmetric
squared error loss.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments that can be passed to cpernet.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function runs <code>cpernet</code> <code>nfolds</code>+1 times. The
first gets the <code>lambda</code> sequence, and the remainder fits the model
with each of the folds removed. The average error and standard deviation
over the folds are computed.
</p>


<h3>Value</h3>

<p>an object of class <code>cv.cpernet</code> is returned, which is a
list with the ingredients of the cross-validation fit.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>the values of <code>lambda</code> used in the fits.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cvm</code></td>
<td>
<p>the mean cross-validated error - a vector of length
<code>length(lambda)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cvsd</code></td>
<td>
<p>estimate of standard error of <code>cvm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cvupper</code></td>
<td>
<p>upper curve = <code>cvm+cvsd</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cvlower</code></td>
<td>
<p>lower curve = <code>cvm-cvsd</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nzero</code></td>
<td>
<p>a list of two components, each representing the number of
non-zero coefficients at each <code>lambda</code> in the mean and scale part.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>a text string indicating type of measure (for plotting
purposes).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cpernet.fit</code></td>
<td>
<p>a fitted <code>cpernet</code> object for the full
data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.min</code></td>
<td>
<p>The optimal value of <code>lambda</code> that gives minimum
cross validation error <code>cvm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.1se</code></td>
<td>
<p>The largest value of <code>lambda</code> such that error is
within 1 standard error of the minimum.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Yuwen Gu and Hui Zou<br></p>
<p>Maintainer: Yuwen Gu &lt;yuwen.gu@uconn.edu&gt;
</p>


<h3>See Also</h3>

<p><code>cpernet</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
set.seed(1)
n &lt;- 100
p &lt;- 400
x &lt;- matrix(rnorm(n * p), n, p)
y &lt;- rnorm(n)
tau &lt;- 0.30
pf &lt;- abs(rnorm(p))
pf2 &lt;- abs(rnorm(p))
w &lt;- 2.0
lambda2 &lt;- 1
m2.cv &lt;- cv.cpernet(y = y, x = x, w = w, tau = tau, eps = 1e-8,
                    pf.mean = pf, pf.scale = pf2,
                    standardize = FALSE, lambda2 = lambda2)

</code></pre>


</div>