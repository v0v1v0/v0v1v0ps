<div class="container">

<table style="width: 100%;"><tr>
<td>matrix_table</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a table of frequencies and counts for matrix questions</h2>

<h3>Description</h3>

<p>This function creates a table showing percentages and counts for each
response option in a multiple-choice question, specified by <code>question</code>. If
grouping is provided with <code>group_by</code>, the table is extended to include
subgroups. Subgroups can be excluded, and survey weights are supported for
adjusted counts. The table is formatted for clarity and can be displayed in
wide format. When weights are used, counts are presented as percentages only,
and a note is added at the bottom of the table.
</p>


<h3>Usage</h3>

<pre><code class="language-R">matrix_table(
  dataset,
  question,
  group_by = NULL,
  subgroups_to_exclude = NULL,
  weights = NULL,
  na.rm = FALSE,
  column_order = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataset</code></td>
<td>
<p>The input dataframe (or tibble) of survey questions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>question</code></td>
<td>
<p>The columns that contain each of the response options for a
question, can be selected by using <strong>tidyselect</strong> semanatics or providing a
vector of column names or numbers</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_by</code></td>
<td>
<p>Optional variable to group the analysis. If provided, the
frequencies and counts will be calculated within each subgroup.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subgroups_to_exclude</code></td>
<td>
<p>Optional vector specifying subgroups to exclude
from the analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>Optional variable containing survey weights. If provided,
frequencies and counts will be weighted accordingly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>Logical indicating whether to remove NA values from <code>question</code>
before analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>column_order</code></td>
<td>
<p>reorder columns of final table with an argument to pass to <code>dplyr::relocate()</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A gt table summarizing percentages and counts for each response
option in the specified multiple-choice question. If grouping is provided,
the table includes subgroups and is formatted for clarity.
</p>
<p>@examples
#Array question (1-5)
matrix_table(berlinbears, dplyr::starts_with('p_'))
</p>
<p>#Use <code>group_by</code> to partition the question into several groups
matrix_table(berlinbears, dplyr::starts_with('p_'), group_by = species,
subgroups_to_exclude = 'panda bear' )
</p>
<p>#Remove NA category
matrix_table(berlinbears, dplyr::starts_with('p_'), group_by = species,
subgroups_to_exclude = 'panda bear', na.rm = TRUE
</p>
<p>#Categorical input
matrix_table(berlinbears, dplyr::starts_with('c_'), group_by = is_parent)
</p>


<h3>See Also</h3>

<p>Other matrix questions: 
<code>matrix_freq()</code>,
<code>matrix_likert()</code>,
<code>matrix_mean()</code>
</p>


</div>