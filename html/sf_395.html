<div class="container">

<table style="width: 100%;"><tr>
<td>st_transform</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Transform or convert coordinates of simple feature</h2>

<h3>Description</h3>

<p>Transform or convert coordinates of simple feature
</p>


<h3>Usage</h3>

<pre><code class="language-R">st_can_transform(src, dst)

st_transform(x, crs, ...)

## S3 method for class 'sfc'
st_transform(
  x,
  crs = st_crs(x),
  ...,
  aoi = numeric(0),
  pipeline = character(0),
  reverse = FALSE,
  desired_accuracy = -1,
  allow_ballpark = TRUE,
  partial = TRUE,
  check = FALSE
)

## S3 method for class 'sf'
st_transform(x, crs = st_crs(x), ...)

## S3 method for class 'sfg'
st_transform(x, crs = st_crs(x), ...)

## S3 method for class 'bbox'
st_transform(x, crs, ..., densify = 21)

st_wrap_dateline(x, options, quiet)

## S3 method for class 'sfc'
st_wrap_dateline(x, options = "WRAPDATELINE=YES", quiet = TRUE)

## S3 method for class 'sf'
st_wrap_dateline(x, options = "WRAPDATELINE=YES", quiet = TRUE)

## S3 method for class 'sfg'
st_wrap_dateline(x, options = "WRAPDATELINE=YES", quiet = TRUE)

sf_proj_info(type = "proj", path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>src</code></td>
<td>
<p>source crs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dst</code></td>
<td>
<p>destination crs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>object of class sf, sfc or sfg</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crs</code></td>
<td>
<p>target coordinate reference system: object of class <code>crs</code>, or input string for st_crs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>ignored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aoi</code></td>
<td>
<p>area of interest, in degrees:
WestLongitude, SouthLatitude, EastLongitude, NorthLatitude</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pipeline</code></td>
<td>
<p>character; coordinate operation pipeline, for overriding the default operation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reverse</code></td>
<td>
<p>boolean; has only an effect when <code>pipeline</code> is defined:
if <code>TRUE</code>, the inverse operation of the pipeline is applied</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>desired_accuracy</code></td>
<td>
<p>numeric; Only coordinate operations that offer an accuracy of
at least the one specified will be considered; a negative value disables this feature
(requires GDAL &gt;= 3.3)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_ballpark</code></td>
<td>
<p>logical; are ballpark (low accuracy) transformations allowed?
(requires GDAL &gt;= 3.3)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>partial</code></td>
<td>
<p>logical; allow for partial projection, if not all points of a geometry can be projected (corresponds to setting environment variable <code>OGR_ENABLE_PARTIAL_REPROJECTION</code> to <code>TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>logical; if <code>TRUE</code>, perform a sanity check on resulting polygons</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>densify</code></td>
<td>
<p>integer, number of points for discretizing lines between bounding box corner points; see Details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>
<p>character; should have "WRAPDATELINE=YES" to function; another parameter that is used is "DATELINEOFFSET=10" (where 10 is the default value)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>logical; print options after they have been parsed?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>character; one of <code>have_datum_files</code>, <code>proj</code>, <code>ellps</code>, <code>datum</code>, <code>units</code>, <code>path</code>, or <code>prime_meridians</code>; see Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>character; PROJ search path to be set</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>st_can_transform</code> returns a boolean indicating whether
coordinates with CRS src can be transformed into CRS dst
</p>
<p>Transforms coordinates of object to new projection.
Features that cannot be transformed are returned as empty geometries.
Transforms using the <code>pipeline=</code> argument may fail if there is
ambiguity in the axis order of the specified coordinate reference system;
if you need the traditional GIS order, use <code>"OGC:CRS84"</code>, not
<code>"EPSG:4326"</code>. Extra care is needed with the ESRI Shapefile format,
because WKT1 does not store axis order unambiguously.
</p>
<p>The <code>st_transform</code> method for <code>sfg</code> objects assumes that the CRS of the object is available as an attribute of that name.
</p>
<p>the method for <code>bbox</code> objects densifies lines for geographic coordinates along Cartesian lines, not great circle arcs
</p>
<p>For a discussion of using <code>options</code>, see <a href="https://github.com/r-spatial/sf/issues/280">https://github.com/r-spatial/sf/issues/280</a> and <a href="https://github.com/r-spatial/sf/issues/1983">https://github.com/r-spatial/sf/issues/1983</a>
</p>
<p><code>sf_proj_info</code> lists the available projections, ellipses, datums, units, or data search path of the PROJ library when <code>type</code> is equal to proj, ellps, datum, units or path; when <code>type</code> equals <code>have_datum_files</code> a boolean is returned indicating whether datum files are installed and accessible (checking for <code>conus</code>). <code>path</code> returns the <code>PROJ_INFO.searchpath</code> field directly, as a single string with path separaters (<code>:</code>  or <code style="white-space: pre;">⁠;⁠</code>).
</p>
<p>for PROJ &gt;= 6, <code>sf_proj_info</code> does not provide option <code>type = "datums"</code>.
PROJ &lt; 6 does not provide the option <code>type = "prime_meridians"</code>.
</p>
<p>for PROJ &gt;= 7.1.0, the "units" query of <code>sf_proj_info</code> returns the <code>to_meter</code>
variable as numeric, previous versions return a character vector containing a numeric expression.
</p>


<h3>See Also</h3>

<p>st_transform_proj, part of package lwgeom.
</p>
<p>sf_project projects a matrix of coordinates, bypassing GDAL altogether
</p>
<p>st_break_antimeridian
</p>


<h3>Examples</h3>

<pre><code class="language-R">p1 = st_point(c(7,52))
p2 = st_point(c(-30,20))
sfc = st_sfc(p1, p2, crs = 4326)
sfc
st_transform(sfc, 3857)
st_transform(st_sf(a=2:1, geom=sfc), "EPSG:3857")
if (sf_extSoftVersion()["GDAL"] &gt;= "3.0.0") {
  st_transform(sfc, pipeline =
	  "+proj=pipeline +step +proj=axisswap +order=2,1") # reverse axes
  st_transform(sfc, pipeline =
	  "+proj=pipeline +step +proj=axisswap +order=2,1", reverse = TRUE) # also reverse axes
}
nc = st_read(system.file("shape/nc.shp", package="sf"))
st_area(nc[1,]) # area from long/lat
st_area(st_transform(nc[1,], 32119)) # NC state plane, m
st_area(st_transform(nc[1,], 2264)) # NC state plane, US foot
library(units)
set_units(st_area(st_transform(nc[1,], 2264)), m^2)
st_transform(structure(p1, proj4string = "EPSG:4326"), "EPSG:3857")
st_wrap_dateline(st_sfc(st_linestring(rbind(c(-179,0),c(179,0))), crs = 4326))
sf_proj_info("datum")
</code></pre>


</div>