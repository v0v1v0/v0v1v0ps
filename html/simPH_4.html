<div class="container">

<table style="width: 100%;"><tr>
<td>coxsimLinear</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate quantities of interest for covariates from Cox Proportional Hazards
models that are not interacted with time or nonlinearly transformed</h2>

<h3>Description</h3>

<p>Simulates relative hazards, first differences, hazard ratios,
and hazard rates for linear, non-time interacted covariates from Cox
Proportional Hazard models. These can be plotted with <code>simGG</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">coxsimLinear(
  obj,
  b,
  qi = "Relative Hazard",
  Xj = NULL,
  Xl = NULL,
  means = FALSE,
  nsim = 1000,
  ci = 0.95,
  spin = FALSE,
  extremesDrop = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>a <code>coxph</code> class fitted model object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>character string name of the coefficient you would like to simulate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qi</code></td>
<td>
<p>quantity of interest to simulate. Values can be
<code>"Relative Hazard"</code>, <code>"First Difference"</code>, <code>"Hazard Ratio"</code>,
and <code>"Hazard Rate"</code>. The default is <code>qi = "Relative Hazard"</code>. If
<code>qi = "Hazard Rate"</code> and the <code>coxph</code> model has strata, then hazard
rates for each strata will also be calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Xj</code></td>
<td>
<p>numeric vector of fitted values for <code>b</code> to simulate for.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Xl</code></td>
<td>
<p>numeric vector of values to compare <code>Xj</code> to. Note if
<code>code = "Relative Hazard"</code> only <code>Xj</code> is relevant.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>means</code></td>
<td>
<p>logical, whether or not to use the mean values to fit the
hazard rate for covaraiates other than <code>b</code>. Note: EXPERIMENTAL.
<code>lines</code> are not currently supported in <code>simGG</code> if
<code>means = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>the number of simulations to run per value of X. Default is
<code>nsim = 1000</code>. Note: it does not currently support models that include
polynomials created by <code>I</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p>the proportion of simulations to keep. The default is
<code>ci = 0.95</code>, i.e. keep the middle 95 percent. If <code>spin = TRUE</code>
then <code>ci</code> is the confidence level of the shortest probability interval.
Any value from 0 through 1 may be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spin</code></td>
<td>
<p>logical, whether or not to keep only the shortest probability
interval rather than the middle simulations. Currently not supported for
Hazard Rates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extremesDrop</code></td>
<td>
<p>logical whether or not to drop simulated quantity of
interest values that are <code>Inf</code>, <code>NA</code>, <code>NaN</code> and
<code class="reqn">&gt; 1000000</code> for <code>spin = FALSE</code> or <code class="reqn">&gt; 800</code> for
<code>spin = TRUE</code>. These values are difficult to plot <code>simGG</code>
and may prevent <code>spin</code> from finding the central interval.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>coxsimLinear</code> simulates relative hazards, first differences, and
hazard ratios for linear covariates that are not interacted with time or
nonlinearly transformed from models estimated with <code>coxph</code> using
the multivariate normal distribution. These can be plotted with
<code>simGG</code>.
</p>


<h3>Value</h3>

<p>a <code>simlinear</code>, <code>coxsim</code> object
</p>


<h3>References</h3>

<p>Gandrud, Christopher. 2015. simPH: An R Package for Illustrating
Estimates from Cox Proportional Hazard Models Including for Interactive and
Nonlinear Effects. Journal of Statistical Software. 65(3)1-20.
</p>
<p>Licht, Amanda A. 2011. ”Change Comes with Time: Substantive
Interpretation of Nonproportional Hazards in Event History Analysis.”
Political Analysis 19: 227-43.
</p>
<p>King, Gary, Michael Tomz, and Jason Wittenberg. 2000. ”Making the Most of
Statistical Analyses: Improving Interpretation and Presentation.” American
Journal of Political Science 44(2): 347-61.
</p>
<p>Liu, Ying, Andrew Gelman, and Tian Zheng. 2013. ”Simulation-Efficient
Shortest Probability Intervals.” Arvix.
<a href="https://arxiv.org/pdf/1302.2142v1.pdf">https://arxiv.org/pdf/1302.2142v1.pdf</a>.
</p>


<h3>See Also</h3>

<p><code>simGG.simlinear</code>, <code>survival</code>,
<code>strata</code>, and <code>coxph</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load Carpenter (2002) data
data("CarpenterFdaData")

# Load survival package
library(survival)

# Run basic model
M1 &lt;- coxph(Surv(acttime, censor) ~ prevgenx + lethal +
            deathrt1 + acutediz + hosp01  + hhosleng +
            mandiz01 + femdiz01 + peddiz01 + orphdum +
            vandavg3 + wpnoavg3 + condavg3 + orderent +
            stafcder, data = CarpenterFdaData)

# Simulate Hazard Ratios
Sim1 &lt;- coxsimLinear(M1, b = "stafcder",
                     Xj = c(1237, 1600),
                     Xl = c(1000, 1000),
                     qi = "Hazard Ratio",
                     spin = TRUE, ci = 0.99)

## Not run: 
# Simulate Hazard Rates
Sim2 &lt;- coxsimLinear(M1, b = "stafcder",
                      Xj = 1237,
                      ci = 0.99)

## End(Not run)

</code></pre>


</div>