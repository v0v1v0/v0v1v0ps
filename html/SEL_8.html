<div class="container">

<table style="width: 100%;"><tr>
<td>getbinPost</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Calculate posterior distribution for binomial model </h2>

<h3>Description</h3>

<p>Calculate posterior distribution for the simple beta-binomial model
</p>


<h3>Usage</h3>

<pre><code class="language-R">  getbinPost(x, object, k, n, type = c("density", "cdf"),
             rel.tol = .Machine$double.eps^0.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> Vector specifying, where posterior distribution should be evaluated. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p> An SEL object. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p> Number of observed successes in the binomial model. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p> Number of total trials. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p> Character specifying, whether posterior density or cdf
should be evaluated. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rel.tol</code></td>
<td>
 <p><code>rel.tol</code> argument of the integrate subroutine,
which numerically calculates the normalization constant, when a
non-conjugate prior is used (ie a B-spline basis not leading to a
Bernstein mixture).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Numeric containing the function values corresponding to x values
</p>


<h3>Author(s)</h3>

<p> Bjoern Bornkamp </p>


<h3>References</h3>

 
<p>Bornkamp, B. and Ickstadt, K. (2009). A Note on B-Splines for
Semiparametric Elicitation. <em>The American Statistician</em>,
<b>63</b>, 373–377
</p>
<p>Diaconis, P., and Ylvisaker, D. (1985),
Quantifying Prior Opinion, <em>Bayesian Statistics 2</em>,
(eds.) J.M. Bernardo, M.H. DeGroot, D.V. Lindley and A.F.M. Smith,
Elsevier Science Publishers B.V., Amsterdam, pp. 133–156.
</p>


<h3>See Also</h3>

 <p><code>SEL</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## Diaconis, Ylvisaker spun coin example (see references)
## simulate elicitations
x &lt;- seq(0, 1, length=9)[2:8]
ymu &lt;- 0.5*pbeta(x, 10, 20)+0.5*pbeta(x, 20, 10)
sig &lt;- 0.05
set.seed(4)
y &lt;- ymu+rnorm(7, 0, sqrt(ymu*(1-ymu))*sig)

## perform fitting with different selections
A &lt;- SEL(x, y, d = 1, Delta = 0.001, inknts = x)
foo1 &lt;- function(x) dbeta(x, 0.5, 0.5)
B &lt;- SEL(x, y, d = 19, N=0, Delta = 0.02, pistar = foo1)
C &lt;- SEL(x, y, d = 19, N=0, Delta = 0.05, pistar = foo1)
comparePlot(A, B, C, addArgs = list(layout = c(3,1)))

## posterior
sq &lt;- seq(0,1,length=201)
res1 &lt;- getbinPost(sq, A, 3, 10, type = "density")
res2 &lt;- getbinPost(sq, B, 3, 10, type = "density")
res3 &lt;- getbinPost(sq, C, 3, 10, type = "density")

## parametric posterior (corresponding to B(0.5,0.5) prior)
plot(sq, dbeta(sq, 3.5, 7.5), type="l", xlab = "",
     ylab = "Posterior density", lty = 4,
     ylim=c(0,max(c(res1, res2, res3))))
## "semiparametric" posteriors
lines(sq, res1, lty = 1)
lines(sq, res2, lty = 2)
lines(sq, res3, lty = 3)
legend(0.65,4, legend=c("Scenario A", "Scenario B", "Scenario C",
       "B(0.5,0.5) prior"), lty = 1:4)
</code></pre>


</div>