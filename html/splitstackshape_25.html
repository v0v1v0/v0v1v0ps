<div class="container">

<table style="width: 100%;"><tr>
<td>Stacked</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Stack Columns from a Wide Form to a Long Form</h2>

<h3>Description</h3>

<p>A function to conveniently stack groups of wide columns into a long form
which can then be <code>merge</code>d together.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Stacked(data, id.vars = NULL, var.stubs, sep, keep.all = TRUE,
  keyed = TRUE, keep.rownames = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The source <code>data.frame</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id.vars</code></td>
<td>
<p>The variables that serve as unique identifiers. Defaults to <code>NULL</code>, at which point, all names which are not identified as variable groups are used as the identifiers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var.stubs</code></td>
<td>
<p>The prefixes of the variable groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>The character that separates the "variable name" from the "times"
in the wide <code>data.frame</code>. Alternatively, can be set to
<code>"var.stubs"</code> (in quotes) if you do not have a value for <code>sep</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep.all</code></td>
<td>
<p>Logical. Should all the variables from the source
<code>data.frame</code> be kept (<code>keep.all = TRUE</code>) or should the resulting
<code>data.table</code> comprise only columns for
the <code>id.vars</code>, <code>var.stubs</code>, and "times" (<code>keep.all = FALSE</code>).
Other variables are <em>recycled</em> to appropriate length. For this to work,
both <code>id.vars</code> and <code>var.stubs</code> must be specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keyed</code></td>
<td>
<p>Logical. Should the <code>Stacked</code> function automatically set
the <code>key</code> for the resulting <code>data.table</code>s. If <code>TRUE</code>
(default) the <code>key</code> is set to the <code>id.vars</code> and the "time"
variables that are created by <code>Stacked</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep.rownames</code></td>
<td>
<p>Logical. Should rownames be kept when converting the input to a <code>data.table</code>? Defaults to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments to be passed on when <code>sep = "var.stubs"</code> (specifically, <code>atStart</code>: A logical argument to indicate whether the stubs come at the start or at the end of the variable names).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>list</code> of <code>data.table</code>s with one <code>data.table</code> for
each "var.stub". The <code>key</code> is set to the
<code>id.vars</code> and <code>.time_#</code> vars.
</p>


<h3>Note</h3>

<p>This is the function internally called by <code>merged.stack</code>.
</p>


<h3>Author(s)</h3>

<p>Ananda Mahto
</p>


<h3>See Also</h3>

<p><code>stack</code>, <code>melt</code> from
"reshape2".
</p>


<h3>Examples</h3>

<pre><code class="language-R">
set.seed(1)
mydf &lt;- data.frame(id_1 = 1:6, id_2 = c("A", "B"),
                   varA.1 = sample(letters, 6),
                   varA.2 = sample(letters, 6),
                   varA.3 = sample(letters, 6),
                   varB.2 = sample(10, 6),
                   varB.3 = sample(10, 6),
                   varC.3 = rnorm(6))
mydf
Stacked(data = mydf, var.stubs = c("varA", "varB", "varC"), sep = ".")



</code></pre>


</div>