<div class="container">

<table style="width: 100%;"><tr>
<td>plot_boot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Diagnostic Plots of Bootstrap Estimates in 'lavaan'</h2>

<h3>Description</h3>

<p>Plots for examining the
distribution of bootstrap estimates
in a model fitted by <code>lavaan</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_boot(
  object,
  param,
  standardized = NULL,
  nclass = NULL,
  hist_color = "lightgrey",
  hist_linewidth = 1,
  density_line_type = "solid",
  density_line_color = "blue",
  density_line_linewidth = 2,
  est_line_type = "dotted",
  est_line_color = "red",
  est_line_linewidth = 2,
  qq_dot_size = 2,
  qq_dot_color = "black",
  qq_dot_pch = 16,
  qq_line_linewidth = 2,
  qq_line_color = "black",
  qq_line_linetype = "solid"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A lavaan::lavaan
object with bootstrap estimates
stored. For standardized solution
and user-defined parameters, the
estimates need to be stored by
<code>store_boot_est_std()</code> or
<code>store_boot_def()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param</code></td>
<td>
<p>String. The name of
the parameter to be plotted, which
should be the name as appeared in
a call to <code>coef()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>standardized</code></td>
<td>
<p>Logical. Whether
the estimates from the standardized
solution are to be plotted. Default
is <code>NULL</code>. This is a required parameter
and users need to explicitly set it
to <code>TRUE</code> or <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nclass</code></td>
<td>
<p>The number of breaks.
This argument will be passed to
<code>hist()</code>. Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hist_color</code></td>
<td>
<p>String. The color of the
bars in the histogram. It will be
passed to <code>hist()</code> for the argument
<code>col</code>. Default is <code>"lightgrey"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hist_linewidth</code></td>
<td>
<p>The width of
the borders of the bars in the
histogram. Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>density_line_type</code></td>
<td>
<p>String.
The type of the line of the density
curve in the histogram. It will be
passed to <code>lines()</code> for the argument
<code>lty</code>. Default is
<code>"solid"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>density_line_color</code></td>
<td>
<p>String.
The color of the density curve in
the histogram. It will be
passed to <code>lines()</code> for the argument
<code>col</code>. Default is <code>"blue"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>density_line_linewidth</code></td>
<td>
<p>The width
of the density curve in the histogram.
It will be
passed to <code>lines()</code> for the argument
<code>lwd</code>.
Default is 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>est_line_type</code></td>
<td>
<p>String. The
type of the vertical line in the
histogram showing the point estimate
of the parameter. It will be
passed to <code>abline()</code> for the argument
<code>lty</code>. Default is
<code>"dotted"</code>,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>est_line_color</code></td>
<td>
<p>String. The
color of the vertical line showing
the point estimate in the histogram.
It will be
passed to <code>abline()</code> for the argument
<code>col</code>.
Default is <code>"red"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>est_line_linewidth</code></td>
<td>
<p>The width
of the vertical line showing the
point estimate in the histogram.
It will be
passed to <code>hist()</code> for the argument
<code>lwd</code>.  Default is 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qq_dot_size</code></td>
<td>
<p>The size of the
points in the normal QQ-plot.
It will be
passed to <code>qqnorm()</code> for the argument
<code>cex</code>. Default is 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qq_dot_color</code></td>
<td>
<p>String. The color
of the points in the normal QQ-plot.
It will be
passed to <code>qqnorm()</code> for the argument
<code>col</code>.
Default is <code>"black"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qq_dot_pch</code></td>
<td>
<p>Numeric. The shape
of the points in the normal QQ-plot.
It will be
passed to <code>qqnorm()</code> for the argument
<code>pch</code>. Default is 16.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qq_line_linewidth</code></td>
<td>
<p>The width
of the diagonal line to be drawn in
the normal QQ-plot.
It will be
passed to <code>qqline()</code> for the argument
<code>lwd</code>. Default is 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qq_line_color</code></td>
<td>
<p>String. The color
of the diagonal line to be drawn in
the normal QQ-plot.
It will be
passed to <code>qqline()</code> for the argument
<code>col</code>.
Default is <code>"black"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qq_line_linetype</code></td>
<td>
<p>The type of
the diagonal line to be drawn in the
normal QQ-plot. Default is <code>"solid"</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Rousselet, Pernet, and Wilcox (2021)
argued that when using bootstrapping,
it is necessary to examine the distribution
of bootstrap estimates. This can be
done when <code>boot::boot()</code> is used
because it has a <code>plot</code> method for
its output. This cannot be easily
done in model fitted by <code>lavaan::lavaan()</code>.
</p>
<p>The function <code>plot_boot()</code> is used for
plotting the distribution of bootstrap
estimates for a model fitted by
<code>lavaan</code> in a format similar to that
of the output of <code>boot::boot()</code>, with
a histogram on the left and a normal
QQ-plot on the right.
</p>
<p>For free parameters in a model
(unstandardized), it can be called
directly on the output of <code>lavaan</code>
and retrieves the stored estimates.
</p>
<p>For estimates of user-defined parameters,
call <code>store_boot_def()</code> first to compute
and store the bootstrap estimates
first.
</p>
<p>For estimates in standardized solution,
for both free and user-defined
parameters, call <code>store_boot_est_std()</code>
first to compute and store the bootstrap
estimates in the standardized solution.
</p>


<h3>Value</h3>

<p>Return the original
lavaan::lavaan object
invisibly. Called for its side-effect
(plotting the graphs).
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>References</h3>

<p>Rousselet, G. A., Pernet, C. R., &amp; Wilcox, R. R. (2021).
The percentile bootstrap: A primer with step-by-step
instructions in R.
<em>Advances in Methods and Practices in Psychological Science</em>,
<em>4</em>(1), 1â€“10. <a href="https://doi.org/10.1177/2515245920911881">doi:10.1177/2515245920911881</a>
</p>


<h3>See Also</h3>

<p><code>lavaan::fitMeasures()</code>, <code>store_boot_est_std()</code>,
and <code>store_boot_def()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(lavaan)

data(simple_mediation)
mod &lt;-
"
m ~ a * x
y ~ b * m + x
ab := a * b
"
fit &lt;- sem(mod, simple_mediation,
           se = "bootstrap",
           bootstrap = 50,
           iseed = 985714)

# Can plot bootstrap estimates for
# free parameters directly
# Note that 'standardized' must be always be set to
# either TRUE or FALSE. No default value.
plot_boot(fit, "a", standardized = FALSE)

# For estimates of user-defined parameters,
# call store_boot_def() first.
fit &lt;- store_boot_def(fit)
plot_boot(fit, "ab", standardized = FALSE)

# For estimates in standardized solution,
# call store_boot_est_std() first.
fit &lt;- store_boot_est_std(fit)
plot_boot(fit, "a", standardized = TRUE)
plot_boot(fit, "ab", standardized = TRUE)

</code></pre>


</div>