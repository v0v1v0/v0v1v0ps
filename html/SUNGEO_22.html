<div class="container">

<table style="width: 100%;"><tr>
<td>point2poly_simp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Point-to-polygon interpolation, simple overlay method</h2>

<h3>Description</h3>

<p>Function for assigning values from a source point layer to a destination polygon layer, using simple point-in-polygon overlays
</p>


<h3>Usage</h3>

<pre><code class="language-R">point2poly_simp(
  pointz,
  polyz,
  varz,
  char_varz = NULL,
  funz = list(function(x) {
     sum(x, na.rm = TRUE)
 }),
  na_val = NA,
  drop_na_cols = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pointz</code></td>
<td>
<p>Source points layer. <code>sf</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>polyz</code></td>
<td>
<p>Destination polygon layer. Must have identical CRS to <code>pointz</code>. <code>sf</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varz</code></td>
<td>
<p>Names of variable(s) to be assigned from source polygon layer to destination polygons. Character string or vector of character strings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>char_varz</code></td>
<td>
<p>Names of character string variable(s) in <code>varz</code>. Character string or vector of character strings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>funz</code></td>
<td>
<p>Aggregation function to be applied to variables specified in <code>varz</code>. Must take as an input a vector <code>x</code>. Function or list of functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_val</code></td>
<td>
<p>Value to be assigned to missing values. Defaul is <code>NA</code>. Logical or list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop_na_cols</code></td>
<td>
<p>Drop columns with completely missing values. Defaul is <code>FALSE</code>. Logical.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Assignment procedures are the same for numeric and character string variables. All variables supplied in <code>varz</code> are passed directly to the function specified in <code>funz</code>. If different sets of variables are to be aggregated with different functions, both <code>varz</code> and <code>funz</code> should be specified as lists (see examples below).
</p>


<h3>Value</h3>

<p>Returns a <code>sf</code> polygon object, with variables from <code>pointz</code> assigned to the geometries of <code>polyz</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Assignment of a single variable (sums)
## Not run: 
data(hex_05_deu)
data(clea_deu2009_pt)
out_1 &lt;- point2poly_simp(pointz=clea_deu2009_pt,
                         polyz=hex_05_deu,
                         varz="vv1")
plot(out_1["vv1"])

## End(Not run)

# Replace NA's with 0's
## Not run: 
out_2 &lt;- point2poly_simp(pointz = clea_deu2009_pt,
                         polyz = hex_05_deu,
                         varz = "vv1",
                         na_val = 0)
plot(out_2["vv1"])

## End(Not run)

# Multiple variables, with different assignment functions
## Not run: 
out_3 &lt;- point2poly_simp(pointz = clea_deu2009_pt,
                         polyz = hex_05_deu,
                         varz = list(
                           c("to1","pvs1_margin"),
                           c("vv1"),
                           c("incumb_pty_n","win1_pty_n")),
                         funz = list(
                           function(x){mean(x,na.rm=TRUE)},
                           function(x){sum(x,na.rm=TRUE)},
                           function(x){paste0(unique(na.omit(x)),collapse=" | ") }),
                         na_val = list(NA_real_,0,NA_character_))

## End(Not run)
</code></pre>


</div>