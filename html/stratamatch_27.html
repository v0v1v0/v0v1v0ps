<div class="container">

<table style="width: 100%;"><tr>
<td>make_match_distances</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Make match distances within strata</h2>

<h3>Description</h3>

<p>Makes the match distance with strata specifications for <code>strata_match</code>.
This function is largely unecessary to call outside of stratamatch, but it is
exported for the benefit of the user to aid in debugging.  Note that this 
function requires that the R package <code>optmatch</code> is installed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_match_distances(object, model, method)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a strata object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>(optional) formula for matching.  If left blank, <em>all</em>
columns of the analysis set in <code>object</code> will be used as covariates in
the propensity model or mahalanobis match (except outcome, treatment and
stratum)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>either "prop" for propensity score matching based on a glm fit
with model <code>model</code>, or "mahal" for mahalanobis distance matching by
the covariates in <code>model</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a match distance matrix for optmatch
</p>


<h3>See Also</h3>

<p><a href="https://cran.r-project.org/package=optmatch">https://cran.r-project.org/package=optmatch</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
dat &lt;- make_sample_data(n = 75)

# stratify with auto_stratify
a.strat &lt;- auto_stratify(dat, "treat", outcome ~ X2, size = 25)

# make match distances.  Requires optmatch package to be installed.

md &lt;- make_match_distances(a.strat, treat ~ X1 + X2, method = "mahal")

</code></pre>


</div>