<div class="container">

<table style="width: 100%;"><tr>
<td>splitPUnif</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sample the split proportion - proportion of removed workers in a
managed split</h2>

<h3>Description</h3>

<p>Sample the split proportion - proportion of removed workers in a
managed split - used when <code>p = NULL</code> - (see
<code>SimParamBee$splitP</code>).
</p>
<p>This is just an example. You can provide your own functions that satisfy
your needs!
</p>


<h3>Usage</h3>

<pre><code class="language-R">splitPUnif(colony, n = 1, min = 0.2, max = 0.4)

splitPColonyStrength(colony, n = 1, nWorkersFull = 100, scale = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>colony</code></td>
<td>
<p><code>Colony-class</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>integer, number of samples</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min</code></td>
<td>
<p>numeric, lower limit for <code>splitPUnif</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max</code></td>
<td>
<p>numeric, upper limit for <code>splitPUnif</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nWorkersFull</code></td>
<td>
<p>numeric, average number of workers in a full/strong
colony for <code>splitPColonyStrength</code> (actual number can go beyond this
value)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>numeric, scaling of numbers in <code>splitPColonyStrength</code>
to avoid to narrow range when colonies have a large number of bees (in that
case change <code>nWorkersFull</code> too!)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>splitPUnif</code> samples from a uniform distribution between values
0.2 and 0.4 irrespective of colony strength.
</p>
<p><code>splitPColonyStrength</code> samples from a beta distribution with mean
<code>a / (a + b)</code>, where <code>a = nWorkers + nWorkersFull</code> and <code>b =
  nWorkers</code>. This beta sampling mimics larger splits for strong colonies and
smaller splits for weak colonies - see examples. This is just an example -
adapt to your needs!
</p>
<p>The <code>nWorkersFull</code> default value used in this function is geared
towards a situation where we simulate ~100 workers per colony (down-scaled
simulation for efficiency). If you simulate more workers, you should change
the default accordingly.
</p>


<h3>Value</h3>

<p>numeric, split proportion
</p>


<h3>Functions</h3>


<ul><li> <p><code>splitPColonyStrength()</code>: Sample the split proportion - the proportion of
removed workers in a managed split based on the colony strength
</p>
</li></ul>
<h3>See Also</h3>

<p><code>SimParamBee</code> field <code>splitP</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">splitPUnif()
splitPUnif()
p &lt;- splitPUnif(n = 1000)
hist(p, breaks = seq(from = 0, to = 1, by = 0.01), xlim = c(0, 1))

# Example for splitPColonyStrength()
founderGenomes &lt;- quickHaplo(nInd = 2, nChr = 1, segSites = 100)
SP &lt;- SimParamBee$new(founderGenomes)

basePop &lt;- createVirginQueens(founderGenomes)
drones &lt;- createDrones(x = basePop[1], nInd = 15)
colony &lt;- createColony(x = basePop[2])
colony &lt;- cross(colony, drones = drones)
colony &lt;- addWorkers(colony, nInd = 10)
nWorkers(colony) # weak colony
splitPColonyStrength(colony)
splitPColonyStrength(colony)
colony &lt;- addWorkers(colony, nInd = 100)
nWorkers(colony) # strong colony
splitPColonyStrength(colony)
splitPColonyStrength(colony)

# Logic behind splitPColonyStrength()
nWorkersFull &lt;- 100
nWorkers &lt;- 0:200
splitP &lt;- 1 - rbeta(
  n = length(nWorkers),
  shape1 = nWorkers + nWorkersFull,
  shape2 = nWorkers
)
plot(splitP ~ nWorkers, ylim = c(0, 1))
abline(v = nWorkersFull)
pKeep &lt;- 1 - splitP
plot(pKeep ~ nWorkers, ylim = c(0, 1))
abline(v = nWorkersFull)
</code></pre>


</div>