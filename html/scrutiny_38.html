<div class="container">

<table style="width: 100%;"><tr>
<td>grim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>The GRIM test (granularity-related inconsistency of means)</h2>

<h3>Description</h3>

<p><code>grim()</code> checks if a reported mean value of integer data is
mathematically consistent with the reported sample size and the number of
items that compose the mean value.
</p>
<p>Set <code>percent</code> to <code>TRUE</code> if <code>x</code> is a percentage. This will convert <code>x</code> to a
decimal number and adjust the decimal count accordingly.
</p>
<p>The function is vectorized, but it is recommended to use <code>grim_map()</code> for
testing multiple cases.
</p>


<h3>Usage</h3>

<pre><code class="language-R">grim(
  x,
  n,
  items = 1,
  percent = FALSE,
  show_rec = FALSE,
  rounding = "up_or_down",
  threshold = 5,
  symmetric = FALSE,
  tolerance = .Machine$double.eps^0.5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>String. The reported mean or percentage value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Integer. The reported sample size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>items</code></td>
<td>
<p>Numeric. The number of items composing <code>x</code>. Default is 1, the
most common case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percent</code></td>
<td>
<p>Logical. Set <code>percent</code> to <code>TRUE</code> if <code>x</code> is a percentage. This
will convert it to a decimal number and adjust the decimal count (i.e.,
increase it by 2). Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_rec</code></td>
<td>
<p>Logical. For internal use only. If set to <code>TRUE</code>, the output
is a matrix that also contains intermediary values from GRIM-testing. Don't
specify this manually; instead, use <code>show_rec</code> in <code>grim_map()</code>. Default
is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rounding</code></td>
<td>
<p>String. Rounding method or methods to be used for
reconstructing the values to which <code>x</code> will be compared. Default is
<code>"up_or_down"</code> (from 5).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>Numeric. If <code>rounding</code> is set to <code>"up_from"</code>, <code>"down_from"</code>,
or <code>"up_from_or_down_from"</code>, set <code>threshold</code> to the number from which the
reconstructed values should then be rounded up or down. Otherwise, this
argument plays no role. Default is <code>5</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symmetric</code></td>
<td>
<p>Logical. Set <code>symmetric</code> to <code>TRUE</code> if the rounding of
negative numbers with <code>"up"</code>, <code>"down"</code>, <code>"up_from"</code>, or <code>"down_from"</code>
should mirror that of positive numbers so that their absolute values are
always equal. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tolerance</code></td>
<td>
<p>Numeric. Tolerance of comparison between <code>x</code> and the
possible mean or percentage values. Default is circa 0.000000015
(1.490116e-08), as in <code>dplyr::near()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>x</code> values need to be strings because only strings retain
trailing zeros, which are as important for the GRIM test as any other
decimal digits.
</p>
<p>Use <code>restore_zeros()</code> on numeric values (or values that were numeric
values at some point) to easily supply the trailing zeros they might once
have had. See documentation there.
</p>
<p>Browse the source code in the grim.R file. <code>grim()</code> is a vectorized version
of the internal <code>grim_scalar()</code> function found there.
</p>


<h3>Value</h3>

<p>Logical. <code>TRUE</code> if <code>x</code>, <code>n</code>, and <code>items</code> are mutually consistent,
<code>FALSE</code> if not.
</p>


<h3>References</h3>

<p>Brown, N. J. L., &amp; Heathers, J. A. J. (2017). The GRIM Test: A
Simple Technique Detects Numerous Anomalies in the Reporting of Results in
Psychology. <em>Social Psychological and Personality Science</em>, 8(4), 363â€“369.
https://journals.sagepub.com/doi/10.1177/1948550616673876
</p>


<h3>See Also</h3>

<p><code>grim_map()</code> applies <code>grim()</code> to any number of cases at once.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># A mean of 5.19 is not consistent with a sample size of 28:
grim(x = "5.19", n = 28)    # `x` in quotes!

# However, it is consistent with a sample size of 32:
grim(x = "5.19", n = 32)

# For a scale composed of two items:
grim(x = "2.84", n = 16, items = 2)

# With percentages instead of means -- here, 71%:
grim(x = "71", n = 43, percent = TRUE)
</code></pre>


</div>