<div class="container">

<table style="width: 100%;"><tr>
<td>metrics_tidyfier</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build a tidy data frame from the metrics results nested list</h2>

<h3>Description</h3>

<p>Transform the nested list of metrics in a tidy tibble where each observation
has its own row
</p>


<h3>Usage</h3>

<pre><code class="language-R">metrics_tidyfier(
  metrics_res,
  metadata,
  interval = c("general", "predawn", "midday", "night", "daylight")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>metrics_res</code></td>
<td>
<p>Nested list containing the metrics results as obtained
from <code>metrics</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metadata</code></td>
<td>
<p>List containing the metadata nested list, as obtained from
<code>read_sfn_metadata</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval</code></td>
<td>
<p>Interval to return, it depends on the <code>metrics_res</code> and
can be <code>"gen"</code> for the general metrics, <code>"md"</code> for midday metrics,
<code>"pd"</code> for predawn metrics, <code>"night"</code> for night metrics or
<code>"day"</code> for diurnal metrics.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a tibble with the following columns:
</p>

<ul>
<li>
<p>TIMESTAMP: POSIXct vector with the date-time of the observation
</p>
</li>
<li>
<p>si_code: Character vector with the site codes
</p>
</li>
<li>
<p>pl_code: Character vector with the plant codes
</p>
</li>
<li>
<p>sapflow_*: Variables containing the different metrics for the
sapflow measurements (i.e. sapflow_mean, sapflow_q_95)
</p>
</li>
<li>
<p>ta_*; rh_*; vpd_*; ...: Variables containing the different metrics
for environmental variables (i.e. ta_mean, ta_q_95)
</p>
</li>
<li>
<p>pl_*: plant metadata variables (i.e. pl_sapw_area, pl_sens_meth)
</p>
</li>
<li>
<p>si_*: site metadata variables (i.e. si_biome, si_contact_firstname)
</p>
</li>
<li>
<p>st_*: stand metadata variables (i.e. st_aspect, st_lai)
</p>
</li>
<li>
<p>sp_*: species metadata variables (i.e. sp_basal_area_perc)
</p>
</li>
<li>
<p>env_*: environmental metadata variables (i.e. env_timezone)
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
# data
multi_sfn &lt;- sfn_data_multi(ARG_TRE, ARG_MAZ, AUS_CAN_ST2_MIX)
data('sfn_metadata_ex', package = 'sapfluxnetr')

# metrics
multi_metrics &lt;- daily_metrics(multi_sfn)

# tidyfing
multi_tidy &lt;- metrics_tidyfier(
  multi_metrics, sfn_metadata_ex, interval = 'general'
)
multi_tidy

# A really easier way of doing the same
multi_tidy_easy &lt;- daily_metrics(multi_sfn, tidy = TRUE, metadata = sfn_metadata_ex)


</code></pre>


</div>