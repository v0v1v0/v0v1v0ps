<div class="container">

<table style="width: 100%;"><tr>
<td>Mmix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Compute M-values for a Mixture of Inert Gases
</h2>

<h3>Description</h3>

<p>Computes the maximum tolerated inert gas tension at depth
(M-value) or at the surface (surfacing M-value, <code>M0</code>)
for a given gas.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  M0mix(model, fN2, fHe, mixrule=NULL)

  Mmix(model, depth, fN2, fHe, mixrule=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>

<p>The decompression model.
Either an object of class <code>"hm"</code> (see <code>hm</code>)
or a character string giving the name of one of the
existing models (see <code>pickmodel</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>depth</code></td>
<td>

<p>Numeric value or numeric vector giving the depth or depths
in metres of seawater.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fN2</code></td>
<td>

<p>Fraction of nitrogen in the breathing gas.
Number between 0 and 1.
Alternatively this can be a <code>gas</code> object,
and the values of <code>fN2,fHe</code> will be extracted from it.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fHe</code></td>
<td>

<p>Fraction of helium in the breathing gas.
Number between 0 and 1.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mixrule</code></td>
<td>

<p>Optional string specifying the mixture rule:
either <code>"N2"</code> or <code>"interpolate"</code>.
See Details.
If this argument is absent, the mixture rule
is taken from the <code>model</code>. If this argument is present,
it overrides the mixture rule in <code>model</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>M0mix</code> computes the maximum tolerated inert gas tension,
in each tissue compartment, for a diver returning to the surface
(known as the surfacing M-value <code>M0</code>). This is used for
planning no-decompression dives.
</p>
<p><code>Mmix</code> computes the maximum tolerated inert gas tension,
in each tissue compartment, for a diver at a specified depth,
called the M-value. This is used for planning decompression dives.
</p>
<p>A Haldane-type decompression model only specifies
these M-values for a single inert gas (i.e. only nitrogen
or only helium). When the breathing gas is trimix,
the inert gas is a mixture of nitrogen and helium, and 
the M-values for nitrogen and helium must somehow be combined
to obtain M-values relevant to the mixed gas. 
</p>
<p>The rule for combining the M-values is specified
by the argument <code>mixrule</code>. Current options are:
</p>

<dl>
<dt><code>"N2"</code></dt>
<dd>
<p>Ignore the Helium parameters; pretend that Helium is Nitrogen.
Combine Nitrogen and Helium into a single inert gas,
and take the parameters <code>M0</code>, <code>dM</code> for this gas
to be the parameters <code>M0</code>, <code>dM</code> for Nitrogen.
</p>
</dd>
<dt><code>"interpolate"</code></dt>
<dd>
<p>Apply Buehlmann's (1983, 2002) interpolation rule. Convert the
parameters <code>M0</code>, <code>dM</code> to the Buehlmann parameters
<code>a = M0 - dM</code> and <code>b = 1/dM</code>. For a mixture of
Nitrogen and Helium, calculate the <code>a,b</code> values by
linear interpolation between the values for Nitrogen and Helium
according to the gas fractions. Then convert from <code>a,b</code>
back to <code>M0, dM</code>.
</p>
</dd>
</dl>
<p>If the argument <code>mixrule</code> is missing or <code>NULL</code>, then the
default mixture rule is taken from the <code>model</code>
(since every Haldane model has a mixture rule,
as explained in <code>hm</code>).
</p>


<h3>Value</h3>

<p>A matrix, with one column for each compartment in the model,
and one row for each entry of <code>fN2</code> (and <code>fHe</code> and
<code>depth</code>).
Entries in the matrix are M-values in atmospheres absolute (ata).
</p>


<h3>Author(s)</h3>

<p>Adrian Baddeley <a href="mailto:Adrian.Baddeley@curtin.edu.au">Adrian.Baddeley@curtin.edu.au</a>.</p>


<h3>See Also</h3>

<p><code>hm</code>, 
<code>pickmodel</code> for specifying models.
</p>
<p><code>haldane</code> for computing tissue saturations.
</p>


<h3>Examples</h3>

<pre><code class="language-R">  # Trimix 18/50, surfacing M-values
  M0mix("Z", trimix(0.18, 0.5))

  # Trimix 18/50, M-values at 0, 10, 20 metres
  Mmix("Z", c(0,10,20), trimix(0.18, 0.5))
</code></pre>


</div>