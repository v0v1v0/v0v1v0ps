<div class="container">

<table style="width: 100%;"><tr>
<td>reload.or.compute</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Compute Unless Previously Saved
</h2>

<h3>Description</h3>

<p>If the designated file does not yet exist,
evaluate the expression and save the results in the file.
If the file already exists, re-load the results from the file.
</p>


<h3>Usage</h3>

<pre><code class="language-R">reload.or.compute(filename, expr, objects = NULL,
                  context = parent.frame(), 
                  destination = parent.frame(),
                  force=FALSE, verbose=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>

<p>Name of data file. A character string.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>

<p><span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> language expression to be evaluated.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>objects</code></td>
<td>

<p>Optional character vector of names of objects to be saved
in <code>filename</code> after evaluating <code>expr</code>,
or names of objects that should be present in <code>filename</code>
when loaded.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>context</code></td>
<td>

<p>Environment containing objects that are mentioned in <code>expr</code>
(other than objects in the global environment).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>destination</code></td>
<td>

<p>Environment into which the resulting objects should be assigned.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force</code></td>
<td>

<p>Logical value indicating whether to perform the computation
in any case.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>Logical value indicating whether to print a message indicating
whether the data were recomputed or reloaded from the file.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This facility is useful for saving, and later re-loading, the results of
time-consuming computations. It would typically be
used in an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> script file or an <code>Sweave</code> document.
</p>
<p>If the file called <code>filename</code> does not yet exist,
then <code>expr</code> will be evaluated
and the results will be saved in <code>filename</code>.
The optional argument <code>objects</code> specifies which results should be saved
to the file: the default is to save all objects that were created
by evaluating the expression. 
</p>
<p>If the file called <code>filename</code> already exists, then it
will be loaded.
The optional argument <code>objects</code> specifies the names
of objects that should be present in the file; a warning is issued
if any of them are missing.
</p>
<p>The resulting objects can be assigned into any desired <code>destination</code>.
The default behaviour is equivalent to evaluating <code>expr</code>
in the current environment.
</p>
<p>If <code>force=TRUE</code> then <code>expr</code> will be evaluated
(regardless of whether the file already exists or not)
and the results will be saved in <code>filename</code>, overwriting
any previously-existing file with that name. This is a convenient
way to force the code to re-compute everything
in an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> script file or <code>Sweave</code> document.
</p>


<h3>Value</h3>

<p>Character vector (invisible) giving the names of the objects computed
or loaded.
</p>


<h3>Author(s)</h3>

<p>Adrian Baddeley <a href="mailto:Adrian.Baddeley@curtin.edu.au">Adrian.Baddeley@curtin.edu.au</a>
and Rolf Turner <a href="mailto:rolfturner@posteo.net">rolfturner@posteo.net</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">  ## Demonstration using a temporary file
  ## (For real applications, use a permanent file in your own filespace)
  myfile &lt;- paste0(tempdir(), .Platform$file.sep, "mydata.rda")
  reload.or.compute(myfile, {
     # some very long computation ending with ..
     x &lt;- 42
     y &lt;- sqrt(x)
  })
</code></pre>


</div>