<div class="container">

<table style="width: 100%;"><tr>
<td>getHNR</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get HNR</h2>

<h3>Description</h3>

<p>Calculates the harmonics-to-noise ratio (HNR) - that is, the ratio between
the intensity (root mean square amplitude) of the harmonic component and the
intensity of the noise component.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getHNR(
  x = NULL,
  samplingRate = NA,
  acf_x = NULL,
  lag.min = 2,
  lag.max = length(x),
  interpol = c("none", "parab", "spline", "sinc")[4],
  wn = "hanning",
  idx_max = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>time series (a numeric vector)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samplingRate</code></td>
<td>
<p>sampling rate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>acf_x</code></td>
<td>
<p>pre-computed autocorrelation function of input <code>x</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag.min, lag.max</code></td>
<td>
<p>minimum and maximum lag to consider when looking for
peaks in the ACF</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interpol</code></td>
<td>
<p>method of improving the frequency resolution by interpolating
the ACF: "none" = don't interpolate; "parab" = parabolic interpolation on
three points (local peak and its neighbors); "spline" = spline
interpolation; "sinc" = sin(x)/x interpolation to a continuous function
followed by a search for local peaks using Brent's method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wn</code></td>
<td>
<p>window applied to <code>x</code> (unless acf_x is provided instead of x)
as well as to the sinc interpolation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idx_max</code></td>
<td>
<p>(interal) the index of the peak to investigate, if already
estimated</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">signal = sin(2 * pi * 150 * (1:16000)/16000)
signal = signal / sqrt(mean(signal^2))
noise = rnorm(16000)
noise = noise / sqrt(mean(noise^2))
SNR = 40
s = signal + noise * 10^(-SNR/20)
soundgen:::getHNR(s, 16000, lag.min = 16000/1000,
lag.max = 16000/75, interpol = 'none')
soundgen:::getHNR(s, 16000, lag.min = 16000/1000,
lag.max = 16000/75, interpol = 'parab')
soundgen:::getHNR(s, 16000, lag.min = 16000/1000,
lag.max = 16000/75, interpol = 'spline')
soundgen:::getHNR(s, 16000, lag.min = 16000/1000,
lag.max = 16000/75, interpol = 'sinc')
</code></pre>


</div>