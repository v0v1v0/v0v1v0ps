<div class="container">

<table style="width: 100%;"><tr>
<td>stemmatology</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>An R Stemmatology Package</h2>

<h3>Description</h3>

<p>Build and analyse the genealogy of textual or musical traditions.
</p>


<h3>Details</h3>


<table>
<tr>
<td style="text-align: left;">
Package: </td>
<td style="text-align: left;"> stemmatology</td>
</tr>
<tr>
<td style="text-align: left;">
Type: </td>
<td style="text-align: left;"> Package</td>
</tr>
<tr>
<td style="text-align: left;">
Version: </td>
<td style="text-align: left;"> 0.3.0</td>
</tr>
<tr>
<td style="text-align: left;">
Date: </td>
<td style="text-align: left;"> 2018-05-20</td>
</tr>
<tr>
<td style="text-align: left;">
License: </td>
<td style="text-align: left;"> GPL-3</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p><em>Stemmatology</em> is the name of the field dedicated to studying text genealogies
and establishing genealogical tree-like graphs known as stemma codicum.
</p>
<p>This package includes various functions for stemmatological analysis. 
</p>


<h4>Input</h4>

<p>Most of the functions take, as input a <em>numeric matrix</em>, with witnesses in columns, variant locations in rows, and readings coded by a number, e.g.
</p>

<table>
<tr>
<td style="text-align: left;">
  </td>
<td style="text-align: left;"> A </td>
<td style="text-align: left;"> B </td>
<td style="text-align: left;"> C </td>
<td style="text-align: left;"> D </td>
<td style="text-align: left;"> E </td>
<td style="text-align: left;"> H </td>
<td style="text-align: left;"> I </td>
<td style="text-align: left;"> J </td>
<td style="text-align: left;"> K </td>
<td style="text-align: left;"> O</td>
</tr>
<tr>
<td style="text-align: left;">
1 </td>
<td style="text-align: left;"> 0 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> NA </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> NA </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1</td>
</tr>
<tr>
<td style="text-align: left;">
2 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> NA </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> NA </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1</td>
</tr>
<tr>
<td style="text-align: left;">
3 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> NA </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> NA </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1</td>
</tr>
<tr>
<td style="text-align: left;">
4 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 2 </td>
<td style="text-align: left;"> NA </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> NA </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1</td>
</tr>
<tr>
<td style="text-align: left;">
5 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 2 </td>
<td style="text-align: left;"> NA </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> NA </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1</td>
</tr>
<tr>
<td style="text-align: left;">
6 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> NA </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> NA </td>
<td style="text-align: left;"> 1 </td>
<td style="text-align: left;"> 1</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>where A, B, …, O are the various witnesses in columns, 1…6 the various variant locations, in rows, and the different readings are coded either 0 (omission), 1, 2, …, <em>n</em>. <code>NA</code> is used for the lack of information (physical lacuna, absence of observation, variant location not applicable to a given witness, etc.).
</p>
<p>Alternatively , if <code>alternateReadings = TRUE</code>, the input can be a <em>character matrix</em>, with witnesses in columns, variant locations in rows, and, in each cell, one or several readings, coded by numbers and separated by a comma (e.g. '1,2,3', if the witness has three different readings), e.g.
</p>

<table>
<tr>
<td style="text-align: left;">
 </td>
<td style="text-align: left;"> A </td>
<td style="text-align: left;"> D </td>
<td style="text-align: left;"> F </td>
<td style="text-align: left;"> T </td>
<td style="text-align: left;"> P </td>
</tr>
<tr>
<td style="text-align: left;">
1 </td>
<td style="text-align: left;"> "1" </td>
<td style="text-align: left;"> "2" </td>
<td style="text-align: left;"> "2" </td>
<td style="text-align: left;"> "2" </td>
<td style="text-align: left;"> "1,2" </td>
</tr>
<tr>
<td style="text-align: left;">
2 </td>
<td style="text-align: left;"> "1" </td>
<td style="text-align: left;"> "2" </td>
<td style="text-align: left;"> "1,2" </td>
<td style="text-align: left;"> "2" </td>
<td style="text-align: left;"> "1" </td>
</tr>
<tr>
<td style="text-align: left;">
3 </td>
<td style="text-align: left;"> "1" </td>
<td style="text-align: left;"> "1" </td>
<td style="text-align: left;"> "1" </td>
<td style="text-align: left;"> "1" </td>
<td style="text-align: left;"> "2" </td>
</tr>
<tr>
<td style="text-align: left;">
4 </td>
<td style="text-align: left;"> "1,3" </td>
<td style="text-align: left;"> "1,2" </td>
<td style="text-align: left;"> "1" </td>
<td style="text-align: left;"> "2" </td>
<td style="text-align: left;"> "3" </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>Notice how a witness can bear several readings (e.g., P at VL 1).
</p>




<h4>Create or import data</h4>

<p>Data can be created inside R or imported. They can be imported by reading a csv file, for instance (e.g. with <code>read.csv</code>). They can also be imported from a TEI encoded apparatus in parallel-segmentation, either by using an XSL stylesheet, or the built-in function <code>import.TEIApparatus</code>.
</p>
<p>The function <code>import.TEIApparatus</code> allows to import a TEI P5 encoded apparatus into a stemmatological matrix usable with other functions. It has some parameters to refine the import (variant types, …), and can read either from disk or from an URL. 
</p>




<h4>PCC Method</h4>

<p>Functions are made available for the PCC method (See Camps and Cafiero 2014 or <code>PCC</code> for more details). The most important are
</p>
<p><code>PCC</code>: global shell for the PCC functions
</p>
<p><code>PCC.Exploratory</code>: global function for exploratory methods of the PCC family
</p>
<p><code>PCC.Stemma</code>: Building the Stemma Codicum.
</p>



<h4>Other functions</h4>

<p>The package contains also various other functions, particularly aimed at
detecting contamination. It contains for instance the function <code>PCC.contam</code>.
</p>

<p>The package aims at making available various other stemmatological methods, including further functions for contamination detection, 
or for theoretical stemmatology.
</p>


    


<h3>Note</h3>


<p>Please report issues with this package to <a href="https://github.com/Jean-Baptiste-Camps/stemmatology">https://github.com/Jean-Baptiste-Camps/stemmatology</a>.
</p>


<h3>Author(s)</h3>

<p>Jean-Baptiste Camps (École nationale des chartes | Université PSL).
</p>
<p>Florian Cafiero.
</p>
<p>Maintainer: Jean-Baptiste Camps &lt;<a href="mailto:jbcamps@hotmail.com">jbcamps@hotmail.com</a>&gt;.
</p>


<h3>References</h3>

<p>Camps, Jean-Baptiste, and Florian Cafiero. ‘Stemmatology: An R Package for the Computer-Assisted Analysis of Textual Traditions’. <em>Proceedings of the Second Workshop on Corpus-Based Research in the Humanities (CRH-2)</em>, edited by Andrew U. Frank et al., 2018, pp. 65–74, <a href="https://halshs.archives-ouvertes.fr/hal-01695903v1">https://halshs.archives-ouvertes.fr/hal-01695903v1</a>.
</p>
<p>Camps, Jean-Baptiste, and Florian Cafiero. ‘Genealogical Variant Locations and Simplified Stemma: A Test Case’. <em>Analysis of Ancient and Medieval Texts and Manuscripts: Digital Approaches</em>, edited by Tara Andrews and Caroline Macé, Brepols, 2015, pp. 69–93, <a href="https://halshs.archives-ouvertes.fr/halshs-01435633">https://halshs.archives-ouvertes.fr/halshs-01435633</a>, DOI: <a href="http://dx.doi.org/10.1484/M.LECTIO-EB.5.102565">10.1484/M.LECTIO-EB.5.102565</a>.
</p>


<h3>See Also</h3>

<p><code>PCC</code>,
<code>PCC.Exploratory</code>, <code>PCC.Stemma</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Load data
data(fournival)
# or alternatively, import it
#fournival = import.TEIApparatus(file = "myFournival.xml", 
#    appTypes = c("substantive"))

## Not run: 
# Interactive mode

# Analyse it with the PCC functions
PCC(fournival)

## End(Not run)

# Complete step-by-step non interactive use
data("fournival")

# look for conflicts
myConflicts = PCC.conflicts(fournival)
# remove conflicting VL
myConflicts = PCC.overconflicting(myConflicts, ask = FALSE, threshold = 0.06)
myNewData = PCC.elimination(myConflicts)
# look for competing genealogies
myConflicts = PCC.conflicts(myNewData)
myNewData = PCC.equipollent(myConflicts, ask = FALSE, scope = "W", wits = "D")
# build a stemma
PCC.Stemma(myNewData$databases[[1]], ask = FALSE)
</code></pre>


</div>