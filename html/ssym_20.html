<div class="container">

<table style="width: 100%;"><tr>
<td>ncs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tool to build the basis matrix and the penalty matrix of natural cubic splines.</h2>

<h3>Description</h3>

<p><b>ncs</b> builds the basis matrix and the penalty matrix to approximate a smooth function using a natural cubic spline.</p>


<h3>Usage</h3>

<pre><code class="language-R">ncs(xx, lambda, nknots, all.knots)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xx</code></td>
<td>
<p>the explanatory variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>an optional positive value that represents the smoothing parameter value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nknots</code></td>
<td>
<p>an optional positive integer that represents the number of knots of the natural cubic spline.  Default is <code class="reqn">m=[n^{\frac{1}{3}}]+3</code>.
The knots are located at the quantiles of order <code class="reqn">0/(m-1),1/(m-1),\ldots,(m-1)/(m-1)</code> of xx.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all.knots</code></td>
<td>
<p>logical. If <code>TRUE</code>, the set of knots and the set of different values of <code class="reqn">xx</code> coincide. Default is <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table><tr style="vertical-align: top;">
<td><code>xx</code></td>
<td>
<p>the explanatory variable <code class="reqn">xx</code> with the following attributes: set of knots, basis matrix, penalty matrix, smoothing parameter
(if it was specified), and other interest matrices.</p>
</td>
</tr></table>
<h3>Author(s)</h3>

<p>Luis Hernando Vanegas &lt;hvanegasp@gmail.com&gt; and Gilberto A. Paula</p>


<h3>References</h3>

<p>Lancaster, P. and Salkauskas, K. (1986) Curve and Surface Fitting: an introduction. Academic Press, London.
Green, P.J. and Silverman, B.W. (1994) Nonparametric Regression and Generalized Linear Models, Boca Raton: Chapman and Hall.
</p>


<h3>Examples</h3>

<pre><code class="language-R">n &lt;- 300
t &lt;- sort(round(runif(n),digits=1))

t2 &lt;- ncs(t,all.knots=TRUE)
N &lt;- attr(t2, "N") ## Basis Matrix
M &lt;- attr(t2, "K") ## Penalty Matrix
knots &lt;- attr(t2, "knots") ## Set of knots
</code></pre>


</div>