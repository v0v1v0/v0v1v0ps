<div class="container">

<table style="width: 100%;"><tr>
<td>make_many_predictions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate a collection of raw counterfactual trajectories</h2>

<h3>Description</h3>

<p>Given a fit linear model 'fit0', generate R prediction series starting at t0.
This takes model uncertainty into account by pulling from the
pseudo-posterior of the model parameters (from Gelman and Hill arm package).
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_many_predictions(fit0, dat, R, outcomename, t0)

make_many_predictions_plug(fit0, dat, R, outcomename, t0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit0</code></td>
<td>
<p>The fit linear model to simulate from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>A dataframe with the covariates needed by the model fit0 for both
pre and post-policy months.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>Number of series to generate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcomename</code></td>
<td>
<p>The name of the column in dat which is our outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t0</code></td>
<td>
<p>Last month of pre-policy.  Will start predicting at t0+1.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data.frame with the collection of predicted series, one row per
month per replicate (so will have R*nrow(dat) rows).
</p>


<h3>Functions</h3>


<ul><li> <p><code>make_many_predictions_plug</code>: This version makes multiple predictions
using estimated parameters without additional uncertainty. This takes point
estimates from the fit model as fixed parameters. WARNING: This method will
not capture true uncertainty as it is not taking parameter uncertainty into
account.
</p>
</li></ul>
<h3>References</h3>

<p>The 'arm' package, see
<a href="https://cran.r-project.org/package=arm">https://cran.r-project.org/package=arm</a>
</p>
<p>Also see Gelman, A., &amp; Hill, J. (2007). Data analysis using regression and
multilevelhierarchical models (Vol. 1). New York, NY, USA: Cambridge
University Press.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("mecklenberg" )
mecklenberg = add_lagged_covariates( mecklenberg, "pbail"  )
mecklenberg.pre = dplyr::filter( mecklenberg, month &lt;= 0 )
M0 = fit_model_default( mecklenberg.pre, "pbail" )
res = make_many_predictions( M0, dat=mecklenberg, outcome="pbail", t0=0, R=2 )
tail( res )
</code></pre>


</div>