<div class="container">

<table style="width: 100%;"><tr>
<td>ggplot_sieve</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plotting Univariate Mark-Specific Proportional Hazards Model Fits Using <code>ggplot</code>
</h2>

<h3>Description</h3>

<p><code>ggplot</code>-style plotting for univariate marks. Point and interval estimates of the mark-specific treatment effect parameter specified by component 
<code>contrast</code> in <code>summary.sievePH</code> or <code>summary.kernel_sievePH</code> are plotted, together with scatter and box plots of the observed mark values by treatment.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ggplot_sieve(
  x,
  mark = NULL,
  tx = NULL,
  xlim = NULL,
  ylim = NULL,
  xtickAt = NULL,
  xtickLab = NULL,
  ytickAt = NULL,
  ytickLab = NULL,
  tickLabSize = 14,
  xlab = NULL,
  ylab = NULL,
  axisLabSize = 15,
  title = NULL,
  titleSize = 16,
  subtitle = NULL,
  subtitleSize = 10,
  txLab = c("Placebo", "Treatment"),
  txLabSize = 5,
  legendLabSize = 12,
  legendPosition = c(0.96, 1.08),
  legendJustification = c(1, 1),
  estLineSize = 1.6,
  ciLineSize = 1.2,
  boxplotWidth = 0.8,
  jitterFactor = 0.1,
  jitterSeed = 0,
  pointColor = c("blue", "red3"),
  pointSize = 1.7,
  bottomPlotMargin = c(-0.5, 0.3, 0, 0),
  topPlotMargin = c(0, 0.3, -0.12, 1.83),
  plotHeights = c(0.33, 0.67)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object returned by <code>summary.sievePH</code> or <code>summary.kernel_sievePH</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mark</code></td>
<td>
<p>a numeric vector specifying a univariate continuous mark. For subjects with a right-censored time-to-event, the value(s) in <code>mark</code> should be set to <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tx</code></td>
<td>
<p>a numeric vector indicating the treatment group (1 if treatment, 0 if placebo)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>a numeric vector of length 2 specifying the x-axis range (<code>NULL</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>a numeric vector of length 2 specifying the y-axis range (<code>NULL</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xtickAt</code></td>
<td>
<p>a numeric vector specifying the position of x-axis tickmarks (<code>NULL</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xtickLab</code></td>
<td>
<p>a numeric vector specifying labels for tickmarks listed in <code>xtickAt</code>. If <code>NULL</code> (default), the labels are determined by <code>xtickAt</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ytickAt</code></td>
<td>
<p>a numeric vector specifying the position of y-axis tickmarks (<code>NULL</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ytickLab</code></td>
<td>
<p>a numeric vector specifying labels for tickmarks listed in <code>ytickAt</code>. If <code>NULL</code> (default), the labels are determined by <code>ytickAt</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tickLabSize</code></td>
<td>
<p>a numeric value specifying the font size of tickmark labels along both axes in the bottom panel (<code>14</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>a character string specifying the x-axis label (<code>NULL</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>a character string specifying the y-axis label (<code>NULL</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axisLabSize</code></td>
<td>
<p>a numeric value specifying the font size of both axis labels in the bottom panel (<code>15</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>a character string specifying the plot title (<code>NULL</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>titleSize</code></td>
<td>
<p>a numeric value specifying the font size of the plot title (<code>16</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subtitle</code></td>
<td>
<p>a character string specifying the plot subtitle (<code>NULL</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subtitleSize</code></td>
<td>
<p>a numeric value specifying the font size of the plot subtitle (<code>10</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>txLab</code></td>
<td>
<p>a character vector of length 2 specifying the placebo and treatment labels (in this order). The default labels are <code>placebo</code> and <code>treatment</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>txLabSize</code></td>
<td>
<p>a numeric value specifying the font size of labels <code>txLab</code> (<code>5</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legendLabSize</code></td>
<td>
<p>a numeric value specifying the font size of legend labels in the bottom panel (<code>11</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legendPosition</code></td>
<td>
<p>a numeric vector of length 2 specifying the position of the legend in the bottom panel (<code>c(0.96, 1.08)</code> by default), passed on to argument <code>legend.position</code> in <code>theme()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legendJustification</code></td>
<td>
<p>a numeric vector of length 2 specifying the justification of the legend in the bottom panel (<code>c(1, 1)</code> by default), passed on to argument <code>legend.justification</code> in <code>theme()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estLineSize</code></td>
<td>
<p>a numeric value specifying the line width for the point estimate of the mark-specific treatment effect (<code>1.6</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ciLineSize</code></td>
<td>
<p>a numeric value specifying the line width for the confidence limits for the mark-specific treatment effect (<code>1.2</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boxplotWidth</code></td>
<td>
<p>a numeric value specifying the width of each box in the box plot (<code>0.8</code>) by default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jitterFactor</code></td>
<td>
<p>a numeric value specifying the amount of vertical jitter (<code>0.1</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jitterSeed</code></td>
<td>
<p>a numeric value setting the seed of R's random number generator for jitter in the scatter plot (<code>0</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pointColor</code></td>
<td>
<p>a character vector of length 2 color-coding the placebo and treatment group (in this order) in the scatter plot (<code>c("blue", "red3")</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pointSize</code></td>
<td>
<p>a numeric value specifying the size of data points in the scatter plot (<code>1.7</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bottomPlotMargin</code></td>
<td>
<p>a numeric vector, using cm as the unit, passed on to argument <code>plot.margin</code> in <code>theme()</code> for the bottom panel (<code>c(-0.5, 0.3, 0, 0)</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>topPlotMargin</code></td>
<td>
<p>a numeric vector, using <code>"lines"</code> as the unit, passed on to argument <code>plot.margin</code> in <code>theme()</code> for the top panel (<code>c(0, 0.3, -0.12, 1.83)</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotHeights</code></td>
<td>
<p>a numeric vector specifying relative heights of the top and bottom panels (<code>c(0.33, 0.67)</code> by default) passed on to argument <code>heights</code> in <code>ggpubr::ggarrange()</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>


<h3>See Also</h3>

<p><code>plot.summary.sievePH</code>, <code>sievePH</code>, <code>summary.sievePH</code>, <code>kernel_sievePH</code>, <code>summary.kernel_sievePH</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">n &lt;- 200
tx &lt;- rep(0:1, each=n/2)
tm &lt;- c(rexp(n/2, 0.2), rexp(n/2, 0.2 * exp(-0.4)))
cens &lt;- runif(n, 0, 15)
eventTime &lt;- pmin(tm, cens, 3)
eventInd &lt;- as.numeric(tm &lt;= pmin(cens, 3))
mark &lt;- ifelse(eventInd==1, c(rbeta(n/2, 2, 5), rbeta(n/2, 2, 2)), NA)
markRng &lt;- range(mark, na.rm=TRUE)

# fit a model with a univariate mark using the sievePH method
fit1 &lt;- sievePH(eventTime, eventInd, mark, tx)
sfit1 &lt;- summary(fit1, markGrid=seq(markRng[1], markRng[2], length.out=10))
print(ggplot_sieve(sfit1, mark, tx))

# fit a model with a univariate mark using the kernel_sievePH method
fit2 &lt;- kernel_sievePH(eventTime, eventInd, mark, tx,
                      tau = 3, tband = 0.5, hband = 0.3, nvgrid = 20, 
                      nboot = NULL)
sfit2 &lt;- summary(fit2)
print(ggplot_sieve(sfit2, mark, tx))

</code></pre>


</div>