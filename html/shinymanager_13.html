<div class="container">

<table style="width: 100%;"><tr>
<td>module-password</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>New password module</h2>

<h3>Description</h3>

<p>New password module
</p>


<h3>Usage</h3>

<pre><code class="language-R">pwd_ui(id, tag_img = NULL, status = "primary", lan = NULL)

pwd_server(
  input,
  output,
  session,
  user,
  update_pwd,
  validate_pwd = NULL,
  use_token = FALSE,
  lan = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>Module's id.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tag_img</code></td>
<td>
<p>A <code>tags$img</code> to be displayed on the authentication module.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>status</code></td>
<td>
<p>Bootstrap status to use for the panel and the button.
Valid status are: <code>"default"</code>, <code>"primary"</code>, <code>"success"</code>,
<code>"warning"</code>, <code>"danger"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lan</code></td>
<td>
<p>An langauge object. Should not be used directly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input, output, session</code></td>
<td>
<p>Standard Shiny server arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>user</code></td>
<td>
<p>A <code>reactiveValues</code> with a slot <code>user</code>,
referring to the user for whom the password is to be changed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>update_pwd</code></td>
<td>
<p>A <code>function</code> to perform an action when changing password is successful.
Two arguments will be passed to the function: <code>user</code> (username) and <code>password</code>
(the new password). Must return a list with at least a slot <code>result</code> with <code>TRUE</code>
or <code>FALSE</code>, according if the update has been successful.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>validate_pwd</code></td>
<td>
<p>A <code>function</code> to validate the password enter by the user.
Default is to check for the password to have at least one number, one lowercase,
one uppercase and be of length 6 at least.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_token</code></td>
<td>
<p>Add a token in the URL to check authentication. Should not be used directly.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">if (interactive()) {

  library(shiny)
  library(shinymanager)

  ui &lt;- fluidPage(
    tags$h2("Change password module"),
    actionButton(
      inputId = "ask", label = "Ask to change password"
    ),
    verbatimTextOutput(outputId = "res_pwd")
  )

  server &lt;- function(input, output, session) {

    observeEvent(input$ask, {
      insertUI(
        selector = "body",
        ui = tags$div(
          id = "module-pwd",
          pwd_ui(id = "pwd")
        )
      )
    })

    output$res_pwd &lt;- renderPrint({
      reactiveValuesToList(pwd_out)
    })

    pwd_out &lt;- callModule(
      module = pwd_server,
      id = "pwd",
      user = reactiveValues(user = "me"),
      update_pwd = function(user, pwd) {
        # store the password somewhere
        list(result = TRUE)
      }
    )

    observeEvent(pwd_out$relog, {
      removeUI(selector = "#module-pwd")
    })
  }

  shinyApp(ui, server)

}
</code></pre>


</div>