<div class="container">

<table style="width: 100%;"><tr>
<td>sr_bias</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>sr_bias .</h2>

<h3>Description</h3>

<p>Computes the asymptotic bias of the sample Sharpe ratio based on moments.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sr_bias(snr, n, cumulants, type = c("simple", "second_order"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>snr</code></td>
<td>
<p>the population Signal Noise ratio. Often one will use
the population estimate instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>the sample size that the Shapre ratio is observed on.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cumulants</code></td>
<td>
<p>a vector of the third through fourth, or the third
through seventh population cumulants of the random variable.
More terms are needed for the higher accuracy approximation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>determines the order of accuracy of the bias approximation.
Takes values of
</p>

<dl>
<dt>simple</dt>
<dd>
<p>We compute the simple approximation using only the skewness
and excess kurtosis.</p>
</dd>
<dt>second_order</dt>
<dd>
<p>We compute the more accurate approximation, given by
Bao, which is accurate to <code class="reqn">o\left(n^{-2}\right)</code>.</p>
</dd>
</dl>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The sample Sharpe ratio has bias of the form
</p>
<p style="text-align: center;"><code class="reqn">B = \left(\frac{3}{4n} + 3 \frac{\gamma_2}{8n}\right) \zeta - 
\frac{1}{2n} \gamma_1 + o\left(n^{-3/2}\right),</code>
</p>

<p>where <code class="reqn">\zeta</code> is the population Signal Noise ratio, 
<code class="reqn">n</code> is the sample size, <code class="reqn">\gamma_1</code> is the population skewness,
and <code class="reqn">\gamma_2</code> is the population excess kurtosis.
This form of the bias appears as Equation (5) in Bao, which
claims an accuracy of only <code class="reqn">o\left(n^{-1}\right)</code>. The
author believes this approximation is slightly more accurate.
</p>
<p>A more accurate form is given by Bao (Equation (3)) as 
</p>
<p style="text-align: center;"><code class="reqn">B = \frac{3\zeta}{4n}\zeta + \frac{49\zeta}{32n^2} - \gamma_1 \left(\frac{1}{2n} + \frac{3}{8n^2}\right) + \gamma_2 \zeta
\left(\frac{3}{8n} - \frac{15}{32n^2}\right) + \frac{3\gamma_3}{8n^2} - \frac{5\gamma_4 \zeta}{16n^2} - \frac{5\gamma_1^2\zeta}{4n^2}
+ \frac{105\gamma_2^2 \zeta}{128 n^2} - \frac{15 \gamma_1 \gamma_2}{16n^2} + o\left(n^{-2}\right),</code>
</p>

<p>where <code class="reqn">\gamma_3</code> through <code class="reqn">\gamma_5</code> are the fifth through
seventh cumulants of the error term.
</p>
<p>See ‘The Sharpe Ratio: Statistics and Applications’,
section 3.2.3.
</p>


<h3>Value</h3>

<p>the approximate bias of the Sharpe ratio. The bias is the
expected value of the sample Sharpe minus the Signal Noise ratio.
</p>


<h3>Note</h3>

<p>much of the code is adapted from Gauss code provided by Yong Bao.
</p>


<h3>Author(s)</h3>

<p>Steven E. Pav <a href="mailto:shabbychef@gmail.com">shabbychef@gmail.com</a>
</p>


<h3>References</h3>

<p>Bao, Yong. "Estimation Risk-Adjusted Sharpe Ratio and Fund Performance Ranking 
Under a General Return Distribution." Journal of Financial Econometrics 7, 
no. 2 (2009): 152-173. doi: <a href="https://doi.org/10.1093/jjfinec/nbn022">10.1093/jjfinec/nbn022</a>
</p>
<p>Pav, S. E. "The Sharpe Ratio: Statistics and Applications." CRC Press, 2021.
</p>


<h3>See Also</h3>

<p><code>sr_variance</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# bias under normality:
sr_bias(1, 100, rep(0,2), type='simple')
sr_bias(1, 100, rep(0,5), type='second_order')

# plugging in sample estimates
x &lt;- rnorm(1000)
n &lt;- length(x)
mu &lt;- mean(x)
sdv &lt;- sd(x)
snr &lt;- mu / sdv
# these are not great estimates, but close enough:
sku &lt;- mean((x-mu)^3) / sdv^3
kur &lt;- (mean((x-mu)^4) / sdv^4) - 4
sr_bias(snr, n, c(sku,kur), type='simple')

</code></pre>


</div>