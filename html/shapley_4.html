<div class="container">

<table style="width: 100%;"><tr>
<td>shapley.feature.selection</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Selects the top features with highest weighted mean shap values based on the
specified criteria</h2>

<h3>Description</h3>

<p>This function specifies the top features and prepares the data
for plotting SHAP contributions for each row, or summary of absolute
SHAP contributions for each feature.
</p>


<h3>Usage</h3>

<pre><code class="language-R">shapley.feature.selection(
  shapley,
  method = "lowerCI",
  cutoff = 0,
  top_n_features = NULL,
  features = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>shapley</code></td>
<td>
<p>shapley object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>character, specifying the method used for identifying the most
important features according to their weighted SHAP values.
The default selection method is "lowerCI", which includes
features whose lower weighted confidence interval exceeds the
predefined 'cutoff' value (default is relative SHAP of 1
Alternatively, the "mean" option can be specified, indicating
any feature with normalized weighted mean SHAP contribution above
the specified 'cutoff' should be selected. Another
alternative options is "shapratio", a method that filters
for features where the proportion of their relative weighted SHAP
value exceeds the 'cutoff'. This approach calculates the relative
contribution of each feature's weighted SHAP value against the
aggregate of all features, with those surpassing the 'cutoff'
being selected as top feature.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff</code></td>
<td>
<p>numeric, specifying the cutoff for the method used for selecting
the top features. the default is zero, which means that all
features with the "method" criteria above zero will be selected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>top_n_features</code></td>
<td>
<p>integer. if specified, the top n features with the
highest weighted SHAP values will be selected, overrullung
the 'cutoff' and 'method' arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>features</code></td>
<td>
<p>character vector, specifying the feature to be plotted.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>normalized numeric vector
</p>


<h3>Author(s)</h3>

<p>E. F. Haghish
</p>


</div>