<div class="container">

<table style="width: 100%;"><tr>
<td>varImp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Variable Importance</h2>

<h3>Description</h3>

<p>The function randomly permutes one variable at time (using training and
absence/background datasets) and computes the decrease in training AUC. The
result is normalized to percentages. Same implementation of MaxEnt java
software but with the additional possibility of running several permutations
to obtain a better estimate of the permutation importance. In case of more
than one permutation (default is 10) the average of the decrease in training
AUC is computed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">varImp(model, permut = 10, progress = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>SDMmodel or SDMmodelCV object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>permut</code></td>
<td>
<p>integer. Number of permutations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress</code></td>
<td>
<p>logical. If <code>TRUE</code> shows a progress bar.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note that it could return values slightly different from MaxEnt Java
software due to a different random permutation.
</p>
<p>For SDMmodelCV objects the function returns the average and the
standard deviation of the permutation importances of the single models.
</p>


<h3>Value</h3>

<p>data.frame with the ordered permutation importance.
</p>


<h3>Author(s)</h3>

<p>Sergio Vignali
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Acquire environmental variables
files &lt;- list.files(path = file.path(system.file(package = "dismo"), "ex"),
                    pattern = "grd",
                    full.names = TRUE)

predictors &lt;- terra::rast(files)

# Prepare presence and background locations
p_coords &lt;- virtualSp$presence
bg_coords &lt;- virtualSp$background

# Create SWD object
data &lt;- prepareSWD(species = "Virtual species",
                   p = p_coords,
                   a = bg_coords,
                   env = predictors,
                   categorical = "biome")

# Split presence locations in training (80%) and testing (20%) datasets
datasets &lt;- trainValTest(data,
                         test = 0.2,
                         only_presence = TRUE)
train &lt;- datasets[[1]]
test &lt;- datasets[[2]]

# Train a model
model &lt;- train(method = "Maxnet",
               data = train,
               fc = "l")

# Compute variable importance
vi &lt;- varImp(model,
             permut = 5)
vi

# Same example but using cross validation instead of training and testing
# datasets
# Create 4 random folds splitting only the presence locations
folds = randomFolds(data,
                    k = 4,
                    only_presence = TRUE)

model &lt;- train(method = "Maxnet",
               data = data,
               fc = "l",
               folds = folds)

# Compute variable importance
vi &lt;- varImp(model,
             permut = 5)
vi
</code></pre>


</div>