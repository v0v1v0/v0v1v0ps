<div class="container">

<table style="width: 100%;"><tr>
<td>trtObserve</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Observed exposure or treatment</h2>

<h3>Description</h3>

<p>Observed exposure or treatment
</p>


<h3>Usage</h3>

<pre><code class="language-R">trtObserve(dt, formulas, logit.link = FALSE, grpName = "trtGrp")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dt</code></td>
<td>
<p>data table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formulas</code></td>
<td>
<p>collection of formulas that determine probabilities</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logit.link</code></td>
<td>
<p>indicator that specifies link. If TRUE, then logit link
is used. If FALSE, the identity link is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grpName</code></td>
<td>
<p>character string representing name of treatment/exposure group
variable</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An integer (group) ranging from 1 to length of the probability vector
</p>


<h3>See Also</h3>

<p><code>trtAssign</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">def &lt;- defData(varname = "male", dist = "binary", formula = .5, id = "cid")
def &lt;- defData(def, varname = "over65", dist = "binary", formula = "-1.7 + .8*male", link = "logit")
def &lt;- defData(def, varname = "baseDBP", dist = "normal", formula = 70, variance = 40)

dtstudy &lt;- genData(1000, def)
dtstudy

formula1 &lt;- c("-2 + 2*male - .5*over65", "-1 + 2*male + .5*over65")
dtObs &lt;- trtObserve(dtstudy, formulas = formula1, logit.link = TRUE, grpName = "exposure")
dtObs

# Check actual distributions

dtObs[, .(pctMale = round(mean(male), 2)), keyby = exposure]
dtObs[, .(pctMale = round(mean(over65), 2)), keyby = exposure]

dtSum &lt;- dtObs[, .N, keyby = .(male, over65, exposure)]
dtSum[, grpPct := round(N / sum(N), 2), keyby = .(male, over65)]
dtSum
</code></pre>


</div>