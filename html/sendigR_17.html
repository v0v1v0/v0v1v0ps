<div class="container">

<table style="width: 100%;"><tr>
<td>getSubjSex</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract the set of animals of the specified sex - or just add the sex of each
animal.</h2>

<h3>Description</h3>

<p>Returns a data table with the set of animals included in the
<code>animalList</code> of the sex specified in the <code>sexFilter</code>.<br>
If the <code>sexFilter</code> is empty (null, na or empty string) - all rows from
<code>animalList</code> are returned with the an additional populated SEX column.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getSubjSex(
  dbToken,
  animalList,
  sexFilter = NULL,
  inclUncertain = FALSE,
  noFilterReportUncertain = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dbToken</code></td>
<td>
<p>Mandatory<br>
Token for the open database connection (see <code>initEnvironment</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>animalList</code></td>
<td>
<p>Mandatory, data.table.<br>
A table with the list of animals to process.<br>
The table must include at least columns named 'STUDYID' and 'USUBJID'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sexFilter</code></td>
<td>
<p>Optional, character.<br>
The sex value criterion to be used for filtering of the list of animals.<br>
It can be a single string, a vector or a list of multiple strings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inclUncertain</code></td>
<td>
<p>Mandatory, boolean.<br>
Indicates whether animals for which the sex cannot be confidently identified
shall be included or not in the output data table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noFilterReportUncertain</code></td>
<td>
<p>Mandatory, boolean.<br>
Only relevant if the <code>sexFilter</code> is empty.<br>
Indicates if the reason should be included if the sex cannot be confidently
decided for an animal.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The sex value is decided from the DM.SEX variable.<br>
The comparison of DM.SEX with the given value(s) in <code>sexFilter</code> is done
case-insensitive.
</p>
<p>If input parameter <code>inclUncertain=TRUE</code>, uncertain animals are included
in the output set. These uncertain situations are identified and reported (in
column UNCERTAIN_MSG):
</p>

<ul><li>
<p> The DM.SEX value is empty or invalid (not CT value - CDISC codelist
SEX - case insensitive comparison)
</p>
</li></ul>
<p>The same checks are performed and reported in column NOT_VALID_MSG if
<code>sexFilter</code> is empty and <code>noFilterReportUncertain=TRUE</code>.
</p>


<h3>Value</h3>

<p>The function returns a data.table with columns:
</p>

<ul>
<li>
<p> STUDYID       (character)
</p>
</li>
<li>
<p> Additional columns contained in the <code>animalList</code> table
</p>
</li>
<li>
<p> SEX          (character)
</p>
</li>
<li>
<p> UNCERTAIN_MSG (character)<br>
Included when parameter <code>inclUncertain=TRUE</code>.<br>
In case the sex cannot be confidently matched during the filtering of data,
the column contains an indication of the reason.<br>
Is NA for rows where SEX can be confidently matched.<br>
A non-empty UNCERTAIN_MSG value generated by this function is merged with
non-empty UNCERTAIN_MSG values which may exist in the input set of animals
specified in <code>animalList</code> - separated by '|'.
</p>
</li>
<li>
<p> NOT_VALID_MSG (character)<br>
Included when parameter <code>noFilterReportUncertain=TRUE</code>.<br>
In case the sex cannot be confidently decided, the column contains an
indication of the reason.<br>
Is NA for rows where sex can be confidently decided.<br>
A non-empty NOT_VALID_MSG value generated by this function is merged with
non-empty NOT_VALID_MSG values which may exist in the input set of animals
<code>animalList</code> - separated by '|'.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
getSubjSex(myDbToken, controlAnimals, 'M')

## End(Not run)
</code></pre>


</div>