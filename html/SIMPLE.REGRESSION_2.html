<div class="container">

<table style="width: 100%;"><tr>
<td>COUNT_REGRESSION</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Count data regression</h2>

<h3>Description</h3>

<p>Provides SPSS- and SAS-like output for count data
regression, including Poisson, quasi-Poisson, and negative binomial models.  
The output includes model summaries, classification tables, omnibus tests of 
the model coefficients, overdispersion tests, model effect sizes, the 
model coefficients, correlation matrix for the model coefficients, collinearity 
statistics, and casewise regression diagnostics.</p>


<h3>Usage</h3>

<pre><code class="language-R">COUNT_REGRESSION(data, DV, forced = NULL, hierarchical = NULL,
                 family = 'poisson',
                 offset = NULL,
                 plot_type = 'residuals',
                 verbose = TRUE )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>A dataframe where the rows are cases and the columns are the variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DV</code></td>
<td>

<p>The name of the dependent variable. 
<br> Example: DV = 'outcomeVar'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forced</code></td>
<td>

<p>(optional) A vector of the names of the predictor variables for a forced/simultaneous  
entry regression. The variables can be numeric or factors. 
<br> Example: forced = c('VarA', 'VarB', 'VarC')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hierarchical</code></td>
<td>

<p>(optional) A list with the names of the predictor variables for each step of a 
hierarchical regression. The variables can be numeric or factors.
<br> Example: hierarchical = list(step1=c('VarA', 'VarB'), step2=c('VarC', 'VarD'))</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>

<p>(optional) The name of the error distribution to be 
used in the model. The options are:
</p>

<ul>
<li>
<p>"poisson" (the default),
</p>
</li>
<li>
<p>"quasipoisson", or
</p>
</li>
<li>
<p>"negbin", for negative binomial.
</p>
</li>
</ul>
<p>Example: family = 'quasipoisson'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>

<p>(optional) The name of the offset variable, if there is one. This variable
should be in the desired metric (e.g., log). No transformation of an
offset variable is performed internally.
<br> Example: offset = 'Varname'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_type</code></td>
<td>

<p>(optional) The kind of plots, if any. The options are:
</p>

<ul>
<li>
<p>'residuals' (the default),
</p>
</li>
<li>
<p>'diagnostics', for regression diagnostics, and
</p>
</li>
<li>
<p>'none', for no plots.
</p>
</li>
</ul>
<p>Example: plot_type = 'diagnostics'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>(optional) Should detailed results be displayed in console? <br> The options are: 
TRUE (default) or FALSE. If TRUE, plots of residuals are also produced.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function uses the glm function from the stats package, and the 
negative.binomial function from the MASS package, and
supplements the output with additional statistics and in formats that resembles
SPSS and SAS output. The predictor variables can be numeric or factors.
</p>
<p>Predicted values for this model, for selected levels of the predictor variables,
can be produced and plotted using the PLOT_MODEL funtion in this package.
</p>
<p>Good sources for interpreting count data regression residuals and diagnostics plots:
</p>

<ul>
<li>
<p><a href="https://rpubs.com/benhorvath/glm_diagnostics">rpubs.com/benhorvath</a>
</p>
</li>
<li>
<p><a href="https://library.virginia.edu/data/articles/understanding-deviance-residuals">library.virginia.edu</a>
</p>
</li>
<li>
<p><a href="https://online.stat.psu.edu/stat462/node/207/">online.stat.psu.edu</a>
</p>
</li>
</ul>
<h3>Value</h3>

<p>An object of class "COUNT_REGRESSION". The object is a list containing the
following possible components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>modelMAIN</code></td>
<td>
<p>All of the glm function output for the regression model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modelMAINsum</code></td>
<td>
<p>All of the summary.glm function output for the regression model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modeldata</code></td>
<td>
<p>All of the predictor and outcome raw data that were used in the model,
along with regression diagnostic statistics for each case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collin_diags</code></td>
<td>
<p>Collinearity diagnostic coefficients for models without interaction terms.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cormat</code></td>
<td>
<p>The correlation matrix for the model coefficients.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Brian P. O'Connor</p>


<h3>References</h3>

<p>Atkins, D. C., &amp; Gallop, R. J. (2007). Rethinking how family researchers 
model infrequent outcomes: A tutorial on count regression and zero-inflated 
models. <em>Journal of Family Psychology, 21(4),</em> 726-735.
<br><br> Beaujean, A. A., &amp; Grant, M. B. (2019). Tutorial on using regression 
models with count outcomes using R. <em>Practical Assessment, 
Research, and Evaluation: Vol. 21, Article 2.</em>
<br><br> Coxe, S., West, S.G., &amp; Aiken, L.S. (2009). The analysis of count data: 
A gentle introduction to Poisson regression and its alternatives. 
<em>Journal of Personality Assessment, 91,</em> 121-136.
<br><br> Dunn, P. K., &amp; Smyth, G. K. (2018). <em>Generalized linear models 
with examples in R.</em> Springer.
<br><br> Hardin, J. W., &amp; Hilbe, J. M. (2007). <em>Generalized linear models 
and extensions.</em> Stata Press.
<br><br> Orme, J. G., &amp; Combs-Orme, T. (2009). <em>Multiple regression with discrete 
dependent variables.</em> Oxford University Press.
<br><br> Rindskopf, D. (2023). Generalized linear models. In H. Cooper, M. N. 
Coutanche, L. M. McMullen, A. T. Panter, D. Rindskopf, &amp; K. J. Sher (Eds.), 
<em>APA handbook of research methods in psychology: Data analysis and 
research publication, </em> (2nd ed., pp. 201-218). American Psychological Association.
</p>


<h3>Examples</h3>

<pre><code class="language-R">COUNT_REGRESSION(data=data_Kremelburg_2011, DV='OVRJOYED', 
                 forced=c('AGE','EDUC','REALRINC','SEX_factor'))

# negative binomial regression
COUNT_REGRESSION(data=data_Kremelburg_2011, DV='HURTATWK', 
                 forced=c('AGE','EDUC','REALRINC','SEX_factor'),
                 family = 'negbin',
                 plot_type = 'diagnostics')

# with an offset variable
COUNT_REGRESSION(data=data_Orme_2009_5, DV='NumberAdopted', forced=c('Married'), 
                 offset='lnYearsFostered')

</code></pre>


</div>