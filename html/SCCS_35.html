<div class="container">

<table style="width: 100%;"><tr>
<td>simulatesccsdata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulation of SCCS data

</h2>

<h3>Description</h3>

<p>This function creates a simulated SCCS data set with given design parameters, and can be used to generate cases with observation and risk periods of different durations, multiple risk periods, repeated exposures, and washout periods. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">simulatesccsdata(nindivs, astart, aend, adrug, aedrug, expogrp=c(0), eexpo,
                washout=NULL, ewashout=NULL, agegrp=NULL, eage=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nindivs</code></td>
<td>

<p>a positive integer: number of cases to be generated (1 event per case).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>astart</code></td>
<td>

<p>age at start of an observation period. It is a single number if the same start of observation for all cases is required or a vector of length equal to <code>nindivs</code> to allow different starts of observation periods for different cases. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aend</code></td>
<td>

<p>age at end of the observation period. A single number for the same end of observation periods for all cases or a vector to allow for different end of observation periods. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adrug</code></td>
<td>

<p>a vector (of length <code>nindivs</code>) of  ages at which exposure starts or a matrix if there are multiple exposures. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aedrug</code></td>
<td>

<p>a vector of ages at which exposure-related risk ends or a matrix if there are multiple exposures. The number of columns of <code>aedrug</code> is equal to the number of columns of <code>adrug</code>, that is <code>aedrug</code> should be given for each column in <code>adrug</code>. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expogrp</code></td>
<td>

<p>a vectors of days to the start of exposure-related risk, counted from <code>adrug</code>. E.g if the risk period is [<code>adrug</code>+c,<code>aedrug</code>], use expogrp = c. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eexpo</code></td>
<td>

<p>a vector of exposure-related relative incidences.
</p>
</td>
</tr>
</table>
<table>
<tr style="vertical-align: top;">
<td><code>washout</code></td>
<td>

<p>a vector of days to start of washout periods counted from <code>aedrug</code>. The default is  NULL, no washout periods.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ewashout</code></td>
<td>

<p>a vector of true relative incidence values associated with washout periods; it defaults to NULL when washout=NULL. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>agegrp</code></td>
<td>

<p>cut points of age groups, defaults to NULL (i.e no age effect included). These are given as the day of an age category starts, the first age category starts at the minimum of <code>astart</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eage</code></td>
<td>

<p>a vector of age-related relative incidences. The default is NULL where there is no age effect i.e agegrp = NULL. If age-specific relative incidences are from a continuous function <code>eage</code> is a vector of relative incidences at each age and <code>agegrp</code>=NULL.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The true relative incidences related to age and exposure could be generated from discrete or continuous distributions.</p>


<h3>Value</h3>

<p>A data frame with columns "indiv" = individual identifier, "astart" = age on the day observation period starts, "adrug" = age on  the day exposure starts, "aedrug" = age at the end of exposure related risk period, "aend" = age at the end of observation period, and "aevent" = age on the day of outcome event.
</p>


<h3>Author(s)</h3>

<p>Yonas Ghebremichael-Weldeselassie, Heather Whitaker, Paddy Farrington. 
</p>


<h3>References</h3>

<p>Farrington, P., Whitaker, H., and Ghebremichael-Weldeselassie, Y. (2018). Self-controlled Case Series Studies: A modelling Guide with R. Boca Raton: Chapman &amp; Hall/CRC Press.</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Simulate data where all the cases have same start and end of 
# observation periods and no age effect 

set.seed(4321)

arisk &lt;- round(runif(110,366,730)) # ages at start of exposure

simdata &lt;- simulatesccsdata(nindivs=110, astart=366, aend=730,
                            adrug=arisk, aedrug=arisk+20, eexpo=2.5)
                            

simdata
</code></pre>


</div>