<div class="container">

<table style="width: 100%;"><tr>
<td>getARL</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Average Run Length (ARL)</h2>

<h3>Description</h3>

<p>Get the ARL <code>getRL</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">getARL(
  n,
  m,
  theta = NULL,
  Ftheta = NULL,
  dist,
  mu,
  sigma,
  dist.par = c(0, 1, 1),
  chart,
  chart.par,
  scoring = "Z",
  Chi2corrector = "None",
  replicates = 10000,
  isParallel = TRUE,
  print.RL = FALSE,
  progress = FALSE,
  calibrate = FALSE,
  arl0 = 370,
  alignment = "unadjusted",
  constant = NULL,
  absolute = FALSE,
  isFixed = FALSE,
  rounding.factor = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>scalar. Subroup size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>scalar. Reference sample size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>scalar. Value corresponig with the <code>Ftheta</code> quantile.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ftheta</code></td>
<td>
<p>scalar. Quantile of the data distribution. The values that take are between (0,1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>
<p>character string. Select from:
</p>

<ul>
<li>
<p>"Uniform: Continuous Uniform distribution .
</p>
</li>
<li>
<p>"Normal": Normal distribution (default).
</p>
</li>
<li>
<p>"Normal2": Squared Normal distribution (also known as Chi-squared).
</p>
</li>
<li>
<p>"DoubleExp": Double exponential distribution (also known as Laplace distribution).
</p>
</li>
<li>
<p>"DoubleExp2": Double exponential squared distribution from a <code>DoubleExp(0,1)</code>.
</p>
</li>
<li>
<p>"LogNormal": Lognormal distribution.
</p>
</li>
<li>
<p>"Gamma": Gamma distribution.
</p>
</li>
<li>
<p>"Weibull": Weibull distribution.
</p>
</li>
<li>
<p>"t": Student-t distribution.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu</code></td>
<td>
<p>vector. Two elements, the first one is the mean of the reference sample and the second one is the mean of the monitoring sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma</code></td>
<td>
<p>vector. Two elements, the first one is the sd of the reference sample and the second one is the sd of the monitoring sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist.par</code></td>
<td>
<p>vector. Distribution parameters. <code>c(par.a, par.b)</code>. Default <code>c(0,1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chart</code></td>
<td>
<p>character string. Selected type of chart. Three options are available: Shewhart, CUSUM, EWMA</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chart.par</code></td>
<td>
<p>vector. The size depends on the selected chart:
</p>

<dl>
<dt>Shewhart scheme: </dt>
<dd>
<p>is <code>c(k)</code>, where <code>k</code> comes from <code class="reqn">UCL = mu + k\sigma, LCL = mu - k\sigma.</code></p>
</dd>
<dt>CUSUM scheme: </dt>
<dd>
<p>is <code>c(k, h, t)</code> where <code>k</code> is the reference value and <code>h</code> is the control limit,
and <code>t</code> is the type of the chart (1:positive, 2:negative, 3:two sides)</p>
</dd>
<dt>EWMA scheme: </dt>
<dd>
<p>is <code>c(lambda, L)</code>, where <code>lambda</code> is the smoothing constant
and <code>L</code> multiplies standard deviation to get the control limit</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scoring</code></td>
<td>
<p>character string. If "Z" (normal scores) (default). If "Z-SQ" (normal scores squared).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Chi2corrector</code></td>
<td>
<p>character string. Only when scoring is Z-SQ. Select from
</p>

<ul>
<li>
<p>"approx: Z^2*(m + 1 + 1.3)/(m+1).
</p>
</li>
<li>
<p>"exact": Z^2/mean(Z).
</p>
</li>
<li>
<p>"none": Z^2.
</p>
</li>
</ul>
<p>If "approx" () (default). If "exact" (normal scores squared).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replicates</code></td>
<td>
<p>scalar. Number of replicates to get the ARL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>isParallel</code></td>
<td>
<p>logical. If <code>TRUE</code> the code runs in parallel according to the
number of cores in the computer,otherwise the code runs sequentially. Default <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.RL</code></td>
<td>
<p>logical. If <code>TRUE</code> return the vectors of RL for each iteration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress</code></td>
<td>
<p>logical. If <code>TRUE</code> it shows the progress in the console.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calibrate</code></td>
<td>
<p>logical. If <code>TRUE</code> the RL is limit to 10 times the target ARL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arl0</code></td>
<td>
<p>scalar. Expected value of the RL. Default <code>370</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alignment</code></td>
<td>
<p>character string. Aligment of the data <code>X</code> and <code>Y</code>. Select from
</p>

<ul>
<li>
<p> "unadjusted": nothing is sustracte from <code>X</code> and <code>Y</code> (default).
</p>
</li>
<li>
<p> "overallmean": overall mean is sustracted from <code>X</code> and <code>Y</code>.
</p>
</li>
<li>
<p> "overallmedian": overall median is sustracted from <code>X</code> and <code>Y</code>.
</p>
</li>
<li>
<p> "samplemean": mean from corresponding group (<code>X</code> and <code>Y</code>) is sustracted from its corresponing vector.
</p>
</li>
<li>
<p> "samplemedian": median from corresponding group (<code>X</code> and <code>Y</code>) is sustracted from its corresponing vector.
</p>
</li>
<li>
<p> "referencemean": mean from <code>Y</code> is subtracted from <code>X</code> and <code>Y</code>.
</p>
</li>
<li>
<p> "referencemedian": median from <code>Y</code> is subtracted from <code>X</code> and <code>Y</code>.
</p>
</li>
<li>
<p> "constantvalue": a constant value is subtracted from <code>X</code> and <code>Y</code>.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constant</code></td>
<td>
<p>scalar. Only used when the <code>alignment</code> is selected "constantvalue". Default <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>absolute</code></td>
<td>
<p>logical. If <code>TRUE</code>, the absolute aligned values are obtained. (Default <code>FALSE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>isFixed</code></td>
<td>
<p>logical. If <code>TRUE</code> the reference sample does not update, otherwise the reference sample is updated whenever the batch is in control.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rounding.factor</code></td>
<td>
<p>scalar. positive value that determine the range between two consecutive rounded values.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Multiple output. Select by <code>output$</code>
</p>

<ul>
<li> <p><code>ARL</code>: scalar. Average Run Length for the <code>RL</code>s of all the <code>replicates</code>.
</p>
</li>
<li> <p><code>SDRL</code>: scalar. Standard Deviation Run Length for the <code>RL</code> in all the <code>replicates</code>.
</p>
</li>
<li> <p><code>MRL</code>: bolean. Median Run Length for the <code>RL</code>s of all the <code>replicates</code>.
</p>
</li>
<li> <p><code>QRL</code>: vector. It retrieve the quantiles (0.05, 0.1, 0.2, 0.25, 0.5, 0.75, 0.8, 0.9, 0.95) for all the <code>RL</code>s.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">n &lt;- 5 # subgroup size
m &lt;- 100 # reference-sample size
dist &lt;- "Normal"
mu &lt;- c(0, 0) # c(reference sample mean, monitoring sample mean)
sigma &lt;- c(1, 1) # c(reference sample sd, monitoring sample sd)

#### Normal distribution parameters
dist.par &lt;- c(0, 1) # c(location, scale)

#### Other Parameters
replicates &lt;- 2
print.RL &lt;- TRUE
isParallel &lt;- FALSE
calibrate &lt;- FALSE
progress &lt;- TRUE
arl0 &lt;- 370

#### Control chart parameters
chart &lt;- "Shewhart"
chart.par &lt;- c(3)
shewhart &lt;- getARL(n, m,
  theta = NULL, Ftheta = NULL, dist, mu, sigma, dist.par = dist.par,
  chart = chart, chart.par = chart.par, print.RL = print.RL,
  replicates = replicates, isParallel = isParallel,
  calibrate = calibrate, arl0 = arl0
)

chart &lt;- "CUSUM"
chart.par &lt;- c(0.25, 4.4181, 3)
cusum &lt;- getARL(n, m,
  theta = NULL, Ftheta = NULL, dist, mu, sigma, dist.par = dist.par,
  chart = chart, chart.par = chart.par, print.RL = print.RL,
  replicates = replicates, isParallel = isParallel,
  calibrate = calibrate, arl0 = arl0
)

chart &lt;- "EWMA"
chart.par &lt;- c(0.2, 2.962)
shewhart &lt;- getARL(n, m,
  theta = NULL, Ftheta = NULL, dist, mu, sigma, dist.par = dist.par,
  chart = chart, chart.par = chart.par, print.RL = print.RL,
  replicates = replicates, isParallel = isParallel,
  calibrate = calibrate, arl0 = arl0
)
</code></pre>


</div>