<div class="container">

<table style="width: 100%;"><tr>
<td>syn.polyreg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Synthesis by unordered polytomous regression</h2>

<h3>Description</h3>

<p>Generates a synthetic categorical variable using
unordered polytomous regression (without or with bootstrap).
</p>


<h3>Usage</h3>

<pre><code class="language-R">syn.polyreg(y, x, xp, proper = FALSE, maxit = 1000, trace = FALSE, 
            MaxNWts = 10000, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>an original data vector of length <code>n</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a matrix (<code>n</code> x <code>p</code>) of original covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xp</code></td>
<td>
<p>a matrix (<code>k</code> x <code>p</code>) of synthesised covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proper</code></td>
<td>
<p>for proper synthesis (<code>proper = TRUE</code>) 
a multinomial model is fitted to a bootstrapped sample of the original data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxit</code></td>
<td>
<p>the maximum number of iterations for <code>nnet</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trace</code></td>
<td>
<p>switch for tracing optimization for <code>nnet</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MaxNWts</code></td>
<td>
<p>the maximum allowable number of weights for <code>nnet</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional parameters passed to <code>nnet</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Generates synthetic categorical variables by the polytomous 
regression model. The method consists of the following steps: </p>

<ol>
<li>
<p> Fit categorical response as a multinomial model.
</p>
</li>
<li>
<p> Compute predicted categories. </p>
</li>
<li>
<p> Add appropriate
noise to predictions.</p>
</li>
</ol>
<p>The algorithm of <code>syn.polyreg</code> uses the function 
<code>multinom</code> from the <span class="pkg">nnet</span> package. Any numerical 
variables are scaled to cover the range (0,1) before fitting. Warnings 
are printed if the algorithm fails to converge in <code>maxit</code> iterations
and also if the synthesised data has only one category. The latter may occur 
if the variable being synthesised is sparse so that the algorithm fails to 
iterate.
</p>
<p>In order to avoid bias due to perfect prediction, the
data are augmented by the method of White, Daniel and Royston (2010).   
</p>
<p>NOTE that when the function is called by setting elements of method in <code>syn()</code>
to <code>"polyreg"</code>, the parameters <code>maxit</code>, <code>trace</code> and <code>MaxNWts</code>
can be supplied to <code>syn()</code> as e.g. <code>polyreg.maxit</code>.
</p>


<h3>Value</h3>

<p>A list with two components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>res</code></td>
<td>
<p>a vector of length <code>k</code> with synthetic values of <code>y</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>a summary of the model fitted to the observed data and used
to produce synthetic values.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>White, I.R., Daniel, R. and Royston, P. (2010). Avoiding bias
due to perfect prediction in multiple imputation of
incomplete categorical variables. <em>Computational
Statistics and Data Analysis</em>, <b>54</b>, 2267â€“2275.</p>


<h3>See Also</h3>

<p><code>syn</code>, <code>syn.polr</code>,
<code>multinom</code>, <code>polr</code>
</p>


</div>