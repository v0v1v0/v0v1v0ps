<div class="container">

<table style="width: 100%;"><tr>
<td>store_rds</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Use RDS files as storage mode</h2>

<h3>Description</h3>

<p>One RDS will be written for each session of the application.
</p>


<h3>Usage</h3>

<pre><code class="language-R">store_rds(path)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>Path where to write RDS files.</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A list that can be used in <code>track_usage()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(shiny)
library(shinylogs)

# temp directory for writing logs
tmp &lt;- tempdir()

# when app stop,
# navigate to the directory containing logs
onStop(function() {
  browseURL(url = tmp)
})

# Classir Iris clustering with Shiny
ui &lt;- fluidPage(

  headerPanel("Iris k-means clustering"),

  sidebarLayout(
    sidebarPanel(
      selectInput(
        inputId = "xcol",
        label = "X Variable",
        choices = names(iris)
      ),
      selectInput(
        inputId = "ycol",
        label = "Y Variable",
        choices = names(iris),
        selected = names(iris)[[2]]
      ),
      numericInput(
        inputId = "clusters",
        label = "Cluster count",
        value = 3,
        min = 1,
        max = 9
      )
    ),
    mainPanel(
      plotOutput("plot1")
    )
  )
)

server &lt;- function(input, output, session) {

  # Store RDS with logs in the temp dir
  track_usage(
    storage_mode = store_rds(path = tmp)
  )

  # classic server logic

  selectedData &lt;- reactive({
    iris[, c(input$xcol, input$ycol)]
  })

  clusters &lt;- reactive({
    kmeans(selectedData(), input$clusters)
  })

  output$plot1 &lt;- renderPlot({
    palette(c("#E41A1C", "#377EB8", "#4DAF4A", "#984EA3",
              "#FF7F00", "#FFFF33", "#A65628", "#F781BF", "#999999"))

    par(mar = c(5.1, 4.1, 0, 1))
    plot(selectedData(),
         col = clusters()$cluster,
         pch = 20, cex = 3)
    points(clusters()$centers, pch = 4, cex = 4, lwd = 4)
  })

}


if (interactive())
  shinyApp(ui, server)
</code></pre>


</div>