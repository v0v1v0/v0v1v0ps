<div class="container">

<table style="width: 100%;"><tr>
<td>s2Data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>

Data wrapper for <code>s2net</code>.
</h2>

<h3>Description</h3>


<p>This function preprocess the data to fit a semi-supervised linear joint trained model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">s2Data(xL, yL, xU = NULL, preprocess = T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xL</code></td>
<td>


<p>The labeled data. Could be a <code>matrix</code> or <code>data.frame</code>. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yL</code></td>
<td>


<p>The labels associated with <code>xL</code>. Could be a <code>vector</code>, <code>matrix</code> or <code>data.frame</code>, of <code>factor</code> or <code>numeric</code> types.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xU</code></td>
<td>


<p>The unlabeled data (optional). Could be a <code>matrix</code> or <code>data.frame</code>. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preprocess</code></td>
<td>


<p>Should the input data be pre-processed? Possible values are: 
</p>
<p><code>TRUE</code> (default) The data is converted to a matrix. Factor variables are automatically coded using <code>model.matrix</code>. The data is scaled, and constant columns are removed.
</p>
<p><code>FALSE</code> Do nothing. Keep in mind that the theoretical framework assumes that <code>xL</code> is centered. Unless you are absolutely sure, avoid this.
</p>
<p>Another object of class <code>s2Data</code> that was obtained from similar data (same original variables). This is useful when using train/validation sets, to apply the validation data the same transformation as train data. 
</p>
</td>
</tr>
</table>
<h3>Value</h3>






<p>Returns an object of S3 class <code>s2Data</code> with fields
</p>
<table>
<tr style="vertical-align: top;">
<td><code>xL </code></td>
<td>
<p>Transformed labeled data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yL </code></td>
<td>
<p>Transformed labels. If <code>yL</code> was a factor, it is converted to numeric, and the base category is kept in <code>base</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xU </code></td>
<td>
<p>Tranformed unlabeled data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type </code></td>
<td>
<p>Type of task. This one is inferred from the response labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base </code></td>
<td>
<p>Base category for classification <code>0 = base</code></p>
</td>
</tr>
</table>
<p>In addition the following attributes are stored.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>pr:rm_cols </code></td>
<td>
<p>logical vector of removed columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pr:center </code></td>
<td>
<p>column center</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pr:scale </code></td>
<td>
<p>column scale</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pr:ycenter </code></td>
<td>
<p>yL center. Regression</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pr:yscale </code></td>
<td>
<p>yL scale. Regression</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>


<p>Juan C. Laria
</p>


<h3>See Also</h3>


<p><code>s2Fista</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("auto_mpg")

train = s2Data( xL = auto_mpg$P1$xL,
                  yL = auto_mpg$P1$yL,
                  xU = auto_mpg$P1$xU,
                  preprocess = TRUE )
show(train)

# Notice how ordered factor variable $cylinders is handled 
# .L (linear) .Q (quadratic) .C (cubic) and .^4
head(train$xL) 


#if you want to do validation with the unlabeled data
idx = sample(length(auto_mpg$P1$yU), 200)

train = s2Data(xL = auto_mpg$P1$xL, yL = auto_mpg$P1$yL, xU = auto_mpg$P1$xU[idx, ])

valid = s2Data(xL = auto_mpg$P1$xU[-idx, ], yL = auto_mpg$P1$yU[-idx], preprocess = train)

test = s2Data(xL = auto_mpg$P1$xU[idx, ], yL = auto_mpg$P1$yU[idx], preprocess = train)

train
valid
test
</code></pre>


</div>