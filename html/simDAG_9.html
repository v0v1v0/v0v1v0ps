<div class="container">

<table style="width: 100%;"><tr>
<td>do</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Pearls do-operator for <code>DAG</code> objects
</h2>

<h3>Description</h3>

<p>This function can be used to set one or more nodes in a given <code>DAG</code> object to a specific value, which corresponds to an intervention on a DAG as defined by the do-operator introduced by Judea Pearl.
</p>


<h3>Usage</h3>

<pre><code class="language-R">do(dag, names, values)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dag</code></td>
<td>

<p>A <code>DAG</code> object created using the <code>empty_dag</code> and <code>node</code> functions. See <code>?node</code> for more information on how to specify a DAG.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>

<p>A character string specifying names of nodes in the <code>dag</code> object. The value of these nodes will be set to the corresponding value specified in the <code>values</code> argument. If the node is not already defined in <code>dag</code>, a new one will be added without warning.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values</code></td>
<td>

<p>A vector or list of any values. These nodes defined with the <code>names</code> argument will be set to those values.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Internally this function simply removes the old node definition of all nodes in <code>names</code> and replaces it with a new node definition that defines the node as a constant value, irrespective of the original definition. The same effect can be created by directly specifying the <code>DAG</code> in this way from the start (see examples).
</p>
<p>This function does not alter the original <code>DAG</code> in place. Instead, it returns a modified version of the <code>DAG</code>. In other words, using only <code>do(dag, names="A", values=3)</code> will not change the <code>dag</code> object.
</p>


<h3>Value</h3>

<p>Returns a <code>DAG</code> object with updated node definitions.
</p>


<h3>Author(s)</h3>

<p>Robin Denz
</p>


<h3>References</h3>

<p>Judea Pearl (2009). Causality: Models, Reasoning and Inference. 2nd ed. Cambridge: Cambridge University Press
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(simDAG)

# define some initial DAG
dag &lt;- empty_dag() +
  node("death", "binomial", c("age", "sex"), betas=c(1, 2), intercept=-10) +
  node("age", type="rnorm", mean=10, sd=2) +
  node("sex", parents="", type="rbernoulli", p=0.5) +
  node("smoking", parents=c("sex", "age"), type="binomial",
       betas=c(0.6, 0.2), intercept=-2)

# return new DAG with do(smoking = TRUE)
dag2 &lt;- do(dag, names="smoking", values=TRUE)

# which is equivalent to
dag2 &lt;- empty_dag() +
  node("death", "binomial", c("age", "sex"), betas=c(1, 2), intercept=-10) +
  node("age", type="rnorm", mean=10, sd=2) +
  node("sex", parents="", type="rbernoulli", p=0.5) +
  node("smoking", type="rconstant", constant=TRUE)

# use do() on multiple variables: do(smoking = TRUE, sex = FALSE)
dag2 &lt;- do(dag, names=c("smoking", "sex"), values=list(TRUE, FALSE))
</code></pre>


</div>