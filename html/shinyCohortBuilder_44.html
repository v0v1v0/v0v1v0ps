<div class="container">

<table style="width: 100%;"><tr>
<td>rendering-custom-attrition</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Method for generating custom attrition output</h2>

<h3>Description</h3>

<p>When method is defined for selected source, the output is displayed in attrition modal tab.
</p>


<h3>Usage</h3>

<pre><code class="language-R">.custom_attrition(source, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>source</code></td>
<td>
<p>Source object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra arguments passed to specific method.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Similar to .step_attrition the method should return list of 'render' and 'output' expressions.
</p>


<h3>Value</h3>

<p>List of two objects: 'render' and 'output' defining rendering and
output placeholder for custom attrition plot feature.
</p>


<h3>See Also</h3>

<p>source-gui-layer
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (interactive()) {
  library(magrittr)
  library(shiny)
  library(cohortBuilder)
  library(shinyCohortBuilder)

  .custom_attrition.tblist &lt;- function(source, id, cohort, session, ...) {
    ns &lt;- session$ns
    choices &lt;- names(source$dtconn)

    list(
      render = shiny::renderPlot({
        cohort$show_attrition(dataset = session$input$attrition_input)
      }),
      output = shiny::tagList(
        shiny::h3("Step-wise Attrition Plot"),
        shiny::selectInput(ns("attrition_input"), "Choose dataset", choices),
        shiny::plotOutput(id)
      )
    )
  }
  coh &lt;- cohort(
    set_source(as.tblist(librarian)),
    step(
      filter(
        "range", id = "copies", dataset = "books",
        variable = "copies", range = c(5, 12)
      )
    ),
    step(
      filter(
        "range", id = "copies", dataset = "books",
        variable = "copies", range = c(6, 8)
      )
    )
  ) %&gt;% run()

  ui &lt;- fluidPage(
    div(id = "attrition")
  )

  server &lt;- function(input, output, session) {
    rendering &lt;- .custom_attrition(
      coh$get_source(), id = "attr", cohort = coh, session = session, dataset = "books"
    )
    insertUI("#attrition", ui = rendering$output)
    output$attr &lt;- rendering$render
  }

  shinyApp(ui, server)
}

</code></pre>


</div>