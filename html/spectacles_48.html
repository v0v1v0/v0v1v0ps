<div class="container">

<table style="width: 100%;"><tr>
<td>mutate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Mutate a Spectra* object by transforming the spectra values, and/or adding
new or replacing existing attributes.</h2>

<h3>Description</h3>

<p>This function is very similar to <code>transform</code> but it executes the
transformations iteratively so that later transformations can use the
columns created by earlier transformations. Like transform, unnamed
components are silently dropped.
</p>
<p>Either the spectra, and/or the attributes (if the <code>.data</code> inherits from
the <code>SpectraDataFrame</code> class) can be affected: </p>
 <ul>
<li>
<p> To
affect the spectra, one should use the <code>nir</code> placeholder, eg <code>nir
= log(1/nir)</code> </p>
</li>
<li>
<p> To affect the attributes of the object, the definitions
of new columns are simply given using attributes names, <code>newAttribute =
1/sqrt(attribute)</code> </p>
</li>
<li>
<p> Both spectra and attrbutes can be transformed in
one command.</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'Spectra'
mutate(.data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>an object inheriting from the <code>Spectra</code> class</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>named parameters giving definitions of new columns</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Pierre Roudier <a href="mailto:pierre.roudier@gmail.com">pierre.roudier@gmail.com</a>, from code from
Hadley Wickham
</p>


<h3>References</h3>

<p>Hadley Wickham (2011). The Split-Apply-Combine Strategy for Data
Analysis. Journal of Statistical Software, 40(1), 1-29. URL
http://www.jstatsoft.org/v40/i01/.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Loading example data
data(australia)
spectra(australia) &lt;- sr_no ~ ... ~ 350:2500

# Modifying spectra
m &lt;- mutate(australia, nir = log1p(1/nir))
plot(m)

# Modifying and creating attributes
m &lt;- mutate(
  australia, 
  sqrt_carbon = sqrt(carbon), 
  foo = clay + ph, 
  nir = log1p(1/nir)
)
plot(m)
</code></pre>


</div>