<div class="container">

<table style="width: 100%;"><tr>
<td>grimmer_map</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>GRIMMER-test many cases at once</h2>

<h3>Description</h3>

<p>Call <code>grimmer_map()</code> to GRIMMER-test any number of combinations
of mean, standard deviation, sample size, and number of items. Mapping
function for GRIMMER testing.
</p>
<p>For summary statistics, call <code>audit()</code> on the results. Visualize results
using <code>grim_plot()</code>, as with GRIM results.
</p>


<h3>Usage</h3>

<pre><code class="language-R">grimmer_map(
  data,
  items = 1,
  merge_items = TRUE,
  x = NULL,
  sd = NULL,
  n = NULL,
  show_reason = TRUE,
  rounding = "up_or_down",
  threshold = 5,
  symmetric = FALSE,
  tolerance = .Machine$double.eps^0.5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data frame with columns <code>x</code>, <code>sd</code>, <code>n</code>, and optionally <code>items</code>
(see documentation for <code>grim()</code>). Any other columns in <code>data</code> will be
returned alongside GRIMMER test results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>items</code></td>
<td>
<p>Integer. If there is no <code>items</code> column in <code>data</code>, this specifies
the number of items composing the <code>x</code> and <code>sd</code> values. Default is <code>1</code>, the
most common case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>merge_items</code></td>
<td>
<p>Logical. If <code>TRUE</code> (the default), there will be no <code>items</code>
column in the output. Instead, values from an <code>items</code> column or argument
will be multiplied with values in the <code>n</code> column. This is only for
presentation and does not affect test results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x, sd, n</code></td>
<td>
<p>Optionally, specify these arguments as column names in <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_reason</code></td>
<td>
<p>Logical (length 1). Should there be a <code>reason</code> column that
shows the reasons for inconsistencies and <code>"Passed all"</code> for consistent
values? Default is <code>FALSE</code>. See below for reference.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rounding, threshold, symmetric, tolerance</code></td>
<td>
<p>Further parameters of
GRIMMER testing; see documentation for <code>grimmer()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A tibble with these columns –
</p>

<ul>
<li> <p><code>x</code>, <code>sd</code>, <code>n</code>: the inputs.
</p>
</li>
<li> <p><code>consistency</code>: GRIMMER consistency of <code>x</code>, <code>n</code>, and <code>items</code>.
</p>
</li>
<li> <p><code>reason</code>: If consistent, <code>"Passed all"</code>. If inconsistent, it says which
test was failed (see below).
</p>
</li>
<li> <p><code style="white-space: pre;">⁠&lt;extra&gt;⁠</code>: any columns from <code>data</code> other than <code>x</code>, <code>n</code>, and <code>items</code>.
</p>
</li>
</ul>
<p>The <code>reason</code> columns refers to GRIM and the three GRIMMER tests (Allard
2018). Briefly, these are:
</p>

<ol>
<li>
<p> The reconstructed sum of squared observations must be a whole number.
</p>
</li>
<li>
<p> The reconstructed SD must match the reported one.
</p>
</li>
<li>
<p> The parity of the reconstructed sum of squared observations must match the
parity of the reconstructed sum of integers of which the reported means
are fractions; i.e., either both are even or both are odd.
</p>
</li>
</ol>
<p>The tibble has the <code>scr_grimmer_map</code> class, which is recognized by the
<code>audit()</code> generic. It also has the <code>scr_grim_map</code> class, so it can be
visualized by <code>grim_plot()</code>.
</p>


<h3>Summaries with <code>audit()</code>
</h3>

<p>There is an S3 method for <code>audit()</code>,
so you can call <code>audit()</code> following <code>grimmer_map()</code> to get a summary of
<code>grimmer_map()</code>'s results. It is a tibble with a single row and these
columns –
</p>

<ol>
<li> <p><code>incons_cases</code>: number of GRIMMER-inconsistent value sets.
</p>
</li>
<li> <p><code>all_cases</code>: total number of value sets.
</p>
</li>
<li> <p><code>incons_rate</code>: proportion of GRIMMER-inconsistent value sets.
</p>
</li>
<li> <p><code>fail_grim</code>: number of value sets that fail the GRIM test.
</p>
</li>
<li> <p><code>fail_test1</code>: number of value sets that fail the first GRIMMER test (see
below).
</p>
</li>
<li> <p><code>fail_test2</code>: number of value sets that fail the second GRIMMER test.
</p>
</li>
<li> <p><code>fail_test3</code>: number of value sets that fail the third GRIMMER test.
</p>
</li>
</ol>
<p>The <code>reason</code> columns refers to the three GRIMMER tests (see Allard 2018).
These are:
</p>

<ol>
<li>
<p> The reconstructed sum of squared observations must be a whole number.
</p>
</li>
<li>
<p> The reconstructed SD must match the reported one.
</p>
</li>
<li>
<p> The parity of the reconstructed sum of squared observations must match the
parity of the reconstructed sum of integers of which the reported means
are fractions; i.e., either both are even or both are odd.
</p>
</li>
</ol>
<h3>References</h3>

<p>Allard, A. (2018). Analytic-GRIMMER: a new way of testing the
possibility of standard deviations.
https://aurelienallard.netlify.app/post/anaytic-grimmer-possibility-standard-deviations/
</p>
<p>Anaya, J. (2016). The GRIMMER test: A method for testing the validity of
reported measures of variability. <em>PeerJ Preprints.</em>
https://peerj.com/preprints/2400v1/
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Use `grimmer_map()` on data like these:
pigs5

# The `consistency` column shows whether
# the values to its left are GRIMMER-consistent.
# If they aren't, the `reason` column says why:
pigs5 %&gt;%
  grimmer_map()

# Get summaries with `audit()`:
pigs5 %&gt;%
  grimmer_map() %&gt;%
  audit()
</code></pre>


</div>