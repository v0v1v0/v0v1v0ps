<div class="container">

<table style="width: 100%;"><tr>
<td>set_col</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set columns from <code>geometry</code> to <code>data</code>
</h2>

<h3>Description</h3>

<p>Set a column from the <code>geometry</code> context of a spacetime object to the <code>data</code>
context.
</p>


<h3>Usage</h3>

<pre><code class="language-R">set_col(x, .from_geo, .to_data = .from_geo)

set_wts(x, .wt_col = "wt")

set_nbs(x, .nb_col = "nb")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a spacetime object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.from_geo</code></td>
<td>
<p>the name of the column in the <code>geometry</code> context</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.to_data</code></td>
<td>
<p>the name of the new variable to create in the <code>data</code> context</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.wt_col</code></td>
<td>
<p>the name of the weights column in the <code>geometry</code> context</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.nb_col</code></td>
<td>
<p>the name of neighbor column in the <code>geometry</code> context</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions will reorder the spacetime object to ensure that it is ordered
correctly based on the location time columns in the <code>geometry</code> context defined
by the <code>loc_col</code> and <code>time_col</code> attributes respectively.
</p>
<p><code>set_wts()</code> and <code>set_nbs()</code> create a new column in the data context with the
same name as the column in the geometry context. If a different name is desired
use <code>set_col()</code>
</p>


<h3>Value</h3>

<p>A spacetime object with an active data context and a new column from the geometry
context.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
if (interactive()) {
df_fp &lt;- system.file("extdata", "bos-ecometric.csv", package = "sfdep")
geo_fp &lt;- system.file("extdata", "bos-ecometric.geojson", package = "sfdep")

# read in data
df &lt;- read.csv(
  df_fp, colClasses = c("character", "character", "integer", "double", "Date")
)
geo &lt;- sf::st_read(geo_fp)

# Create spacetime object called `bos`
bos &lt;- spacetime(df, geo,
                .loc_col = ".region_id",
                .time_col = "time_period")
bos &lt;- activate(bos, "geometry")
bos$nb &lt;- st_contiguity(bos)
bos$wt &lt;- st_weights(bos$nb)
bos$card &lt;- st_cardinalties(bos$nb)

set_nbs(bos)
set_wts(bos)
set_col(bos, "card")
set_col(bos, "card", "cardinalities")
}
</code></pre>


</div>