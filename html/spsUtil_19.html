<div class="container">

<table style="width: 100%;"><tr>
<td>timeout</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run expressions with a timeout limit</h2>

<h3>Description</h3>

<p>Add a time limit for R expressions
</p>


<h3>Usage</h3>

<pre><code class="language-R">timeout(
  expr,
  time_out = 1,
  on_timeout = {     stop("Timout reached", call. = FALSE) },
  on_final = { },
  env = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>expressions, wrap them inside <code>{}</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_out</code></td>
<td>
<p>numeric, timeout time, in seconds</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>on_timeout</code></td>
<td>
<p>expressions, callback expressions to run it the time out limit
is reached but expression is still running. Default is to return an error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>on_final</code></td>
<td>
<p>expressions, callback expressions to run in the end regardless
the state and results</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>environment, which environment to evaluate the expressions. Default is
the same environment as where the <code>timeout</code> function is called.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Expressions will be evaluated in the parent environment by default, for example
if this function is called at global level, all returns, assignments inside
<code>expr</code> will directly go to global environment as well.
</p>


<h3>Value</h3>

<p>default return, all depends on what return the <code>expr</code> will have
</p>


<h3>Examples</h3>

<pre><code class="language-R"># The `try` command in following examples are here to make sure the
# R CMD check will pass on package check. In a real case, you do not
# need it.

# default
try(timeout({Sys.sleep(0.1)}, time_out = 0.01))
# timeout is evaluating expressions the same level as you call it
timeout({abc &lt;- 123})
# so you should get `abc` even outside the function call
abc
# custom timeout callback
timeout({Sys.sleep(0.1)}, time_out = 0.01, on_timeout = {print("It takes too long")})
# final call back
try(timeout({Sys.sleep(0.1)}, time_out = 0.01, on_final = {print("some final words")})) # on error
timeout({123}, on_final = {print("runs even success")})  # on success
# assign to value
my_val &lt;- timeout({10 + 1})
my_val
</code></pre>


</div>