<div class="container">

<table style="width: 100%;"><tr>
<td>GetImageryFilesList</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>List of downloadable files</h2>

<h3>Description</h3>

<p>List of files that can be downloaded directly (separate files for every spectral band)
for the given image.
</p>


<h3>Usage</h3>

<pre><code class="language-R">GetImageryFilesList(
  id,
  all = FALSE,
  api_key = Sys.getenv("spectator_earth_api_key")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>integer indicating the image id (from <code>SearchImages</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all</code></td>
<td>
<p>logical indicating if the auxiliary files should be included. Default: FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>api_key</code></td>
<td>
<p>character containing your API key. Default: <code>Sys.getenv("spectator_earth_api_key")</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Besides the raw images (<code>jp2</code> files) as single bands, various auxiliary files are also available.
These include image thumbnails, metadata, etc. By default, only the full-sized images are returned by the function.
To download the files, all the paths should be prepended with
<code>https://api.spectator.earth/imagery/{id}/files/</code>.
The raw image files are quite big, if the area of interest is relatively small it might be better to use
<code>GetHighResolutionImage</code>.
</p>


<h3>Value</h3>

<p>A data frame with attributes
</p>

<dl>
<dt><code>name</code></dt>
<dd>
<p>character, name of the file</p>
</dd>
<dt><code>path</code></dt>
<dd>
<p>character, path (relative) to download the file</p>
</dd>
<dt><code>size</code></dt>
<dd>
<p>integer, size of the file (in bytes)</p>
</dd>
</dl>
<h3>Source</h3>

<p><a href="https://api.spectator.earth/#imagery-files">https://api.spectator.earth/#imagery-files</a>
</p>


<h3>See Also</h3>

<p><code>SearchImages</code>, <code>GetHighResolutionImage</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"> 
if(interactive()){
 library(sf)
 my_key &lt;- Sys.getenv("spectator_earth_api_key")
 # get the New York City Central Park shape as area of interest
 dsn &lt;- system.file("extdata", "centralpark.geojson", package = "spectator")
 boundary &lt;- sf::read_sf(dsn, as_tibble = FALSE)
 # search for May 2021 Sentinel 2 images 
 catalog &lt;- SearchImages(aoi = boundary, satellites = "S2", 
     date_from = "2021-05-01", date_to = "2021-05-30", 
     footprint = FALSE, api_key = my_key)
 # get the id of the image with minimal cloud coverage
 best_id &lt;- catalog[order(catalog$cloud_cover_percentage), ][1, "id"]
 # list all downloadable files for the image with minimal cloud coverage
 images &lt;- GetImageryFilesList(best_id, all = FALSE, api_key = my_key)
 }
</code></pre>


</div>