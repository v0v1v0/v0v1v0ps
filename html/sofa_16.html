<div class="container">

<table style="width: 100%;"><tr>
<td>db_index</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create and get database indexes</h2>

<h3>Description</h3>

<p>Create and get database indexes
</p>


<h3>Usage</h3>

<pre><code class="language-R">db_index(cushion, dbname, as = "list", ...)

db_index_create(cushion, dbname, body, as = "list", ...)

db_index_delete(cushion, dbname, design, index_name, as = "list", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cushion</code></td>
<td>
<p>A <code>Cushion</code> object. Required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbname</code></td>
<td>
<p>(character) Database name, required</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as</code></td>
<td>
<p>(character) One of list (default) or json</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Curl args passed on to <code>HttpClient</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>body</code></td>
<td>
<p>(named list) index fields, required</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>(character) Design document name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index_name</code></td>
<td>
<p>(character) index name</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>JSON as a character string or a list (determined by the
<code>as</code> parameter)
</p>


<h3>Body parameters</h3>


<ul>
<li>
<p> index (json) - JSON object describing the index to create.
</p>
</li>
<li>
<p> ddoc (string) - Name of the design document in which the index will be
created. By default, each index will be created in its own design
document. Indexes can be grouped into design documents for efficiency.
However, a change to one index in a design document will invalidate all
other indexes in the same document (similar to views). Optional
</p>
</li>
<li>
<p> name (string) - Name of the index. If no name is provided, a name will
be generated automatically. Optional
</p>
</li>
<li>
<p> type (string) - Can be "json" or "text". Defaults to json. Geospatial
indexes will be supported in the future. Optional Text indexes are
supported via a third party library Optional
</p>
</li>
<li>
<p> partial_filter_selector (json) - A selector to apply to documents at
indexing time, creating a partial index. Optional
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
user &lt;- Sys.getenv("COUCHDB_TEST_USER")
pwd &lt;- Sys.getenv("COUCHDB_TEST_PWD")
(x &lt;- Cushion$new(user=user, pwd=pwd))

# create a database first
if ("testing" %in% db_list(x)) {
  invisible(db_delete(x, dbname="testing"))
}
db_create(x, "testing")

# get indexes
db_index(x, "testing")

# create indexes
body &lt;- list(index = list(fields = I("foo")), name = "foo-index", type = "json")
db_index_create(x, "testing", body = body)

# get indexes, after creating another index
db_index(x, "testing")

# delete an index
res &lt;- db_index(x, "testing")
db_index_delete(x, "testing", res$indexes[[2]]$ddoc, res$indexes[[2]]$name)
## and it's gone
db_index(x, "testing")

## End(Not run)
</code></pre>


</div>