<div class="container">

<table style="width: 100%;"><tr>
<td>pool_taxon_counts</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Pool OTU counts at a particular taxonomic level</h2>

<h3>Description</h3>

<p>Enables comparing analyses at different taxonomic resolutions,
as seen in <a href="https://doi.org/10.1128/mbio.03161-21">doi:10.1128/mbio.03161-21</a>.
Implementation adapted from <a href="https://github.com/SchlossLab/Armour_Resolution_mBio_2021/blob/master/code/get_phylotype_shared.R">here</a>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pool_taxon_counts(otu_shared_dat, otu_tax_dat, taxon_level)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>otu_shared_dat</code></td>
<td>
<p>data frame created from a <a href="https://mothur.org/wiki/shared_file/">shared file</a>
at the OTU level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>otu_tax_dat</code></td>
<td>
<p>data frame created from a <a href="https://mothur.org/wiki/taxonomy_file/">taxonomy file</a>
at the OTU level. Must be from the same dataset as the shared file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>taxon_level</code></td>
<td>
<p>taxonomic level to pool OTUs into.
Options: "kingdom", "phylum", "class", "order", "family", "genus".
This should be the name of a column in <code>otu_tax_dat</code> as a character string.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a shared data frame with the OTUs at the specified <code>taxon_level</code> and
a corresponding taxonomy dataframe with new OTU numbers.
</p>


<h3>Author(s)</h3>

<p>Kelly Sovacool, <a href="mailto:sovacool@umich.edu">sovacool@umich.edu</a>
</p>
<p>Pat Schloss <a href="mailto:pschloss@umich.edu">pschloss@umich.edu</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">tax_dat &lt;- read_tax(system.file("extdata", "test.taxonomy",
  package = "schtools"
))
shared_dat &lt;- readr::read_tsv(system.file("extdata", "test.shared",
  package = "schtools"
))
pool_taxon_counts(shared_dat, tax_dat, "genus")
pool_taxon_counts(shared_dat, tax_dat, "family")
pool_taxon_counts(shared_dat, tax_dat, "phylum")
</code></pre>


</div>