<div class="container">

<table style="width: 100%;"><tr>
<td>forkTimeout</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Evaluate an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> expression with a hard time limit by forking a process</h2>

<h3>Description</h3>

<p>This function uses
<code>parallel::mcparallel()</code>,
</p>
<p>so the time limit is not
enforced on Windows. However, unlike functions using <code>setTimeLimit()</code>, the time
limit is enforced even on native code.
</p>


<h3>Usage</h3>

<pre><code class="language-R">forkTimeout(
  expr,
  timeout,
  unsupported = c("warning", "error", "message", "silent"),
  onTimeout = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>expression to be evaluated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeout</code></td>
<td>
<p>number of seconds to wait for the expression to
evaluate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unsupported</code></td>
<td>
<p>a character vector of length 1 specifying how to
handle a platform that does not support
<code>parallel::mcparallel()</code>,
</p>

<dl>
<dt>
<code>"warning"</code> or <code>"message"</code>
</dt>
<dd>
<p>Issue a warning or a message,
respectively, then evaluate the expression without the time limit
enforced.</p>
</dd>
<dt><code>"error"</code></dt>
<dd>
<p>Stop with an error.</p>
</dd>
<dt><code>"silent"</code></dt>
<dd>
<p>Evaluate the expression without the time limit
enforced, without any notice.</p>
</dd>
</dl>
<p> Partial matching is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>onTimeout</code></td>
<td>
<p>Value to be returned on time-out.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Result of evaluating <code>expr</code> if completed, <code>onTimeout</code>
otherwise.
</p>


<h3>Note</h3>

<p><code>onTimeout</code> can itself be an expression, so it is, for
example, possible to stop with an error by passing
<code>onTimeout=stop()</code>.
</p>
<p>Note that this function is not completely transparent:
side-effects may behave in unexpected ways. In particular, RNG
state will not be updated.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
forkTimeout({Sys.sleep(1); TRUE}, 2) # TRUE
forkTimeout({Sys.sleep(1); TRUE}, 0.5) # NULL (except on Windows)
</code></pre>


</div>