<div class="container">

<table style="width: 100%;"><tr>
<td>make_projection</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Outputs the survey projection onto the agent or symbolic layer</h2>

<h3>Description</h3>

<p><code>make_projection()</code> outputs the agent or symbolic network corresponding
to a survey, i.e. the row or column projection.
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_projection(
  data,
  layer,
  threshold_method = NULL,
  method_value = NULL,
  centre = NULL,
  similarity_metric = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame corresponding to a survey</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layer</code></td>
<td>
<p>A string flag specifying which layer to project
</p>

<ul>
<li> <p><code>"agent"</code> produces the network corresponding to the agents, which we assume
to be rows in <code>data</code>
</p>
</li>
<li> <p><code>"symbolic"</code> produces the network corresponding to the symbols, or items,
which we assume to be columns in <code>data</code>
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold_method</code></td>
<td>
<p>A string flag specifying how edges are selected in
the network representation.
</p>

<ul>
<li> <p><code>"raw_similarity"</code> means we remove all edges whose weight, meaning node
similarity, is below a specified threshold.
</p>
</li>
<li> <p><code>"target_lcc"</code> finds the value of the threshold that results in the network
whose largest connected component is as close as possible to a specified
value. In general a range of thresholds will satisfy this condition, and we
choose the upper limit of this range.
</p>
</li>
<li> <p><code>"target_ad"</code> finds the value of the threshold that results in the network
whose average degree is as close as possible to a specified value.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method_value</code></td>
<td>
<p>A utility variable that we interpret according to the
<code>threshold_method</code> chosen.
</p>

<ul>
<li>
<p> If <code>threshold_method = "raw_similarity"</code>, then <code>method_value</code> is
interpreted as the similarity threshold, and thus is in the range <code style="white-space: pre;">⁠[-1, 1]⁠</code>.
A value of -1 means no edges are removed, and a value of 1 means all edges
are removed.
</p>
</li>
<li>
<p> If <code>threshold_method = "target_lcc"</code>, then <code>method_value</code> is interpreted as
the desired fractional size of the largest connected component, in the range
<code style="white-space: pre;">⁠[0, 1]⁠</code>. E.g., when set to 0, no nodes are connected, and if set to 1, the
network is as sparse as possible while remaining fully connected.
</p>
</li>
<li>
<p> If <code>threshold_method = "target_ad"</code>, then <code>method_value</code> is interpreted as
the desired average degree. We assume that <code>method_value</code> is normalised to
the range <code style="white-space: pre;">⁠[0, 1]⁠</code> When <code>method_value = 0</code>, then no nodes are connected, and
if <code>method_value = 1</code>, the network is complete, meaning it contains every
possible edge.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>centre</code></td>
<td>
<p>If <code>FALSE</code>, we shift edge weights by 1 from <code style="white-space: pre;">⁠[-1, 1]⁠</code> to <code style="white-space: pre;">⁠[0, 2]⁠</code>.
Defaults to TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>similarity_metric</code></td>
<td>
<p>This currently has just one allowed value, namely the
Manhattan distance, which is the default.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame corresponding to the edge list of the specified network. It
contains three columns named
</p>

<ul>
<li> <p><code>u</code>, the first node adjacent to the edge
</p>
</li>
<li> <p><code>v</code>, the second node adjacent to the edge, and
</p>
</li>
<li> <p><code>weight</code>, the similarity between nodes <code>u</code> and <code>v</code>
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">S &lt;- make_synthetic_data(20, 5)
</code></pre>


</div>