<div class="container">

<table style="width: 100%;"><tr>
<td>estimateVTL</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimate vocal tract length</h2>

<h3>Description</h3>

<p>Estimates the length of vocal tract based on formant frequencies. If
<code>method = 'meanFormant'</code>, vocal tract length (VTL) is calculated
separately for each formant, and then the resulting VTLs are averaged. The
equation used is <code class="reqn">(2 * formant_number - 1) * speedSound / (4 *
formant_frequency)</code> for a closed-open tube (mouth open) and
<code class="reqn">formant_number * speedSound / (2 * formant_frequency)</code> for an open-open
or closed-closed tube (eg closed mouth in mmm or open mouth and open glottis
in whispering). If <code>method = 'meanDispersion'</code>, formant dispersion is
calculated as the mean distance between formants, and then VTL is calculated
as <code class="reqn">speed of sound / 2 / formant dispersion</code>. If <code>method =
'regression'</code>, formant dispersion is estimated using the regression method
described in Reby et al. (2005) "Red deer stags use formants as assessment
cues during intrasexual agonistic interactions". For a review of these and
other VTL-related summary measures of formant frequencies, refer to Pisanski
et al. (2014) "Vocal indicators of body size in men and women: a
meta-analysis". See also <code>schwa</code> for VTL estimation with
additional information on formant frequencies.
</p>


<h3>Usage</h3>

<pre><code class="language-R">estimateVTL(
  formants,
  method = c("regression", "meanDispersion", "meanFormant")[1],
  interceptZero = TRUE,
  tube = c("closed-open", "open-open")[1],
  speedSound = 35400,
  checkFormat = TRUE,
  output = c("simple", "detailed")[1],
  plot = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formants</code></td>
<td>
<p>formant frequencies in any format recognized by
<code>soundgen</code>: a vector of formant frequencies like <code>c(550,
1600, 3200)</code>; a list with multiple values per formant like <code>list(f1 =
c(500, 550), f2 = 1200))</code>; or a character string like <code>aaui</code> referring
to default presets for speaker "M1" in soundgen presets</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>the method of estimating vocal tract length (see details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interceptZero</code></td>
<td>
<p>if TRUE, forces the regression curve to pass through the
origin. This reduces the influence of highly variable lower formants, but
we have to commit to a particular model of the vocal tract: closed-open or
open-open/closed-closed (method = "regression" only)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tube</code></td>
<td>
<p>the vocal tract is assumed to be a cylindrical tube that is
either "closed-open" or "open-open" (same as closed-closed)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>speedSound</code></td>
<td>
<p>speed of sound in warm air, by default 35400 cm/s. Stevens
(2000) "Acoustic phonetics", p. 138</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checkFormat</code></td>
<td>
<p>if FALSE, only a list of properly formatted formant
frequencies is accepted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>"simple" (default) = just the VTL; "detailed" = a list of
additional stats (see Value below)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>if TRUE, plots the regression line whose slope gives formant
dispersion (method = "regression" only). Label sizes show the influence of
each formant, and the blue line corresponds to each formant being an
integer multiple of F1 (as when harmonics are misidentified as formants);
the second plot shows how VTL varies depending on the number of formants
used</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>output = 'simple'</code> (default), returns the estimated vocal
tract length in cm. If <code>output = 'detailed'</code> and <code>method =
  'regression'</code>, returns a list with extra stats used for plotting. Namely,
<code>$regressionInfo$infl</code> gives the influence of each observation
calculated as the absolute change in VTL with vs without the observation *
10 + 1 (the size of labels on the first plot). <code>$vtlPerFormant$vtl</code>
gives the VTL as it would be estimated if only the first <code>nFormants</code>
were used.
</p>


<h3>See Also</h3>

<p><code>schwa</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">estimateVTL(NA)
estimateVTL(500)
estimateVTL(c(600, 1850, 2800, 3600, 5000), plot = TRUE)
estimateVTL(c(600, 1850, 2800, 3600, 5000), plot = TRUE, output = 'detailed')
estimateVTL(c(1200, 2000, 2800, 3800, 5400, 6400),
  tube = 'open-open', interceptZero = FALSE, plot = TRUE)
estimateVTL(c(1200, 2000, 2800, 3800, 5400, 6400),
  tube = 'open-open', interceptZero = TRUE, plot = TRUE)

# Multiple measurements are OK
estimateVTL(
  formants = list(f1 = c(540, 600, 550),
  f2 = 1650, f3 = c(2400, 2550)),
  plot = TRUE, output = 'detailed')
# NB: this is better than averaging formant values. Cf.:
estimateVTL(
  formants = list(f1 = mean(c(540, 600, 550)),
  f2 = 1650, f3 = mean(c(2400, 2550))),
  plot = TRUE)

# Missing values are OK
estimateVTL(c(600, 1850, 3100, NA, 5000), plot = TRUE)
estimateVTL(list(f1 = 500, f2 = c(1650, NA, 1400), f3 = 2700), plot = TRUE)

# Note that VTL estimates based on the commonly reported 'meanDispersion'
# depend only on the first and last formants
estimateVTL(c(500, 1400, 2800, 4100), method = 'meanDispersion')
estimateVTL(c(500, 1100, 2300, 4100), method = 'meanDispersion') # identical
# ...but this is not the case for 'meanFormant' and 'regression' methods
estimateVTL(c(500, 1400, 2800, 4100), method = 'meanFormant')
estimateVTL(c(500, 1100, 2300, 4100), method = 'meanFormant') # much longer

## Not run: 
# Compare the results produced by the three methods
nIter = 1000
out = data.frame(meanFormant = rep(NA, nIter), meanDispersion = NA, regression = NA)
for (i in 1:nIter) {
  # generate a random formant configuration
  f = runif(1, 300, 900) + (1:6) * rnorm(6, 1000, 200)
  out$meanFormant[i]    = estimateVTL(f, method = 'meanFormant')
  out$meanDispersion[i] = estimateVTL(f, method = 'meanDispersion')
  out$regression[i]     = estimateVTL(f, method = 'regression')
}
pairs(out)
cor(out)
# 'meanDispersion' is pretty different, while 'meanFormant' and 'regression'
# give broadly comparable results

## End(Not run)
</code></pre>


</div>