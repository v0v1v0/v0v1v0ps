<div class="container">

<table style="width: 100%;"><tr>
<td>stability2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A function to run the stability analysis using the numerical simulation of the Jacobain matrix.</h2>

<h3>Description</h3>

<p>A function to run the stability analysis using the numerical simulation of the Jacobain matrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">stability2(
  usin,
  DIETLIMTS = NA,
  diet_correct = TRUE,
  Conly = FALSE,
  userdefinedinputs = NA,
  has_inorganic_nitrogen = FALSE,
  inorganic_nitrogen_properties = list(INN = NA, q = NA, eqmN = NA),
  forstabilityonly = TRUE,
  densitydependence = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>usin</code></td>
<td>
<p>The community for which to calculate stability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DIETLIMTS</code></td>
<td>
<p>The diet limits matrix for the stoichiometry correction (proportion of diet)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diet_correct</code></td>
<td>
<p>Boolean: Does the organism correct it's diet?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Conly</code></td>
<td>
<p>Boolean: Is the model meant for carbon only?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>userdefinedinputs</code></td>
<td>
<p>Do you want to input a user defined vector of input functions? If NA the input values that keep the system at equilibrium are calculated. If not, put in a vector of input rates for each node.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>has_inorganic_nitrogen</code></td>
<td>
<p>Boolean: Is there an inorganic nitrogen pool?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inorganic_nitrogen_properties</code></td>
<td>
<p>A list of state variables for the inorganic nitrogen pool (INN = inputs, q = per capita loss of N, eqmN = equilibrium N). Must include a value for two of the three variables and has the final one as NA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forstabilityonly</code></td>
<td>
<p>Boolean: Do you only want to check the stability of the carbon equations and inorganic nitrogen? If FALSE then changes in detritus nitrogen are also included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>densitydependence</code></td>
<td>
<p>Which nodes have density dependence? NA default means none of them do. Should be a vector of 0 (no DD) and 1 (DD) for each node.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The stability as defined by the Jacobian is estimated using the ordinary differential equations. Consequenlty, the parameters are retrieved using <code>getPARAMS</code> and then added to the function <code>jacobian.full</code> using the ODE defined by <code>foodwebode</code> This stability function allows the user to define density-dependence by node as present or absent. If you want to apply a uniform level of density-dependence use the function 'stability' and choose the option Moorecobain.
</p>


<h3>Value</h3>

<p>The stability calculated by the Jacobian as a list of the Jacobian, eigenvalues, and the maximum eigenvalue.
</p>


<h3>See Also</h3>

<p><code>getPARAMS</code> and <code>foodwebode</code> for functions which are called internally and <code>jacobian.full</code> for the method used.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Basic stability calculation:
stability2(intro_comm)

# Stability calculation with density-dependence for the animals:
stability2(intro_comm, densitydependence = c(1, 1, 1, 0, 0, 0, 0))
</code></pre>


</div>