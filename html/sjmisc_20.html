<div class="container">

<table style="width: 100%;"><tr>
<td>dicho</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Dichotomize variables</h2>

<h3>Description</h3>

<p>Dichotomizes variables into dummy variables (0/1). Dichotomization is
either done by median, mean or a specific value (see <code>dich.by</code>).
<code>dicho_if()</code> is a scoped variant of <code>dicho()</code>, where recoding
will be applied only to those variables that match the logical condition
of <code>predicate</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dicho(
  x,
  ...,
  dich.by = "median",
  as.num = FALSE,
  var.label = NULL,
  val.labels = NULL,
  append = TRUE,
  suffix = "_d"
)

dicho_if(
  x,
  predicate,
  dich.by = "median",
  as.num = FALSE,
  var.label = NULL,
  val.labels = NULL,
  append = TRUE,
  suffix = "_d"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector or data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Optional, unquoted names of variables that should be selected for
further processing. Required, if <code>x</code> is a data frame (and no
vector) and only selected variables from <code>x</code> should be processed.
You may also use functions like <code>:</code> or tidyselect's
select-helpers.
See 'Examples' or <a href="../doc/design_philosophy.html">package-vignette</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dich.by</code></td>
<td>
<p>Indicates the split criterion where a variable is dichotomized.
Must be one of the following values (may be abbreviated):
</p>

<dl>
<dt>
<code>"median"</code> or <code>"md"</code>
</dt>
<dd>
<p>by default, <code>x</code> is split into two groups at the median.</p>
</dd>
<dt>
<code>"mean"</code> or <code>"m"</code>
</dt>
<dd>
<p>splits <code>x</code> into two groups at the mean of <code>x</code>.</p>
</dd>
<dt>numeric value</dt>
<dd>
<p>splits <code>x</code> into two groups at the specific value. Note that the value is inclusive, i.e. <code>dich.by = 10</code> will split <code>x</code> into one group with values from lowest to 10 and another group with values greater than 10.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.num</code></td>
<td>
<p>Logical, if <code>TRUE</code>, return value will be numeric, not a factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var.label</code></td>
<td>
<p>Optional string, to set variable label attribute for the
returned variable (see vignette <a href="https://cran.r-project.org/package=sjlabelled/vignettes/intro_sjlabelled.html">Labelled Data and the sjlabelled-Package</a>).
If <code>NULL</code> (default), variable label attribute of <code>x</code> will
be used (if present). If empty, variable label attributes will be removed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>val.labels</code></td>
<td>
<p>Optional character vector (of length two), to set value label
attributes of dichotomized variable (see <code>set_labels</code>).
If <code>NULL</code> (default), no value labels will be set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>Logical, if <code>TRUE</code> (the default) and <code>x</code> is a data frame,
<code>x</code> including the new variables as additional columns is returned;
if <code>FALSE</code>, only the new variables are returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>suffix</code></td>
<td>
<p>Indicates which suffix will be added to each dummy variable.
Use <code>"numeric"</code> to number dummy variables, e.g. <em>x_1</em>,
<em>x_2</em>, <em>x_3</em> etc. Use <code>"label"</code> to add value label,
e.g. <em>x_low</em>, <em>x_mid</em>, <em>x_high</em>. May be abbreviated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predicate</code></td>
<td>
<p>A predicate function to be applied to the columns. The
variables for which <code>predicate</code> returns <code>TRUE</code> are selected.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>dicho()</code> also works on grouped data frames (see <code>group_by</code>).
In this case, dichotomization is applied to the subsets of variables
in <code>x</code>. See 'Examples'.
</p>


<h3>Value</h3>

<p><code>x</code>, dichotomized. If <code>x</code> is a data frame,
for <code>append = TRUE</code>, <code>x</code> including the dichotomized. variables
as new columns is returned; if <code>append = FALSE</code>, only
the dichotomized variables will be returned. If <code>append = TRUE</code> and
<code>suffix = ""</code>, recoded variables will replace (overwrite) existing
variables.
</p>


<h3>Note</h3>

<p>Variable label attributes are preserved (unless changed via
<code>var.label</code>-argument).
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(efc)
summary(efc$c12hour)
# split at median
table(dicho(efc$c12hour))
# split at mean
table(dicho(efc$c12hour, dich.by = "mean"))
# split between value lowest to 30, and above 30
table(dicho(efc$c12hour, dich.by = 30))

# sample data frame, values from 1-4
head(efc[, 6:10])

# dichtomized values (1 to 2 = 0, 3 to 4 = 1)
library(dplyr)
efc %&gt;%
  select(6:10) %&gt;%
  dicho(dich.by = 2) %&gt;%
  head()

# dichtomize several variables in a data frame
dicho(efc, c12hour, e17age, c160age, append = FALSE)

# dichotomize and set labels
frq(dicho(
  efc, e42dep,
  var.label = "Dependency (dichotomized)",
  val.labels = c("lower", "higher"),
  append = FALSE
))

# works also with gouped data frames
mtcars %&gt;%
  dicho(disp, append = FALSE) %&gt;%
  table()

mtcars %&gt;%
  group_by(cyl) %&gt;%
  dicho(disp, append = FALSE) %&gt;%
  table()

# dichotomizing grouped data frames leads to different
# results for a dichotomized variable, because the split
# value is different for each group.
# compare:
mtcars %&gt;%
  group_by(cyl) %&gt;%
  summarise(median = median(disp))

median(mtcars$disp)

# dichotomize only variables with more than 10 unique values
p &lt;- function(x) dplyr::n_distinct(x) &gt; 10
dicho_if(efc, predicate = p, append = FALSE)
</code></pre>


</div>