<div class="container">

<table style="width: 100%;"><tr>
<td>getStudiesSDESIGN</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract a list of SEND studies with a specified study design - or just add
actual study design for each study.</h2>

<h3>Description</h3>

<p>Returns a data table with the list of study ids from TS where the value of
TSVAL for the TSPARMCD 'SDESIGN' is equal to a given study design.<br>
If the <code>studyDesignFilter</code> is empty (null, na or empty string) - all
rows for the TSPARMCD 'SDESIGN' are returned.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getStudiesSDESIGN(
  dbToken,
  studyList = NULL,
  studyDesignFilter = NULL,
  exclusively = TRUE,
  inclUncertain = FALSE,
  noFilterReportUncertain = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dbToken</code></td>
<td>
<p>Mandatory.<br>
Token for the open database connection (see <code>initEnvironment</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>studyList</code></td>
<td>
<p>Optional, data.table.<br>
A table with the list of studies to process. If empty, all studies in
the data base are processed<br>
The table must include at least a column named 'STUDYID'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>studyDesignFilter</code></td>
<td>
<p>Mandatory, character. The study design to use as
criterion for filtering of the study id values. It can be a single string,
a vector or a list of multiple strings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclusively</code></td>
<td>
<p>Mandatory, boolean.
</p>

<ul>
<li>
<p> TRUE: Include studies only for studies with no other study
design(s) than included in <code>studyDesignFilter</code>.
</p>
</li>
<li>
<p> FALSE: Include all studies with study design matching
<code>studyDesignFilter</code>.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inclUncertain</code></td>
<td>
<p>Mandatory, boolean.<br>
Indicates whether study ids with SDESIGN value which are is missing or wrong
shall be included or not in the output data table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noFilterReportUncertain</code></td>
<td>
<p>Mandatory, boolean<br>
Only relevant if the <code>studyDesignFilter</code> is empty.<br>
Indicates if the reason should be included if the SDESIGN cannot be
confidently decided for an animal.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Extracts the set of studies from TS where the value of TSVAL for the TSPARMCD
'SDESIGN' is equal to a given study design.<br>
The comparison of study design values are done case insensitive.<br></p>
<p>If a data table with a list of studies is specified in <code>studyList</code>, only
the subset of studies included in that set is processed.
</p>
<p>If input parameter <code>inclUncertain=TRUE</code>, uncertain animals are included
in the output set. These uncertain situations are identified and reported (in
column UNCERTAIN_MSG):
</p>

<ul>
<li>
<p> without any row for TSPARMCD='SDESIGN' or
</p>
</li>
<li>
<p> TSVAL doesn't contain a value included in the  CDISC CT list
'DESIGN' for TSPARMCD='SDESIGN' (case insensitive comparison)
</p>
</li>
</ul>
<p>The same checks are performed and reported in column NOT_VALID_MSG if
<code>studyDesignFilter</code> is empty and <code>noFilterReportUncertain=TRUE</code>.
</p>


<h3>Value</h3>

<p>The function returns a data.table with columns:
</p>

<ul>
<li>
<p> STUDYID       (character)
</p>
</li>
<li>
<p> Additional columns contained in the <code>studyList</code> table (if such
an input table is given)
</p>
</li>
<li>
<p> SDESIGN       (character)<br>
If multiple TSPARMCD 'SDESIGN' values are extratced for a studies, all the
values are merged into a comma separated string.
</p>
</li>
<li>
<p> UNCERTAIN_MSG (character)<br>
Included when parameter <code>inclUncertain=TRUE</code>.<br>
Contains indication of whether STSTDTC is missing of has wrong
format.<br>
Is NA for rows where SDESIGN is valid.<br>
A non-empty UNCERTAIN_MSG value generated by this function is merged with
non-empty UNCERTAIN_MSG values which may exist in the optional input set of
studies specified in <code>studyList</code> - separated by '|'.
</p>
</li>
<li>
<p> NOT_VALID_MSG (character)<br>
Included when parameter <code>noFilterReportUncertain=TRUE</code>.<br>
In case the SDESIGN cannot be confidently decided, the column contains an
indication of the reason.<br>
Is NA for rows where SDESIGN can be confidently decided.<br>
A non-empty NOT_VALID_MSG value generated by this function is merged with
non-empty NOT_VALID_MSG values which may exist in the input set of studies
specified in <code>studyList</code> - separated by '|'.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
GetStudyListSDESIGN(myDbToken, 'PARALLEL')

## End(Not run)
</code></pre>


</div>