<div class="container">

<table style="width: 100%;"><tr>
<td>ggspectro</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>2D-spectrogram of a time wave using ggplot2</h2>

<h3>Description</h3>

<p>This function returns a ggplot object to draw a spectrogram
with the package ggplot2. This is an alternative to <code>spectro</code>.</p>


<h3>Usage</h3>

<pre><code class="language-R">ggspectro(wave, f, tlab = "Time (s)",
flab = "Frequency (kHz)", alab = "Amplitude\n(dB)\n", ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>wave</code></td>
<td>
<p>an R object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>sampling frequency of <code>wave</code> (in Hz). Does not need to be specified if embedded in <code>wave</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tlab</code></td>
<td>
<p>label of the time axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flab</code></td>
<td>
<p>label of the frequency axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alab</code></td>
<td>
<p>label of the amplitude axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other non-graphical arguments to be passed to spectro
(<code>wl</code>, <code>ovlp</code> etc).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function return the fist layer (data and aesthetic
mapping) of a ggplot2 plot. <br>
See the example section to understand how to build a spectrogram and consult ggplot2 help to get what you
exactly need.<br>
There is no way to plot the oscillogram as <code>spectro does.</code>
</p>


<h3>Value</h3>

<p>A ggpot layer.</p>


<h3>Note</h3>

<p>This function requires <span class="pkg">ggplot2</span> package.</p>


<h3>Author(s)</h3>

<p>Jerome Sueur</p>


<h3>References</h3>

<p>Wickham H (2009) â€“ <em>ggplot2: elegant graphics for data analysis</em>. UseR! Springer.</p>


<h3>See Also</h3>

<p><code>spectro</code>, <code>spectro3D</code>, <code>dynspec</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
require(ggplot2)
## first layer
v &lt;- ggspectro(tico, ovlp=50)
summary(v)
## using geom_tile ##
v + geom_tile(aes(fill = amplitude)) + stat_contour()
## coordinates flip (interest?)
v + geom_tile(aes(fill = amplitude)) + stat_contour() + coord_flip()
## using stat_contour ##
# default (not nice at all)
v + stat_contour(geom="polygon", aes(fill=..level..))
# set up to 30 color levels with the argument bins
(vv &lt;- v + stat_contour(geom="polygon", aes(fill=..level..), bins=30))
# change the limits of amplitude and NA values as transparent
vv + scale_fill_continuous(name="Amplitude\n(dB)\n", limits=c(-30,0), na.value="transparent")
# Black-and-white theme
(vv + scale_fill_continuous(name="Amplitude\n(dB)\n", limits=c(-30,0),
  na.value="transparent", low="white", high="black") + theme_bw())
# Other colour scale (close to spectro() default output)
v + stat_contour(geom="polygon", aes(fill=..level..), bins=30)
  + scale_fill_gradientn(name="Amplitude\n(dB)\n", limits=c(-30,0),
  na.value="transparent", colours = spectro.colors(30))

## End(Not run)</code></pre>


</div>