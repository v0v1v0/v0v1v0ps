<div class="container">

<table style="width: 100%;"><tr>
<td>agreement_limit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Limits of Agreement</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt="[Maturing]"></a>
</p>
<p>A function for calculating for Bland-Altman limits of agreement based on the difference between two measurements (difference = x-y).
Please note that the package developer recommends reporting/using tolerance limits (see <code>"tolerance_limit"</code> function).
</p>


<h3>Usage</h3>

<pre><code class="language-R">agreement_limit(
  x,
  y,
  id = NULL,
  data,
  data_type = c("simple", "nest", "reps"),
  loa_calc = c("mover", "blandaltman"),
  agree.level = 0.95,
  alpha = 0.05,
  prop_bias = FALSE,
  log_tf = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Name of column with first measurement</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Name of other column with the other measurement to compare to the first.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>Column with subject identifier. Default is "id" if no entry is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data frame with all data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data_type</code></td>
<td>
<p>The type of data structure. Options include "simple" (all independent data points), "nest" (nested data) and "reps" (replicated data points).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loa_calc</code></td>
<td>
<p>The method by which the limits of agreement confidence intervals are calculated. Options are "mover" (Methods of Recovering Variances method) or "blandlatman" (Bland-Altman method).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>agree.level</code></td>
<td>
<p>the agreement level required. Default is 95%. The proportion of data that should lie between the thresholds, for 95% limits of agreement this should be 0.95.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>The alpha-level for confidence levels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop_bias</code></td>
<td>
<p>Logical indicator (TRUE/FALSE) of whether proportional bias should be considered for the limits of agreement calculations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log_tf</code></td>
<td>
<p>Calculate limits of agreement using log-transformed data.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The limits of agreement (LoA) are calculated in this function are based on the method originally detailed by Bland &amp; Atlman (1986 &amp; 1999).
The <code>loa_calc</code> allow users to specify the calculative method for the LoA which can be based on Bland-Altman (1999) (<code>loa_calc = "blandaltman"</code>),
or by the more accurate MOVER method of Zou (2013) and Donner &amp; Zou (2012) (<code>loa_calc = "mover"</code>).
</p>


<h3>Value</h3>

<p>Returns single loa class object with the results of the agreement analysis.
</p>

<ul>
<li> <p><code>loa</code>: A data frame containing the Limits of Agreement.
</p>
</li>
<li> <p><code>call</code>:The matched call.
</p>
</li>
</ul>
<h3>References</h3>

<p>MOVER methods:
</p>
<p>Zou, G. Y. (2013). Confidence interval estimation for the Blandâ€“Altman limits of agreement with multiple observations per individual. Statistical methods in medical research, 22(6), 630-642.
</p>
<p>Donner, A., &amp; Zou, G. Y. (2012). Closed-form confidence intervals for functions of the normal mean and standard deviation. Statistical Methods in Medical Research, 21(4), 347-359.
</p>
<p>Bland &amp; Altman methods:
</p>
<p>Bland, J. M., &amp; Altman, D. (1986). Statistical methods for assessing agreement between two methods of clinical measurement. The Lancet, 327(8476), 307-310.
</p>
<p>Bland, J. M., &amp; Altman, D. (1999). Measuring agreement in method comparison studies. Statistical methods in medical research, 8(2), 135-160.
</p>
<p>Bland, J. M., &amp; Altman, D. G. (1996). Statistics notes: measurement error proportional to the mean. BMJ, 313(7049), 106.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data('reps')

# Simple
agreement_limit(x = "x", y ="y", data = reps)

# Replicates
agreement_limit(x = "x", y ="y", data = reps, id = "id", data_type = "rep")

# Nested
agreement_limit(x = "x", y ="y", data = reps, id = "id", data_type = "nest")

</code></pre>


</div>