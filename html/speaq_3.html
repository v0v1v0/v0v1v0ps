<div class="container">

<table style="width: 100%;"><tr>
<td>BuildRawDataMatrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build a raw data matrix (spectra) from spectra of unequal length</h2>

<h3>Description</h3>

<p>This function can be used to build a data matrix from ill aligned spectra or of spectra of unequal length.
the result is a matrix whereby the first column matches (approximately) with a single left ppm value and the 
last column matches (approximately) with a single right ppm value. Crucial is that the sample rates of the machine are the same
this should be always the case otherwise comparing intensities becomes meaningless.
Note that, as standard in NMR spectra, the highest ppm value is on the left
</p>


<h3>Usage</h3>

<pre><code class="language-R">BuildRawDataMatrix(spectrum.list, ppm.list = NULL, ppm.edges.matrix = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>spectrum.list</code></td>
<td>
<p>A list of the spectra (y-values). Since by definition some of these differ in length this has to be in list form with a single spectrum per list item.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ppm.list</code></td>
<td>
<p>The list of corresponding ppm values (x-values) with the highest ppm-value at the beginning (left) as is the convention for NMR spectra. (This our ppm.edges.matrix has to be provided).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ppm.edges.matrix</code></td>
<td>
<p>The list with the starting and ending ppm values (highest ppm-value on the left/in the beginning). This or ppm.list has to be provided.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>SpectraAndPPM A list with 2 elements, the DataMatrix and the ppmMatrix.
</p>


<h3>Author(s)</h3>

<p>Charlie Beirnaert, <a href="mailto:charlie.beirnaert@uantwerpen.be">charlie.beirnaert@uantwerpen.be</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># this is an example for 3 meaningless spectra
lengths_of_spectra &lt;- c(100,150,120)
measurement_distance &lt;- 0.01
starting_ppm_values &lt;- c(8.7, 9.0, 9.0)
spectra &lt;- list()
ppm_values &lt;- list()
for (k in 1:3) {
    spectra[[k]] &lt;- runif(lengths_of_spectra[k], min = 0, max = 10)
    
    # note the minus sign in the 'by' statement
    ppm_values[[k]] &lt;- seq(from = starting_ppm_values[k], by = -measurement_distance, 
                           length.out = lengths_of_spectra[k])  
}
new.Data &lt;- BuildRawDataMatrix(spectrum.list = spectra, ppm.list = ppm_values)
spectraMatrix &lt;- new.Data$DataMatrix
ppmMatrix &lt;- new.Data$ppmMatrix

</code></pre>


</div>