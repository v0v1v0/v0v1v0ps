<div class="container">

<table style="width: 100%;"><tr>
<td>regularise_time</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>regularise_time</h2>

<h3>Description</h3>

<p>Transform an <code>SL_tibble</code> (as produced by
<code>load_SL_tibble</code>)
in such a way that the observations are aggregated in
equal length intervals called 'blocks' (for more
information on blocks see
<code>add_block_labels</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">regularise_time(
  tab,
  ...,
  blocks = c("epoch", "day"),
  add_NAs = TRUE,
  unsafe = F,
  study_duration = getOption("SL_duration"),
  start_date = getOption("SL_start"),
  epoch_levels = getOption("SL_epoch_levels"),
  epoch_ubs = getOption("SL_epoch_ubs"),
  uid_range = getOption("SL_uids"),
  date_range = seq(from = start_date, by = 1, length.out = study_duration)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tab</code></td>
<td>
<p>An <code>SL_tibble</code> as returned
by the function <code>load_SL_tibble</code>.
The <code>SL_tibble</code> must have some date-time information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to <code>summarise</code>,
used to aggregate values when multiple
observations are encountered in a block. Any columns
not specified here or under <code>blocks</code> will be dropped.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blocks</code></td>
<td>
<p>A character vector naming one or more of the
block options "hour_in_day", "epoch", "day", "week", "weekday",
"month" or "date".
If not present as column names in
<code>tab</code>, an attempt will be made to infer the blocks from existing
time information with <code>add_block_labels</code>.
The returned <code>data.frame</code> will
have one observation (possibly <code>NA</code>) for each block.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_NAs</code></td>
<td>
<p>A logical. If TRUE then NAs will be introduced
to fill missing blocks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unsafe</code></td>
<td>
<p>A logical. Default is <code>FALSE</code>. If this is
set to <code>TRUE</code> then less checks will be performed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>study_duration</code></td>
<td>
<p>Integer. The duration of the StudentLife
study in days. This parameter does nothing if <code>limit_date_range</code>
it <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_date</code></td>
<td>
<p>Date. The date that the StudentLife study started.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epoch_levels</code></td>
<td>
<p>A character vector of epoch labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epoch_ubs</code></td>
<td>
<p>An integer vector that defines the hour that is
the upper boundary of each epoch.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uid_range</code></td>
<td>
<p>An integer vector. The range of uids in
the StudentLife study.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date_range</code></td>
<td>
<p>A vector of dates to be
used if <code>limit_date_range</code> is <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">d &lt;- tempdir()
download_studentlife(location = d, url = "testdata")

tab &lt;- load_SL_tibble(
  loc = d, schema = "sensing", table = "activity", csv_nrows = 10)

r_tab &lt;- regularise_time(
  tab, blocks = c("day","weekday"),
  act_inf = max(activity_inference), add_NAs = FALSE)

r_tab

</code></pre>


</div>