<div class="container">

<table style="width: 100%;"><tr>
<td>plot.HR</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Flexible hazard ratio curves taking a specific covariate value as reference</h2>

<h3>Description</h3>

<p>Plots flexible hazard ratio curves allowing non-linear relationships between continuous predictors and survival.
To better understand the effects that each continuous covariate has on the outcome, results are expressed in terms of hazard ratio curves,
taking a specific covariate value as reference. Confidence bands for these curves are also derived.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'HR'
plot(x, predictor, prob=NULL, pred.value=NULL, conf.level=0.95, round.x=NULL,
ref.label=NULL, col, main, xlab, ylab, lty, xlim, ylim, xx, ylog=TRUE,
log=ifelse(ylog, "", "y"), ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class HR</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictor</code></td>
<td>
<p>Variable named in the formula or included as a predictor in the <code>coxfit</code>.
Usually a continuous predictor of survival for which the results are expressed in terms of hazard ratio curves,
taking a specific covariate value as reference.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>Value between 0 and 1. If <code>prob=0</code> the reference value will be the minimum of the hazard ratio curve.
If <code>prob=1</code> the reference value will be the maximum of the hazard ratio curve.
For values between 0 and 1 the reference value will be the corresponding quantile of the variable <code>predictor</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pred.value</code></td>
<td>
<p>Value from the variable <code>predictor</code> to be taken as the reference value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>Level of confidence. Defaults to 0.95 (corresponding to 95%).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>round.x</code></td>
<td>
<p>Rounding of numbers in the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref.label</code></td>
<td>
<p>Label for the reference covariate. By default is the name of the covariate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>Vector of dimension 3 for the colors to plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>These arguments to title have useful defaults here.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>The range of x and y values with sensible defaults.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>The range of x and y values with sensible defaults.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>Vector of dimension 2 for the line type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>The range of x and y values with sensible defaults.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>The range of x and y values with sensible defaults.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xx</code></td>
<td>
<p>Vector of values (from the variable <code>predictor</code>) to be shown in the x axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylog</code></td>
<td>
<p>If <code>TRUE</code> plots natural logarithm of hazard ratio.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p>Axis logarithmic scale. See <code>plot.default</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Invisibly returns the plot data, a data.frame including the elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Predictor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Hazard ratio or log hazard ratio.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.lower</code></td>
<td>
<p>Lower bound of confidence interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.upper</code></td>
<td>
<p>Upper bound of confidence interval.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Artur Araújo and Luís Meira-Machado</p>


<h3>References</h3>

<p>Cadarso-Suarez, C. and Meira-Machado, L. and Kneib, T. and Gude, F. (2010). Flexible hazard ratio curves for continuous predictors in multi-state models: an application to breast cancer data. <em>Statistical Modelling</em>, <b>10</b>(3), 291-314. <a href="https://doi.org/10.1177/1471082X0801000303">doi:10.1177/1471082X0801000303</a>
</p>
<p>Meira-Machado, L. and Cadarso-Suárez, C. and Gude, F. and Araújo, A. (2013). smoothHR: An R Package for Pointwise Nonparametric Estimation of Hazard Ratio Curves of Continuous Predictors. <em>Computational and Mathematical Methods in Medicine</em>, <b>2013</b>, 11 pages. <a href="https://doi.org/10.1155/2013/745742">doi:10.1155/2013/745742</a>
</p>


<h3>See Also</h3>

<p><code>smoothHR</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Example 1
library(survival)
data(whas500)
fit &lt;- coxph(Surv(lenfol, fstat)~age+hr+gender+diasbp+pspline(bmi)+pspline(los),
data=whas500, x=TRUE)
hr1 &lt;- smoothHR(data=whas500, coxfit=fit)
plot(hr1, predictor="bmi", prob=0, conf.level=0.95)

# Example 2
hr2 &lt;- smoothHR( data=whas500, time="lenfol", status="fstat", formula=~age+hr+gender+diasbp+
pspline(bmi)+pspline(los) )
plot(hr2, predictor="los", pred.value=7, conf.level=0.95, xlim=c(0,30), round.x=1,
ref.label="Ref.", xaxt="n")
xx &lt;- c(0, 5, 10, 15, 20, 25, 30)
axis(1, xx)
</code></pre>


</div>