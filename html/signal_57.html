<div class="container">

<table style="width: 100%;"><tr>
<td>fir2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> FIR filter generation </h2>

<h3>Description</h3>

<p>FIR filter coefficients for a filter with the given order and frequency cutoffs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fir2(n, f, m, grid_n = 512, ramp_n = grid_n/20, window = hamming(n + 1))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p> order of the filter (1 less than the length of the filter) </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p> band edges, strictly increasing vector in the range [0,
1] where 1 is the Nyquist frequency. The first element must be 0 and
the last element must be 1.
If elements are identical, it indicates a jump in frequency response. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p> magnitude at band edges, a vector of <code>length(f)</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid_n</code></td>
<td>
<p> length of ideal frequency response function
defaults to 512, should be a power of 2 bigger than <code>n</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ramp_n</code></td>
<td>
<p> transition width for jumps in filter response
defaults to <code>grid_n/20</code>. A wider ramp gives wider transitions
but has better stopband characteristics. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window</code></td>
<td>
<p> smoothing window. The returned filter is the same shape as the smoothing window. </p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The FIR filter coefficients, an array of <code>length(n+1)</code>, of class <code>Ma</code>.
</p>


<h3>Author(s)</h3>

<p> Original Octave version by Paul Kienzle,
<a href="mailto:pkienzle@user.sf.net">pkienzle@user.sf.net</a>. Conversion to R by Tom Short. </p>


<h3>References</h3>

 
<p>Octave Forge <a href="https://octave.sourceforge.io/">https://octave.sourceforge.io/</a>
</p>


<h3>See Also</h3>

 <p><code>filter</code>, <code>Ma</code>,
<code>fftfilt</code>, <code>fir1</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">f &lt;- c(0, 0.3, 0.3, 0.6, 0.6, 1)
m &lt;- c(0, 0, 1, 1/2, 0, 0)
fh &lt;- freqz(fir2(100, f, m))
op &lt;- par(mfrow = c(1, 2))
plot(f, m, type = "b", ylab = "magnitude", xlab = "Frequency")
lines(fh$f / pi, abs(fh$h), col = "blue")
# plot in dB:
plot(f, 20*log10(m+1e-5), type = "b", ylab = "dB", xlab = "Frequency")
lines(fh$f / pi, 20*log10(abs(fh$h)), col = "blue")
par(op)
</code></pre>


</div>