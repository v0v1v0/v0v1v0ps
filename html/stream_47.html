<div class="container">

<table style="width: 100%;"><tr>
<td>DSC_Sample</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract a Fixed-size Sample from a Data Stream</h2>

<h3>Description</h3>

<p>Micro Clusterer.
Extracts a sample form a data stream using Reservoir Sampling (DSAggregate_Sample).  The sample
is stored as a set of micro-clusters to be compatible with other data DSC
stream clustering algorithms.
</p>


<h3>Usage</h3>

<pre><code class="language-R">DSC_Sample(k = 100, biased = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>the number of points to be sampled from the stream.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>biased</code></td>
<td>
<p>if <code>FALSE</code> then a regular (unbiased) reservoir sampling
is used. If true then the sample is biased towards keeping more recent data
points (see Details section).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>biased = FALSE</code> then the reservoir sampling algorithm by McLeod and
Bellhouse (1983) is used. This sampling makes sure that each data point has
the same chance to be sampled. All sampled points will have a weight of 1.
Note that this might not be ideal for an evolving stream since very old data
points have the same chance to be in the sample as newer points.
</p>
<p>If <code>bias = TRUE</code> then sampling prefers newer points using the modified
reservoir sampling algorithm 2.1 by Aggarwal (2006). New points are always
added. They replace a random point in the reservoir with a probability of
reservoir size over <code>k</code>. This an exponential bias function of
<code>2^{-lambda}</code> with <code>lambda = 1 / k</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>DSC_Sample</code> (subclass of DSC,
DSC_R, DSC_Micro).
</p>


<h3>Author(s)</h3>

<p>Michael Hahsler
</p>


<h3>References</h3>

<p>Vitter, J. S. (1985): Random sampling with a reservoir.
<em>ACM Transactions on Mathematical Software,</em> 11(1), 37-57.
</p>
<p>McLeod, A.I., Bellhouse, D.R. (1983): A Convenient Algorithm for Drawing a
Simple Random Sample. <em>Applied Statistics,</em> 32(2), 182-184.
</p>
<p>Aggarwal C. (2006) On Biased Reservoir Sampling in the Presence of Stream
Evolution. <em>International Conference on Very Large Databases
(VLDB'06).</em> 607-618.
</p>


<h3>See Also</h3>

<p>Other DSC_Micro: 
<code>DSC_BICO()</code>,
<code>DSC_BIRCH()</code>,
<code>DSC_DBSTREAM()</code>,
<code>DSC_DStream()</code>,
<code>DSC_Micro()</code>,
<code>DSC_Window()</code>,
<code>DSC_evoStream()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">stream &lt;- DSD_Gaussians(k = 3, d = 2, noise = 0.05)

sample &lt;- DSC_Sample(k = 20)
update(sample, stream, 500)
sample

# plot micro-clusters
plot(sample, stream)

# recluster the sample with k-means
kmeans &lt;- DSC_Kmeans(k = 3)
recluster(kmeans, sample)
plot(kmeans, stream)

# sample from an evolving stream
stream &lt;- DSD_Benchmark(1)
sample &lt;- DSC_Sample(k = 20)
update(sample, stream, 1000)

plot(sample, stream)
# Note: the clusters move from left to right and the sample keeps many
# outdated points

# use a biased sample to keep more recent data points
stream &lt;- DSD_Benchmark(1)
sample &lt;- DSC_Sample(k = 20, biased = TRUE)
update(sample, stream, 1000)
plot(sample, stream)
</code></pre>


</div>