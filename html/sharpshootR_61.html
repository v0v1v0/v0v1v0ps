<div class="container">

<table style="width: 100%;"><tr>
<td>sampleRasterStackByMU</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sample a Raster Stack</h2>

<h3>Description</h3>

<p>Sample a raster stack by map unit polygons, at a constant density.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sampleRasterStackByMU(
  mu,
  mu.set,
  mu.col,
  raster.list,
  pts.per.acre,
  p = c(0, 0.05, 0.25, 0.5, 0.75, 0.95, 1),
  progress = TRUE,
  estimateEffectiveSampleSize = TRUE,
  polygon.id = "pID"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mu</code></td>
<td>
<p>a <code>SpatialPolygonsDataFrame</code> object in a projected coordinate reference system (CRS)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu.set</code></td>
<td>
<p>character vector of map unit labels to be sampled</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu.col</code></td>
<td>
<p>column name in attribute table containing map unit labels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raster.list</code></td>
<td>
<p>a <code>list</code> containing raster names and paths, see details below</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pts.per.acre</code></td>
<td>
<p>target sampling density in <code style="white-space: pre;">⁠points per acre⁠</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>percentiles for polygon area stats, e.g. <code>c(0.05, 0.25, 0.5, 0.75, 0.95)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress</code></td>
<td>
<p>logical, print a progress bar while sampling?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimateEffectiveSampleSize</code></td>
<td>
<p>estimate an effective sample size via Moran's I?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>polygon.id</code></td>
<td>
<p>Column name containing unique polygon IDs; default: <code>"pID"</code>; calculated if missing</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is used by various NRCS reports that summarize or compare concepts defined by collections of polygons using raster data sampled from within each polygon, at a constant sampling density. Even though the function name includes "RasterStack", this function doesn't actually operate on the "stack" object as defined in the raster package. The collection of raster data defined in <code>raster.list</code> do not have to share a common coordinate reference system, grid spacing, or extent. Point samples generated from <code>mu</code> are automatically converted to the CRS of each raster before extracting values. The extent of each raster in <code>raster.list</code> must completely contain the extent of <code>mu</code>.
</p>


<h3>Value</h3>

<p>A <code>list</code> containing:
</p>

<dl>
<dt><code>raster.samples</code></dt>
<dd>
<p>a <code>data.frame</code> containing samples from all rasters in the stack</p>
</dd>
<dt><code>area.stats</code></dt>
<dd>
<p>a <code>data.frame</code> containing area statistics for all map units in the collection</p>
</dd>
<dt><code>unsampled.ids</code></dt>
<dd>
<p>an index to rows in the original SPDF associated with polygons not sampled</p>
</dd>
<dt><code>raster.summary</code></dt>
<dd>
<p>a <code>data.frame</code> containing information on sampled rasters</p>
</dd>
<dt><code>Moran_I</code></dt>
<dd>
<p>a <code>data.frame</code> containing estimates Moran's I (index of spatial autocorrelation)</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>D.E. Beaudette
</p>


<h3>See Also</h3>

<p><code>constantDensitySampling</code>, <code>sample.by.poly</code>
</p>


</div>