<div class="container">

<table style="width: 100%;"><tr>
<td>detrend</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Detrend a Digital Elevation Model</h2>

<h3>Description</h3>

<p>Detrends a Digital Elevation Model (DEM) raster, by subtracting a trend surface. The trend is computed using <code>mgcv::gam</code> or <code>mgcv::bam</code> (when <code>parallel&gt;1</code>) with formula <code>z ~ s(x, y)</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">detrend(x, parallel = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A two-dimensional <code>stars</code> object representing the DEM</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>Number of parallel processes. With <code>parallel=1</code> uses ordinary, non-parallel processing.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A two-dimensional <code>stars</code> object, with two attributes:</p>

<ul>
<li>
<p><code>resid</code> - the detrended result, i.e., "residual"
</p>
</li>
<li>
<p><code>trend</code> - the estimated "trend" which was subtracted from the actual elevation to obtain <code>resid</code>
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R"># Small example
data(dem)
dem1 = detrend(dem)
dem1 = st_redimension(dem1)
dem1 = st_set_dimensions(dem1, 3, values = c("resid", "trend"))
plot(round(dem1), text_values = TRUE, col = terrain.colors(11))

# Larger example 1
data(carmel)
carmel1 = detrend(carmel, parallel = 2)
carmel1 = st_redimension(carmel1)
carmel1 = st_set_dimensions(carmel1, 3, values = c("resid", "trend"))
plot(carmel1, col = terrain.colors(11))

# Larger example 2
data(golan)
golan1 = detrend(golan, parallel = 2)
golan1 = st_redimension(golan1)
golan1 = st_set_dimensions(golan1, 3, values = c("resid", "trend"))
plot(golan1, col = terrain.colors(11))

</code></pre>


</div>