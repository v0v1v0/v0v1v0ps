<div class="container">

<table style="width: 100%;"><tr>
<td>xy_to_cartesian</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Transform between coordinate systems</h2>

<h3>Description</h3>

<p>Transform between coordinate systems
</p>


<h3>Usage</h3>

<pre><code class="language-R">xy_to_cartesian(x, y, track_index = current_track_index())

xy_to_polar(x, y, track_index = current_track_index(), flip = TRUE)

polar_to_cartesian(theta, r)

cartesian_to_polar(x, y)

cartesian_to_xy(x, y, track_index = current_track_index())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>X-locations of the data points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Y-locations of the data points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>track_index</code></td>
<td>
<p>Index of the track.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flip</code></td>
<td>
<p>If it is <code>FALSE</code>, it returns theta for the original spiral (before flipping).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>Angles, in radians.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>Radius.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>There are three coordinate systems: the data coordinate system (xy), the polar coordinate system (polar)
and the canvas coordinate system (cartesian). The canvas coordinates correspond to the "native" coordinates of the viewport where the graphics are drawn.
</p>
<p>Note different settings of <code>flip</code> and <code>reverse</code> in <code>spiral_initialize()</code> affect the conversion.
</p>
<p><code>xy_to_cartesian()</code> converts from the data coordinate system to the canvas coordinate system.
</p>
<p><code>xy_to_polar()</code> converts from the data coordinate system to the polar coordinate system.
</p>
<p><code>polar_to_cartesian()</code> converts from the polar coordinate system to the canvas coordinate system.
</p>
<p><code>cartesian_to_polar()</code> converts from the canvas coordinate system to the polar coordinate system.
</p>
<p><code>cartesian_to_xy()</code> converts from the canvas coordinate system to the data coordinate system.
The data points are assigned to the nearest inner spiral loops (if the point is located inside a certain spiral loop, the distance is zero).
</p>


<h3>Value</h3>

<p><code>xy_to_cartesian()</code> returns A data frame with two columns: <code>x</code> and <code>y</code>.
</p>
<p><code>xy_to_polar()</code> returns a data frame with two columns: <code>theta</code> (in radians) and <code>r</code> (the radius).
</p>
<p><code>polar_to_cartesian()</code> returns a data frame with two columns: <code>x</code> and <code>y</code>.
</p>
<p><code>cartesian_to_polar()</code> returns a data frame with two columns: <code>theta</code> (in radians) and <code>r</code> (the radius).
</p>
<p><code>cartesian_to_xy()</code> returns a data frame with two columns: <code>x</code> and <code>y</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">x = runif(2)
y = runif(2)
spiral_initialize(xlim = c(0, 1))
spiral_track(ylim = c(0, 1))
spiral_points(x, y)
xy_to_cartesian(x, y)
xy_to_polar(x, y)

x = runif(100, -4, 4)
y = runif(100, -4, 4)
spiral_initialize(xlim = c(0, 1))
spiral_track(ylim = c(0, 1))
df = cartesian_to_xy(x, y)
# directly draw in the viewport
grid.points(x, y, default.units = "native")
# check whether the converted xy are correct (should overlap to the previous points)
spiral_points(df$x, df$y, pch = 16, gp = gpar(col = 2))
</code></pre>


</div>