<div class="container">

<table style="width: 100%;"><tr>
<td>derive.network.features</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Derive univariate features from pathway-derived networks</h2>

<h3>Description</h3>

<p>This function fits Cox model to features as well as interaction between
features. The coefficients of features are subsequently used to compute
impact score of each of the pathway-derived networks.
</p>


<h3>Usage</h3>

<pre><code class="language-R">derive.network.features(
  data.directory = ".",
  output.directory = ".",
  data.types = c("mRNA"),
  data.types.ordinal = c("cna"),
  centre.data = "median",
  feature.selection.fun = "calculate.network.coefficients",
  feature.selection.datasets = NULL,
  feature.selection.p.thresholds = c(0.05),
  truncate.survival = 100,
  networks.database = "default",
  subset = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data.directory</code></td>
<td>
<p>Path to the directory containing datasets as specified
by <code>feature.selection.datasets</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output.directory</code></td>
<td>
<p>Path to the output folder where intermediate and
results files will be saved</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.types</code></td>
<td>
<p>A vector of molecular datatypes to load. Defaults to
c('mRNA')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.types.ordinal</code></td>
<td>
<p>A vector of molecular datatypes to be treated as
ordinal. Defaults to c('cna')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>centre.data</code></td>
<td>
<p>A character string specifying the centre value to be used for 
scaling data. Valid values are: 'median', 'mean', or a user defined numeric threshold
e.g. '0.3' when modelling methylation beta values. This value is used for both scaling
as well as for dichotomising data for estimating univariate betas from Cox model.
Defaults to 'median'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature.selection.fun</code></td>
<td>
<p>Name of the function to be used to estimate
network coefficients. Defaults to 'calculate.network.coefficients'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature.selection.datasets</code></td>
<td>
<p>A vector containing names of training
datasets to be used to compute cox statistics</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature.selection.p.thresholds</code></td>
<td>
<p>A vector containing P values to be
used as threshold for including features into overall impact score of a
network</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>truncate.survival</code></td>
<td>
<p>A numeric value specifying survival truncation in
years. Defaults to 100 years which effectively means no truncation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>networks.database</code></td>
<td>
<p>Name of the pathway networks database. Default to
NCI PID/Reactome/Biocarta i-e "default"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>A list with a Field and Entry component specifying a subset of
patients to be selected from each dataset whose annotation Field matches
Entry</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other params to be passed on to user-defined method for
estimating coefficients of network features</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The output files are stored under <code>data.directory</code>/output/
</p>


<h3>Author(s)</h3>

<p>Syed Haider
</p>


<h3>Examples</h3>

<pre><code class="language-R">
options("warn" = -1);

# get data directory 
data.directory &lt;- get.program.defaults(networks.database = "test")[["test.data.dir"]];

# initialise params
output.directory &lt;- tempdir();
data.types &lt;- c("mRNA");
feature.selection.datasets &lt;- c("Breastdata1");
feature.selection.p.thresholds &lt;- c(0.05);

# estimate network coefficients for all the subnet features
derive.network.features(
  data.directory = data.directory,
  output.directory = output.directory,
  data.types = data.types,
  feature.selection.fun = "calculate.network.coefficients",
  feature.selection.datasets = feature.selection.datasets,
  feature.selection.p.thresholds = feature.selection.p.thresholds,
  networks.database = "test"
  );

</code></pre>


</div>