<div class="container">

<table style="width: 100%;"><tr>
<td>Interactions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Mouse interactions</h2>

<h3>Description</h3>

<p>Attach mouse-based interactions to shiny html tags, shiny input/output
widgets or static htmlwidgets and provide ways to manipulate them. The
interactions include:
</p>

<ul>
<li> <p><a href="https://api.jqueryui.com/draggable/">draggable</a>:
Allow elements to be moved using the mouse.
</p>
</li>
<li> <p><a href="https://api.jqueryui.com/droppable/">droppable</a>: Create targets for draggable
elements.
</p>
</li>
<li> <p><a href="https://api.jqueryui.com/resizable/">resizable</a>: Change the size
of an element using the mouse.
</p>
</li>
<li> <p><a href="https://api.jqueryui.com/selectable/">selectable</a>: Use the mouse to select
elements, individually or in a group.
</p>
</li>
<li> <p><a href="https://api.jqueryui.com/sortable/">sortable</a>: Reorder elements in a list or
grid using the mouse.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">jqui_draggable(
  ui,
  operation = c("enable", "disable", "destroy", "save", "load"),
  options = NULL
)

jqui_droppable(
  ui,
  operation = c("enable", "disable", "destroy", "save", "load"),
  options = NULL
)

jqui_resizable(
  ui,
  operation = c("enable", "disable", "destroy", "save", "load"),
  options = NULL
)

jqui_selectable(
  ui,
  operation = c("enable", "disable", "destroy", "save", "load"),
  options = NULL
)

jqui_sortable(
  ui,
  operation = c("enable", "disable", "destroy", "save", "load"),
  options = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ui</code></td>
<td>
<p>The target ui element(s) to be manipulated. Can be
</p>

<ul>
<li>
<p> A <code>shiny.tag</code>
or <code>shiny.tag.list</code> object
</p>
</li>
<li>
<p> A static <code>htmlwidget</code> object
</p>
</li>
<li>
<p> A string of
<a href="https://api.jquery.com/category/selectors/">jQuery_selector</a>
</p>
</li>
<li>
<p> A
JS() wrapped javascript expression that returns a
<a href="https://api.jquery.com/Types/">jQuery object</a>.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>operation</code></td>
<td>
<p>A string to determine how to manipulate the mouse
interaction. Can be one of <code>enable</code>, <code>disable</code>, <code>destroy</code>, <code>save</code> and
<code>load</code>. Ignored when <code>ui</code> is a <code>shiny.tag</code> or <code>shiny.tag.list</code> object. See
Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>
<p>A list of
<a href="https://api.jqueryui.com/category/interactions/">interaction_specific_options</a>.
Ignored when <code>operation</code> is set as <code>destroy</code>. This parameter also accept a
<code>shiny</code> option that controls the shiny input value returned from the
element. See Details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The first parameter <code>ui</code> determines the target ui and working mode. If the
target ui is a <code>shiny.tag</code> (e.g., shiny inputs/outputs or ui created by
tags) or a <code>shiny.tag.list</code> (by tagList()) object
or a static <code>htmlwidget</code>, the functions return the a modified ui object with
interaction effects attached. When a
<a href="https://api.jquery.com/category/selectors/">jQuery_selector</a> or a javascript
expression is provided as the <code>ui</code> parameter, the functions first use it to
locate the target ui element(s) in the shiny app, and then attach or manipulate
the interactions. Therefore, you can use the first way  in the <code>ui</code> of a shiny
app to create elements with interaction effects (the ui mode), or use the
second way  in the <code>server</code> to manipulate the interactions (the server mode).
</p>
<p>The <code>operation</code> parameter is valid only in server mode. It determines how to
manipulate the interaction, which includes:
</p>

<ul>
<li> <p><code>enable</code>: Attach the
corresponding mouse interaction to the target(s).
</p>
</li>
<li> <p><code>disable</code>: Attach the
interaction if not and disable it at once (only set the options).
</p>
</li>
<li> <p><code>destroy</code>: Destroy the interaction.
</p>
</li>
<li> <p><code>save</code>: Attach the interaction if not
and save the current interaction state.
</p>
</li>
<li> <p><code>load</code>: Attach the interaction if not and
restore the target(s) to the last saved interaction state.
</p>
</li>
</ul>
<p>With mouse interactions attached, the corresponding interaction states, e.g.
<code>position</code> of draggable, <code>size</code> of resizable, <code>selected</code> of selectable and
<code>order</code> of sortable, will be sent to server side in the form of
<code style="white-space: pre;">⁠input$&lt;id&gt;_&lt;state&gt;⁠</code>. The default values can be overridden by setting the
<code>shiny</code> option in the <code>options</code> parameter. Please see the vignette
<code style="white-space: pre;">⁠Introduction to shinyjqui⁠</code> for more details.
</p>


<h3>Value</h3>

<p>The same object passed in the <code>ui</code> parameter
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(shiny)
library(highcharter)

## used in ui
jqui_resizable(actionButton('btn', 'Button'))
jqui_draggable(plotOutput('plot', width = '400px', height = '400px'),
                options = list(axis = 'x'))
jqui_selectable(
  div(
    id = 'sel_plots',
    highchartOutput('highchart', width = '300px'),
    plotOutput('ggplot', width = '300px')
  ),
  options = list(
    classes = list(`ui-selected` = 'ui-state-highlight')
  )
)
jqui_sortable(tags$ul(
  id = 'lst',
  tags$li('A'),
  tags$li('B'),
  tags$li('C')
))

## used in server
## Not run: 
  jqui_draggable('#foo', options = list(grid = c(80, 80)))
  jqui_droppable('.foo', operation = "enable")

## End(Not run)

## use shiny input
if (interactive()) {
  shinyApp(
    server = function(input, output) {
      output$foo &lt;- renderHighchart({
        hchart(mtcars, "scatter", hcaes(x = cyl, y = mpg))
      })
      output$position &lt;- renderPrint({
        print(input$foo_position)
      })
    },
    ui = fluidPage(
      verbatimTextOutput('position'),
      jqui_draggable(highchartOutput('foo', width = '200px', height = '200px'))
    )
  )
}

## custom shiny input
func &lt;- JS('function(event, ui){return $(event.target).offset();}')
options &lt;-  list(
  shiny = list(
    abs_position = list(
      dragcreate = func, # send returned value back to shiny when interaction is created.
      drag = func # send returned value to shiny when dragging.
    )
  )
)
jqui_draggable(highchartOutput('foo', width = '200px', height = '200px'),
                options = options)


</code></pre>


</div>