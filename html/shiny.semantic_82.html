<div class="container">

<table style="width: 100%;"><tr>
<td>search_selection_api</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add Semantic UI search selection dropdown based on REST API</h2>

<h3>Description</h3>

<p>Define the (multiple) search selection dropdown input for retrieving remote
selection menu content from an API endpoint. API response is expected to be
a JSON with property fields 'name' and 'value'. Using a search selection
dropdown allows to search more easily through large lists.
</p>


<h3>Usage</h3>

<pre><code class="language-R">search_selection_api(
  input_id,
  search_api_url,
  multiple = FALSE,
  default_text = "Select"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>input_id</code></td>
<td>
<p>Input name. Reactive value is available under input[[input_id]].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>search_api_url</code></td>
<td>
<p>Register API url with server JSON Response containing
fields 'name' and 'value'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multiple</code></td>
<td>
<p>TRUE if the dropdown should allow multiple selections,
FALSE otherwise (default FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default_text</code></td>
<td>
<p>Text to be visible on dropdown when nothing is selected.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Only run examples in interactive R sessions
if (interactive()) {
   library(shiny)
   library(shiny.semantic)
   library(gapminder)
   library(dplyr)

   ui &lt;- function() {
    shinyUI(
      semanticPage(
        title = "Dropdown example",
        uiOutput("search_letters"),
        p("Selected letter:"),
        textOutput("selected_letters")
      )
    )
  }

  server &lt;- shinyServer(function(input, output, session) {

   search_api &lt;- function(gapminder, q) {
     has_matching &lt;- function(field) {
        startsWith(field, q)
      }
      gapminder %&gt;%
        mutate(country = as.character(country)) %&gt;%
        select(country) %&gt;%
        unique %&gt;%
        filter(has_matching(country)) %&gt;%
        head(5) %&gt;%
          transmute(name = country,
                  value = country)
    }

    search_api_url &lt;- shiny.semantic::register_search(session,
                                                      gapminder,
                                                      search_api)
    output$search_letters &lt;- shiny::renderUI(
      search_selection_api("search_result", search_api_url, multiple = TRUE)
    )
    output$selected_letters &lt;- renderText(input[["search_result"]])
  })

  shinyApp(ui = ui(), server = server)
}

</code></pre>


</div>