<div class="container">

<table style="width: 100%;"><tr>
<td>simXyplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>X-Y plots</h2>

<h3>Description</h3>

<p>Generic function for producing x-y plots.  For simulation results, the average
results are plotted against the corresponding contamination levels or missing
value rates.
</p>


<h3>Usage</h3>

<pre><code class="language-R">simXyplot(x, ...)

## S4 method for signature 'SimResults'
simXyplot(x, true = NULL, epsilon, NArate,
          select, cond = c("Epsilon", "NArate"),
          average = c("mean", "median"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>the object to be plotted.  For plotting simulation results, this
must be an object of class <code>"SimResults"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true</code></td>
<td>
<p>a numeric vector giving the true values.  If supplied,
reference lines are drawn in the corresponding panels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epsilon</code></td>
<td>
<p>a numeric vector specifying contamination levels.  If
supplied, the values corresponding to these contamination levels are
extracted from the simulation results and plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NArate</code></td>
<td>
<p>a numeric vector specifying missing value rates.  If
supplied, the values corresponding to these missing value rates are
extracted from the simulation results and plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select</code></td>
<td>
<p>a character vector specifying the columns to be plotted.  It
must be a subset of the <code>colnames</code> slot of <code>x</code>, which is the
default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cond</code></td>
<td>
<p>a character string; for simulation results with multiple
contamination levels and multiple missing value rates, this specifies
the column of the simulation results to be used for producing conditional
x-y plots.  If <code>"Epsilon"</code>, conditional plots are produced for the
different contamination levels.  If <code>"NArate"</code>, conditional plots are
produced for the different missing value rates.  The default is to use
whichever results in less plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>average</code></td>
<td>
<p>a character string specifying how the averages should be
computed.  Possible values are <code>"mean"</code> for the mean (the default)
or <code>"median"</code> for the median.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to be passed down to methods and eventually
to <code>xyplot</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For simulation results with multiple contamination levels and multiple
missing value rates, conditional x-y plots are produced, as specified by
<code>cond</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>"trellis"</code>.  The
<code>update</code> method can be used to update
components of the object and the <code>print</code>
method (usually called by default) will plot it on an appropriate plotting
device.
</p>


<h3>Methods</h3>


<dl>
<dt><code>x = "SimResults"</code></dt>
<dd>
<p>produce x-y plots of simulation results.</p>
</dd>
</dl>
<h3>Note</h3>

<p>Functionality for producing conditional x-y plots (including the argument
<code>cond</code>) was added in version 0.2.  Prior to that, the function gave an
error message if simulation results with multiple contamination levels and
multiple missing value rates were supplied.
</p>
<p>The argument <code>average</code> that specifies how the averages are computed
was added in version 0.1.2.  Prior to that, the mean has always been used.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1â€“36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code>simBwplot</code>, <code>simDensityplot</code>,
<code>xyplot</code>, <code>"SimResults"</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#### design-based simulation
set.seed(12345)  # for reproducibility
data(eusilcP)    # load data

## control objects for sampling and contamination
sc &lt;- SampleControl(size = 500, k = 50)
cc &lt;- DARContControl(target = "eqIncome",
    epsilon = seq(0, 0.05, by = 0.01),
    fun = function(x) x * 25)

## function for simulation runs
sim &lt;- function(x) {
    c(mean = mean(x$eqIncome), trimmed = mean(x$eqIncome, 0.05))
}

## run simulation
results &lt;- runSimulation(eusilcP,
    sc, contControl = cc, fun = sim)

## plot results
tv &lt;- mean(eusilcP$eqIncome)  # true population mean
simXyplot(results, true = tv)



#### model-based simulation
set.seed(12345)  # for reproducibility

## function for generating data
rgnorm &lt;- function(n, means) {
    group &lt;- sample(1:2, n, replace=TRUE)
    data.frame(group=group, value=rnorm(n) + means[group])
}

## control objects for data generation and contamination
means &lt;- c(0, 0.25)
dc &lt;- DataControl(size = 500, distribution = rgnorm,
    dots = list(means = means))
cc &lt;- DCARContControl(target = "value",
    epsilon = seq(0, 0.05, by = 0.01),
    dots = list(mean = 15))

## function for simulation runs
sim &lt;- function(x) {
    c(mean = mean(x$value),
        trimmed = mean(x$value, trim = 0.05),
        median = median(x$value))
}

## run simulation
results &lt;- runSimulation(dc, nrep = 50,
    contControl = cc, design = "group", fun = sim)

## plot results
simXyplot(results, true = means)
</code></pre>


</div>