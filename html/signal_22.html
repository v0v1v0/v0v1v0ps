<div class="container">

<table style="width: 100%;"><tr>
<td>buttord</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Butterworth filter order and cutoff </h2>

<h3>Description</h3>

<p>Compute butterworth filter order and cutoff for the desired response
characteristics.</p>


<h3>Usage</h3>

<pre><code class="language-R">buttord(Wp, Ws, Rp, Rs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Wp, Ws</code></td>
<td>
<p> pass-band and stop-band edges. For a low-pass or
high-pass filter, <code>Wp</code> and <code>Ws</code> are scalars. For a
band-pass or band-rejection filter, both are vectors of length
2. For a low-pass filter, <code>Wp &lt; Ws</code>. For a
high-pass filter, <code>Ws &gt; Wp</code>. For a band-pass (<code>Ws[1] &lt; Wp[1] &lt; Wp[2] &lt;
    Ws[2]</code>) or band-reject (<code>Wp[1] &lt; Ws[1] &lt; Ws[2] &lt; Wp[2]</code>)
filter design, <code>Wp</code> gives the edges of the pass band, and <code>Ws</code> gives
the edges of the stop band. Frequencies are normalized to [0,1],
corresponding to the range [0, Fs/2]. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rp</code></td>
<td>
<p> allowable decibels of ripple in the pass band. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rs</code></td>
<td>
<p> minimum attenuation in the stop band in dB. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Deriving the order and cutoff is based on:
</p>
<p style="text-align: center;"><code class="reqn">|H(W)|^2 = \frac{1}{1+(W/Wc)^{2n}} = 10^{-R/10}</code>
</p>

<p>With some algebra, you can solve simultaneously for <code>Wc</code> and <code>n</code> given
<code>Ws</code>, <code>Rs</code> and <code>Wp</code>, <code>Rp</code>. For high-pass filters, subtracting the band edges
from Fs/2, performing the test, and swapping the resulting <code>Wc</code> back
works beautifully. For bandpass- and bandstop-filters, this process
significantly overdesigns. Artificially dividing <code>n</code> by 2 in this case
helps a lot, but it still overdesigns.
</p>


<h3>Value</h3>

<p>An object of class <code>FilterOfOrder</code> with the following list elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p> filter order </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Wc</code></td>
<td>
<p> cutoff frequency </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p> filter type, one of “low”, “high”, “stop”, or “pass” </p>
</td>
</tr>
</table>
<p>This object can be passed directly to <code>butter</code> to compute filter coefficients.
</p>


<h3>Author(s)</h3>

<p> Original Octave version by Paul Kienzle,
<a href="mailto:pkienzle@user.sf.net">pkienzle@user.sf.net</a>. Conversion to R by Tom Short. </p>


<h3>References</h3>

 
<p>Octave Forge <a href="https://octave.sourceforge.io/">https://octave.sourceforge.io/</a>
</p>


<h3>See Also</h3>

 <p><code>butter</code>, <code>FilterOfOrder</code>, <code>cheb1ord</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">Fs &lt;- 10000
btord &lt;- buttord(1000/(Fs/2), 1200/(Fs/2), 0.5, 29)
plot(c(0, 1000, 1000, 0, 0), c(0, 0, -0.5, -0.5, 0),
     type = "l", xlab = "Frequency (Hz)", ylab = "Attenuation (dB)")
bt &lt;- butter(btord)
plot(c(0, 1000, 1000, 0, 0), c(0, 0, -0.5, -0.5, 0),
     type = "l", xlab = "Frequency (Hz)", ylab = "Attenuation (dB)",
     col = "red", ylim = c(-10,0), xlim = c(0,2000))
hf &lt;- freqz(bt, Fs = Fs)
lines(hf$f, 20*log10(abs(hf$h)))

</code></pre>


</div>