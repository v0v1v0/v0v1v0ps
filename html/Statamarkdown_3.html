<div class="container">

<table style="width: 100%;"><tr>
<td>Statamarkdown-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Settings and functions to extend the knitr Stata engine.</h2>

<h3>Description</h3>

<p>To use these functions and settings, attach the <span class="pkg">Statamarkdown</span>
library from <em>within</em> the document to be <code>knit</code>.  A
typical preliminary code check in a document would be
</p>
<pre>
    ```{r setup, include=FALSE}
    library(Statamarkdown)
    ```
</pre>
<p>Using the "Stata" language engine in <span class="pkg">knitr</span> has a number of limitations.
Each Stata code chunk is run as a separate batch file, and source
code is part of the output returned to the document being knit.
This package provides a language engine with code chunk options
to overcome these limitations.
</p>
<p>If you render multiple documents from the same script or R session,
you should <code>detach("Statamarkdown")</code> in between documents.
</p>


<h3>Code Block (Chunk) Options</h3>



<h4>Statamarkdown Chunk Options</h4>



<h5>collectcode: (logical)</h5>

<p>A function here sets up a chunk hook, that silently repeats selected
code chunks
at the beginning of later code chunks.  This allows
the code in one chunk to use the results of a previous chunk.  The
user marks code chunks to be silently repeated with the
chunk option <code>collectcode=TRUE</code>.
</p>



<h5>cleanlog: (logical)</h5>

<p>A second function here sets up an output hook.  This removes Stata
code from the output by default.  To leave Stata commands in the
output, specify the chunk option <code>cleanlog=FALSE</code>.
</p>



<h5>savedo: (logical)</h5>

<p>To save the code from a code block (as a
"do" file) and also to save the Stata log file produced by
that code block, specify chunk option <code>savedo=TRUE</code>.  The filenames
are the same as the chunk label.
</p>




<h4>Knitr Chunk Options</h4>



<h5>eval: (logical)</h5>

<p>Whether or not to evaluate
the code in the code block.  Use <code>eval=FALSE</code> to show
code to the reader without having it evaluated.
</p>
<p>Selective evaluation by specifying a numeric vector (an option
for R code blocks) does <em>not</em> work for Stata.
</p>



<h5>include: (logical)</h5>

<p>Whether or not any trace
of this code block appears in your document.  Use <code>include=FALSE</code>
to evaluate code but suppress the source code echo and all
output (including error messages).
</p>
<p>This is equivalent to <code>eval=TRUE, echo=FALSE, results="hide", error=FALSE</code>.
</p>



<h5>echo: (logical, numeric vector)</h5>

<p>Whether or not
to show the reader the source code. Use <code>echo=FALSE</code> to
suppress the source code in your document.
</p>
<p>If this is specified as
a numeric vector, it indicates which source lines to show
or suppress.  For example, <code>echo=c(1,2)</code> shows only the
first two lines of the code block in the document (while still
evaluating the entire code block).  Likewise, <code>echo=-1</code> hides
just the first line of code from the reader.
</p>



<h5>results: (character)</h5>

<p>To suppress
normal output while still showing error messages
use <code>results="hide"</code>.
</p>



<h5>error: (logical)</h5>

<p>Whether or not to show error
messages in your document.  To suppress error messages use
<code>error=FALSE</code>.
</p>
<p>Error messages that Stata writes to the log will appear as normal
output - they are not "errors" in this context.  This option
affects error messages returned to/by the operating system.
</p>



<h5>comment: (character)</h5>

<p>A prefix to use before
lines of output.  The default for R output is <code>comment="##"</code>
</p>



<h5>child: (character)</h5>

<p>Filename to be run and input
in the document.
</p>




<h3>Author(s)</h3>

<p>Doug Hemken
</p>


<h3>References</h3>

<p>More documentation and examples:
<a href="https://www.ssc.wisc.edu/~hemken/Stataworkshops/stata.html#stata-and-r-markdown">https://www.ssc.wisc.edu/~hemken/Stataworkshops/stata.html#stata-and-r-markdown</a>
</p>


<h3>See Also</h3>

<p>The package that this extends: <span class="pkg">knitr-package</span>.
</p>


</div>