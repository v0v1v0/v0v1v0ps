<div class="container">

<table style="width: 100%;"><tr>
<td>load_ssim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>load_ssim</h2>

<h3>Description</h3>

<p>Load SSIM file into a Data Frame.
</p>


<h3>Usage</h3>

<pre><code class="language-R">load_ssim(
  ssim_file = get_ssim_sample(),
  nested_df = FALSE,
  collist = get_ssim_collist(getall = FALSE),
  clean_col_names = TRUE,
  unpivot_days_of_op = FALSE,
  expand_sched = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ssim_file</code></td>
<td>
<p>Path to the SSIM file or character vector containing the content to load.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nested_df</code></td>
<td>
<p>Nest SSIM type 3 into type 2 (TRUE/FALSE). Default to FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collist</code></td>
<td>
<p>List of columns that need to be present in the final Data Frame. get_ssim_collist() to get the full list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clean_col_names</code></td>
<td>
<p>Clean column names in the final Data Frame by removing type2/type3 prefixes (TRUE/FALSE). Default TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unpivot_days_of_op</code></td>
<td>
<p>Unpivot the schedules by creating a schedule by day of operation (TRUE/FALSE). Default FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expand_sched</code></td>
<td>
<p>Expand schedules into flights.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Data Frame (nested or not) containing the schedules (or flights when schedules were expanded).
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Get a sample as a character vector
sample_ssim_string &lt;- ssimparser::get_ssim_sample(datefrom = as.Date("2020-11-01"),
dateto = as.Date("2020-12-01"),
season = "W20",
creadate = as.Date("2020-12-02"))

# Write sample to temp dir
sample_ssim_file &lt;- tempfile()
write(sample_ssim_string, sample_ssim_file, append = FALSE)

# Load sample, expand schedules to flights and display the traffic
# by month and departure airport ICAO
ssimparser::load_ssim(ssim_file = sample_ssim_file,
expand_sched = TRUE) %&gt;%
dplyr::group_by(format(flight.flight_date,"%Y-%m"), adep_icao) %&gt;%
dplyr::summarise(n=dplyr::n())

# Get the unique list of airports ICAO
ssimparser::load_ssim(ssim_file = sample_ssim_file, expand_sched = TRUE,
collist = c("type3.adep_icao", "type3.ades_icao")) %&gt;% unique()

# Nest the type 3 into type 2
ssim_nested &lt;- ssimparser::load_ssim(ssim_file = sample_ssim_file,
expand_sched = FALSE, nested = TRUE)
head(ssim_nested)

# Remove the sample SSIM file
unlink(sample_ssim_file)
</code></pre>


</div>