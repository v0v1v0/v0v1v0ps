<div class="container">

<table style="width: 100%;"><tr>
<td>getRobustWeightsMulti</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run Sparse multiple Canonical Correlation Analysis and Obtain Canonical Weights (with Subsampling)</h2>

<h3>Description</h3>

<p>SmCCNet algorithm with multi-omics data and quantitative phenotype. Calculate the canonical weights for SmCCA.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getRobustWeightsMulti(
  X,
  Trait,
  Lambda,
  s = NULL,
  NoTrait = FALSE,
  SubsamplingNum = 1000,
  CCcoef = NULL,
  trace = FALSE,
  TraitWeight = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>A list of omics data each with n subjects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Trait</code></td>
<td>
<p>An <code class="reqn">n\times 1</code> trait (phenotype) data matrix for the same n subjects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Lambda</code></td>
<td>
<p>Lasso penalty vector with length equals to the number of omics data (<code class="reqn">X</code>). <code>Lambda</code> needs
to be between 0 and 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>
<p>A vector with length equals to the number of omics data (<code class="reqn">X</code>), specifying the 
percentage of omics feature being subsampled at each subsampling iteration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NoTrait</code></td>
<td>
<p>Logical, default is <code>FALSE</code>. Whether trait information
is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SubsamplingNum</code></td>
<td>
<p>Number of feature subsamples. Default is 1000. Larger
number leads to more accurate results, but at a higher computational cost.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CCcoef</code></td>
<td>
<p>Optional scaling factors for the SmCCA pairwise canonical
correlations. If <code>CCcoef = NULL</code> (default), then the objective function
is the total sum of all pairwise canonical correlations. This 
coefficient vector follows the column order of <code>combn(T+1, 2)</code> assuming there are T omics data and a phenotype data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trace</code></td>
<td>
<p>Whether to display the CCA algorithm trace, default is set to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TraitWeight</code></td>
<td>
<p>Whether to return canonical weight for trait (phenotype), default is set to <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A canonical correlation weight matrix with <code class="reqn">p = \sum_{i} p_i</code> rows, where <code class="reqn">p_i</code> is the number of features for the <code class="reqn">i</code>th omics. Each
column is the canonical correlation weights based on subsampled features. The number of columns is <code>SubsamplingNum</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

## For illustration, we only subsample 5 times.
set.seed(123)
X1 &lt;- matrix(rnorm(600,0,1), nrow = 60)
X2 &lt;- matrix(rnorm(600,0,1), nrow = 60)
Y &lt;- matrix(rnorm(60,0,1), nrow = 60)
# Unweighted SmCCA
result &lt;- getRobustWeightsMulti(X = list(X1, X2), Trait = Y, NoTrait = FALSE,
Lambda = c(0.5, 0.5),s = c(0.7, 0.7), SubsamplingNum = 20)
  
</code></pre>


</div>