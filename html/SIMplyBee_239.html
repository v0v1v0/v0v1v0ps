<div class="container">

<table style="width: 100%;"><tr>
<td>swarm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Swarm</h2>

<h3>Description</h3>

<p>Level 2 function that swarms a Colony or MultiColony object -
an event where the queen
leaves with a proportion of workers to create a new colony (the swarm). The
remnant colony retains the other proportion of workers and all drones, and
the workers raise virgin queens, of which only one prevails. Location of
the swarm is the same as for the remnant or sampled as deviation from the
remnant.
</p>


<h3>Usage</h3>

<pre><code class="language-R">swarm(
  x,
  p = NULL,
  year = NULL,
  nVirginQueens = NULL,
  sampleLocation = TRUE,
  radius = NULL,
  simParamBee = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>Colony-class</code> or <code>MultiColony-class</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>numeric, proportion of workers that will leave with the swarm colony;
if <code>NULL</code> then <code>SimParamBee$swarmP</code> is used.
If input is <code>MultiColony-class</code>,
the input could also be a vector of the same length as the number of colonies. If
a single value is provided, the same value will be applied to all the colonies</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year</code></td>
<td>
<p>numeric, year of birth for virgin queens</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nVirginQueens</code></td>
<td>
<p>integer, the number of virgin queens to be created in the
colony; of these one is randomly selected as the new virgin queen of the
remnant colony. If <code>NULL</code>, the value from <code>simParamBee$nVirginQueens</code>
is used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampleLocation</code></td>
<td>
<p>logical, sample location of the swarm by taking
the current colony location and adding deviates to each coordinate using
<code>rcircle</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>radius</code></td>
<td>
<p>numeric, radius of a circle within which swarm will go; if
<code>NULL</code> then <code>SimParamBee$swarmRadius</code> is used (which uses
<code>0</code>, so by default swarm does not fly far away)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simParamBee</code></td>
<td>
<p><code>SimParamBee</code>, global simulation parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed to <code>p</code> or <code>nVirginQueens</code>
when these arguments are functions</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>list with two <code>Colony-class</code> or <code>MultiColony-class</code>,
the <code>swarm</code> and the <code>remnant</code> (see the description what each
colony holds!); both outputs have the swarm event set to <code>TRUE</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">founderGenomes &lt;- quickHaplo(nInd = 8, nChr = 1, segSites = 50)
SP &lt;- SimParamBee$new(founderGenomes)

basePop &lt;- createVirginQueens(founderGenomes)
drones &lt;- createDrones(basePop[1], n = 1000)
droneGroups &lt;- pullDroneGroupsFromDCA(drones, n = 10, nDrones = 10)

# Create Colony and MultiColony class
colony &lt;- createColony(x = basePop[2])
colony &lt;- cross(colony, drones = droneGroups[[1]])
(colony &lt;- buildUp(colony, nWorkers = 100))
apiary &lt;- createMultiColony(basePop[3:8], n = 6)
apiary &lt;- cross(apiary, drones = droneGroups[2:7])
apiary &lt;- buildUp(apiary, nWorkers = 100)

# Swarm a colony
tmp &lt;- swarm(colony)
tmp$swarm
tmp$remnant

# Swarm all colonies in the apiary with p = 0.6 (60% of workers leave)
tmp &lt;- swarm(apiary, p = 0.6)
nWorkers(tmp$swarm)
nWorkers(tmp$remnant)
# Swarm with different proportions
nWorkers(apiary)
tmp &lt;- swarm(apiary, p = c(0.4, 0.6, 0.5, 0.5, 0.34, 0.56))
nWorkers(tmp$swarm)
nWorkers(tmp$remnant)

# Sample colonies from the apiary that will swarm (sample with probability of 0.2)
tmp &lt;- pullColonies(apiary, p = 0.2)
# Swarm only the pulled colonies
(swarm(tmp$pulled, p = 0.6))
</code></pre>


</div>