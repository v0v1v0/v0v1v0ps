<div class="container">

<table style="width: 100%;"><tr>
<td>submean</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sub-sample Mean Estimation</h2>

<h3>Description</h3>

<p>The function <code>submean</code> estimates the population mean out of sub-samples (two-stage samples) either with or without consideration of finite population correction in both stages.
</p>


<h3>Usage</h3>

<pre><code class="language-R">submean(y, PSU, N, M, Nl, m.weight, n.weight, method = 'simple', level = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>vector of target variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PSU</code></td>
<td>
<p>vector of grouping variable which indicates the primary unit for each sample element.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>positive integer specifying population size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>positive integer specifying the number of primary units in the  population.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Nl</code></td>
<td>
<p>vector of sample sizes in each primary unit, which has to be specified in alphabetical or numerical order of the categories of l.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m.weight</code></td>
<td>
<p>vector of primary sample unit weights, which has to be specified in alphabetical or numerical order of the categories of l.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.weight</code></td>
<td>
<p>vector of secondary sample unit weights in each primary sample unit, which has to be specified in alphabetical or numerical order of the categories of l.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>estimation method. Default is "simple", alternative is "ratio".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>coverage probability for confidence intervals. Default is <code>level=0.95</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If the absolute sizes <code>M</code> and <code>Nl</code> are given, the variances are calculated with finite population correction. Otherwise, if the weights <code>m.weight</code> and <code>n.weight</code> are given, the variances are calculated without finite population correction.
</p>


<h3>Value</h3>

<p>The function <code>submean</code> returns a value, which is a list consisting of the components
</p>
<table>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>is a list of call components: <code>y</code> target variable in sample data, <code>PSU</code> gouping variable in sample data, <code>N</code> population size, <code>M</code> number of primary population units, <code>fpc</code> finite population correction, <code>method</code> estimation method, <code>level</code> coverage probability for confidence intervals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean</code></td>
<td>
<p>mean estimate for population</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se</code></td>
<td>
<p>standard error of the mean estimate for population</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p>vector of confidence interval boundaries for population</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Shuai Shao and Juliane Manitz</p>


<h3>References</h3>

<p>Kauermann, Goeran/Kuechenhoff, Helmut (2011): Stichproben. Methoden und praktische Umsetzung mit R. Springer.
</p>


<h3>See Also</h3>

<p><code>Smean</code>, <code>stratamean</code></p>


<h3>Examples</h3>

<pre><code class="language-R">y &lt;- c(23,33,24,25,72,74,71,37,42)
psu &lt;- as.factor(c(1,1,1,1,2,2,2,3,3))
# with finite population correction
submean(y, PSU=psu, N=700, M=23, Nl=c(100,50,75), method='ratio')
# without finite population correction
submean(y, PSU=psu, N=700, m.weight=3/23, n.weight=c(4/100,3/50,2/75), method='ratio')

# Chinese wage data
data(wage)
summary(wage)
submean(wage$Wage,PSU=wage$Region, N=990, M=33, Nl=rep(30,14))
</code></pre>


</div>