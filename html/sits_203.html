<div class="container">

<table style="width: 100%;"><tr>
<td>sits_stratified_sampling</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Allocation of sample size to strata</h2>

<h3>Description</h3>

<p>Takes a class cube with different labels and a sampling
design with a number of samples per class and allocates a set of
locations for each class
</p>


<h3>Usage</h3>

<pre><code class="language-R">sits_stratified_sampling(
  cube,
  sampling_design,
  alloc = "alloc_prop",
  overhead = 1.2,
  multicores = 2L,
  shp_file = NULL,
  progress = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cube</code></td>
<td>
<p>Classified cube</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampling_design</code></td>
<td>
<p>Result of sits_sampling_design</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alloc</code></td>
<td>
<p>Allocation method chosen</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overhead</code></td>
<td>
<p>Additional percentage to account
for border points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multicores</code></td>
<td>
<p>Number of cores that will be used to
sample the images in parallel.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shp_file</code></td>
<td>
<p>Name of shapefile to be saved (optional)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress</code></td>
<td>
<p>Show progress bar? Default is TRUE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>samples              Point sf object with required samples
</p>


<h3>Author(s)</h3>

<p>Gilberto Camara, <a href="mailto:gilberto.camara@inpe.br">gilberto.camara@inpe.br</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (sits_run_examples()) {
    # create a random forest model
    rfor_model &lt;- sits_train(samples_modis_ndvi, sits_rfor())
    # create a data cube from local files
    data_dir &lt;- system.file("extdata/raster/mod13q1", package = "sits")
    cube &lt;- sits_cube(
        source = "BDC",
        collection = "MOD13Q1-6.1",
        data_dir = data_dir
    )
    # classify a data cube
    probs_cube &lt;- sits_classify(
        data = cube, ml_model = rfor_model, output_dir = tempdir()
    )
    # label the probability cube
    label_cube &lt;- sits_label_classification(
        probs_cube,
        output_dir = tempdir()
    )
    # estimated UA for classes
    expected_ua &lt;- c(Cerrado = 0.95, Forest = 0.95,
                     Pasture = 0.95, Soy_Corn = 0.95)
    # design sampling
    sampling_design &lt;- sits_sampling_design(label_cube, expected_ua)
    # select samples
    samples &lt;- sits_stratified_sampling(label_cube,
                                        sampling_design, "alloc_prop")

}
</code></pre>


</div>