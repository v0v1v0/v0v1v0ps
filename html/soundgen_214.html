<div class="container">

<table style="width: 100%;"><tr>
<td>reverb</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reverb &amp; echo</h2>

<h3>Description</h3>

<p>Adds reverberation and/or echo to a sound. Algorithm for reverb: adds
time-shifted copies of the signal weighted by a decay function, which is
analogous to convoluting the input with a parametric model of some
hypothetical impulse response function. In simple terms: we specify how much
and when the sound rebounds back (as from a wall) and add these time-shifted
copies to the original, optionally with some spectral filtering.
</p>


<h3>Usage</h3>

<pre><code class="language-R">reverb(
  x,
  samplingRate = NULL,
  echoDelay = 200,
  echoLevel = -20,
  reverbDelay = 70,
  reverbSpread = 130,
  reverbLevel = -25,
  reverbDensity = 50,
  reverbType = "gaussian",
  filter = list(),
  dynamicRange = 80,
  output = c("audio", "detailed")[1],
  play = FALSE,
  reportEvery = NULL,
  cores = 1,
  saveAudio = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>path to a folder, one or more wav or mp3 files c('file1.wav',
'file2.mp3'), Wave object, numeric vector, or a list of Wave objects or
numeric vectors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samplingRate</code></td>
<td>
<p>sampling rate of <code>x</code> (only needed if <code>x</code> is a
numeric vector)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>echoDelay</code></td>
<td>
<p>the delay at which the echo appears, ms</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>echoLevel</code></td>
<td>
<p>the rate at which the echo weakens at each repetition, dB</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reverbDelay</code></td>
<td>
<p>the time of maximum reverb density, ms</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reverbSpread</code></td>
<td>
<p>standard deviation of reverb spread around time
<code>reverbDelay</code>, ms</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reverbLevel</code></td>
<td>
<p>the maximum amplitude of reverb, dB below input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reverbDensity</code></td>
<td>
<p>the number of echos or "voices" added</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reverbType</code></td>
<td>
<p>so far only "gaussian" has been implemented</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter</code></td>
<td>
<p>(optional) a spectral filter to apply to the created reverb and
echo (see <code>addFormants</code> for acceptable formats)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dynamicRange</code></td>
<td>
<p>the precision with which the reverb and echo are
calculated, dB</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>"audio" = returns just the processed audio, "detailed" =
returns a list with reverb window, the added reverb/echo, etc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>play</code></td>
<td>
<p>if TRUE, plays the processed audio</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reportEvery</code></td>
<td>
<p>when processing multiple inputs, report estimated time
left every ... iterations (NULL = default, NA = don't report)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>number of cores for parallel processing</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>saveAudio</code></td>
<td>
<p>full (!) path to folder for saving the processed audio; NULL
= don't save, ‚Äù = same as input folder (NB: overwrites the originals!)</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">s = soundgen()
s_rev = reverb(s, 16000)
# playme(s_rev)

## Not run: 
# double echo, no reverb
s1 = reverb(s, samplingRate = 16000, reverbLevel = NULL,
            echoDelay = c(250, 800), echoLevel = c(-15, -25))
# playme(s1)
# spectrogram(s1, 16000, osc = TRUE, ylim = c(0, 4))

# only reverb (indoors)
s2 = reverb(s, samplingRate = 16000, echoDelay = NULL,
            reverbDelay = 70, reverbSpread = 130,
            reverbLevel = -20, reverbDensity = 20)
# playme(s2)
# spectrogram(s2, 16000, osc = TRUE, ylim = c(0, 4))

# reverb (caves)
s3 = reverb(s, samplingRate = 16000, echoDelay = NULL,
            reverbDelay = 600, reverbSpread = 1500,
            reverbLevel = -10, reverbDensity = 100)
# playme(s3)
# spectrogram(s3, 16000, osc = TRUE, ylim = c(0, 4))

# both echo and reverb with high frequencies emphasized
s4 = reverb(s, samplingRate = 16000,
            echoDelay = 250, echoLevel = -20,
            reverbDelay = 70, reverbSpread = 120,
            reverbLevel = -25, reverbDensity = 50,
            filter = list(formants = NULL, lipRad = 3))
# playme(s4)
# spectrogram(s4, 16000, osc = TRUE, ylim = c(0, 4))

# add reverb to a recording
s5 = reverb('~/Downloads/temp260/ut_fear_57-m-tone.wav',
            echoDelay = 850, echoLevel = -40)
# playme(s5, 44100)

# add reverb to all files in a folder, save the result
reverb('~/Downloads/temp2', saveAudio = '~/Downloads/temp2/rvb')

## End(Not run)
</code></pre>


</div>