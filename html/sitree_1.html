<div class="container">

<table style="width: 100%;"><tr>
<td>recr.BBG2008</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Recruitment function following BBG2008
</h2>

<h3>Description</h3>

<p>It creates a list of new trees based on the functions from BBG2008, Bollandsås et al. (2008) doi:10.1080/02827580801995315 . BBG2008 functions estimates recruitment on a plot based on
stand basal area, SI, and pine, spruce, birch, and other broadleaved
species abundance. The implementation of this function is stochastic,
not deterministic. So, if run several times without setting a seed, the
results will vary. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">recr.BBG2008(tr, fl, common.vars, i.period, this.period, next.period, ...)
BBG2008 (SBA.m2.ha, SI.m, pr.spru.ba, pr.pine.ba, pr.birch.ba, 
    pr.other.ba) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tr</code></td>
<td>

<p>A trList object
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fl</code></td>
<td>

<p>A list describing the plot information
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>common.vars</code></td>
<td>

<p>A list with at least 3 elements: a vector named SBA.m2.ha, stand basal
area in m2; a data frame named pr.spp.ba, with the percentatge of
basal area by species with column names spru, pine, birch, and other,
and a vector named i.tree with the stands corresponding to each tree.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.period</code></td>
<td>

<p>The number of period (from 0 to nperiods) for which to calculate recruitment.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>this.period</code></td>
<td>

<p>Period to use to estimate next period recruitment.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>next.period</code></td>
<td>

<p>Period for which to calculate recruitment.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SBA.m2.ha</code></td>
<td>

<p>Stand basal area in m2 per ha.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SI.m</code></td>
<td>

<p>Site index (SI) in m.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pr.spru.ba</code></td>
<td>

<p>Percentatge of spruce in terms of basal area.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pr.pine.ba</code></td>
<td>

<p>Percentatge of pine in terms of basal area.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pr.birch.ba</code></td>
<td>

<p>Percentatge of birch in terms of basal area.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pr.other.ba</code></td>
<td>

<p>Percentatge of other species in terms of basal area.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Not used.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a data frame with two columns for each of the four species,
one for the probability of positive recruitment (spruce.p, pine.p,
birch.p, other.p), and one for the conditional expected recruitment
(spruce.e, pine.e, birch.e, other.e).
</p>


<h3>Author(s)</h3>

<p>Clara Anton Fernandez <a href="mailto:caf@nibio.no">caf@nibio.no</a>
</p>


<h3>References</h3>

<p>Bollandsås, O. M., Buongiorno, J., and Gobakken T. (2008). Predicting the Growth of Stands of Trees of Mixed Species and Size: A Matrix Model for Norway. <em>Scandinavian Journal of Forest Research</em> <strong>23</strong>(2). 167-178.
</p>


<h3>Examples</h3>

<pre><code class="language-R">foo.matrix &lt;-  matrix(0, nrow = length(tr$dbh), ncol = (5 +1))
colnames(foo.matrix) &lt;- paste("t", 0:5, sep = "")
foo.dbh &lt;- foo.height &lt;- foo.matrix
foo.dbh[,1] &lt;- tr$dbh
foo.height[,1] &lt;- tr$height

trl &lt;- list(
  plot.id  = tr$plot.id,
  treeid    = tr$treeid,
  dbh.mm    = foo.dbh,
  height.dm = foo.height,
  yrs.sim   = rep(0, nrow(tr)),
  tree.sp   = factor(tr$tree.sp)
)
tr.i &lt;- trList$new(data = trl, nperiods = as.integer(5))

## create a fake dead trees and removed trees.

common.vars &lt;-  prep.common.vars.fun(
  tr = tr.i,
  fl = fl,
  this.period    = "t0",
  i.period       = 0,
  common.vars    = "NULL",
  mng.options    = NA,
  vars.required  = c("spp", "SBA.m2.ha", "pr.spru.ba"),
  period.length = 5,
  species.spruce = c(1, 2, 3),
  species.pine = c(10, 11, 20, 21, 29),
  species.harw = c(30, 31)
)

recr &lt;- recr.BBG2008(tr.i, fl, common.vars$res, i.period = 0, this.period = "t0",
                     next.period = "t1")
str(recr)
bbg &lt;- BBG2008 (common.vars$res$SBA.m2.ha[common.vars$res$i.tree],
                fl$SI.m,
                common.vars$res$pr.spp.ba$spru[common.vars$res$i.tree],
                common.vars$res$pr.spp.ba$pine[common.vars$res$i.tree],
                common.vars$res$pr.spp.ba$birch[common.vars$res$i.tree], 
                common.vars$res$pr.spp.ba$other[common.vars$res$i.tree])
str(bbg)
</code></pre>


</div>