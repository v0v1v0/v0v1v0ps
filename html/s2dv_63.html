<div class="container">

<table style="width: 100%;"><tr>
<td>RandomWalkTest</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Random Walk test for skill differences</h2>

<h3>Description</h3>

<p>Forecast comparison of the skill obtained with 2 forecasts (with respect to a 
common observational reference) based on Random Walks (DelSole and Tippett,
2016).
</p>


<h3>Usage</h3>

<pre><code class="language-R">RandomWalkTest(
  skill_A,
  skill_B,
  time_dim = "sdate",
  test.type = "two.sided.approx",
  alpha = 0.05,
  pval = TRUE,
  sign = FALSE,
  N.eff = FALSE,
  ncores = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>skill_A</code></td>
<td>
<p>A numerical array of the time series of the scores obtained
with the forecaster A.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skill_B</code></td>
<td>
<p>A numerical array of the time series of the scores obtained
with the forecaster B. The dimensions should be identical as parameter
'skill_A'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_dim</code></td>
<td>
<p>A character string indicating the name of the dimension along
which the tests are computed. The default value is 'sdate'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test.type</code></td>
<td>
<p>A character string indicating the type of significance test. 
It can be "two.sided.approx" (to assess whether forecaster A and forecaster
B are significantly different in terms of skill with a two-sided test using  
the approximation of DelSole and Tippett, 2016), "two.sided" (to assess 
whether forecaster A and forecaster B are significantly different in terms
of skill with an exact two-sided test), "greater" (to assess whether 
forecaster A shows significantly better skill than forecaster B with a 
one-sided test for negatively oriented scores), or "less" (to assess whether
forecaster A shows significantly better skill than forecaster B with a 
one-sided test for positively oriented scores). The default value is 
"two.sided.approx".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>A numeric of the significance level to be used in the statistical
significance test (output "sign"). The default value is 0.05.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pval</code></td>
<td>
<p>A logical value indicating whether to return the p-value of the
significance test. The default value is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sign</code></td>
<td>
<p>A logical value indicating whether to return the statistical
significance of the test based on 'alpha'. The default value is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N.eff</code></td>
<td>
<p>Effective sample size to be used in the statistical significance
test. It can be FALSE (and the length of the time series will be used), a 
numeric (which is used for all cases), or an array with the same dimensions
as "skill_A" except "time_dim" (for a particular N.eff to be used for each 
case). The default value is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncores</code></td>
<td>
<p>An integer indicating the number of cores to use for parallel 
computation. The default value is NULL.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Null and alternative hypothesis for "two-sided" test (regardless of the 
orientation of the scores):<br>
H0: forecaster A and forecaster B are not different in terms of skill<br>
H1: forecaster A and forecaster B are different in terms of skill
</p>
<p>Null and alternative hypothesis for one-sided "greater" (for negatively 
oriented scores, i.e., the lower the better) and "less" (for positively 
oriented scores, i.e., the higher the better) tests:<br>
H0: forecaster A is not better than forecaster B<br>
H1: forecaster A is better than forecaster B
</p>
<p>Examples of negatively oriented scores are the RPS, RMSE and the Error, while
the ROC score is a positively oriented score.
</p>
<p>DelSole and Tippett (2016) approximation for two-sided test at 95
level: significant if the difference between the number of times that 
forecaster A has been better than forecaster B and forecaster B has been
better than forecaster A is above 2sqrt(N) or below -2sqrt(N).
</p>


<h3>Value</h3>

<p>A list with:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>$score</code></td>
<td>

<p>A numerical array with the same dimensions as the input arrays except 
'time_dim'. The number of times that forecaster A has been better than 
forecaster B minus the number of times that forecaster B has been better 
than forecaster A (for skill negatively oriented, i.e., the lower the 
better). If $score is positive, forecaster A has been better more times
than forecaster B. If $score is negative, forecaster B has been better more
times than forecaster A.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$sign</code></td>
<td>

<p>A logical array of the statistical significance with the same dimensions
as the input arrays except "time_dim". Returned only if "sign" is TRUE.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>$p.val</code></td>
<td>

<p>A numeric array of the p-values with the same dimensions as the input arrays
except "time_dim". Returned only if "pval" is TRUE.
</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>DelSole and Tippett (2016): https://doi.org/10.1175/MWR-D-15-0218.1
</p>


<h3>Examples</h3>

<pre><code class="language-R">fcst_A &lt;- array(data = 11:50, dim = c(sdate = 10, lat = 2, lon = 2))
fcst_B &lt;- array(data = 21:60, dim = c(sdate = 10, lat = 2, lon = 2))
reference &lt;- array(data = 1:40, dim = c(sdate = 10, lat = 2, lon = 2))
scores_A &lt;- abs(fcst_A - reference)
scores_B &lt;- abs(fcst_B - reference)
res1 &lt;- RandomWalkTest(skill_A = scores_A, skill_B = scores_B, pval = FALSE, sign = TRUE)
res2 &lt;- RandomWalkTest(skill_A = scores_A, skill_B = scores_B, test.type = 'greater')

</code></pre>


</div>