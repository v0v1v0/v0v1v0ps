<div class="container">

<table style="width: 100%;"><tr>
<td>plotmod</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Moderation Effect Plot</h2>

<h3>Description</h3>

<p>Plot the moderation effect in a regression model
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotmod(
  output,
  x,
  w,
  x_label,
  w_label,
  y_label,
  title,
  digits = 3,
  x_from_mean_in_sd = 1,
  w_from_mean_in_sd = 1,
  w_method = c("sd", "percentile"),
  w_percentiles = c(0.16, 0.84),
  x_method = c("sd", "percentile"),
  x_percentiles = c(0.16, 0.84),
  w_sd_to_percentiles = NA,
  x_sd_to_percentiles = NA,
  w_values = NULL,
  note_standardized = TRUE,
  no_title = FALSE,
  line_width = 1,
  point_size = 5,
  graph_type = c("default", "tumble")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>The output
of <code>stats::lm()</code>, <code>std_selected()</code>, or
<code>std_selected_boot()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The name of the focal variable (x-axis) in 'outputâ€œ. It
can be the name of the variable, with or without quotes.
Currently only numeric variables are supported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>The name of the moderator in <code>output</code>. It
can be the name of the variable, with or without quotes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_label</code></td>
<td>
<p>The label for the X-axis. Default is the value of <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w_label</code></td>
<td>
<p>The label for the legend for the lines.
Default is the value of<code>w</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_label</code></td>
<td>
<p>The label for the Y-axis. Default is the
name of the response variable in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>The title of the graph. If not supplied, it will be
generated from the variable
names or labels (in <code>x_label</code>, <code>y_label</code>,
and <code>w_label</code>). If <code>""</code>, no title will be printed.
This can be used when the plot is for manuscript
submission and figures are required to have no
titles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Number of decimal places to print. Default is 3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_from_mean_in_sd</code></td>
<td>
<p>How many SD from mean is used to define
"low" and
"high" for the focal variable.
Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w_from_mean_in_sd</code></td>
<td>
<p>How many SD from mean is used to define
"low" and
"high" for the moderator. Default is 1.
Ignored if <code>w</code> is categorical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w_method</code></td>
<td>
<p>How to define "high" and "low" for the moderator levels.
Default is in terms of the
standard deviation of the moderator, <code>"sd"</code>.
If equal to
<code>"percentile"</code>, then the percentiles of the moderator in
the
dataset are used.
Ignored if <code>w</code> is categorical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w_percentiles</code></td>
<td>
<p>If <code>w_method</code> is <code>"percentile"</code>, then this
argument
specifies the two percentiles to be used,
divided by 100.
It must be a
vector of two numbers. The default is
<code>c(.16, .84)</code>,
the 16th and 84th percentiles,
which corresponds approximately
to one SD below and above mean for a
normal distribution, respectively.
Ignored if <code>w</code> is categorical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_method</code></td>
<td>
<p>How to define "high" and "low" for the focal
variable levels.
Default is in terms of the
standard deviation of the focal variable, <code>"sd"</code>.
If equal to
<code>"percentile"</code>, then the percentiles of the
focal variable in the
dataset is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_percentiles</code></td>
<td>
<p>If <code>x_method</code> is <code>"percentile"</code>, then this
argument
specifies the two percentiles to be used,
divided by 100.
It must be a
vector of two numbers. The default is
<code>c(.16, .84)</code>,
the 16th and 84th percentiles,
which corresponds approximately
to one SD below and above mean for a
normal distribution, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w_sd_to_percentiles</code></td>
<td>
<p>If <code>w_method</code> is <code>"percentile"</code> and
this argument is
set to a number, this number will be
used
to determine the percentiles to be used.
The
lower percentile is the percentile in a
normal
distribution
that is <code>w_sd_to_percentiles</code> SD below
the mean.
The upper percentile is the percentile in
a normal
distribution that is <code>w_sd_to_percentiles</code>
SD
above the mean. Therefore, if
<code>w_sd_to_percentiles</code> is set to 1, then the
lower
and upper percentiles are 16th and 84th,
respectively. Default is <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_sd_to_percentiles</code></td>
<td>
<p>If <code>x_method</code> is <code>"percentile"</code> and this
argument is
set to a number, this number will be used
to determine the percentiles to be used. The
lower percentile is the percentile in a
normal
distribution
that is <code>x_sd_to_percentiles</code> SD below the mean.
The upper percentile is the percentile in a normal
distribution that is <code>x_sd_to_percentiles</code> SD
above the mean. Therefore, if
<code>x_sd_to_percentiles</code> is set to 1, then the lower
and upper percentiles are 16th and 84th,
respectively. Default is <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w_values</code></td>
<td>
<p>The values of <code>w</code> to
be used. Default is <code>NULL</code>. If a
numeric vector is supplied, these
values will be used to compute the
conditional effects. Other arguments
on generating levels are ignored.
Note that, if <code>w</code> has been standardized
or centered, these values are for
the standardized or centered <code>w</code>.
The values will always be sorted.
This argument is ignored if <code>w</code> is
categorical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>note_standardized</code></td>
<td>
<p>If <code>TRUE</code>, will check whether a variable has SD
nearly equal to one. If yes, will report this in the
plot.
Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>no_title</code></td>
<td>
<p>If <code>TRUE</code>, title will be suppressed. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line_width</code></td>
<td>
<p>The width of the lines as used in
<code>ggplot2::geom_segment()</code>.
Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point_size</code></td>
<td>
<p>The size of the points as used in <code>ggplot2::geom_point()</code>.
Default is 5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>graph_type</code></td>
<td>
<p>If <code>"default"</code>, the typical line-graph with equal end-points
will be plotted. If <code>"tubmle"</code>, then the tumble graph
proposed by Bodner (2016) will be plotted. Default is
<code>"default"</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function generate a basic <code>ggplot2</code> graph
typically found in psychology manuscripts. It tries to
check whether one or more variables are standardized, and
report this in the plot if required.
</p>
<p>This function only has features for typical plots of moderation effects.
It is not intended to be a flexible tool for a fine control on the plots.
</p>


<h3>Value</h3>

<p>A <code>ggplot2</code> graph. Plotted if not assigned to a name. It can
be further modified like a usual <code>ggplot2</code> graph.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>References</h3>

<p>Bodner, T. E. (2016). Tumble graphs: Avoiding misleading end point
extrapolation when graphing interactions from a moderated multiple
regression analysis. <em>Journal of Educational and Behavioral
Statistics, 41</em>(6), 593-604. <a href="https://doi.org/10.3102/1076998616657080">doi:10.3102/1076998616657080</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Do a moderated regression by lm
lm_out &lt;- lm(sleep_duration ~ age + gender + emotional_stability*conscientiousness, sleep_emo_con)
plotmod(lm_out,
        x = emotional_stability,
        w = conscientiousness,
        x_label = "Emotional Stability",
        w_label = "Conscientiousness",
        y_label = "Sleep Duration")

# Standardize all variables except for categorical variables
# Alternative: use to_standardize as a shortcut
# lm_std &lt;- std_selected(lm_out,
#                        to_standardize = ~ .)
lm_std &lt;- std_selected(lm_out,
                       to_scale = ~ .,
                       to_center = ~ .)
plotmod(lm_std,
        x = emotional_stability,
        w = conscientiousness,
        x_label = "Emotional Stability",
        w_label = "Conscientiousness",
        y_label = "Sleep Duration")

# Tumble Graph
plotmod(lm_std,
        x = emotional_stability,
        w = conscientiousness,
        x_label = "Emotional Stability",
        w_label = "Conscientiousness",
        y_label = "Sleep Duration",
        graph_type = "tumble")

</code></pre>


</div>