<div class="container">

<table style="width: 100%;"><tr>
<td>extract_smos</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract BEC-SMOS soil moisture estimates for specific geographical locations</h2>

<h3>Description</h3>

<p>This function facilitates reading of the original BEC-SMOS soil moisture data
files and extracting relevant information for specific geographical locations
by using Lat/Lon coordinates in decimal degrees.
</p>


<h3>Usage</h3>

<pre><code class="language-R">extract_smos(
  data,
  lat,
  lon,
  save = FALSE,
  dir = NULL,
  filename = "smosr_output.csv"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a character vector as produced by <code>list_smos()</code> containing
links to the data files on the local computer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat</code></td>
<td>
<p>a numeric vector containing latitudes of geographical locations to
extract the data from (in ‘latlon’ projection).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lon</code></td>
<td>
<p>a numeric vector containing longitudes of geographical locations
to extract the data from (in ‘latlon’ projection).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save</code></td>
<td>
<p>a logical vector indicating whether the output should be saved as
a CSV file. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>a character string specifying a path to a local directory in which
to save the CSV file with the output. Default value is <code>NULL</code> meaning
that the file is stored in a temporary directory of the current R session.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>a character string naming the CSV file for saving the output.
If <code>save</code> = <code>TRUE</code> and no <code>filename</code> is specified by the user,
the data is saved in a file with a generic name ‘smosr_output.csv’.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function reads the original BEC-SMOS soil moisture data files in NetCDF
format, converts data from EASE-2 grid cells to geographic coordinates, and
extracts relevant information for Lat/Lon locations specified by the user.
</p>
<p>The data retrieved from each data file includes:
</p>
<p>- the coordinates of spatial points (Lon and Lat) from which the data were
extracted;
</p>
<p>- frequency and SMOS orbit of each file over which the function iterated;
</p>
<p>- date and time when the data was obtained;
</p>
<p>- soil moisture estimate (SM);
</p>
<p>- quality assurance (QA) flag corresponding to each SM estimate.
</p>
<p>The output of this function could be saved as a CSV file.
</p>


<h3>Value</h3>

<p>a data.matrix with the relevant information as described in Details.
</p>


<h3>References</h3>

<p>Pablos M, Gonzalez-Haro C, Portal G, Piles M, Vall-llossera M,
Portabella M (2022). SMOS L4 Surface Soil Moisture downscaled maps at 1 km
EASE-2 (reprocessed mode) (V.6.0) [Dataset].
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# to iterate over a list of BEC-SMOS data files produced by list_smos() and
# extract soil moisture estimates for the specified geographical locations
smos_files &lt;- list_smos()
lat &lt;- c(40.42, 41.90, 48.86, 52.50, 59.91)
lon &lt;- c(-3.70, 12.50, 2.35, 13.40, 10.75)
sm_estimates &lt;- extract_smos(data = smos_files, lat = lat, lon = lon)

## End(Not run)

</code></pre>


</div>