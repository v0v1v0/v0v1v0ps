<div class="container">

<table style="width: 100%;"><tr>
<td>manual_stratify</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Manual Stratify</h2>

<h3>Description</h3>

<p>Stratifies a data set based on a set of blocking covariates specified by the
user. Creates a <code>manual_strata</code> object, which can be passed to
<code>strata_match</code> for stratified matching or unpacked by the user to be
matched by some other means.
</p>


<h3>Usage</h3>

<pre><code class="language-R">manual_stratify(data, strata_formula, force = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data.frame with observations as rows, features as columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata_formula</code></td>
<td>
<p>the formula to be used for stratification.  (e.g. <code>treat
~ X1</code>) the variable on the left is taken to be the name of the treatment
assignment column, and the variables on the left are taken to be the
variables by which the data should be stratified</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force</code></td>
<td>
<p>a boolean. If true, run even if a variable appears continuous.
(default = FALSE)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a <code>manual_strata</code> object.  This contains: </p>

<ul>
<li> <p><code>treat</code> - a string giving the name of the column encoding
treatment assignment
</p>
</li>
<li> <p><code>covariates</code> - a character vector with the names of the
categorical columns on which the data were stratified
</p>
</li>
<li> <p><code>analysis_set</code> - the data set with strata assignments
</p>
</li>
<li> <p><code>call</code> - the call to <code>manual_stratify</code> used to generate this
object
</p>
</li>
<li> <p><code>issue_table</code> - a table of each stratum and potential issues of
size and treat:control balance. In small or imbalanced strata, it may be
difficult or infeasible to find high-quality matches, while very large
strata may be computationally intensive to match.
</p>
</li>
<li> <p><code>strata_table</code> - a table of each stratum and the covariate bin
to which it corresponds
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>auto_stratify</code>, <code>new_manual_strata</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># make sample data set
dat &lt;- make_sample_data(n = 75)

# stratify based on B1 and B2
m.strat &lt;- manual_stratify(dat, treat ~ B1 + B2)

# diagnostic plot
plot(m.strat)
</code></pre>


</div>