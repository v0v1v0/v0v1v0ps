<div class="container">

<table style="width: 100%;"><tr>
<td>trtStepWedge</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Assign treatment for stepped-wedge design</h2>

<h3>Description</h3>

<p>Assign treatment for stepped-wedge design
</p>


<h3>Usage</h3>

<pre><code class="language-R">trtStepWedge(
  dtName,
  clustID,
  nWaves,
  lenWaves,
  startPer,
  perName = "period",
  grpName = "rx",
  lag = 0,
  xrName = "xr"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dtName</code></td>
<td>
<p>data table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clustID</code></td>
<td>
<p>string representing name of column of cluster level ids</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nWaves</code></td>
<td>
<p>number of treatment waves</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lenWaves</code></td>
<td>
<p>the number of periods between waves</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>startPer</code></td>
<td>
<p>the starting period of the first wave</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perName</code></td>
<td>
<p>string representing name of column of time periods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grpName</code></td>
<td>
<p>string representing variable name for treatment or
exposure group</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag</code></td>
<td>
<p>integer representing length of transition period</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xrName</code></td>
<td>
<p>string representing name of the field that
indicates whether the cluster status is in transition status</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data.table with the added treatment assignment
</p>


<h3>See Also</h3>

<p><code>trtObserve trtAssign</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">defc &lt;- defData(
  varname = "ceffect", formula = 0, variance = 0.10,
  dist = "normal", id = "cluster"
)
defc &lt;- defData(defc, "m", formula = 10, dist = "nonrandom")

# Will generate 3 waves of 4 clusters each - starting 2, 5, and 8

dc &lt;- genData(12, defc)
dp &lt;- addPeriods(dc, 12, "cluster")
dp &lt;- trtStepWedge(dp, "cluster",
  nWaves = 3,
  lenWaves = 3, startPer = 2
)
dp

dp &lt;- addPeriods(dc, 12, "cluster")
dp &lt;- trtStepWedge(dp, "cluster",
  nWaves = 2,
  lenWaves = 1, startPer = 4, lag = 3
)
dp
</code></pre>


</div>