<div class="container">

<table style="width: 100%;"><tr>
<td>controlMethod</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Control parameters for regression</h2>

<h3>Description</h3>

<p><code>controlMethod</code> constructs a list with all necessary
control parameters for regression fitting in
<code>estimatePopsizeFit</code> and <code>estimatePopsize</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">controlMethod(
  epsilon = 1e-08,
  maxiter = 1000,
  verbose = 0,
  printEveryN = 1L,
  coefStart = NULL,
  etaStart = NULL,
  optimMethod = "Nelder-Mead",
  silent = FALSE,
  optimPass = FALSE,
  stepsize = 1,
  checkDiagWeights = TRUE,
  weightsEpsilon = 1e-08,
  momentumFactor = 0,
  saveIRLSlogs = FALSE,
  momentumActivation = 5,
  criterion = c("coef", "abstol", "reltol")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>epsilon</code></td>
<td>
<p>tolerance for fitting algorithms by default <code>1e-8</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxiter</code></td>
<td>
<p>maximum number of iterations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>value indicating whether to trace steps of fitting algorithm for
<code>IRLS</code> fitting method different values of verbose give the following information:
</p>

<ul>
<li>
<p> 1 – Returns information on the number of current
iteration and current log-likelihood.
</p>
</li>
<li>
<p> 2 – Returns information on vector of regression parameters
at current iteration (and all of the above).
</p>
</li>
<li>
<p> 3 – Returns information on reduction of log-likelihood
at current iteration (and all of the above).
</p>
</li>
<li>
<p> 4 – Returns information on value of log-likelihood function gradient
at current iteration (and all of the above).
</p>
</li>
<li>
<p> 5 – Returns information on convergence criterion and values that are
taken into account when considering convergence (and all of the above).
</p>
</li>
</ul>
<p>if <code>optim</code> method was chosen verbose will be passed to <code>stats::optim()</code> as trace.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>printEveryN</code></td>
<td>
<p>integer value indicating how often to print information
specified in <code>verbose</code>, by default set to <code>1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coefStart, etaStart</code></td>
<td>
<p>initial parameters for regression coefficients
or linear predictors if <code>NULL</code>. For <code>IRLS</code> fitting only <code>etaStart</code>
is needed so if <code>coefStart</code> is provided it will be converted to <code>etaStart</code>,
for <code>optim</code> fitting <code>coefStart</code> is necessary and argument <code>etaStart</code>
will be ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optimMethod</code></td>
<td>
<p>method of <code>stats::optim()</code> used  <code>"Nelder-Mead"</code> is the default .</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>logical, indicating whether warnings in <code>IRLS</code> method should be suppressed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optimPass</code></td>
<td>
<p>optional list of parameters passed to <code>stats::optim(..., control = optimPass)</code>
if FALSE then list of control parameters will be inferred from other parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stepsize</code></td>
<td>
<p>only for <code>IRLS</code>, scaling of updates to <code>beta</code> vector
lower value means slower convergence but more accuracy by default 1.
In general if fitting algorithm fails lowering this value tends to
be most effective at correcting it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checkDiagWeights</code></td>
<td>
<p>logical value indicating whether to check if diagonal
elements of working weights matrixes in <code>IRLS</code> are sufficiently positive
so that these matrixes are positive defined. By default <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weightsEpsilon</code></td>
<td>
<p>small number to ensure positive definedness of weights matrixes.
Only matters if <code>checkDiagWeights</code> is set to <code>TRUE</code>.
By default <code>1e-8</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>momentumFactor</code></td>
<td>
<p>experimental parameter in <code>IRLS</code> only allowing for
taking previous step into account at current step, i.e instead of
updating regression parameters as:
\[\boldsymbol{\beta}_{(a)} = 
\boldsymbol{\beta}_{(a-1)} + \text{stepsize} \cdot \text{step}_{(a)}\]
the update will be made as:
\[
\boldsymbol{\beta}_{(a)} = \boldsymbol{\beta}_{(a-1)} + \text{stepsize} 
\cdot (\text{step}_{(a)} + \text{momentum}\cdot\text{step}_{(a-1)})\]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>saveIRLSlogs</code></td>
<td>
<p>logical value indicating if information specified in
<code>verbose</code> should be saved to output object, by default <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>momentumActivation</code></td>
<td>
<p>the value of log-likelihood reduction bellow
which momentum will apply.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criterion</code></td>
<td>
<p>criterion used to determine convergence in <code>IRLS</code>,
multiple values may be provided. By default <code>c("coef", "abstol")</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>List with selected parameters, it is also possible to call list directly.
</p>


<h3>Author(s)</h3>

<p>Piotr Chlebicki, Maciej Beręsewicz
<script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script></p>


<h3>See Also</h3>

<p><code>estimatePopsize()</code> <code>estimatePopsizeFit()</code>
<code>controlModel()</code> <code>controlPopVar()</code>
</p>


</div>