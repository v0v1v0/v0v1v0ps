<div class="container">

<table style="width: 100%;"><tr>
<td>loocv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform leave-one-out cross validation</h2>

<h3>Description</h3>

<p>Perform leave-one-out cross validation with options for computationally
efficient approximations for big data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">loocv(object, ...)

## S3 method for class 'splm'
loocv(object, cv_predict = FALSE, se.fit = FALSE, local, ...)

## S3 method for class 'spautor'
loocv(object, cv_predict = FALSE, se.fit = FALSE, local, ...)

## S3 method for class 'spglm'
loocv(
  object,
  cv_predict = FALSE,
  type = c("link", "response"),
  se.fit = FALSE,
  local,
  ...
)

## S3 method for class 'spgautor'
loocv(
  object,
  cv_predict = FALSE,
  type = c("link", "response"),
  se.fit = FALSE,
  local,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A fitted model object from <code>splm()</code>, <code>spautor()</code>, <code>spglm()</code>, or <code>spgautor()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments. Not used (needed for generic consistency).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv_predict</code></td>
<td>
<p>A logical indicating whether the leave-one-out fitted values
should be returned. Defaults to <code>FALSE</code>. If <code>object</code> is from <code>spglm()</code> or <code>spgautor()</code>,
the fitted values returned are on the link scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se.fit</code></td>
<td>
<p>A logical indicating whether the leave-one-out
prediction standard errors should be returned. Defaults to <code>FALSE</code>.
If <code>object</code> is from <code>spglm()</code> or <code>spgautor()</code>,
the standard errors correspond to the fitted values returned on the link scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>local</code></td>
<td>
<p>A list or logical. If a list, specific list elements described
in <code>predict.spmodel()</code> control the big data approximation behavior.
If a logical, <code>TRUE</code> chooses default list elements for the list version
of <code>local</code> as specified in <code>predict.spmodel()</code>. Defaults to <code>FALSE</code>,
which performs exact computations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The scale (<code>response</code> or <code>link</code>) of predictions obtained
when <code>cv_predict = TRUE</code> and using <code>spglm()</code> or <code>spgautor</code> objects.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Each observation is held-out from the data set and the remaining data
are used to make a prediction for the held-out observation. This is compared
to the true value of the observation and several fit statistics are computed:
bias, mean-squared-prediction error (MSPE), root-mean-squared-prediction
error (RMSPE), and the squared correlation (cor2) between the observed data
and leave-one-out predictions (regarded as a prediction version of r-squared
appropriate for comparing across spatial and nonspatial models). Generally,
bias should be near zero for well-fitting models. The lower the MSPE and RMSPE,
the better the model fit (according to the leave-out-out criterion).
The higher the cor2, the better the model fit (according to the leave-out-out
criterion). cor2 is not returned when <code>object</code> was fit using
<code>spglm()</code> or <code>spgautor()</code>, as it is only applicable here for linear models.
</p>


<h3>Value</h3>

<p>If <code>cv_predict = FALSE</code> and <code>se.fit = FALSE</code>,
a fit statistics tibble (with bias, MSPE, RMSPE, and cor2; see Details).
If <code>cv_predict = TRUE</code> or <code>se.fit = TRUE</code>,
a list with elements: <code>stats</code>, a fit statistics tibble
(with bias, MSPE, RMSPE, and cor2; see Details); <code>cv_predict</code>, a numeric vector
with leave-one-out predictions for each observation (if <code>cv_predict = TRUE</code>);
and <code>se.fit</code>, a numeric vector with leave-one-out prediction standard
errors for each observation (if <code>se.fit = TRUE</code>).
</p>


<h3>Examples</h3>

<pre><code class="language-R">spmod &lt;- splm(z ~ water + tarp,
  data = caribou,
  spcov_type = "exponential", xcoord = x, ycoord = y
)
loocv(spmod)
loocv(spmod, cv_predict = TRUE, se.fit = TRUE)
</code></pre>


</div>