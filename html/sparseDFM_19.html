<div class="container">

<table style="width: 100%;"><tr>
<td>tuneFactors</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tune for the number of factors to use</h2>

<h3>Description</h3>

<p>Uses Bai and Ng (2002) information criteria approach. Missing data is interpolated using the <code>fillNA</code> function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tuneFactors(
  X,
  type = 2,
  standardize = TRUE,
  r.max = min(15, ncol(X) - 1),
  plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p><code>n x p</code> numeric data matrix or data frame of (stationary) time series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Character. Option for which information criteria to use. Default is 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>standardize</code></td>
<td>
<p>Logical. Standardize the data before estimating the model. Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r.max</code></td>
<td>
<p>Integer. Maximum number of factors to search for. Default is min(15,ncol(X)-1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>Logical. Make a plot showing the IC value for each of the number of factors considered. Default is <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>To calculate the number of factors to use in the model, the information criteria approach of Bai and Ng (2002) is used. This can be done before <code>sparseDFM</code> is fitted to the data to determine <code>r</code>. Bai and Ng (2002) consider 3 types of information criteria with different penalties of the form:
</p>
<p style="text-align: center;"><code class="reqn">IC_1(r) = log\left(V_r(\hat{\bm{F}},\hat{\bm{\Lambda}})\right) + r \left( \frac{n+p}{np}\right)log\left( \frac{np}{n+p}\right)</code>
</p>

<p style="text-align: center;"><code class="reqn">IC_2(r) = log\left(V_r(\hat{\bm{F}},\hat{\bm{\Lambda}})\right) + r \left( \frac{n+p}{np} \right)log\left( min\{n,p\}\right)</code>
</p>

<p style="text-align: center;"><code class="reqn">IC_3(r) = log\left(V_r(\hat{\bm{F}},\hat{\bm{\Lambda}})\right) + r \frac{log\left( min\{n,p\}\right)}{min\{n,p\}}</code>
</p>

<p>The sum of squared residuals for <code class="reqn">r</code> factors <code class="reqn">V_r(\hat{\bm{F}},\hat{\bm{\Lambda}}) = \sum_{i=1}^p\sum_{t=1}^n E[\hat{\epsilon}_{i,t}^2]/np</code> with <code class="reqn">\hat{\epsilon}_{i,t} = X_{t,i}-\hat{\bm{F}}_t\hat{\bm{\Lambda}}_i</code> is found using PCA on the standardized data set <code class="reqn">\bm{X}</code>. The estimated factors <code class="reqn">\hat{\bm{F}}</code> corresponding to the principle components and the estimated loadings <code class="reqn">\hat{\bm{\Lambda}}</code> corresponding to the eigenvectors. Should the data contain missing values, then the missing data is interpolated using <code>fillNA</code>.
</p>
<p>The number of factors to use will correspond to <code class="reqn">argmin_r IC_i(r)</code> for <code class="reqn">i=1,2</code> or <code class="reqn">3</code>. Type 2 is the highest when working in finite samples and therefore is set to default.
</p>


<h3>Value</h3>

<p>The number of factors to use according to Bai and Ng (2002) information criteria.
</p>


<h3>References</h3>

<p>Bai, J., &amp; Ng, S. (2002). Determining the number of factors in approximate factor models. <em>Econometrica, 70</em>(1), 191-221.
</p>


</div>