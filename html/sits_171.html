<div class="container">

<table style="width: 100%;"><tr>
<td>sits_reduce_imbalance</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reduce imbalance in a set of samples</h2>

<h3>Description</h3>

<p>Takes a sits tibble with different labels and
returns a new tibble. Deals with class imbalance
using the synthetic minority oversampling technique (SMOTE)
for oversampling. Undersampling is done using the SOM methods available in
the sits package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sits_reduce_imbalance(
  samples,
  n_samples_over = 200,
  n_samples_under = 400,
  multicores = 2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>samples</code></td>
<td>
<p>Sample set to rebalance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_samples_over</code></td>
<td>
<p>Number of samples to oversample
for classes with samples less than this number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_samples_under</code></td>
<td>
<p>Number of samples to undersample
for classes with samples more than this number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multicores</code></td>
<td>
<p>Number of cores to process the data (default 2).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A sits tibble with reduced sample imbalance.
</p>


<h3>Author(s)</h3>

<p>Gilberto Camara, <a href="mailto:gilberto.camara@inpe.br">gilberto.camara@inpe.br</a>
</p>


<h3>References</h3>

<p>The reference paper on SMOTE is
N. V. Chawla, K. W. Bowyer, L. O.Hall, W. P. Kegelmeyer,
“SMOTE: synthetic minority over-sampling technique,”
Journal of artificial intelligence research, 321-357, 2002.
</p>
<p>Undersampling uses the SOM map developed by Lorena Santos and co-workers
and used in the sits_som_map() function.
The SOM map technique is described in the paper:
Lorena Santos, Karine Ferreira, Gilberto Camara, Michelle Picoli,
Rolf Simoes, “Quality control and class noise reduction of satellite
image time series”. ISPRS Journal of Photogrammetry and Remote Sensing,
vol. 177, pp 75-88, 2021. https://doi.org/10.1016/j.isprsjprs.2021.04.014.
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (sits_run_examples()) {
    # print the labels summary for a sample set
    summary(samples_modis_ndvi)
    # reduce the sample imbalance
    new_samples &lt;- sits_reduce_imbalance(samples_modis_ndvi,
        n_samples_over = 200,
        n_samples_under = 200,
        multicores = 1
    )
    # print the labels summary for the rebalanced set
    summary(new_samples)
}
</code></pre>


</div>