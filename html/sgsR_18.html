<div class="container">

<table style="width: 100%;"><tr>
<td>calculate_coobs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>coobs algorithm sampling</h2>

<h3>Description</h3>

<p>Perform the COunt of OBServations (coobs) algorithm using existing site data
and raster metrics. This algorithm aids the user in determining where additional samples
could be located by comparing existing samples to each pixel and associated covariates.
The output coobs raster could be used to constrain clhs sampling to areas that are underreprented.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calculate_coobs(
  mraster,
  existing,
  cores = 1,
  threshold = 0.95,
  plot = FALSE,
  filename = NULL,
  overwrite = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mraster</code></td>
<td>
<p>spatRaster. ALS metrics raster. Requires at least 2 layers to calculate covariance matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>existing</code></td>
<td>
<p>sf 'POINT'.  Existing plot network.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>Numeric. Number of cores to use for parallel processing. <code>default = 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>Numeric. Proxy maximum pixel quantile to avoid outliers. <code>default = 0.95</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>Logical. Plots output strata raster and visualized
strata with boundary dividers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>Character. Path to write stratified raster to disc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Logical. Specify whether <code>filename</code> should be overwritten on disc.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Output raster with coobs and classified coobs layers.
</p>


<h3>Note</h3>

<p>Special thanks to Dr. Brendan Malone for the original implementation of this algorithm.
</p>


<h3>Author(s)</h3>

<p>Tristan R.H. Goodbody
</p>


<h3>References</h3>

<p>Malone BP, Minasny B, Brungard C. 2019. Some methods to improve the utility of conditioned Latin hypercube sampling. PeerJ 7:e6451 DOI 10.7717/peerj.6451
</p>


<h3>See Also</h3>

<p>Other calculate functions: 
<code>calculate_allocation()</code>,
<code>calculate_allocation_existing()</code>,
<code>calculate_distance()</code>,
<code>calculate_pcomp()</code>,
<code>calculate_pop()</code>,
<code>calculate_representation()</code>,
<code>calculate_sampsize()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
#--- Load raster and existing plots---#
r &lt;- system.file("extdata", "mraster.tif", package = "sgsR")
mr &lt;- terra::rast(r)

e &lt;- system.file("extdata", "existing.shp", package = "sgsR")
e &lt;- sf::st_read(e)

calculate_coobs(
  mraster = mr,
  existing = e,
  cores = 4
)

## End(Not run)
</code></pre>


</div>