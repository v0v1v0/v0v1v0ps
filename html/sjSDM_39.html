<div class="container">

<table style="width: 100%;"><tr>
<td>plotAssemblyEffects</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot predictors of assembly processes</h2>

<h3>Description</h3>

<p>The function plots correlations between assembly processes and predictors or traits
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotAssemblyEffects(
  object,
  response = c("sites", "species"),
  pred = NULL,
  cols = c("#A38310", "#B42398", "#20A382"),
  negatives = c("raw", "scale", "floor")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An <code>sjSDManova</code> object from the <code>anova.sjSDM</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>whether to use sites or species. Default is sites</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pred</code></td>
<td>
<p>predictor variable. If <code>NULL</code>, environment uniqueness, spatial uniqueness, and richness is calculated from the fitted object and used as predictor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>
<p>Colors for the three assembly processes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>negatives</code></td>
<td>
<p>how to handle negative R squareds</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Correlation and plots of the three assembly processes (environment, space, and codist) against environmental and spatial uniqueness and richness. The importance of the three assembly processes is measured by the partial R-squared (shown in the internal structure plots).
</p>
<p>Importances are available for species and sites. Custom environmental predictors or traits can be specified. Environmental predictors are plotted against site R-squared and traits are plotted against species R-squared.
Regression lines are estimated by 50\
</p>


<h3>Value</h3>

<p>A list with the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>A list of summary tables for env, space, and codist R-squared.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>space</code></td>
<td>
<p>A list of summary tables for env, space, and codist R-squared.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>codist</code></td>
<td>
<p>A list of summary tables for env, space, and codist R-squared.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>Defaults for negative values are different than for plot.sjSDMinternalStructure
</p>


<h3>References</h3>

<p>Leibold, M. A., Rudolph, F. J., Blanchet, F. G., De Meester, L., Gravel, D., Hartig, F., ... &amp; Chase, J. M. (2022). The internal structure of metacommunities. <em>Oikos</em>, 2022(1).
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(sjSDM)
# simulate community:
community = simulate_SDM(env = 3L, species = 10L, sites = 100L)

Occ &lt;- community$response
Env &lt;- community$env_weights
SP &lt;- data.frame(matrix(rnorm(200, 0, 0.3), 100, 2)) # spatial coordinates


# fit model:
model &lt;- sjSDM(Y = Occ, 
               env = linear(data = Env, formula = ~X1+X2+X3), 
               spatial = linear(data = SP, formula = ~0+X1*X2), 
               family=binomial("probit"),
               verbose = FALSE,
               iter = 20) # increase iter for real analysis

# Calculate ANOVA for env, space, associations, for details see ?anova.sjSDM
an = anova(model, samples = 10, verbose = FALSE) # increase iter for real analysis

# Show anova fractions
plot(an)

# ANOVA tables with different way to handle fractions
summary(an)
summary(an, fractions = "discard")
summary(an, fractions = "proportional")
summary(an, fractions = "equal")

# Internal structure
int = internalStructure(an, fractions = "proportional")

print(int)

plot(int) # default is negative values will be set to 0
plot(int, negatives = "scale") # global rescaling of all values to range 0-1
plot(int, negatives = "raw") # negative values will be discarded

plotAssemblyEffects(int)
plotAssemblyEffects(int, negatives = "floor")
plotAssemblyEffects(int, response = "sites", pred = as.factor(c(rep(1, 50), rep(2, 50))))
plotAssemblyEffects(int, response = "species", pred = runif(10))
plotAssemblyEffects(int, response = "species", pred = as.factor(c(rep(1, 5), rep(2, 5))))

## End(Not run)
</code></pre>


</div>