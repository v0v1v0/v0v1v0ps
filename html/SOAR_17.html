<div class="container">

<table style="width: 100%;"><tr>
<td>Store</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Store objects out of memory in a stored object cache.
</h2>

<h3>Description</h3>

<p>These functions take objects in memory and store them on the disc in a
directory we call a “stored object cache”.  The objects remain
visible and are brought back into memory as required using the same
mechanism as is used for lazy loading in packages.  If the stored
object cache does not already exist it is created.  If it is not
already attached to the search path it is silently attached.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Store(..., list = character(0),
      lib = Sys.getenv("R_LOCAL_CACHE", unset = ".R_Cache"),
      lib.loc = Sys.getenv("R_LOCAL_LIB_LOC", unset = "."),
      remove = TRUE)
StoreData(...)
StoreUtils(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>items to be removed.  Names are taken as objects to be
removed.  Character strings, or calls resulting in character
strings, are taken as providing names of items to be removed as
character strings.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>list</code></td>
<td>
<p>a character string vector providing the names of objects
to be removed.  An alternative to <code>...</code> allowing the user to
provide an explicit list of names.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lib</code></td>
<td>
<p>The name of the cache directory from which items are to be
removed.  May be given as a character string, or as a name,
(i.e. without quotes) for convenience.  The default is as follows:
</p>

<ul>
<li>
<p> For <code>Store</code>, the value of the <code>R</code> environment
variable <code>R_LOCAL_CACHE</code>, or <code>.R_Cache</code> if unset,
</p>
</li>
<li>
<p> For <code>StoreData</code>, the value of the <code>R</code> environment
variable <code>R_CENTRAL_DATA</code>, or <code>.R_Data</code> if unset,
</p>
</li>
<li>
<p> For <code>StoreUtils</code>, the value of the <code>R</code>
environment variable <code>R_CENTRAL_UTILS</code>, or <code>.R_Utils</code>
if unset.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lib.loc</code></td>
<td>

<p>The enclosing directory where the cache directory is to be found.
The default is as follows:
</p>

<ul>
<li>
<p> For <code>Store</code>, the value of the <code>R</code> environment
variable <code>R_LOCAL_LIB_LOC</code>, or the current working directory
if unset,
</p>
</li>
<li>
<p> For <code>StoreDate</code> and <code>StoreUtils</code> the value of
the <code>R</code> environment variable <code>R_CENTRAL_LIB_LOC</code>, or
he user's <code>HOME</code> directory if unset.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove</code></td>
<td>

<p>Logical.  Should the objects be removed from the current environment?
Normally this would be the case.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions take objects currently in memory and store them as
<code>.RData</code> files in a special directory on the disc, normally a
sub-directory of the present working directory.  We call the
directory a “stored object cache”.  The objects are then made
visible by attaching an environment to the search path which loads
the file on demand using essentially the lazy loading technique.
The path of the stored object cache is specified in two parts, the
<code>lib.loc</code> giving the path of the parent directory and the
<code>lib</code>, giving the name of the directory iteself.  This is the
same protocol as is used for loading packages using <code>library</code>
or <code>require</code>, for example.
</p>


<h3>Value</h3>

<p>Nothing of interest.  Used only for its side effect.
</p>


<h3>Note</h3>

<p>If the cache is not presently attached to the search path, it is
sliently attached at postion 2 before objects are removed from it.
</p>
<p>Old caches made in pre-release versions of <code>SOAR</code> (known as
<code>ASOR</code>) will be converted to the present format with a
warning that this is happening.  After this conversion only the
current version of the package may be used to access the cached
objects.
</p>


<h3>Author(s)</h3>

<p>Bill Venables
</p>


<h3>References</h3>

<p>None.
</p>


<h3>See Also</h3>

<p><code>save</code>, <code>load</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## change default cache, keeping any previous setting
oldLC &lt;- Sys.getenv("R_LOCAL_CACHE", unset = ".R_Cache")
Sys.setenv(R_LOCAL_CACHE=".R_Test")

## generate some dummy data
dummy &lt;- rnorm(100)
mn &lt;- mean(dummy)
va &lt;- var(dummy)

## store it in the stored object cache
Store(dummy, mn, va)
Search()
Objects()
Remove(mn, va)
Objects()
Remove(Objects())                   # empty the cache
detach(".R_Test")                   # remove from search path
Sys.setenv(R_LOCAL_CACHE=oldLC)     # restore normal default
</code></pre>


</div>