<div class="container">

<table style="width: 100%;"><tr>
<td>dathomog</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Homogenize daily data sets</h2>

<h3>Description</h3>

<p>Homogenizes daily data from two data sets into one data set; optionally show
cross-plots to examine how well correlated that data sets are.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dathomog(x1, x2, by = "date", plot = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x1</code></td>
<td>
<p>a <code>data.frame</code> of seasonal data; 1st selection</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x2</code></td>
<td>
<p>a <code>data.frame</code> or seasonal data; 2nd selection</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>name of common column, usually ‘date’, which is of
class <code>Date</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p><code>logical</code>; produce cross-plots and correlation
statistics of the variables between the two data sets</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Data from <code>x1</code> has priority over <code>x2</code>.  Where data from
<code>x1</code> is either <code>NA</code> or missing (outside of time range), data
from <code>x2</code> will be used (if available). Otherwise data form
<code>x1</code> will be used directly. Variables will be
homogenized where their names are identical, found using
<code>names</code>.
</p>
<p>The cross-plots of the data are shown only for interest. They show
useful correlation statistics, and a best-fit line using perpendicular
offsets (which are preferred in this case over traditional linear
regression). At some point, the equations for this line may be used to
adjust the values from <code>x2</code>, however this can always be done
externally to this function by pre-processing <code>x2</code>.
</p>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> of seasonal data required by most functions
in <span class="pkg">seas</span>. Variable names of the structure are found by a
<code>union</code> of the names of <code>x1</code> and <code>x2</code>.
</p>


<h3>Warning</h3>

<p>Weather stations should be sufficiently close enough to approximate
the same weather. This distance depends on the spatial distance and
local climatology.
</p>


<h3>Author(s)</h3>

<p>Mike Toews</p>


<h3>References</h3>

<p>http://mathworld.wolfram.com/LeastSquaresFittingPerpendicularOffsets.html</p>


<h3>Examples</h3>

<pre><code class="language-R">data(mscdata)
dat1 &lt;- mksub(mscdata, id=2100630)
dat2 &lt;- mksub(mscdata, id=1108447)
year.plot(dat1)
year.plot(dat2)
newdata &lt;- dathomog(dat1, dat2)
year.plot(newdata)
message(paste(c("This is a rather poor example, since the",
                "two stations are nowhere near each other"),
                collapse="\n"))
</code></pre>


</div>