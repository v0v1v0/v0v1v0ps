<div class="container">

<table style="width: 100%;"><tr>
<td>Ops.spray</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Arithmetic Ops Group Methods for sprays</h2>

<h3>Description</h3>

<p>Allows arithmetic operators to be used for spray calculations, 
such as addition, multiplication, division, integer powers, etc.
Objects of class spray are interpreted as sparse multivariate polynomials.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'spray'
Ops(e1, e2 = NULL)
spray_negative(S)
spray_times_spray(S1,S2)
spray_times_scalar(S,x)
spray_plus_spray(S1,S2)
spray_plus_scalar(S,x)
spray_power_scalar(S,n)
spray_power_scalar_stla(S,n)
spray_eq_spray(S1,S2)
spray_eq_numeric(S1,x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>e1,e2,S,S1,S2</code></td>
<td>
<p>Objects of class spray, here interpreted as
sparse multivariate polynomials</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Real valued scalar</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Non-negative integer</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>Ops.spray()</code> passes unary and binary arithmetic
operators (“<code>+</code>”, “<code>-</code>”, “<code>*</code>”,
“<code>/</code>”,“<code>==</code>”, and “<code>^</code>”) to the
appropriate specialist function.
</p>
<p>The most interesting operators are “<code>*</code>” and
“<code>+</code>” which execute multivariate polynomial multiplication
and addition respectively.
</p>
<p>Testing for equality uses <code>spray_eq_spray()</code>.  Note that
<code>spray_eq_spray(S1,S2)</code> is algebraically equivalent to
<code>is.zero(S1-S2)</code>, but faster (<code>FALSE</code> is returned as soon as
a mismatch is found).
</p>
<p>Function <code>spray_power_scalar()</code> is the functional representation
for powers: <code>spray_power_scalar(X,n)</code> is the same as <code>X^n</code>.
Function <code>spray_power_scalar_stla()</code> is an experimental
replacement for <code>spray_power_scalar()</code> that may offer speed
advantages.
</p>


<h3>Value</h3>

<p>The functions all return spray objects except  “<code>==</code>”, which
returns a logical.
</p>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>


<h3>See Also</h3>

<p><code>ooom</code></p>


<h3>Examples</h3>

<pre><code class="language-R">

M &lt;- matrix(sample(0:3,21,replace=TRUE),ncol=3)
a &lt;- spray(M,sample(7))
b &lt;- homog(3,4)


# arithmetic operators mostly work as expected:
a + 2*b
a - a*b^2/4
a+b

S1 &lt;- spray(partitions::compositions(4,3))
S2 &lt;- spray(diag(3))  # S2 = x+y+z


stopifnot( (S1+S2)^3 == S1^3 + 3*S1^2*S2 + 3*S1*S2^2 + S2^3 )






</code></pre>


</div>