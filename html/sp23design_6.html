<div class="container">

<table style="width: 100%;"><tr>
<td>executeSP23Design</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Given a design object, interim data and the current calendar time,
conduct the interim analysis for the time
</h2>

<h3>Description</h3>

<p>This function is designed to be used in the field. Assuming a
particular design is chosen, it conducts the interim analysis for a
specific calendar time and provides the means for deciding whether to
stop for futility or efficacy.
</p>


<h3>Usage</h3>

<pre><code class="language-R">executeSP23Design(sp23DesignObject, data, currentCalendarTime)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sp23DesignObject</code></td>
<td>

<p>A seamless phase II-III design object, typically one produced by the
<code>generateSP23Design</code> function
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>The interim data, something akin to that produced by the function
<code>generateInterimData</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>currentCalendarTime</code></td>
<td>

<p>The current calendar time of the interim data. This better be one of
the specified interim looks, or the function stops.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is designed to be used in the field, although there are
parts of it that are currently problematic. For example, in the field,
there is typically no inkling of a responder or non-responder and yet
the function as it currently stands is too wedded to the simulation
scenario. Not hard to fix though.
</p>


<h3>Value</h3>

<p> A vector of quantities is returned.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>m0</code></td>
<td>
<p>number on control arm</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m1</code></td>
<td>
<p>number on treatment arm</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y0</code></td>
<td>
<p>number of responses in control</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y1</code></td>
<td>
<p>number of responses in treatment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi0Hat</code></td>
<td>
<p>estimate of the proportion of responders among control</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi1Hat</code></td>
<td>
<p>estimate of the proportion of responders among treatment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi0HatH0</code></td>
<td>
<p> estimate of the proportion of responders among control
under <code class="reqn">H_0</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi1HatH0</code></td>
<td>
<p>estimate of the proportion of responders among control
under <code class="reqn">H_0</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi0HatH1</code></td>
<td>
<p>estimate of the proportion of responders among control
under <code class="reqn">H_1</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi1HatH1</code></td>
<td>
<p>estimate of the proportion of responders among control
under <code class="reqn">H_1</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>glrRespH0</code></td>
<td>
<p>estimate of the generalized likelihood ratio
statistic for response under <code class="reqn">H_0</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>glrRespH1</code></td>
<td>
<p>estimate of the generalized likelihood ratio
statistic for response under <code class="reqn">H_1</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>glrSurvH0</code></td>
<td>
<p>estimate of the generalized likelihood ratio
statistic for survival under <code class="reqn">H_0</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>glrSurvH1</code></td>
<td>
<p>estimate of the generalized likelihood ratio
statistic for survival under <code class="reqn">H_1</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alphaHat</code></td>
<td>
<p>the estimate of <code class="reqn">\alpha</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alphaHatH0</code></td>
<td>
<p>the estimate of <code class="reqn">\alpha</code> under <code class="reqn">H_0</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alphaHatH1</code></td>
<td>
<p>the estimate of <code class="reqn">\alpha</code> under <code class="reqn">H_1</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>betaHat</code></td>
<td>
<p>the estimate of <code class="reqn">\beta</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>betaHatH0</code></td>
<td>
<p>the estimate of <code class="reqn">\beta</code> under <code class="reqn">H_0</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>betaHatH1</code></td>
<td>
<p>the estimate of <code class="reqn">\beta</code> under <code class="reqn">H_1</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gammaHat</code></td>
<td>
<p>the estimate of <code class="reqn">\gamma</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gammaHatH0</code></td>
<td>
<p>the estimate of <code class="reqn">\gamma</code> under <code class="reqn">H_0</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gammaHatH1</code></td>
<td>
<p>the estimate of <code class="reqn">\gamma</code> under <code class="reqn">H_1</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hazard</code></td>
<td>
<p>the estimate of <code class="reqn">d</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>the estimate of <code class="reqn">\Gamma_t</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rejectH0R</code></td>
<td>
<p>a flag indicating if $H_0^R$ was rejected at the
interim look</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>acceptH0R</code></td>
<td>
<p>a flag indicating if $H_0^R$ was accepted
(futility) at the interim look</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rejectH0S</code></td>
<td>
<p>a flag indicating if $H_0^S$ was rejected at the
interim look</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>acceptH0S</code></td>
<td>
<p>a flag indicating if $H_0^S$ was accepted
(futility) at the interim look</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b.metas.Last</code></td>
<td>
<p>the last Haybittle-Peto boundary for the
survival end-point, if computed</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Mei-Chiung Shih, Balasubramanian Narasimhan, Pei He
</p>


<h3>References</h3>

<p>Lai, Tze Leung and Lavori, Philip W. and Shih, Mei-Chiung. Sequential
Design of Phase II-III Cancer Trials, Statistics in Medicine, Volume 31, issue 18, p.1944-1960, 2012.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
  trialParameters &lt;- list(minimumNumberOfEvents = 20,
                              minimumIncreaseInV = 0.2,
                              numberRecruitedEachYear = c(80, 120, 160, 160),
                              followupTime = 3,
                              adminCensoringTime = 7,
                              interimLookTime = c(1, 2, 3, 5, 7),
                              type1ErrorForResponse = 0.05,
                              type2ErrorForResponse = 0.01,
                              glrBoundarySidedness = "one", # one sided or two-sided
                              type1Error = 0.05,
                              type2Error = 0.10,
                              epsType1 = 1/3,
                              epsType2 = 1/3)

  trueParameters &lt;- list(p0 = 0.3,
                             p1 = 0.3,
                             pdiffHyp=0.3,
                             theta = list(
                                     alpha = 0,
                                     beta = 0,
                                     gamma = 0),
                             baselineLambda = 0.35,
                             etaHyp = 0.25)
  rngSeed &lt;- 9872831

  sp23Design &lt;- generateSP23Design(trueParameters, trialParameters)
  d &lt;- generateClinicalTrialData(nRec = trialParameters$numberRecruitedEachYear,
                                 nFUp = trialParameters$followupTime,
                                 pi0 = trueParameters$p0,
                                 pi1 = trueParameters$p1,
                                 theta = trueParameters$theta,
                                 lambda0 = trueParameters$baselineLambda)
  result &lt;- executeSP23Design(sp23Design, d, trialParameters$interimLookTime[2])

## End(Not run)
</code></pre>


</div>