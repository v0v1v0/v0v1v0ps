<div class="container">

<table style="width: 100%;"><tr>
<td>select</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Select Resources</h2>

<h3>Description</h3>

<p>Activity for selecting a resource for a subsequent seize/release or setting
its parameters (capacity or queue size). Resources must be defined in the
simulation environment (see <code>add_resource</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">select(.trj, resources, policy = c("shortest-queue",
  "shortest-queue-available", "round-robin", "round-robin-available",
  "first-available", "random", "random-available"), id = 0, ..., tag)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.trj</code></td>
<td>
<p>the trajectory object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resources</code></td>
<td>
<p>one or more resource names, or a callable object (a function)
which must return one or more resource names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>policy</code></td>
<td>
<p>if <code>resources</code> is a character vector, this parameter
determines the criteria for selecting a resource among the set of policies
available (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>selection identifier for nested usage.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>unused.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tag</code></td>
<td>
<p>activity tag name to perform named rollbacks (see
<code>rollback</code>) or just to better identify your activities.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The 'shortest-queue' policy selects the least busy resource;
'round-robin' selects resources in cyclical order; 'first-available' selects
the first resource available, and 'random' selects a resource randomly.
</p>
<p>All the 'available'-ending policies ('first-available', but also
'shortest-queue-available', 'round-robin-available' and 'random-available')
check for resource availability (i.e., whether the capacity is non-zero),
and exclude from the selection procedure those resources with capacity set
to zero. This means that, for these policies, an error will be raised if all
resources are unavailable.
</p>


<h3>Value</h3>

<p>Returns the trajectory object.
</p>


<h3>See Also</h3>

<p><code>seize_selected</code>, <code>release_selected</code>,
<code>set_capacity_selected</code>, <code>set_queue_size_selected</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## predefined policy
traj &lt;- trajectory() %&gt;%
  select(paste0("doctor", 1:3), "round-robin") %&gt;%
  seize_selected(1) %&gt;%
  timeout(5) %&gt;%
  release_selected(1)

simmer() %&gt;%
  add_resource("doctor1") %&gt;%
  add_resource("doctor2") %&gt;%
  add_resource("doctor3") %&gt;%
  add_generator("patient", traj, at(0, 1, 2)) %&gt;%
  run() %&gt;%
  get_mon_resources()

## custom policy
env &lt;- simmer()
res &lt;- paste0("doctor", 1:3)

traj &lt;- trajectory() %&gt;%
  select(function() {
    occ &lt;- get_server_count(env, res) + get_queue_count(env, res)
    res[which.min(occ)[1]]
  }) %&gt;%
  seize_selected(1) %&gt;%
  timeout(5) %&gt;%
  release_selected(1)

for (i in res) env %&gt;%
  add_resource(i)
env %&gt;%
  add_generator("patient", traj, at(0, 1, 2)) %&gt;%
  run() %&gt;%
  get_mon_resources()

</code></pre>


</div>