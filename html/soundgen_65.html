<div class="container">

<table style="width: 100%;"><tr>
<td>filterMS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Filter modulation spectrum</h2>

<h3>Description</h3>

<p>Filters a modulation spectrum by removing a certain range of amplitude
modulation (AM) and frequency modulation (FM) frequencies. Conditions can be
specified either separately for AM and FM with <code>amCond = ..., fmCond =
...</code>, implying an OR combination of conditions, or jointly on AM and FM with
<code>jointCond</code>. <code>jointCond</code> is more general, but using
<code>amCond/fmCond</code> is ~100 times faster.
</p>


<h3>Usage</h3>

<pre><code class="language-R">filterMS(
  ms,
  amCond = NULL,
  fmCond = NULL,
  jointCond = NULL,
  action = c("remove", "preserve")[1],
  plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ms</code></td>
<td>
<p>a modulation spectrum as returned by
<code>modulationSpectrum</code> - a matrix of real or complex values, AM
in columns, FM in rows</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>amCond, fmCond</code></td>
<td>
<p>character strings with valid conditions on amplitude and
frequency modulation (see examples)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jointCond</code></td>
<td>
<p>character string with a valid joint condition amplitude and
frequency modulation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>action</code></td>
<td>
<p>should the defined AM-FM region be removed ('remove') or
preserved, while everything else is removed ('preserve')?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>if TRUE, plots the filtered modulation spectrum</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns the filtered modulation spectrum - a matrix of the original
dimensions, real or complex.
</p>


<h3>Examples</h3>

<pre><code class="language-R">ms = modulationSpectrum(soundgen(), samplingRate = 16000,
                        returnComplex = TRUE)$complex
# Remove all AM over 25 Hz
ms_filt = filterMS(ms, amCond = 'abs(am) &gt; 25')

# amCond and fmCond are OR-conditions
filterMS(ms, amCond = 'abs(am) &gt; 15', fmCond = 'abs(fm) &gt; 5', action = 'remove')
filterMS(ms, amCond = 'abs(am) &gt; 15', fmCond = 'abs(fm) &gt; 5', action = 'preserve')
filterMS(ms, amCond = 'abs(am) &gt; 10 &amp; abs(am) &lt; 25', action = 'remove')

# jointCond is an AND-condition
filterMS(ms, jointCond = 'am * fm &lt; 5', action = 'remove')
filterMS(ms, jointCond = 'am^2 + (fm*3)^2 &lt; 200', action = 'preserve')

# So:
filterMS(ms, jointCond = 'abs(am) &gt; 5 | abs(fm) &lt; 5')  # slow but general
# ...is the same as:
filterMS(ms, amCond = 'abs(am) &gt; 5', fmCond = 'abs(fm) &lt; 5')  # fast
</code></pre>


</div>