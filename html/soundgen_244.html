<div class="container">

<table style="width: 100%;"><tr>
<td>transplantEnv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Transplant envelope</h2>

<h3>Description</h3>

<p>Extracts a smoothed amplitude envelope of the <code>donor</code> sound and applies
it to the <code>recipient</code> sound. Both sounds are provided as numeric
vectors; they can differ in length and sampling rate. Note that the result
depends on the amount of smoothing (controlled by <code>windowLength</code>) and
the chosen method of calculating the envelope. Very similar to
<code>setenv</code>, but with a different smoothing algorithm and
with a choice of several types of envelope: hil, rms, or peak.
</p>


<h3>Usage</h3>

<pre><code class="language-R">transplantEnv(
  donor,
  samplingRateD = NULL,
  recipient,
  samplingRateR = samplingRateD,
  windowLength = 50,
  method = c("hil", "rms", "peak")[3],
  killDC = FALSE,
  dynamicRange = 80,
  plot = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>donor</code></td>
<td>
<p>the sound that "donates" the amplitude envelope</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samplingRateD, samplingRateR</code></td>
<td>
<p>sampling rate of the donor and recipient,
respectively (only needed for vectors, not files)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recipient</code></td>
<td>
<p>the sound that needs to have its amplitude envelope adjusted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>windowLength</code></td>
<td>
<p>the length of smoothing window, ms</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>hil = Hilbert envelope, rms = root mean square amplitude, peak
= peak amplitude per window</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>killDC</code></td>
<td>
<p>if TRUE, dynamically removes DC offset or similar deviations of
average waveform from zero (see examples)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dynamicRange</code></td>
<td>
<p>parts of sound quieter than <code>-dynamicRange</code> dB will
not be amplified</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>if TRUE, plots the original sound, the smoothed envelope, and
the compressed sound</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns the recipient sound with the donor's amplitude envelope - a
numeric vector with the same sampling rate as the recipient
</p>


<h3>See Also</h3>

<p><code>flatEnv</code> <code>setenv</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">donor = rnorm(500) * seq(1, 0, length.out = 500)
recipient = soundgen(sylLen = 600, addSilence = 50)
transplantEnv(donor, samplingRateD = 200,
               recipient, samplingRateR = 16000,
               windowLength = 50, method = 'hil', plot = TRUE)
transplantEnv(donor, samplingRateD = 200,
               recipient, samplingRateR = 16000,
               windowLength = 10, method = 'peak', plot = TRUE)
</code></pre>


</div>