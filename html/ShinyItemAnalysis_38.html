<div class="container">

<table style="width: 100%;"><tr>
<td>ICCrestricted</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Range-restricted reliability with intra-class correlation</h2>

<h3>Description</h3>

<p>Function estimating reliability with intra-class correlation for the complete
or for the range-restricted sample.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ICCrestricted(
  Data,
  case,
  var,
  rank = NULL,
  dir = "top",
  sel = 1,
  nsim = 100,
  ci = 0.95,
  seed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Data</code></td>
<td>
<p><code>matrix</code> or <code>data.frame</code> which includes variables
describing ID of ratees (specified in <code>case</code>), ratings (specified in
<code>var</code>), and (optionally) rank of ratees (specified in <code>rank</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>case</code></td>
<td>
<p>character: name of the variable in <code>Data</code> with ID of the
ratee (subject or object being evaluated, such as a respondent, proposal,
patient, applicant etc.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>character: name of the variable in <code>Data</code> with the
ratings/scores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rank</code></td>
<td>
<p>numeric: vector of ranks of ratees. If not provided, rank of
ratee is calculated based on average rating based on <code>var</code> variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>character: direction of range-restriction, available options are
<code>"top"</code> (default) or <code>"bottom"</code>. Can be an unambiguous
abbreviation (i.e., <code>"t"</code> or <code>"b"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sel</code></td>
<td>
<p>numeric: selected number (given &gt; 1) or percentage (given &lt;= 1) of
ratees. Default value is 1 (complete dataset).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>numeric: number of simulations for bootstrap confidence interval.
Default value is 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p>numeric: confidence interval. Default value is 0.95.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>seed for simulations. Default value is <code>NULL</code>, random seed.
See <code>lme4::bootMer()</code> for more detail.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>data.frame</code> with the following columns: </p>
<table>
<tr style="vertical-align: top;">
<td><code>n_sel</code></td>
<td>
<p>number
of ratees selected/subsetted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop_sel</code></td>
<td>
<p>proportion of ratees
selected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>direction of range-restriction. <code>NA</code> if range is
effectively not restricted (100% used).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>VarID</code></td>
<td>
<p>variance due to
ratee, "true variance", between-group variance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>VarResid</code></td>
<td>
<p>residual
variance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>VarTotal</code></td>
<td>
<p>total variance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ICC1</code></td>
<td>
<p>single-rater
inter-rater reliability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ICC1_LCI</code></td>
<td>
<p>lower bound of the confidence
interval for <code>ICC1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ICC1_UCI</code></td>
<td>
<p>upper bound of the confidence
interval for <code>ICC1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ICC3</code></td>
<td>
<p>multiple-rater inter-rater
reliability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ICC3_LCI</code></td>
<td>
<p>lower bound of the confidence interval for
<code>ICC3</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ICC3_UCI</code></td>
<td>
<p>upper bound of the confidence interval for
<code>ICC3</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Patricia Martinkova <br>
Institute of Computer Science of the Czech Academy of Sciences <br><a href="mailto:martinkova@cs.cas.cz">martinkova@cs.cas.cz</a>
</p>
<p>Jan Netik <br>
Institute of Computer Science of the Czech Academy of Sciences <br><a href="mailto:netik@cs.cas.cz">netik@cs.cas.cz</a>
</p>


<h3>References</h3>

<p>Erosheva, E., Martinkova, P., &amp; Lee, C. (2021a). When zero may not be zero: A
cautionary note on the use of inter-rater reliability in evaluating grant
peer review. Journal of the Royal Statistical Society - Series A. Accepted.
</p>
<p>Erosheva, E., Martinkova, P., &amp; Lee, C. (2021b). Supplementary material for
When zero may not be zero: A cautionary note on the use of inter-rater
reliability in evaluating grant peer review.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># ICC for the whole sample
ICCrestricted(Data = AIBS, case = "ID", var = "Score", rank = "ScoreRankAdj")

# ICC for the range-restricted sample considering 80% of top ratees
ICCrestricted(
  Data = AIBS, case = "ID", var = "Score", rank = "ScoreRankAdj",
  sel = 0.8
)

</code></pre>


</div>