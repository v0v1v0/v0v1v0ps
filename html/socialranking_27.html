<div class="container">

<table style="width: 100%;"><tr>
<td>appendMissingCoalitions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Append missing coalitions</h2>

<h3>Description</h3>

<p>Append an equivalence class to a power relation with all coalitions of elements that do not appear in the power relation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">appendMissingCoalitions(powerRelation, includeEmptySet = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>powerRelation</code></td>
<td>
<p>A <code>PowerRelation</code> object created by <code>PowerRelation()</code> or <code>as.PowerRelation()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>includeEmptySet</code></td>
<td>
<p>If <code>TRUE</code>, include the empty set in the last equivalence class if it is missing from the power relation.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For a given set of elements <code class="reqn">N = \lbrace 1, ..., n \rbrace</code>, a <code>PowerRelation</code> object describes a total preorder
of its subsets, or coalitions, <code class="reqn">\mathcal{P} \subseteq 2^N</code>, where <code class="reqn">2^N</code> is the superset of elements.
</p>
<p>If <code class="reqn">\mathcal{P} \neq 2^N</code>, that means that there are some coalitions <code class="reqn">S \in 2^N, S \notin \mathcal{P}</code>,
such that we cannot compare <code class="reqn">S \succsim T</code> or <code class="reqn">T \succsim S</code> for every <code class="reqn">T \in \mathcal{P}</code>.
</p>
<p>This may be caused by <code class="reqn">2^N</code> having too many coalitions to consider.
In certain cases, it may be more interesting to only consider the top ranking coalitions and "shoving" all remaining coalitions into the back.
</p>
<p>For this use-case, <code>appendMissingCoalitions()</code> takes the set <code class="reqn">2^N \setminus \mathcal{P}</code>
and attaches it in form of an equivalence class to the back of the power relation.
</p>
<p>I.e., take as an example <code class="reqn">12 \succ 13 \succ (1 \sim 2)</code>. Here, we have
</p>
<p style="text-align: center;"><code class="reqn">
\begin{aligned}
2^N &amp;= \lbrace 123, 12, 13, 23, 1, 2, 3, \emptyset \rbrace\\
\mathcal{P} &amp;= \lbrace 12, 13, 1, 2 \rbrace\\
2^N \setminus \mathcal{P} &amp;= \lbrace 123, 23, 3, \emptyset \rbrace .
\end{aligned}
</code>
</p>

<p>Adding the missing coalitions to the power relation then gives us <code class="reqn">12 \succ 13 \succ (1 \sim 2) \succ (123 \sim 23 \sim 3 \sim \emptyset)</code>.
</p>


<h3>Value</h3>

<p><code>PowerRelation</code> object containing the following values:
</p>

<ul>
<li> <p><code style="white-space: pre;">⁠$elements⁠</code>: vector of elements
</p>
</li>
<li> <p><code style="white-space: pre;">⁠$eqs⁠</code>: equivalence classes. Nested list of lists, each containing vectors representing groups of elements in the same equivalence class
</p>
</li>
<li> <p><code style="white-space: pre;">⁠$coalitionLookup⁠</code>: <code style="white-space: pre;">⁠function(v)⁠</code> taking a coalition vector <code>v</code> and returning the equivalence class it belongs to. See <code>coalitionLookup()</code> for more.
</p>
</li>
<li> <p><code style="white-space: pre;">⁠$elementLookup⁠</code>: <code style="white-space: pre;">⁠function(e)⁠</code> taking an element <code>e</code> and returning a list of 2-sized tuples. See <code>elementLookup()</code> for more.
</p>
</li>
</ul>
<h3>See Also</h3>

<p>Other helper functions for transforming power relations: 
<code>makePowerRelationMonotonic()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">pr &lt;- as.PowerRelation(list(c(1,2), 3))
# 12 &gt; 3

appendMissingCoalitions(pr)
# 12 &gt; 3 &gt; (123 ~ 13 ~ 23 ~ 1 ~ 2 ~ {})

appendMissingCoalitions(pr, includeEmptySet = FALSE)
# 12 &gt; 3 &gt; (123 ~ 13 ~ 23 ~ 1 ~ 2)

</code></pre>


</div>