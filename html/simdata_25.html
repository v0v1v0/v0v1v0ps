<div class="container">

<table style="width: 100%;"><tr>
<td>quantile_functions_from_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Helper to estimate quantile functions from data for NORTA</h2>

<h3>Description</h3>

<p>Helper to estimate quantile functions from data for NORTA
</p>


<h3>Usage</h3>

<pre><code class="language-R">quantile_functions_from_data(
  data,
  method_density = "linear",
  n_density = 200,
  method_quantile = "constant",
  probs_quantile = seq(0, 1, 0.01),
  n_small = 10,
  use_quantile = c(),
  ...
)

quantile_function_from_density(
  x,
  method_density = "linear",
  n_density = 200,
  ...
)

quantile_function_from_quantiles(
  x,
  method_quantile = "constant",
  probs_quantile = seq(0, 1, 0.01)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A matrix or data.frame for which quantile function should be estimated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method_density</code></td>
<td>
<p>Interpolation method used for density based quantile functions,
passed to <code>stats::approxfun</code>. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_density</code></td>
<td>
<p>Number of points at which the density is estimated for density bsed
quantile, functions, passed to <code>stats::density</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method_quantile</code></td>
<td>
<p>Interpolation method used for quantile based quantile functions,
passed to <code>stats::approxfun</code>. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs_quantile</code></td>
<td>
<p>Specification of quantiles to be estimated from data for quantile based
quantile functions, passed to <code>stats::quantile</code>.
See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_small</code></td>
<td>
<p>An integer giving the number of distinct values below which quantile
functions are estimated using <code>quantile_function_from_quantiles()</code> (more
suited for categorical data), rather than <code>quantile_function_from_density()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_quantile</code></td>
<td>
<p>A vector of names indicating columns for which the quantile function
should be estimated using <code>quantile_function_from_quantiles()</code>. Overrides
<code>n_small</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Passed to <code>quantile_function_from_density()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Single vector representing variable input to <code>quantile_function_from_density()</code>
or <code>quantile_function_from_quantiles()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The NORTA approach requires the specification of the marginals by
quantile functions. This helper estimates those given a dataset automatically
and non-parametrically.
There are two ways implemented to estimate quantile functions from data.
</p>

<ol>
<li>
<p> Estimate the quantile function by interpolating the observed
quantiles from the data. This is most useful for categorical data, when
the interpolation is using a step-function (default). Implemented in
<code>quantile_function_from_quantiles()</code>.
</p>
</li>
<li>
<p> Estimate the quantile function via the the empirical cumulative
density function derived from the density of the data. Since the density
is only estimated at specific points, any values in between are interpolated
linearly (default, other options are possible). This is most useful for
continuous data. Implemented in <code>quantile_function_from_density()</code>.
</p>
</li>
</ol>
<h3>Value</h3>

<p>A named list of functions with length <code>ncol(data)</code> giving the quantile
functions of the input data. Each entry is a function returned from
<code>stats::approxfun</code>.
</p>


<h3>See Also</h3>

<p><code>simdesign_norta</code>
</p>


</div>