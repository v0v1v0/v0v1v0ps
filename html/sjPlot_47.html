<div class="container">

<table style="width: 100%;"><tr>
<td>tab_stackfrq</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Summary of stacked frequencies as HTML table</h2>

<h3>Description</h3>

<p>Shows the results of stacked frequencies (such as likert scales) as HTML table.
This function is useful when several items with identical scale/categories
should be printed as table to compare their distributions (e.g.
when plotting scales like SF, Barthel-Index, Quality-of-Life-scales etc.).
</p>


<h3>Usage</h3>

<pre><code class="language-R">tab_stackfrq(
  items,
  weight.by = NULL,
  title = NULL,
  var.labels = NULL,
  value.labels = NULL,
  wrap.labels = 20,
  sort.frq = NULL,
  alternate.rows = FALSE,
  digits = 2,
  string.total = "N",
  string.na = "NA",
  show.n = FALSE,
  show.total = FALSE,
  show.na = FALSE,
  show.skew = FALSE,
  show.kurtosis = FALSE,
  digits.stats = 2,
  file = NULL,
  encoding = NULL,
  CSS = NULL,
  use.viewer = TRUE,
  remove.spaces = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>items</code></td>
<td>
<p>Data frame, or a grouped data frame, with each column representing one item.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight.by</code></td>
<td>
<p>Vector of weights that will be applied to weight all cases.
Must be a vector of same length as the input vector. Default is
<code>NULL</code>, so no weights are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>String, will be used as table caption.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var.labels</code></td>
<td>
<p>Character vector with variable names, which will be used
to label variables in the output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value.labels</code></td>
<td>
<p>Character vector (or <code>list</code> of character vectors)
with value labels of the supplied variables, which will be used
to label variable values in the output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wrap.labels</code></td>
<td>
<p>Numeric, determines how many chars of the value, variable
or axis labels are displayed in one line and when a line break is inserted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort.frq</code></td>
<td>
<p>logical, indicates whether the <code>items</code> should be ordered by
by highest count of first or last category of <code>items</code>.
</p>

<ul>
<li>
<p> Use <code>"first.asc"</code> to order ascending by lowest count of first category,
</p>
</li>
<li> <p><code>"first.desc"</code> to order descending by lowest count of first category,
</p>
</li>
<li> <p><code>"last.asc"</code> to order ascending by lowest count of last category,
</p>
</li>
<li> <p><code>"last.desc"</code> to order descending by lowest count of last category,
</p>
</li>
<li>
<p> or <code>NULL</code> (default) for no sorting.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternate.rows</code></td>
<td>
<p>Logical, if <code>TRUE</code>, rows are printed in
alternatig colors (white and light grey by default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Numeric, amount of digits after decimal point when rounding
values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>string.total</code></td>
<td>
<p>label for the total N column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>string.na</code></td>
<td>
<p>label for the missing column/row.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.n</code></td>
<td>
<p>logical, if <code>TRUE</code>, adds total number of cases for each
group or category to the labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.total</code></td>
<td>
<p>logical, if <code>TRUE</code>, an additional column with each
item's total N is printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.na</code></td>
<td>
<p>logical, if <code>TRUE</code>, <code>NA</code>'s (missing values)
are added to the output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.skew</code></td>
<td>
<p>logical, if <code>TRUE</code>, an additional column with each item's skewness is printed.
The skewness is retrieved from the <code>describe</code>-function
of the <span class="pkg">psych</span>-package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.kurtosis</code></td>
<td>
<p>Logical, if <code>TRUE</code>, the kurtosis for each item will also be shown (see <code>kurtosi</code>
and <code>describe</code> in the <code>psych</code>-package for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits.stats</code></td>
<td>
<p>amount of digits for rounding the skewness and kurtosis valuess.
Default is 2, i.e. skewness and kurtosis values have 2 digits after decimal point.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>Destination file, if the output should be saved as file.
If <code>NULL</code> (default), the output will be saved as temporary file and
opened either in the IDE's viewer pane or the default web browser.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encoding</code></td>
<td>
<p>Character vector, indicating the charset encoding used
for variable and value labels. Default is <code>"UTF-8"</code>. For Windows
Systems, <code>encoding = "Windows-1252"</code> might be necessary for proper
display of special characters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CSS</code></td>
<td>
<p>A <code>list</code> with user-defined style-sheet-definitions,
according to the <a href="https://www.w3.org/Style/CSS/">official CSS syntax</a>.
See 'Details' or <a href="https://strengejacke.github.io/sjPlot/articles/table_css.html">this package-vignette</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.viewer</code></td>
<td>
<p>Logical, if <code>TRUE</code>, the HTML table is shown in the IDE's
viewer pane. If <code>FALSE</code> or no viewer available, the HTML table is
opened in a web browser.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove.spaces</code></td>
<td>
<p>Logical, if <code>TRUE</code>, leading spaces are removed from all lines in the final string
that contains the html-data. Use this, if you want to remove parantheses for html-tags. The html-source
may look less pretty, but it may help when exporting html-tables to office tools.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Invisibly returns
</p>

<ul>
<li>
<p> the web page style sheet (<code>page.style</code>),
</p>
</li>
<li>
<p> the web page content (<code>page.content</code>),
</p>
</li>
<li>
<p> the complete html-output (<code>page.complete</code>) and
</p>
</li>
<li>
<p> the html-table with inline-css for use with knitr (<code>knitr</code>)
</p>
</li>
</ul>
<p>for further use.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># -------------------------------
# random sample
# -------------------------------
# prepare data for 4-category likert scale, 5 items
likert_4 &lt;- data.frame(
  as.factor(sample(1:4, 500, replace = TRUE, prob = c(0.2, 0.3, 0.1, 0.4))),
  as.factor(sample(1:4, 500, replace = TRUE, prob = c(0.5, 0.25, 0.15, 0.1))),
  as.factor(sample(1:4, 500, replace = TRUE, prob = c(0.25, 0.1, 0.4, 0.25))),
  as.factor(sample(1:4, 500, replace = TRUE, prob = c(0.1, 0.4, 0.4, 0.1))),
  as.factor(sample(1:4, 500, replace = TRUE, prob = c(0.35, 0.25, 0.15, 0.25)))
)

# create labels
levels_4 &lt;- c("Independent", "Slightly dependent",
              "Dependent", "Severely dependent")

# create item labels
items &lt;- c("Q1", "Q2", "Q3", "Q4", "Q5")

# plot stacked frequencies of 5 (ordered) item-scales
## Not run: 
if (interactive()) {
  tab_stackfrq(likert_4, value.labels = levels_4, var.labels = items)

  # -------------------------------
  # Data from the EUROFAMCARE sample dataset
  #  Auto-detection of labels
  # -------------------------------
  data(efc)
  # recveive first item of COPE-index scale
  start &lt;- which(colnames(efc) == "c82cop1")
  # recveive first item of COPE-index scale
  end &lt;- which(colnames(efc) == "c90cop9")

  tab_stackfrq(efc[, c(start:end)], alternate.rows = TRUE)

  tab_stackfrq(efc[, c(start:end)], alternate.rows = TRUE,
               show.n = TRUE, show.na = TRUE)

  # --------------------------------
  # User defined style sheet
  # --------------------------------
  tab_stackfrq(efc[, c(start:end)], alternate.rows = TRUE,
               show.total = TRUE, show.skew = TRUE, show.kurtosis = TRUE,
               CSS = list(css.ncol = "border-left:1px dotted black;",
                          css.summary = "font-style:italic;"))
}

## End(Not run)
</code></pre>


</div>