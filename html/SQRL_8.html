<div class="container">

<table style="width: 100%;"><tr>
<td>sqrlParams</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Control and Communication Parameters
</h2>

<h3>Description</h3>

<p>This material does not describe a function, but (rather) the various parameters
governing <abbr><span class="acronym">ODBC</span></abbr> communications and package behaviour.
The majority of these are passed through to <span class="pkg">RODBC</span>.
</p>
<p><span class="pkg">SQRL</span> adopts a set-and-forget approach, wherein changes to the values of
these parameters are persistent, and all subsequent communications make use of
those values.
Each registered (<span class="pkg">SQRL</span>) data source has its own independent set of values.
</p>


<h3>Parameters</h3>


<dl>
<dt>
<var>aCollapse</var>:</dt>
<dd>
<p>A character string (typically a single character).
When an atomic object (typically a vector of character or integer type) is
pasted into <abbr><span class="acronym">SQL</span></abbr>, that object is first collapsed to a single string,
with <var>aCollapse</var> separating each sequential pair of the object's elements.
The default value is comma (“,”).
</p>
</dd>
<dt>
<var>as.is</var>:</dt>
<dd>
<p>A logical vector, or a numeric vector (of column indices), or a  character
vector (of column names).
Argument to <code>RODBC::sqlQuery</code> (see also
<code>utils::read.table</code>).
Tells <span class="pkg">RODBC</span> which character columns of a table, as returned by a query
to the <abbr><span class="acronym">ODBC</span></abbr> connection, <em>not</em> to convert to some other data type
(i.e., which character columns to leave as is).
Due to <span class="pkg">SQRL</span>'s set-and-forget approach to parameters, it is inconvenient to
change <var>as.is</var> on a query-by-query basis.
That being the case, it is often best defined as a logical singleton (either
<code>TRUE</code> or <code>FALSE</code>).
Alternatively, temporary query-specific values can be set within <abbr><span class="acronym">SQRL</span></abbr>
scripts (see <code>sqrlSource</code>).
The default value is <code>FALSE</code> (convert all character columns).
</p>
</dd>
<dt>
<var>autoclose</var>:</dt>
<dd>
<p>A logical singleton.
Tells <span class="pkg">SQRL</span> whether or not to automatically close the data source
connection after each query (in general, a sequence of multiple statements).
The default value is <code>FALSE</code>, which leaves the connection open.
When set to <code>TRUE</code>, connections will open only for the duration of each
query.
When user input is required for authentication each time a new connection is
opened, the default setting will be more convenient.
</p>
</dd>
<dt>
<var>believeNRows</var>:</dt>
<dd>
<p>A logical singleton.
Argument to <code>RODBC::odbcDriverConnect</code>.
Tells <span class="pkg">RODBC</span> whether or not to trust the nominal number of rows returned by
the <abbr><span class="acronym">ODBC</span></abbr> connection.
Locked while the connection is open.
The default value is <code>TRUE</code>, except for SQLite (<code>FALSE</code>).
</p>
</dd>
<dt>
<var>buffsize</var>:</dt>
<dd>
<p>A positive integer.
Argument to <code>RODBC::sqlQuery</code>.
Specifies the number of rows (of a query result) to fetch at a time.
The default value is 1000.
</p>
</dd>
<dt>
<var>case</var>:</dt>
<dd>
<p>A character string, specifically one of “nochange”, “toupper”,
“tolower”, “mysql”, “postgresql”, or “msaccess”.
Argument to <code>RODBC::odbcDriverConnect</code>.
Specifies case-changing behaviour for table and column names.
Locked while the connection is open.
The default value is “nochange”.
</p>
</dd>
<dt>
<var>channel</var>:</dt>
<dd>
<p>An <span class="pkg">RODBC</span> connection handle.
Returned by <code>RODBC::odbcDriverConnect</code>.
Argument to <code>RODBC::sqlQuery</code>.
This parameter is read-only.
</p>
</dd>
<dt>
<var>colQuote</var>:</dt>
<dd>
<p>A character vector of length 0, 1, or 2, or <code>NULL</code>.
Argument to <code>RODBC::odbcDriverConnect</code>.
Specifies the quote character(s) for column names.
A vector of length zero means no quotes, of length one means apply the specified
quote character at both ends of a name, and of length two means apply the first
character to the start of the name and the second character to the end of the
name.
Locked while the connection is open.
The default value is a backtick for MySQL, and a double-quote for everything
else.
</p>
</dd>
<dt>
<var>connection</var>:</dt>
<dd>
<p>A character string.
Argument to <code>RODBC::odbcDriverConnect</code>.
Specifies an <abbr><span class="acronym">ODBC</span></abbr> connection string.
The content of this string will be database-management system (<abbr><span class="acronym">DBMS</span></abbr>)
dependent.
Overrides <var>dsn</var>, should both be defined.
Locked while the connection is open.
Defaults to the empty string (connect via <abbr><span class="acronym">DSN</span></abbr> instead).
Will accept <code>NULL</code> as an alias for the empty string.
Can be specified as a character vector of named (and/or unnamed) components,
from which a single string will be constructed (see the examples in
<code>sqrlSource</code>).
Setting <var>connection</var> resets <var>dsn</var>, unless <var>connection</var> contains the
“&lt;dsn&gt;” placeholder (see <code>sqrlSource</code>).
</p>
</dd>
<dt>
<var>DBMSencoding</var>:</dt>
<dd>
<p>A character string.
Argument to <code>RODBC::odbcDriverConnect</code>.
Names the encoding returned by the <abbr><span class="acronym">DBMS</span></abbr>.
Locked while the connection is open.
Defaults to the empty string (use encoding of the <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> locale).
Will accept <code>NULL</code> as an alias for the empty string.
</p>
</dd>
<dt>
<var>dec</var>:</dt>
<dd>
<p>A character string (typically a single character).
Argument to <code>RODBC::sqlQuery</code>.
Defines the decimal-place marker to be used when converting data from text to
numeric format.
The default value is <code>options("dec")</code>, as set by <span class="pkg">RODBC</span>.
</p>
</dd>
<dt>
<var>driver</var>:</dt>
<dd>
<p>A character string.
The name or file path of the <abbr><span class="acronym">ODBC</span></abbr> driver for the source (either
currently in use, or to be used when a channel is opened).
This determines the requisite dialect of <abbr><span class="acronym">SQL</span></abbr>.
Locked while the connection channel is open.
Defaults to the empty string.
Will accept <code>NULL</code> as an alias for the empty string.
</p>
</dd>
<dt>
<var>dsn</var>:</dt>
<dd>
<p>A character string.
Argument to <code>RODBC::odbcConnect</code>.
Specifies the data source name (<abbr><span class="acronym">DSN</span></abbr>) to connect to.
Can be a file path.
Overridden by <var>connection</var>, when that parameter is defined.
Setting <var>dsn</var> resets <var>connection</var>, unless <var>connection</var> contains the
“&lt;dsn&gt;” placeholder (see <code>sqrlSource</code>).
Setting <var>dsn</var> also sets <var>driver</var>, if the <abbr><span class="acronym">DSN</span></abbr> exists and the
associated driver can be identified.
Locked while the connection is open.
Defaults to the empty string.
Will accept <code>NULL</code> as an alias for the empty string.
</p>
</dd>
<dt>
<var>errors</var>:</dt>
<dd>
<p>A logical singleton.
Argument to <code>RODBC::sqlQuery</code>.
Controls whether or not to throw <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> errors in response to
<abbr><span class="acronym">DBMS</span></abbr>/<abbr><span class="acronym">ODBC</span></abbr> exceptions.
The default value is <code>TRUE</code> (this differs from the <span class="pkg">RODBC</span> default).
</p>
</dd>
<dt>
<var>interface</var>:</dt>
<dd>
<p>A character string, or <code>NULL</code>.
The name of the <span class="pkg">SQRL</span> interface function for this data source (see
<code>sqrlInterface</code>).
Setting <code>NULL</code> or “remove” removes the interface.
The default value is <code>NULL</code> (undefined).
</p>
</dd>
<dt>
<var>interpretDot</var>:</dt>
<dd>
<p>A logical singleton.
Argument to <code>RODBC::odbcDriverConnect</code>.
Locked while the connection is open.
Controls whether or not to interpret table names of the form “aaa.bbb” as
table “bbb” in schema/database “aaa”.
The default value is <code>TRUE</code>.
</p>
</dd>
<dt>
<var>lCollapse</var>:</dt>
<dd>
<p>A character string (typically a single character).
When a list-like object (typically an actual list) is pasted into <abbr><span class="acronym">SQL</span></abbr>,
that object is first collapsed to a single string, with <var>lCollapse</var>
separating each sequential pair of the object's elements (to each of which,
<var>aCollapse</var> will have first been applied).
The default value is the empty string (“”).
</p>
</dd>
<dt>
<var>library</var>:</dt>
<dd>
<p>A character vector.
Empty by default.
Holds named procedures, as defined by the user (see <code>sqrlScript</code> and
<code>sqrlUsage</code>).
Setting to <code>NULL</code> empties the library.
</p>
</dd>
<dt>
<var>max</var>:</dt>
<dd>
<p>An integer.
Argument to <code>RODBC::sqlQuery</code>.
Caps the number of rows fetched back to <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>.
The default value is 0 (meaning unlimited; retrieve all rows).
</p>
</dd>
<dt>
<var>na.strings</var>:</dt>
<dd>
<p>A character vector.
Argument to <code>RODBC::sqlQuery</code>.
Specifies strings to be mapped to <code>NA</code> within character data.
The default value is “NA”.
</p>
</dd>
<dt>
<var>name</var>:</dt>
<dd>
<p>A character string.
The name of this <span class="pkg">SQRL</span> data source.
While often identical to the names of both the underlying <abbr><span class="acronym">ODBC</span></abbr>
data source and the <span class="pkg">SQRL</span> interface function, it need match neither in
general.
Multiple <span class="pkg">SQRL</span> sources may interface with the same <abbr><span class="acronym">ODBC</span></abbr> source.
This parameter is write once, and cannot be changed after creation of the
<span class="pkg">SQRL</span> source.
There is no default value.
</p>
</dd>
<dt>
<var>nullstring</var>:</dt>
<dd>
<p>A character string.
Argument to <code>RODBC::sqlQuery</code>.
The string with which to replace <code>SQL_NULL_DATA</code> items within character
columns.
The default value is <code>NA_character_</code>.
</p>
</dd>
<dt>
<var>ping</var>:</dt>
<dd>
<p>A character string.
Defines a reliable, trusted, <abbr><span class="acronym">SQL</span></abbr> statement, used by <span class="pkg">SQRL</span> to
verify source connections.
The initial value is <code>NULL</code>, which causes a simple,
<abbr><span class="acronym">DBMS</span></abbr>-dependent, statement to be determined the first time a connection
is opened.
Manual definition may be necessary in the event that <span class="pkg">SQRL</span> fails to
identify an appropriate statement for the particular <abbr><span class="acronym">DBMS</span></abbr> of the
source.
An invalid ping statement may lead to incorrect assessments of whether or not
the connection is open.
Manually setting <code>NULL</code> causes the statement to be redetermined the next
time a connection is opened.
Pings are submitted verbatim, without passing through <span class="pkg">SQRL</span>'s parser.
</p>
</dd>
<dt>
<var>prompt</var>:</dt>
<dd>
<p>A character string (typically a single character).
Defines an indicator to be applied to the <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> command prompt when the connection
is open and <var>visible</var> is <code>TRUE</code>.
Defaults to the first character of <var>name</var>.
Single-letter indicators are recommended since, if two sources are open and one
indicator is a substring of the other, then <span class="pkg">SQRL</span> may fail to correctly
update the prompt when one source is closed.
Can be set to an empty string, in which case nothing is applied to the prompt.
Will accept <code>NULL</code> as an alias for the empty string.
</p>
</dd>
<dt>
<var>pwd</var>:</dt>
<dd>
<p>A character string.
Argument to <code>RODBC::odbcConnect</code>.
Specifies a password to use at the next authentication request.
This need not match the password that was used to open the current channel.
Defaults to the empty string (interpreted as do not supply a password to the
<abbr><span class="acronym">ODBC</span></abbr> driver).
Will accept <code>NULL</code> as an alias for the empty string.
Write-only.
</p>
</dd>
<dt>
<var>readOnlyOptimize</var>:</dt>
<dd>
<p>A logical singleton.
Argument to <code>RODBC::odbcDriverConnect</code>.
Specifies whether or not to optimise the <abbr><span class="acronym">ODBC</span></abbr> connection for read-only
access.
Locked while the connection is open.
The default value is <code>FALSE</code>.
</p>
</dd>
<dt>
<var>result</var>:</dt>
<dd>
<p>An arbitrary object, being the final outcome of the last successful query or
procedure.
Read-mostly.
Can be set to <code>NULL</code> (its default value), to free memory.
</p>
</dd>
<dt>
<var>retry</var>:</dt>
<dd>
<p>A logical singleton, <code>TRUE</code> by default.
Should a query fail due to an apparent network outage or other unexpected loss
of connection, a <var>ping</var> (above) is made to verify that occurrence before
reconnecting and resubmitting the failed query.
This process is automatic and silent, unless manual input is required for
authentication.
However, as any temporary tables will not have survived the initial connection
loss, a non-existence error may eventually occur.
Failure of the second attempt is always fatal (no third attempt will be made).
Changing <var>retry</var> to <code>FALSE</code> disables this action.
</p>
</dd>
<dt>
<var>rows_at_time</var>:</dt>
<dd>
<p>A positive integer, between 1 and 1024.
Argument to <code>RODBC::odbcDriverConnect</code>.
Specifies the number of rows to fetch at a time when retrieving query results.
Locked while the connection is open.
The default value is 100.
Manually setting 1 may be necessary with some <abbr><span class="acronym">ODBC</span></abbr> drivers.
</p>
</dd>
<dt>
<var>scdo</var>:</dt>
<dd>
<p>A logical singleton.
Controls <span class="pkg">SQRL</span> parser behaviour.
When <code>TRUE</code> (the default), the parser splits multi-statement scripts on
what it considers to be statement-terminating semicolons; submitting the
individual statements as each such semicolon is encountered.
This may fail in the presence of <abbr><span class="acronym">DBMS</span></abbr>-specific procedural-language
syntax.
When <code>FALSE</code> (the fallback mode), sequential statements are delimited only
by <abbr><span class="acronym">SQRL</span></abbr> tags, especially the <code>&lt;do&gt;</code> tag (see
<code>sqrlScript</code>).
</p>
</dd>
<dt>
<var>stringsAsFactors</var>:</dt>
<dd>
<p>A logical singleton.
Argument to <code>RODBC::sqlQuery</code>.
Controls the conversion of character columns to factor columns within query
results, excluding those columns covered by <var>as.is</var>.
The default value is <code>FALSE</code>.
</p>
</dd>
<dt>
<var>tabQuote</var>:</dt>
<dd>
<p>A character vector of length 0, 1, or 2, or <code>NULL</code>.
Argument to <code>RODBC::odbcDriverConnect</code>.
Specifies the quote character(s) for table names.
A vector of length zero means no quotes, of length one means apply the specified
quote character at both ends of a name, and of length two means apply the first
character to the start of the name and the second character to the end of the
name.
Locked while the connection is open.
Defaults to the value of <var>colQuote</var>.
</p>
</dd>
<dt>
<var>uid</var>:</dt>
<dd>
<p>A character string.
Argument to <code>RODBC::odbcConnect</code>.
Specifies the user identity (<abbr><span class="acronym">UID</span></abbr>, user name) to use on the data
source.
Locked while the connection is open.
Defaults to the local name of the <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> user (<code>Sys.info()["user"]</code>).
Will accept <code>NULL</code> as an alias for the empty string (which is interpreted
as do not pass a <abbr><span class="acronym">UID</span></abbr> to the <abbr><span class="acronym">ODBC</span></abbr> driver).
May be inaccurate when the <abbr><span class="acronym">UID</span></abbr> is specified within a <abbr><span class="acronym">DSN</span></abbr>.
</p>
</dd>
<dt>
<var>verbose</var>:</dt>
<dd>
<p>A logical singleton.
Controls whether or not to display verbose output during query submission.
Intended mainly for debugging.
The default value is <code>FALSE</code> (verbose output disabled).
Verbose output is always disabled within non-interactive sessions.
</p>
</dd>
<dt>
<var>visible</var>:</dt>
<dd>
<p>A logical singleton.
Toggles display of the <var>wintitle</var> and <var>prompt</var> indicators (while an
open connection channel exists to the source).
The default value is <code>FALSE</code> (do not show indicators).
Changing this to <code>TRUE</code> authorises modification of the “prompt”
global option (see <code>base::options</code>).
</p>
</dd>
<dt>
<var>wintitle</var>:</dt>
<dd>
<p>A character string, possibly empty.
Will accept <code>NULL</code> as an alias for the empty string.
Defines an indicator that, unless empty, is displayed on the <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> window title bar
while a connection channel is open to the source, and provided <var>visible</var> is
<code>TRUE</code>.
An asterisk (*) is appended to the indicator while a query is running on the
source, and a plus-sign (+) is appended while results are being retrieved from
it.
A question mark (?) is appended during connection-testing pings, but these are
usually fleeting.
If two sources are open and one indicator is a substring of the other, then
<span class="pkg">SQRL</span> may fail to correctly update the title when one source is closed.
Only works with ‘<span class="file">R.exe</span>’, ‘<span class="file">Rterm.exe</span>’ and ‘<span class="file">Rgui.exe</span>’, and then
only while running on a “Windows” operating system.
Works with both <abbr><span class="acronym">MDI</span></abbr> and <abbr><span class="acronym">SDI</span></abbr> modes, but does not work with
“RStudio”.
</p>
</dd>
</dl>
<h3>Note</h3>

<p>Each <span class="pkg">SQRL</span> data source has its own set of the above parameters.
Altering the value of a parameter (e.g., <var>stringsAsFactors</var>) for one source
does not affect the value for any other source.
Use <code>sqrlAll</code> to make blanket changes.
</p>


<h3>See Also</h3>

<p><code>sqrlUsage</code>,
<span class="pkg">RODBC</span>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Define a new source.
sqrlSource("thoth", dbcname = "Karnak",
           driver = "Teradata Database ODBC Driver 16.10")

# Retrieve all parameter values.
thoth("config")

# Retrieve a (fixed) subset of parameter values.
thoth("settings")

# Retrieve a single (named) parameter value.
thoth("as.is")

# Various means of setting a value.
thoth(as.is = TRUE)
thoth("as.is" = TRUE)
thoth("as.is", TRUE)
thoth("as.is", "TRUE")
thoth("as.is TRUE")

# If you wanted the string 'TRUE'.
thoth(as.is = "TRUE")
thoth("as.is 'TRUE'")

# Various means of setting multiple values.
thoth(as.is = TRUE, stringsAsFactors = FALSE)
thoth(list(as.is = TRUE, stringsAsFactors = FALSE))
thoth(config = list(as.is = TRUE, stringsAsFactors = FALSE))
</code></pre>


</div>