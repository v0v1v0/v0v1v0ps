<div class="container">

<table style="width: 100%;"><tr>
<td>table.state</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Table giving the numbers of observed transitions
</h2>

<h3>Description</h3>

<p>Function returning a table with numbers of transitions between two states observed in the data set. This table can be a used to summarize a multi-state data or to define the matrix <code>mtrans</code> required in the <code>semiMarkov</code> function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">table.state( data, states = NULL, mtrans = NULL, cens = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>data frame in form <code>data.frame(id,state.h,state.j,time)</code>, where
</p>

<ul>
<li> <p><code>id</code>: the individual identification number
</p>
</li>
<li> <p><code>state.h</code>: state left by the process
</p>
</li>
<li> <p><code>state.j</code>: state entered by the process
</p>
</li>
<li> <p><code>time</code>: waiting time in state <code>state.h</code>
</p>
</li>
</ul>
<p>This data.frame containts one row per transition (possibly several rows per patient).

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>states</code></td>
<td>

<p>A numeric vector giving the names of the states (names are values used in <code>state.h</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mtrans</code></td>
<td>

<p>A quadratic matrix of logical values describing the possible transitions. 
The rows represent the left states, and the columns represent the entered states.   
If an instantaneous transition is not allowed from state <code>h</code> to state <code>j</code>, then <code>mtrans</code> should have <code class="reqn">(h,j)</code> entry <code>FALSE</code>,
otherwise it should be <code>TRUE</code>. Default value is a matrix which allows all the possible transitions between states. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cens</code></td>
<td>

<p>A character giving the code for censored observations in the column <code>state.j</code> of the data. Default is <code>NULL</code> which means that the censoring is defined as a transition fron state <code class="reqn">i</code> to state <code class="reqn">i</code> (by definition of a semi-Markov model, the transitions into the same state are not possible).
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>table.state</code></td>
<td>

<p>A table, with starting states as rows and arrival states as columns, which provides the number of observed transitions between two states. This argument can be used to quickly summarize multi-state data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ncens</code></td>
<td>

<p>Number of individuals subjected to censoring.
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Agnieszka Listwon-Krol
</p>


<h3>See Also</h3>

<p>param.init, semiMarkov
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Asthma control data
data(asthma)

# default description
# censoring is implicitly defined as a transition "h-&gt;h"
table.state(asthma)
table.state(asthma)$Ncens

# censoring defined as a transition to state "4"
asthma_bis&lt;-asthma
for(i in 1:dim(asthma)[1]){if(asthma[i,2]==asthma[i,3]) asthma_bis[i,3]&lt;-4}
table.state (asthma_bis, cens = 4)

## Definition of the model: states names and possible transtions
states_1 &lt;- c("1","2","3")
mtrans_1 &lt;- matrix(FALSE, nrow = 3, ncol = 3)
mtrans_1[1, 2:3] &lt;- TRUE
mtrans_1[2, c(1,3)] &lt;- c("W","E")
table.state(asthma, states = states_1, mtrans = mtrans_1)

   </code></pre>


</div>