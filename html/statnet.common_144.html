<div class="container">

<table style="width: 100%;"><tr>
<td>Welford</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A Welford accumulator for sample mean and variance</h2>

<h3>Description</h3>

<p>A simple class for keeping track of the running mean and the sum of squared deviations from the mean for a vector.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Welford(dn, means, vars)

## S3 method for class 'Welford'
update(object, newdata, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dn, means, vars</code></td>
<td>
<p>initialization of the Welford object: if <code>means</code>
and <code>vars</code> are given, they are treated as the running means and
variances, and <code>dn</code> is their associated sample size, and if not,
<code>dn</code> is the dimension of the vector (with sample size 0).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a <code>Welford</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>either a numeric vector of length <code>d</code>, a numeric
matrix with <code>d</code> columns for a group update, or another <code>Welford</code>
object with the same <code>d</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to methods.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>an object of type <code>Welford</code>: a list with four elements:
</p>

<ol>
<li> <p><code>n</code>: Running number of observations
</p>
</li>
<li> <p><code>means</code>: Running mean for each variable
</p>
</li>
<li> <p><code>SSDs</code>: Running sum of squared deviations from the mean for each variable
</p>
</li>
<li> <p><code>vars</code>: Running variance of each variable
</p>
</li>
</ol>
<h3>Methods (by generic)</h3>


<ul><li> <p><code>update(Welford)</code>: Update a <code>Welford</code> object with new
data.
</p>
</li></ul>
<h3>Examples</h3>

<pre><code class="language-R">
X &lt;- matrix(rnorm(200), 20, 10)
w0 &lt;- Welford(10)

w &lt;- update(w0, X)
stopifnot(isTRUE(all.equal(w$means, colMeans(X))))
stopifnot(isTRUE(all.equal(w$vars, apply(X,2,var))))

w &lt;- update(w0, X[1:12,])
w &lt;- update(w, X[13:20,])
stopifnot(isTRUE(all.equal(w$means, colMeans(X))))
stopifnot(isTRUE(all.equal(w$vars, apply(X,2,var))))

w &lt;- Welford(12, colMeans(X[1:12,]), apply(X[1:12,], 2, var))
w &lt;- update(w, X[13:20,])
stopifnot(isTRUE(all.equal(w$means, colMeans(X))))
stopifnot(isTRUE(all.equal(w$vars, apply(X,2,var))))

</code></pre>


</div>