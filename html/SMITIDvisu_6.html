<div class="container">

<table style="width: 100%;"><tr>
<td>maptt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>maptt</h2>

<h3>Description</h3>

<p>Display a Transmission Tree over a map.
</p>


<h3>Usage</h3>

<pre><code class="language-R">maptt(
  data,
  multipleValuesByTime = c(),
  circleRadius = 6,
  defaultNodeColor = "steelblue",
  nodeColorByState = list(),
  moveEdgeColor = "steelblue",
  color1 = "green",
  color2 = "red",
  nbColors = 10,
  minWeight = 0,
  maxWeight = 1,
  weight1 = 0,
  weight2 = 1,
  autoFocus = TRUE,
  keepOldFeatures = TRUE,
  optionsControl = TRUE,
  gradientControl = TRUE,
  legend = TRUE,
  width = NULL,
  height = NULL,
  elementId = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Either a data frame that will be converted to a GeoJSON
collection, or a string describing a valid GeoJSON collection.
The data frame must contain at least columns 'id', 'time', 'X' and 'Y'.
It can contain columns 'infectedby', 'probabilities'.
Additionnal columns will be added as properties, but will do nothing
in this implementation of maptt.
See the 'df2geojson' function for more informations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multipleValuesByTime</code></td>
<td>
<p>Vector of strings indicating the df columns names which can contain several values by time. Typically, you would use ‘c(’infectedby','probabilities')' if you have these values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>circleRadius</code></td>
<td>
<p>Numeric value specifying the radius of the nodes in pixels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>defaultNodeColor</code></td>
<td>
<p>String indicating the default color of nodes, if their status doesn't match whith any color. Colors can be specified in hex.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nodeColorByState</code></td>
<td>
<p>List of strings, indicating the color scheme for each node state.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>moveEdgeColor</code></td>
<td>
<p>String indicating the color of the edges representing the move of a node.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color1</code></td>
<td>
<p>String indicating the color corresponding to the minWeight value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color2</code></td>
<td>
<p>String indicating the color corresponding to the maxWeight value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nbColors</code></td>
<td>
<p>Number of colors for the color scheme using a gradient between color1 and color2. These colors will be used to represent the infection edges according to the infection probability. If no probability is used, the edge will use color2. Three intervals are created :
color1 will be used for the probabilities between minWeight and weight1.
Colors between color1 and color2 will be used for probabilities between weight1 and weight2.
color2 will be used for probabilities between weight2 and maxWeight.
This setting can be modified directly on the map if 'gradientControl' is activated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minWeight</code></td>
<td>
<p>Minimal weight.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxWeight</code></td>
<td>
<p>Maximal weight.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight1</code></td>
<td>
<p>Lowest weight for the color scheme. This setting can be modified directly on the map if 'gradientControl' is activated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight2</code></td>
<td>
<p>Greatest weight for the color scheme. This setting can be modified directly on the map if 'gradientControl' is activated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>autoFocus</code></td>
<td>
<p>Boolean indicating if the map should focus at the displayed features at each time. This setting can be toggled directly on the map if 'optionsControl' is activated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keepOldFeatures</code></td>
<td>
<p>Boolean indicating if old features should be displayed or not. Features are considered "old" if their last 'time' is prior to the current time displayed. This setting can be toggled directly on the map if 'optionsControl' is activated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optionsControl</code></td>
<td>
<p>Boolean indicating if the options control should be displayed or not</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gradientControl</code></td>
<td>
<p>Boolean indicating if the gradient control should be displayed or not</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>Boolean indicating if the legend should be displayed or not</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>Numeric width for the area in pixels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>Numeric hieght for the area in pixels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>elementId</code></td>
<td>
<p>The element ID where the map is displayed</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">library(SMITIDvisu)
data(transmissiontree)

maptt(tt.events, multipleValuesByTime = c('infectedby', 'probabilities'))

# In this example:
# - values lower than 20 will be yellow ;
# - values between 20 and 25 will use colors between yellow and red ;
# - values greater than 25 will be red.
maptt(tt.events,
 multipleValuesByTime = c('infectedby', 'probabilities'),
 color1 = 'yellow',
 color2 = 'red',
 nbColors = 10,
 minWeight = 0,
 maxWeight = 30,
 weight1 = 20,
 weight2 = 25
)

</code></pre>


</div>