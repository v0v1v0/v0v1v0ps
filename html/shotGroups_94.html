<div class="container">

<table style="width: 100%;"><tr>
<td>groupSpread</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Precision: Spread measures of a single group of bullet holes</h2>

<h3>Description</h3>

<p>Provides spread measures and their graphical representations for a single group of bullet holes.</p>


<h3>Usage</h3>

<pre><code class="language-R">groupSpread(xy, center = FALSE, plots = TRUE, CEPlevel = 0.5,
            CIlevel = 0.95, CEPtype = 'CorrNormal', bootCI = 'none',
            dstTarget, conversion)

## S3 method for class 'data.frame'
groupSpread(xy, center = FALSE, plots = TRUE, CEPlevel = 0.5,
            CIlevel = 0.95, CEPtype = 'CorrNormal', bootCI = 'none',
            dstTarget, conversion)

## Default S3 method:
groupSpread(xy, center = FALSE, plots = TRUE, CEPlevel = 0.5,
            CIlevel = 0.95, CEPtype = 'CorrNormal', bootCI = 'none',
            dstTarget, conversion)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xy</code></td>
<td>
<p>either a numerical (n x 2)-matrix with the (x,y)-coordinates of n points (1 row of coordinates per point), or a data frame with either the variables <code>x</code>, <code>y</code> or <code>point.x</code>, <code>point.y</code> as well as <code>aim.x</code>, <code>aim.y</code> giving the point of aim. If missing, point of aim is assumed to be in (0,0).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>logical: center groups to mean (0,0) first? If variable <code>series</code> does not exist, all shots are treated as belonging to the same group. Only available in method <code>groupSpread.data.frame()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plots</code></td>
<td>
<p>logical: show diagrams?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CEPlevel</code></td>
<td>
<p>a numerical value giving the coverage for the CEP and for the confidence ellipse.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CIlevel</code></td>
<td>
<p>a numerical value giving the level for the confidence intervals (for standard deviations as well as for Rayleigh sigma, RSD, MR).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CEPtype</code></td>
<td>
<p>string indicating which CEP estimate to report from <code>getCEP</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bootCI</code></td>
<td>
<p>a character vector to select which bootstrap confidence interval type to report. Possible types are <code>'none'</code> (no bootstrap CI), <code>'norm'</code>, <code>'basic'</code>, <code>'perc'</code>, <code>'bca'</code>. See <code>boot.ci</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dstTarget</code></td>
<td>
<p>a numerical value giving the distance to the target - used in MOA calculation. Acts as override if variable <code>distance</code> is already included in <code>xy</code>. See <code>getMOA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conversion</code></td>
<td>
<p>how to convert the measurement unit for distance to target to that of the (x,y)-coordinates in MOA calculation. Acts as override if variables <code>dist.unit</code> and <code>point.unit</code> are already included in <code>xy</code>. Example <code>'m2cm'</code>. See <code>getMOA</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Explanations and formula for many reported precision measures such as CEP, sigma, RSD, MR, FoM can be found in the references.<br>
Robust estimate for the covariance matrix of (x,y)-coordinates is from <code>covMcd</code> using the MCD algorithm. <br>
The number of replicates for the reported bootstrap confidence intervals is at least 1499. If the BCa interval is reported, it is at least the number of points. <br>
In addition to the numerical results listed below, this function produces the following diagrams:
</p>

<ul>
<li>
<p> a scatterplot of the (x,y)-coordinates together with group center, circle with average distance to center, and 100*<code>level</code>%-confidence ellipse - the latter also based on a robust estimate for the covariance matrix
</p>
</li>
<li>
<p> a scatterplot of the (x,y)-coordinates together with the bounding box, minimum bounding box, minimum enclosing circle, and maximum group spread
</p>
</li>
<li>
<p> a histogram of distances to group center including a fitted Rayleigh distribution as well as a non-parametric kernel density estimate
</p>
</li>
</ul>
<p>If package <code>shiny</code> is installed, an interactive web app for this functionality can be run with <code>runGUI("analyze")</code>.
</p>


<h3>Value</h3>

<p>A list with the results from the numerical analyses and statistical tests.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>sdXY</code></td>
<td>
<p>standard deviations of x- and y-coordinates (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdXci</code></td>
<td>
<p>parametric (chi^2) and bootstrap confidence intervals for the standard deviation of x-coordinates (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdYci</code></td>
<td>
<p>parametric (chi^2) and bootstrap confidence intervals for the standard deviation of y-coordinates (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdXYrob</code></td>
<td>
<p>robust standard deviations of x- and y-coordinates (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covXY</code></td>
<td>
<p>covariance matrix of (x,y)-coordinates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covXYrob</code></td>
<td>
<p>robust estimate of covariance matrix of (x,y)-coordinates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distToCtr</code></td>
<td>
<p>mean, median and maximum distance from points to their center as well as estimated Rayleigh parameters sigma (precision), radial standard deviation RSD, and mean radius MR (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigmaCI</code></td>
<td>
<p>parametric (chi^2) and bootstrap confidence intervals for sigma (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RSDci</code></td>
<td>
<p>parametric (chi^2) and bootstrap confidence intervals for radial standard deviation RSD (number of points), in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MRci</code></td>
<td>
<p>parametric (chi^2) and bootstrap confidence intervals for mean radius MR (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxPairDist</code></td>
<td>
<p>maximum pairwise distance between points (center-to-center, = maximum spread, in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groupRect</code></td>
<td>
<p>width and height of bounding box with diagonal and figure of merit FoM (average side length, in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groupRectMin</code></td>
<td>
<p>width and height of minimum-area bounding box with diagonal and figure of merit FoM (average side length, in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minCircleRad</code></td>
<td>
<p>radius for the minimum enclosing circle (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minEll</code></td>
<td>
<p>length of semi-major and semi-minor axis of the minimum enclosing ellipse (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>confEll</code></td>
<td>
<p>length of semi-major and semi-minor axis of the confidence ellipse (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>confEllRob</code></td>
<td>
<p>length of semi-major and semi-minor axis of the confidence ellipse based on a robust estimate for the covariance matrix (in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>confEllShape</code></td>
<td>
<p>aspect ratio of the confidence ellipse (square root of condition index <code>kappa</code>), its flattening (1 - inverse aspect ratio) as well as the trace and determinant of the covariance matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>confEllShapeRob</code></td>
<td>
<p>aspect ratio and flattening of the confidence ellipse based on a robust estimate for the covariance matrix as well as its trace and determinant.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CEP</code></td>
<td>
<p>estimate(s) for the circular error probable (CEP, in original measurement units, MOA, SMOA, milliradian).</p>
</td>
</tr>
</table>
<h3>References</h3>

<p><a href="http://ballistipedia.com/index.php?title=Describing_Precision">http://ballistipedia.com/index.php?title=Describing_Precision</a>
</p>
<p><a href="http://ballistipedia.com/index.php?title=Measuring_Precision">http://ballistipedia.com/index.php?title=Measuring_Precision</a>
</p>


<h3>See Also</h3>

<p><code>getDistToCtr</code>,
<code>getMaxPairDist</code>,
<code>getBoundingBox</code>,
<code>getMinBBox</code>,
<code>getMinCircle</code>,
<code>getConfEll</code>,
<code>getCEP</code>,
<code>getRayParam</code>,
<code>getMOA</code>,
<code>hist</code>,
<code>boot</code>,
<code>boot.ci</code>,
<code>kernel</code>,
<code>covMcd</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># coordinates given by a suitable data frame
res &lt;- groupSpread(DFtalon, CEPtype=c('Grubbs', 'Rayleigh'), CEPlevel=0.5,
                   CIlevel=0.95, bootCI='none', dstTarget=10, conversion='m2mm')
names(res)
res$sdXYrob
res$distToCtr
res$maxPairDist
res$CEP

# coordinates given by a matrix
## Not run: 
xy &lt;- matrix(round(rnorm(200, 0, 5), 2), ncol=2)
groupSpread(xy, CEPlevel=0.5, CIlevel=0.95, dstTarget=25, conversion='m2cm')

## End(Not run)
</code></pre>


</div>