<div class="container">

<table style="width: 100%;"><tr>
<td>calc.rule.bin</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Stopping Rule Calculation (Binary Data)</h2>

<h3>Description</h3>

<p>Calculate a stopping rule for safety monitoring, treating toxicities as binary data
</p>


<h3>Usage</h3>

<pre><code class="language-R">calc.rule.bin(ns, p0, alpha, type, param = NULL, iter = 50)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ns</code></td>
<td>
<p>A vector of sample sizes at which sequential testing is performed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p0</code></td>
<td>
<p>The toxicity probability under the null hypothesis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>The desired type I error / false positive rate for the stopping rule</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The method used for constructing the stopping rule. Choices include a Pocock test ("Pocock"), an O'Brien-Fleming test ("OBF"), a Wang-Tsiatis test ("WT"), the Bayesian beta-binomial method ("BB") proposed by Geller et al. 2003, the Bayesian beta-binomial method ("CC") proposed by Chen and Chaloner 2006, a truncated SPRT ("SPRT"), and a maximized SPRT ("MaxSPRT").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param</code></td>
<td>
<p>A vector of the extra parameter(s) needed for certain stopping rule methods. For binomial Wang-Tsiatis tests, this is the Delta parameter. For the Geller et al. method, this is the vector of hyperparameters (a,b) for the beta prior on the toxicity probability. For Chen and Chaloner's method, this is the vector (a,b,p1,nu), containing the hyperparameters (a,b) for the beta prior on the toxicity probability, the targeted alternative toxicity probability p1, and the threshold nu for the posterior probability that the true toxicity probability p &gt; p1. For truncated SPRT, this is the targeted alternative toxicity probability p1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter</code></td>
<td>
<p>The number of iterations used to search for the boundary</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A rule.bin object, which is a list with the following elements: Rule, a two-column matrix with the sample sizes <code>ns</code> and their corresponding rejection boundaries; <code>ns</code>; <code>p0</code>; <code>alpha</code>; <code>type</code>; <code>param</code>; and cval, the boundary parameter for the rule
</p>


<h3>References</h3>

<p>Chen, C. and Chaloner, K. (2006). A Bayesian stopping rule for a single arm study: With a case study of stem cell transplantation. <em>Statistics in Medicine</em> <strong>25(17)</strong>, 2956-66.
</p>
<p>Geller, N.L., Follman, D., Leifer, E.S. and Carter, S.L. (2003). Design of early trials in stem cell transplantation: a hybrid frequentist-Bayesian approach. <em>Advances in Clinical Trial Biostatistics</em>.
</p>
<p>Goldman, A.I. (1987). Issues in designing sequential stopping rules for monitoring side effects in clinical trials. <em>Controlled Clinical Trials</em>  <strong>8(4)</strong>, 327-37.
</p>
<p>Ivanova, A., Qaqish, B.F. and Schell, M.J. (2005). Continuous toxicity monitoring in phase II trials in oncology. <em>Biometrics</em> <strong>61(2)</strong>, 540-545.
</p>
<p>Kulldorff, M., Davis, R.L., Kolczak, M., Lewis, E., Lieu, T. and Platt, R. (2011). A maximized sequential probability ratio test for drug and vaccine safety surveillance. <em>Sequential Analysis</em> <strong>30(1)</strong>, 58-78.
</p>
<p>Martens, M.J. and Logan, B.R. (2024). Statistical Rules for Safety Monitoring in Clinical Trials. <em>Clinical Trials</em> <strong>21(2)</strong>, 152-161.
</p>
<p>Pocock, S.J. (1977). Group sequential methods in the design and analysis of clinical trials. <em>Biometrika</em> <strong>64(2)</strong>, 191-199.
</p>
<p>Wang, S.K. and Tsiatis, A.A. (1987). Approximately optimal one-parameter boundaries for group sequential trials. <em>Biometrics</em> <strong>193-199</strong>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Binomial Pocock test in 50 patient cohort at 10% level, expected toxicity
# probability of 20%
calc.rule.bin(ns=1:50,p0=0.20,alpha=0.10,type="Pocock")

# Binomial Wang-Tsiatis test with Delta = 0.25 in 50 patient cohort at 10% level,
# expected toxicity probability of 20%
calc.rule.bin(ns=1:50,p0=0.20,alpha=0.10,type="WT",param=0.25)

# Beta-binomial test of Geller et al. 2003 with hyperparameters (1, 9) in 100
# patient cohort at 5% level, expected toxicity probability of 10%
calc.rule.bin(ns=1:100,p0=0.10,alpha=0.05,type="BB",param=c(1,9))

# Binomial truncated SPRT with p1 = 0.3 in 100 patient cohort at 5% level,
# expected toxicity probability of 10%
calc.rule.bin(ns=1:100,p0=0.10,alpha=0.05,type="SPRT",param=0.3)

</code></pre>


</div>