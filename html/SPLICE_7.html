<div class="container">

<table style="width: 100%;"><tr>
<td>claim_minRev</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Minor Revisions of Outstanding Claim Payments</h2>

<h3>Description</h3>

<p>A suite of functions that works together to simulate, in order,
the (1) frequency, (2) time, and (3) size of minor revisions of outstanding
claim payments, for each of the claims occurring in each of the periods.
</p>
<p>We separate the case of minor revisions that occur simultaneously with a
partial payment (denoted <code style="white-space: pre;">⁠_atP⁠</code>), and the ones that do not coincide with a
payment (denoted <code style="white-space: pre;">⁠_notatP⁠</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">claim_minRev_freq(
  claims,
  prob_atP = 0.5,
  rfun_notatP,
  paramfun_notatP,
  frequency_vector = claims$frequency_vector,
  settlement_list = claims$settlement_list,
  no_payments_list = claims$no_payments_list,
  ...
)

claim_minRev_time(
  claims,
  minRev_list,
  rfun_notatP,
  paramfun_notatP,
  settlement_list = claims$settlement_list,
  payment_delay_list = claims$payment_delay_list,
  ...
)

claim_minRev_size(
  claims,
  majRev_list,
  minRev_list,
  rfun,
  paramfun_atP,
  paramfun_notatP,
  settlement_list = claims$settlement_list,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>claims</code></td>
<td>
<p>an <code>claims</code> object containing all the simulated quantities
(other than those related to incurred loss), see
<code>claims</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob_atP</code></td>
<td>
<p>(optional) probability that a minor revision will occur at
the time of a partial payment; default value 0.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rfun_notatP</code></td>
<td>
<p>optional alternative random sampling function for:
</p>

<ul>
<li> <p><code>claim_minRev_freq</code>: the number of minor revisions that occur at an epoch
other than those of partial payments;
</p>
</li>
<li> <p><code>claim_minRev_time</code>: the epochs of such minor revisions measured from claim
notification;
</p>
</li>
<li> <p><code>claim_minRev_size</code>: the sizes of the minor revision multipliers (common for
<code style="white-space: pre;">⁠_atP⁠</code> and <code style="white-space: pre;">⁠_notatP⁠</code>, hence simply termed <code>rfun</code> in this case).
</p>
</li>
</ul>
<p>See Details for default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paramfun_notatP</code></td>
<td>
<p>parameters for the above random sampling function,
as a function of other claim characteristics (e.g. <code>lambda</code> as a function of
<code>claim_size</code> for an <code>rpois</code> simulation); see Examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frequency_vector</code></td>
<td>
<p>a vector of claim frequencies for all the periods
(not required if the <code>claims</code> argument is provided); see
<code>claim_frequency</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>settlement_list</code></td>
<td>
<p>list of settlement delays (not required if the
<code>claims</code> argument is provided); see <code>claim_closure</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>no_payments_list</code></td>
<td>
<p>list of number of partial payments (not required if
the <code>claims</code> argument is provided); see
<code>claim_payment_no</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments/parameters to be passed onto <code>paramfun</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minRev_list</code></td>
<td>
<p>nested list of minor revision histories (with non-empty
revision frequencies).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>payment_delay_list</code></td>
<td>
<p>(compound) list of inter partial delays (not
required if the <code>claims</code> argument is provided); see
<code>claim_payment_delay</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>majRev_list</code></td>
<td>
<p>nested list of major revision histories (with non-empty
revision frequencies).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rfun</code></td>
<td>
<p>optional alternative random sampling function for the sizes of
the minor revision multipliers (common for <code style="white-space: pre;">⁠_atP⁠</code> and <code style="white-space: pre;">⁠_notatP⁠</code>, hence simply
termed <code>rfun</code> in this case).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paramfun_atP</code></td>
<td>
<p>parameters for <code>rfun</code> in <code>claim_minRev_size()</code> for minor
revisions that occur at the time of a partial payment.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A nested list structure such that the <em>j</em>th component of the <em>i</em>th
sub-list is a list of information on minor revisions of the <em>j</em>th claim of
occurrence period <em>i</em>. The "unit list" (i.e. the smallest, innermost
sub-list) contains the following components:
</p>

<table>
<tr>
<td style="text-align: left;">
<code>minRev_atP</code> </td>
<td style="text-align: left;"> A vector of indicators showing whether there is a minor
revision at each partial payment [<code>claim_minRev_freq()</code>]. </td>
</tr>
<tr>
<td style="text-align: left;">
<code>minRev_freq_atP</code> </td>
<td style="text-align: left;"> Number of minor revisions that occur simultaneously with
a partial payment, numerically equals to the sum of <code>minRev_atP</code>
[<code>claim_minRev_freq()</code>]. </td>
</tr>
<tr>
<td style="text-align: left;">
<code>minRev_freq_notatP</code> </td>
<td style="text-align: left;"> Number of minor revisions that do not occur with a
partial payment [<code>claim_minRev_freq()</code>]. </td>
</tr>
<tr>
<td style="text-align: left;">
<code>minRev_time_atP</code> </td>
<td style="text-align: left;"> Time of minor revisions that occur simultaneously with
a partial payment (time measured from claim notification)
[<code>claim_minRev_time()</code>]. </td>
</tr>
<tr>
<td style="text-align: left;">
<code>minRev_time_notatP</code> </td>
<td style="text-align: left;"> Time of minor revisions that do <em>not</em> occur
simultaneously with a partial payment (time measured from claim notification)
[<code>claim_minRev_time()</code>]. </td>
</tr>
<tr>
<td style="text-align: left;">
<code>minRev_factor_atP</code> </td>
<td style="text-align: left;"> Minor revision multipliers of <strong>outstanding claim
payments</strong> for revisions at partial payments [<code>claim_minRev_size()</code>]. </td>
</tr>
<tr>
<td style="text-align: left;">
<code>minRev_factor_notatP</code> </td>
<td style="text-align: left;"> Minor revision multipliers of <strong>outstanding claim
payments</strong> for revisions at any other times [<code>claim_minRev_size()</code>]. </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>Details - <code>claim_minRev_freq</code> (Frequency)</h3>

<p>Minor revisions may occur
simultaneously with a partial payment, or at any other time.
</p>
<p>For the former case, we sample the occurrence of minor revisions as Bernoulli
random variables with default probability parameter <code>prob_atP</code> <code class="reqn">= 1/2</code>.
</p>
<p>For the latter case, by default we sample the number of (non payment
simultaneous) minor revisions from a geometric distribution with mean =
<code class="reqn">min(3, setldel / 4)</code>.
</p>
<p>One can modify the above sampling distributions by plugging in their own
<code>prob_atP</code> parameter and <code>rfun_notatP</code> function, where the former dictates
the probability of incurring a minor revision at the time of a payment, and
the latter simulates and returns the number of minor revisions at any other
points in time, with possible dependence on the settlement delay of the claim
and/or other claim characteristics.
</p>


<h3>Details - <code>claim_minRev_time</code> (Time)</h3>

<p>For minor revisions that occur
simultaneously with a partial payment, the revision times simply coincide
with the epochs of the relevant partial payments.
</p>
<p>For minor revisions that occur at a different time, by default the revision
times are sampled from a uniform distribution with parameters <code>min</code> <code class="reqn">=
settlement_delay / 6</code> and <code>max</code> <code class="reqn">= settlement_delay</code>.
</p>
<p>One can modify the above sampling distribution by plugging in their own
<code>rfun_notatP</code> and <code>paramfun_notatP</code> in <code>claim_minRev_time()</code>, which together
simulate the epochs of minor revisions that do not coincide with a payment,
with possible dependence on the settlement delay of the claim and/or other
claim characteristics (see Examples).
</p>


<h3>Details - <code>claim_minRev_size</code> (Revision Multiplier)</h3>

<p>The sampling
distribution for minor revision multipliers is the same for both revisions
that occur with and without a partial payment. In the default setting, we
incorporate sampling dependence on the delay from notification to settlement
(<code>setldel</code>), the delay from notification to the subject minor revisions
(<code>minRev_time</code>), and the history of major revisions (in particular, the time
of the second major revision).
</p>
<p>Let <code class="reqn">\tau</code> denote the delay from notification to the epoch of the minor
revision, and <code class="reqn">w</code> the settlement delay. Then
</p>

<ul>
<li>
<p> For <code class="reqn">\tau \le w / 3</code>, the revision multiplier is sampled from a
lognormal distribution with parameters <code>meanlog</code> <code class="reqn">= 0.15</code> and <code>sdlog</code>
<code class="reqn">= 0.05</code> if preceded by a 2nd major revision, <code>sdlog</code> <code class="reqn">= 0.1</code>
otherwise;
</p>
</li>
<li>
<p> For <code class="reqn">w / 3 &lt; \tau \le 2w / 3</code>, the revision multiplier is sampled
from a lognormal distribution with parameters <code>meanlog</code> <code class="reqn">= 0</code> and <code>sdlog</code>
<code class="reqn">= 0.05</code> if preceded by a 2nd major revision, <code>sdlog</code> <code class="reqn">= 0.1</code>
otherwise;
</p>
</li>
<li>
<p> For <code class="reqn">\tau &gt; 2w / 3</code>, the revision multiplier is sampled from a
lognormal distribution with parameters <code>meanlog</code> <code class="reqn">= -0.1</code> and <code>sdlog</code>
<code class="reqn">= 0.05</code> if preceded by a 2nd major revision, <code>sdlog</code> <code class="reqn">= 0.1</code>
otherwise.
</p>
</li>
</ul>
<p>Note that minor revisions tend to be upward in the early part of a claim’s
life, and downward in the latter part.
</p>
<p>The revision multipliers are subject to further constraints to ensure that
the revised incurred estimate never falls below what has already been paid.
This is dicussed in <code>claim_history</code>.
</p>
<p><strong>Important note:</strong> Unlike the major revision multipliers which apply to the
<strong>incurred loss estimates</strong>, the minor revision multipliers apply to the case
estimate of <strong>outstanding claim payments</strong> i.e. a revision multiplier of 2.54
means that at the time of the minor revision the outstanding claims payment
increases by a factor of 2.54.
</p>


<h3>See Also</h3>

<p><code>claims</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(1)
test_claims &lt;- SynthETIC::test_claims_object

# generate major revisions (required for the simulation of minor revisions)
major &lt;- claim_majRev_freq(test_claims)
major &lt;- claim_majRev_time(test_claims, major)
major &lt;- claim_majRev_size(major)

# generate frequency of minor revisions
minor &lt;- claim_minRev_freq(test_claims)
minor[[1]][[1]] # the "unit list" for the first claim

# update the timing information
minor &lt;- claim_minRev_time(test_claims, minor)
# observe how this has changed
minor[[1]][[1]]
# with an alternative sampling distribution e.g. triangular
minRev_time_notatP &lt;- function(n, setldel) {
  sort(rtri(n, min = setldel/6, max = setldel, mode = setldel))
}
minor_2 &lt;- claim_minRev_time(test_claims, minor, minRev_time_notatP)

# update the revision multipliers (need to generate "major" first)
minor &lt;- claim_minRev_size(test_claims, major, minor)
</code></pre>


</div>