<div class="container">

<table style="width: 100%;"><tr>
<td>get_catalog</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get the current schema/catalog of a database-related objects</h2>

<h3>Description</h3>

<p>Get the current schema/catalog of a database-related objects
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_catalog(obj, ...)

## S3 method for class ''Microsoft SQL Server''
get_catalog(obj, temporary = FALSE, ...)

get_schema(obj, ...)

## S3 method for class 'PqConnection'
get_schema(obj, temporary = FALSE, ...)

## S3 method for class 'SQLiteConnection'
get_schema(obj, temporary = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>(<code>DBIConnection(1)</code>, <code>tbl_dbi(1)</code>, <code>Id(1)</code>)<br>
The object from which to retrieve a schema/catalog.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>temporary</code></td>
<td>
<p>(<code>logical(1)</code>) <br>
Should the reference be to the temporary schema/catalog?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The catalog is extracted from <code>obj</code> depending on the type of input:
</p>

<ul>
<li>
<p> For <code style="white-space: pre;">⁠get_catalog.Microsoft SQL Server⁠</code>, the current database context of the connection or "tempdb" if
<code>temporary = TRUE</code>.
</p>
</li>
<li>
<p> For <code>get_schema.tbl_dbi</code> the catalog is determined via <code>id()</code>.
</p>
</li>
<li>
<p> For <code style="white-space: pre;">⁠get_catalog.\\*⁠</code>, <code>NULL</code> is returned.
</p>
</li>
</ul>
<p>The schema is extracted from <code>obj</code> depending on the type of input:
</p>

<ul>
<li>
<p> For <code>get_schema.DBIConnection()</code>, the current schema of the connection if <code>temporary = FALSE</code>.
See "Default schema" for more.
If <code>temporary = TRUE</code>, the temporary schema of the connection is returned.
</p>
</li>
<li>
<p> For <code>get_schema.tbl_dbi()</code> the schema is determined via <code>id()</code>.
</p>
</li>
<li>
<p> For <code>get_schema.Id()</code>, the schema is extracted from the <code>Id</code> specification.
</p>
</li>
</ul>
<h3>Default schema</h3>

<p>In some backends, it is possible to modify settings so that when a schema is not explicitly stated in a query,
the backend searches for the table in this schema by default.
For Postgres databases, this can be shown with <code style="white-space: pre;">⁠SELECT CURRENT_SCHEMA()⁠</code> (defaults to <code>public</code>) and modified with
<code style="white-space: pre;">⁠SET search_path TO { schema }⁠</code>.
</p>
<p>For SQLite databases, a <code>temp</code> schema for temporary tables always exists as well as a <code>main</code> schema for permanent
tables. Additional databases may be attached to the connection with a named schema, but as the attachment must be
made after the connection is established, <code>get_schema</code> will never return any of these, as the default schema will
always be <code>main</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
  conn &lt;- get_connection()

  dplyr::copy_to(conn, mtcars, name = "mtcars", temporary = FALSE)

  get_schema(conn)
  get_schema(get_table(conn, id("mtcars", conn = conn)))

  get_catalog(conn)
  get_catalog(get_table(conn, id("mtcars", conn = conn)))

  close_connection(conn)

</code></pre>


</div>