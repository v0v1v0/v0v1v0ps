<div class="container">

<table style="width: 100%;"><tr>
<td>sns.fghEval.numaug</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Utility function for augmentation of a log-density function with numerical gradient and Hessian as needed
</h2>

<h3>Description</h3>

<p>Augmenting a log-density with numerical gradient and Hessian, so it can be used by <code>sns</code> or <code>sns.run</code>. This augmentation will also be done inside the function, if the value of <code>numderiv</code> parameter passed to <code>sns</code> and <code>sns.run</code> is <code>1</code> or <code>2</code>. The advantage of using <code>sns.fghEval.numaug</code> outside these functions is efficiency, since the agumentation code will not have to be executed in every function call. Users must set <code>numderiv</code> to <code>0</code> when calling <code>sns</code> or <code>sns.run</code> if calling <code>sns.fghEval.numaug</code> first. See example.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sns.fghEval.numaug(fghEval, numderiv = 0
  , numderiv.method = c("Richardson", "simple")
  , numderiv.args = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fghEval</code></td>
<td>
<p>Log-density to be sampled from. A valid log-density can have one of 3 forms: 1) return log-density, but no gradient or Hessian, 2) return a list of <code>f</code> and <code>g</code> for log-density and its gradient vector, respectively, 3) return a list of <code>f</code>, <code>g</code>, and <code>h</code> for log-density, gradient vector, and Hessian matrix. Missing derivatives are computed numerically.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numderiv</code></td>
<td>
<p>This must be matched with <code>fghEval</code>: Integer with value from the set <code>0,1,2</code>. If <code>0</code>, no numerical differentiation is performed, and thus <code>fghEval</code> is expected to supply <code>f</code>, <code>g</code> and <code>h</code>. If <code>1</code>, we expect <code>fghEval</code> to provide <code>f</code> amd <code>g</code>, and Hessian will be calculated numerically. If <code>2</code>, <code>fghEval</code> only returns log-density, and numerical differentiation is needed to calculate gradient and Hessian.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numderiv.method</code></td>
<td>
<p>Method used for numeric differentiation. This is passed to the <code>grad</code> and <code>hessian</code> functions in <span class="pkg">numDeriv</span> package. See the package documentation for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numderiv.args</code></td>
<td>
<p>Arguments to the numeric differentiation method chosen in <code>numderiv.method</code>, passed to <code>grad</code> and <code>hessian</code> functions in <span class="pkg">numDeriv</span>. See package documentation for details.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A function, accepting same arguments as <code>fghEval</code>, but guaranteed to return the original log-density, plus gradient and Hessian (both of which could possibly by numerically calculated). If <code>numderiv=0</code>, <code>fghEval</code> is returned without change. The function will return log-density, gradient and Hessian as elements <code>f</code>, <code>g</code> and <code>h</code> of a list.
</p>


<h3>Note</h3>

<p>See package vignette for more details on SNS theory, software, examples, and performance.
</p>


<h3>Author(s)</h3>

<p>Alireza S. Mahani, Asad Hasan, Marshall Jiang, Mansour T.A. Sharabiani
</p>


<h3>References</h3>

<p>Mahani A.S., Hasan A., Jiang M. &amp;  Sharabiani M.T.A. (2016). Stochastic Newton Sampler: The R Package sns. Journal of Statistical Software, Code Snippets, 74(2), 1-33. doi:10.18637/jss.v074.c02
</p>


<h3>See Also</h3>

<p><code>sns</code>, <code>sns.run</code>
</p>


</div>