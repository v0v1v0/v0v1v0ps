<div class="container">

<table style="width: 100%;"><tr>
<td>threshold_summary</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Summary Plots for Threshold Identification</h2>

<h3>Description</h3>

<p>Summary plots for threshold identification analysis
</p>


<h3>Usage</h3>

<pre><code class="language-R">threshold_summary(swmpr_in, ...)

## S3 method for class 'swmpr'
threshold_summary(
  swmpr_in,
  param = NULL,
  summary_type = c("month", "season", "year"),
  parameter_threshold = NULL,
  threshold_type = NULL,
  time_threshold = NULL,
  converted = FALSE,
  pal = "Set3",
  plot_title = FALSE,
  plot = TRUE,
  label_y_axis = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>swmpr_in</code></td>
<td>
<p>input swmpr object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed to other methods. See <code>assign_season</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param</code></td>
<td>
<p>chr string of variable to plot (one only)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary_type</code></td>
<td>
<p>Choose from <code>month</code>, <code>season</code>, or <code>year</code> aggregation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameter_threshold</code></td>
<td>
<p>vector of numerical thresholds to evaluate parameters against</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold_type</code></td>
<td>
<p>vector of logical operators ('&lt;', '&gt;', '&lt;=', '&gt;=', '==', '!=')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_threshold</code></td>
<td>
<p>The amount of time an event must last to be counted (in hours)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>converted</code></td>
<td>
<p>logical, were the units converted from the original units used by CDMO? Defaults to <code>FALSE</code>. See <code>y_labeler</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pal</code></td>
<td>
<p>Select a palette for boxplot fill colors. See <code>scale_fill_brewer</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_title</code></td>
<td>
<p>logical, should the station name be included as the plot title? Defaults to <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>logical, should a plot be returned? Defaults to <code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_y_axis</code></td>
<td>
<p>logical, include label for y-axis?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function provides a graphical or tabular summary of the results from <code>threshold_identification</code>. The user can summarize results on a monthly, seasonal, or annual basis by specifying <code>summary_type = c('month', 'season', 'year')</code>. If <code>summary_type = 'season'</code>, then the user should also define <code>season</code>, <code>season_names</code>, and <code>season_start</code>, as required by <code>assign_season</code>. The user can specify <code>'month'</code> for nutrient parameters, but this is not recommended and will produce a warning.
</p>
<p>Recommended thresholds for chlorophyll-a, dissolved inorganic nitrogen, dissolved inorganic phosphorus, and dissolved oxygen can be found in the National Coastal Condition Assessment 2010 (USEPA 2016)
</p>


<h3>Value</h3>

<p>Returns a <code>ggplot</code> object (if <code>plot</code> = <code>TRUE</code>) or a dataframe (if <code>plot</code> = <code>FALSE</code>)
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>References</h3>

<p>United States Environmental Protection Agency (USEPA). 2015. "National Coastal Condition Assessment 2010". EPA 841-R-15-006.
https://cfpub.epa.gov/si/si_public_record_Report.cfm?Lab=OWOW&amp;dirEntryId=327030
</p>


<h3>See Also</h3>

<p><code>assign_season</code>, <code>ggplot</code>, <code>threshold_identification</code>, <code>scale_fill_brewer</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Water quality examples
data(apacpwq)
dat_wq &lt;- qaqc(apacpwq, qaqc_keep = c(0, 3, 5))
dat_wq &lt;- SWMPr::setstep(dat_wq)

x &lt;-
  threshold_summary(dat_wq, param = 'do_mgl', parameter_threshold = 2
  , threshold_type = '&lt;', time_threshold = 2, summary_type = 'month'
  , plot_title = TRUE)


y &lt;-
  threshold_summary(dat_wq, param = 'do_mgl', parameter_threshold = 2,
  threshold_type = '&lt;', time_threshold = 2, summary_type = 'season',
  season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12)),
  season_names = c('Winter', 'Spring', 'Summer', 'Fall'),
  season_start = 'Winter',
  plot_title = TRUE)

## Nutrient examples
dat_nut &lt;- qaqc(apacpnut, qaqc_keep = c(0, 3, 5))

x &lt;-
  threshold_summary(dat_nut, param = 'chla_n',
  parameter_threshold = 10,
  threshold_type = '&gt;', summary_type = 'month',
  plot_title = TRUE)

y &lt;-
  threshold_summary(dat_nut, param = 'chla_n', parameter_threshold = 10,
  threshold_type = '&gt;', summary_type = 'season',
  season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12)),
  season_names = c('Winter', 'Spring', 'Summer', 'Fall'),
  season_start = 'Winter', plot_title = TRUE)

 z &lt;-
   threshold_summary(dat_nut, param = 'chla_n', parameter_threshold = 10,
   threshold_type = '&gt;', summary_type = 'year',
   plot_title = TRUE, plot = TRUE)

</code></pre>


</div>