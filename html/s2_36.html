<div class="container">

<table style="width: 100%;"><tr>
<td>s2_geog_point</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create and Format Geography Vectors</h2>

<h3>Description</h3>

<p>These functions create and export geography vectors.
Unlike the BigQuery geography constructors, these functions do not sanitize
invalid or redundant input using <code>s2_union()</code>. Note that when creating polygons
using <code>s2_make_polygon()</code>, rings can be open or closed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">s2_geog_point(longitude, latitude)

s2_make_line(longitude, latitude, feature_id = 1L)

s2_make_polygon(
  longitude,
  latitude,
  feature_id = 1L,
  ring_id = 1L,
  oriented = FALSE,
  check = TRUE
)

s2_geog_from_text(
  wkt_string,
  oriented = FALSE,
  check = TRUE,
  planar = FALSE,
  tessellate_tol_m = s2_tessellate_tol_default()
)

s2_geog_from_wkb(
  wkb_bytes,
  oriented = FALSE,
  check = TRUE,
  planar = FALSE,
  tessellate_tol_m = s2_tessellate_tol_default()
)

s2_as_text(
  x,
  precision = 16,
  trim = TRUE,
  planar = FALSE,
  tessellate_tol_m = s2_tessellate_tol_default()
)

s2_as_binary(
  x,
  endian = wk::wk_platform_endian(),
  planar = FALSE,
  tessellate_tol_m = s2_tessellate_tol_default()
)

s2_tessellate_tol_default()
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>longitude, latitude</code></td>
<td>
<p>Vectors of latitude and longitude</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature_id, ring_id</code></td>
<td>
<p>Vectors for which a change in
sequential values indicates a new feature or ring. Use <code>factor()</code>
to convert from a character vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>oriented</code></td>
<td>
<p>TRUE if polygon ring directions are known to be correct
(i.e., exterior rings are defined counter clockwise and interior
rings are defined clockwise).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>Use <code>check = FALSE</code> to skip error on invalid geometries</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wkt_string</code></td>
<td>
<p>Well-known text</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>planar</code></td>
<td>
<p>Use <code>TRUE</code> to force planar edges in import or export.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tessellate_tol_m</code></td>
<td>
<p>The maximum number of meters to that a point must
be moved to satisfy the planar edge constraint.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wkb_bytes</code></td>
<td>
<p>A <code>list()</code> of <code>raw()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object that can be converted to an s2_geography vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>precision</code></td>
<td>
<p>The number of significant digits to export when
writing well-known text. If <code>trim = FALSE</code>, the number of
digits after the decimal place.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trim</code></td>
<td>
<p>Should trailing zeroes be included after the decimal place?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endian</code></td>
<td>
<p>The endian-ness of the well-known binary. See <code>wk::wkb_translate_wkb()</code>.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>See <code>as_s2_geography()</code> for other ways to construct geography vectors.
</p>
<p>BigQuery's geography function reference:
</p>

<ul>
<li> <p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_geogpoint">ST_GEOGPOINT</a>
</p>
</li>
<li> <p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_makeline">ST_MAKELINE</a>
</p>
</li>
<li> <p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_makepolygon">ST_MAKEPOLYGON</a>
</p>
</li>
<li> <p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_geogfromtext">ST_GEOGFROMTEXT</a>
</p>
</li>
<li> <p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_geogfromwkb">ST_GEOGFROMWKB</a>
</p>
</li>
<li> <p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_astext">ST_ASTEXT</a>
</p>
</li>
<li> <p><a href="https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions#st_asbinary">ST_ASBINARY</a>
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R"># create point geographies using coordinate values:
s2_geog_point(-64, 45)

# create line geographies using coordinate values:
s2_make_line(c(-64, 8), c(45, 71))

# optionally, separate features using feature_id:
s2_make_line(
  c(-64, 8, -27, -27), c(45, 71, 0, 45),
  feature_id = c(1, 1, 2, 2)
)

# create polygon geographies using coordinate values:
# (rings can be open or closed)
s2_make_polygon(c(-45, 8, 0), c(64, 71, 90))

# optionally, separate rings and/or features using
# ring_id and/or feature_id
s2_make_polygon(
  c(20, 10, 10, 30, 45, 30, 20, 20, 40, 20, 45),
  c(35, 30, 10, 5, 20, 20, 15, 25, 40, 45, 30),
  feature_id = c(rep(1, 8), rep(2, 3)),
  ring_id = c(1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 1)
)

# import and export well-known text
(geog &lt;- s2_geog_from_text("POINT (-64 45)"))
s2_as_text(geog)

# import and export well-known binary
(geog &lt;- s2_geog_from_wkb(wk::as_wkb("POINT (-64 45)")))
s2_as_binary(geog)

# import geometry from planar space
s2_geog_from_text(
   "POLYGON ((0 0, 1 0, 0 1, 0 0))",
   planar = TRUE,
   tessellate_tol_m = 1
)

# export geographies into planar space
geog &lt;- s2_make_polygon(c(179, -179, 179), c(10, 10, 11))
s2_as_text(geog, planar = TRUE)

# polygons containing a pole need an extra step
geog &lt;- s2_data_countries("Antarctica")
geom &lt;- s2_as_text(
  s2_intersection(geog, s2_world_plate_carree()),
  planar = TRUE
)

</code></pre>


</div>