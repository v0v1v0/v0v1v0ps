<div class="container">

<table style="width: 100%;"><tr>
<td>Reading and combining SGP outputs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read and combine SGP outputs</h2>

<h3>Description</h3>

<p>Read the output generated by the 'SGP' or 'SGP.CV' functions saved at the provided <code>save.at</code> parameter. It merges all partial files when data was splited according to argument <code>subset</code>. Function 'read_summary' reads the output generated after calling the method <code>summary</code>; multiple outputs are read if argument <code>path</code> is a vector and in this case, they are combined by averaging across all outputs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_SGP(path = ".", type = NULL,
         file.ext = ".RData", verbose = TRUE)

read_summary(path = ".", type = NULL,
             file.ext = ".RData", verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>(character) Path where output files were saved. This may include a prefix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>(character) Either 'SGP' or 'SGP.CV' to collect results generated by either function of the same name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file.ext</code></td>
<td>
<p>(character) This is the file extension at which file was saved as per the argument <code>save.at</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> to whether printing details</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of the class 'SGP' for which methods <code>predict</code>, <code>plot</code> and <code>summary</code> exist
</p>


<h3>Examples</h3>

<pre><code class="language-R">  require(SFSI)
  data(wheatHTP)
  
  index = which(Y$trial %in% 1:10)    # Use only a subset of data
  Y = Y[index,]
  M = scale(M[index,])/sqrt(ncol(M))  # Subset and scale markers
  G = tcrossprod(M)                   # Genomic relationship matrix
  y = as.vector(scale(Y[,"E1"]))      # Scale response variable
  
  # Training and testing sets
  tst = which(Y$trial %in% 1:3)
  trn = seq_along(y)[-tst]
  
  path = paste0(tempdir(),"/testSGP_")
  
  # Run the analysis into 4 subsets and save them at a given path
  SGP(y, K=G, trn=trn, tst=tst, subset=c(1,4), save.at=path)
  SGP(y, K=G, trn=trn, tst=tst, subset=c(2,4), save.at=path)
  SGP(y, K=G, trn=trn, tst=tst, subset=c(3,4), save.at=path)
  SGP(y, K=G, trn=trn, tst=tst, subset=c(4,4), save.at=path)

  # Collect all results after completion
  fm = read_SGP(path)
  
  # Generate and save summary 
  summary(fm, save.at=path)
  fm2 = read_summary(path)
</code></pre>


</div>