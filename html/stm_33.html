<div class="container">

<table style="width: 100%;"><tr>
<td>plot.STM</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Functions for plotting STM objects</h2>

<h3>Description</h3>

<p>Produces one of four types of plots for an STM object.  The default option
<code>"summary"</code> prints topic words with their corpus frequency.
<code>"labels"</code> is for easy printing of tables of indicative words for each
topic.  <code>"perspectives"</code> depicts differences between two topics,
content covariates or combinations. <code>"hist"</code> creates a histogram of the
expected distribution of topic proportions across the documents.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'STM'
plot(
  x,
  type = c("summary", "labels", "perspectives", "hist"),
  n = NULL,
  topics = NULL,
  labeltype = c("prob", "frex", "lift", "score"),
  frexw = 0.5,
  main = NULL,
  xlim = NULL,
  ylim = NULL,
  xlab = NULL,
  family = "",
  width = 80,
  covarlevels = NULL,
  plabels = NULL,
  text.cex = 1,
  custom.labels = NULL,
  topic.names = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Model output from stm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Sets the desired type of plot.  See details for more
information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Sets the number of words used to label each topic.  In perspective
plots it approximately sets the total number of words in the plot.  The
defaults are 3, 20 and 25 for <code>summary</code>, <code>labels</code> and
<code>perspectives</code> respectively.  n must be greater than or equal to 2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>topics</code></td>
<td>
<p>Vector of topics to display.  For plot perspectives this must
be a vector of length one or two. For the other two types it defaults to all
topics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labeltype</code></td>
<td>
<p>Determines which option of <code>"prob", "frex", "lift",
"score"</code> is used for choosing the most important words.  See
<code>labelTopics</code> for more detail.  Passing an argument to
<code>custom.labels</code> will override this. Note that this does not apply to
<code>perspectives</code> type which always uses highest probability words.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frexw</code></td>
<td>
<p>If "frex" labeltype is used, this will be the frex weight.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>Title to the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>Range of the X-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>Range of the Y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>Labels for the X-axis.  For perspective plots, use
<code>plabels</code> instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>The Font family.  Most of the time the user will not need to
specify this but if using other character sets can be useful see par.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>Sets the width in number of characters used for string wrapping
in type <code>"labels"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covarlevels</code></td>
<td>
<p>A vector of length one or length two which contains the
levels of the content covariate to be used in perspective plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plabels</code></td>
<td>
<p>This option can be used to override the default labels in the
perspective plot that appear along the x-axis.  It should be a character
vector of length two which has the left hand side label first.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.cex</code></td>
<td>
<p>Controls the scaling constant on text size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>custom.labels</code></td>
<td>
<p>A vector of custom labels if labeltype is equal to
"custom".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>topic.names</code></td>
<td>
<p>A vector of custom topic names.  Defaults to "Topic #: ".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters passed to plotting functions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function can produce three types of plots which summarize an STM object
which is chosen by the argument <code>type</code>.  <code>summary</code> produces a plot
which displays the topics ordered by their expected frequency across the
corpus.  <code>labels</code> plots the top words selected according to the chosen
criteria for each selected topics.  <code>perspectives</code> plots two topic or
topic-covariate combinations.  Words are sized proportional to their use
within the plotted topic-covariate combinations and oriented along the
X-axis based on how much they favor one of the two configurations.  If the
words cluster on top of each other the user can either set the plot size to
be larger or shrink the total number of words on the plot.  The vertical
configuration of the words is random and thus can be rerun to produce
different results each time. Note that <code>perspectives</code> plots do 
not use any of the labeling options directly. <code>hist</code> plots a histogram of the MAP
estimates of the document-topic loadings across all documents.  The median
is also denoted by a dashed red line.
</p>


<h3>References</h3>

<p>Roberts, Margaret E., Brandon M. Stewart, Dustin Tingley,
Christopher Lucas, Jetson Leder-Luis, Shana Kushner Gadarian, Bethany
Albertson, and David G. Rand.  "Structural Topic Models for Open-Ended
Survey Responses." American Journal of Political Science 58, no 4 (2014):
1064-1082.
</p>


<h3>See Also</h3>

<p><code>plotQuote</code>, <code>plot.topicCorr</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

#Examples with the Gadarian Data
plot(gadarianFit)
plot(gadarianFit,type="labels")
plot(gadarianFit, type="perspectives", topics=c(1,2))
plot(gadarianFit,type="hist")

</code></pre>


</div>