<div class="container">

<table style="width: 100%;"><tr>
<td>predict.sns</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Sample-based prediction using "sns" Objects
</h2>

<h3>Description</h3>

<p>Method for sample-based prediction using the output of <code>sns.run</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'sns'
predict(object, fpred
  , nburnin = max(nrow(object)/2, attr(object, "nnr"))
  , end = nrow(object), thin = 1, ...)
## S3 method for class 'predict.sns'
summary(object
  , quantiles = c(0.025, 0.5, 0.975)
  , ess.method = c("coda", "ise"), ...)
## S3 method for class 'summary.predict.sns'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Object of class "sns" (output of <code>sns.run</code>) or "predict.sns" (output of <code>predict.sns</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fpred</code></td>
<td>
<p>Prediction function, accepting a single value for the state vector and producing a vector of outputs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nburnin</code></td>
<td>
<p>Number of burn-in iterations discarded for sample-based prediction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>
<p>Last iteration used in sample-based prediction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thin</code></td>
<td>
<p>One out of <code>thin</code> iterations within the specified range are used for sample-based prediction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantiles</code></td>
<td>
<p>Values for which sample-based quantiles are calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ess.method</code></td>
<td>
<p>Method used for calculating effective sample size. Default is to call <code>effectiveSize</code> from package <code>coda</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class "summary.predict.sns".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to/from other functions.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>predict.sns</code> produces a matrix with number of rows equal to the length of prediction vector produces by <code>fpred</code>. Its numnber of columns is equal to the number of samples used within the user-specified range, and after thinning (if any). <code>summary.predict.sns</code> produces sample-based prediction mean, standard deviation, quantiles, and effective sample size.
</p>


<h3>Note</h3>

<p>See package vignette for more details on SNS theory, software, examples, and performance.
</p>


<h3>Author(s)</h3>

<p>Alireza S. Mahani, Asad Hasan, Marshall Jiang, Mansour T.A. Sharabiani
</p>


<h3>References</h3>

<p>Mahani A.S., Hasan A., Jiang M. &amp;  Sharabiani M.T.A. (2016). Stochastic Newton Sampler: The R Package sns. Journal of Statistical Software, Code Snippets, 74(2), 1-33. doi:10.18637/jss.v074.c02
</p>


<h3>See Also</h3>

<p><code>sns.run</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 

# using RegressionFactory for generating log-likelihood and derivatives
library("RegressionFactory")

loglike.poisson &lt;- function(beta, X, y) {
  regfac.expand.1par(beta, X = X, y = y,
    fbase1 = fbase1.poisson.log)
}

# simulating data
K &lt;- 5
N &lt;- 1000
X &lt;- matrix(runif(N * K, -0.5, +0.5), ncol = K)
beta &lt;- runif(K, -0.5, +0.5)
y &lt;- rpois(N, exp(X %*% beta))

beta.init &lt;- rep(0.0, K)
beta.smp &lt;- sns.run(beta.init, loglike.poisson,
  niter = 1000, nnr = 20, mh.diag = TRUE, X = X, y = y)

# prediction function for mean response
predmean.poisson &lt;- function(beta, Xnew) exp(Xnew %*% beta)
ymean.new &lt;- predict(beta.smp, predmean.poisson,
                     nburnin = 100, Xnew = X)
summary(ymean.new)

# (stochastic) prediction function for response
predsmp.poisson &lt;- function(beta, Xnew)
  rpois(nrow(Xnew), exp(Xnew %*% beta))
ysmp.new &lt;- predict(beta.smp, predsmp.poisson
                    , nburnin = 100, Xnew = X)
summary(ysmp.new)


## End(Not run)

</code></pre>


</div>