<div class="container">

<table style="width: 100%;"><tr>
<td>similarity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Ecological similarity</h2>

<h3>Description</h3>

<p>Uses row imputation to identify "k" ecological similar observations
</p>


<h3>Usage</h3>

<pre><code class="language-R">similarity(
  x,
  k = 4,
  method = "mahalanobis",
  frequency = TRUE,
  scale = TRUE,
  ID = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>data.frame containing ecological measures</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Number of k nearest neighbors (kNN)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Method to compute multivariate distances c("mahalanobis", "raw", 
"euclidean", "ica")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frequency</code></td>
<td>
<p>Calculate frequency of each reference row (TRUE/FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>Scale multivariate distances to standard range (TRUE/FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ID</code></td>
<td>
<p>Unique ID vector to use as reference ID's (rownames). Must be 
unique and same length as number of rows in x</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function uses row-based imputation to identify k similar neighbors for each 
observation. Has been used to identify offsets based on ecological similarity.
</p>


<h3>Value</h3>

<p>data.frame with k similar targets and associated distances. If frequency = TRUE  the 
freq column represents the number of times a row (ID) was selected as a neighbor.
</p>


<h3>Author(s)</h3>

<p>Jeffrey S. Evans  &lt;jeffrey_evans@tnc.org&gt;
</p>


<h3>References</h3>

<p>Evans, J.S., S.R. Schill, G.T. Raber (2015) A Systematic Framework for Spatial 
Conservation Planning and Ecological Priority Design in St. Lucia, Eastern 
Caribbean. Chapter 26 in Central American Biodiversity : Conservation, Ecology 
and a Sustainable Future. F. Huettman (eds). Springer, NY.
</p>


<h3>Examples</h3>

<pre><code class="language-R"> 
 library(sf)
 data(pu)
 kNN &lt;- similarity(st_drop_geometry(pu[2:ncol(pu)]), k = 4, 
                   frequency = TRUE, ID = pu$UNIT_ID)  
 p &lt;- kNN$freq   
 clr &lt;- c("#3288BD", "#99D594", "#E6F598", "#FEE08B", 
          "#FC8D59", "#D53E4F")   
 p &lt;- ifelse(p &lt;= 0, clr[1], 
        ifelse(p &gt; 0 &amp; p &lt; 10, clr[2],
          ifelse(p &gt;= 10 &amp; p &lt; 20, clr[3],
 	       ifelse(p &gt;= 20 &amp; p &lt; 50, clr[4],
 	         ifelse(p &gt;= 50 &amp; p &lt; 100, clr[5],
 	           ifelse(p &gt;= 100, clr[6], NA))))))
 plot(st_geometry(pu), col=p, border=NA)
   legend("topleft", legend=c("None","&lt;10","10-20",
          "20-50","50-100","&gt;100"),
          fill=clr, cex=0.6, bty="n") 
   box()

 
</code></pre>


</div>