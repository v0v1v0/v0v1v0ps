<div class="container">

<table style="width: 100%;"><tr>
<td>survivalROC.C</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Time-dependent ROC curve estimation from censored survival data</h2>

<h3>Description</h3>

<p>This function creates time-dependent ROC curve from censored survival
data using the Nearest Neighbor Estimation (NNE) method of Heagerty,
Lumley and Pepe, 2000</p>


<h3>Usage</h3>

<pre><code class="language-R">survivalROC.C(Stime,status,marker,predict.time,span)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Stime</code></td>
<td>
<p>Event time or censoring time for subjects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>status</code></td>
<td>
<p>Indicator of status, 1 if death or event, 0 otherwise </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marker</code></td>
<td>
<p>Predictor or marker value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predict.time</code></td>
<td>
<p>Time point of the ROC curve</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>span</code></td>
<td>
<p>Span for the NNE</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p> Suppose we have censored survival data along with a baseline
marker value and
we want to see how well the marker predicts the survival time for the
subjects in the dataset. In particular, suppose we have survival times in
days and  we want to see how well the
marker predicts the one-year survival (PredictTime=365 days). This
function returns the unique marker values, sensitivity (True positive
or TP), (1-specificity) (False positive or FP) and Kaplan-Meier
survival estimate  corresponding to the
time point of interest (PredictTime). The (FP,TP) values then can be
used to construct ROC curve at the time point of interest.
</p>


<h3>Value</h3>

<p>Returns a list of the following items:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>cut.values</code></td>
<td>
<p>unique marker values for calculation of TP and FP</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TP</code></td>
<td>
<p>TP corresponding to the cut off in marker</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FP</code></td>
<td>
<p>FP corresponding to the cut off in marker</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predict.time</code></td>
<td>
<p>time point of interest</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Survival</code></td>
<td>
<p>Kaplan-Meier survival estimate at predict.time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AUC</code></td>
<td>
<p>Area Under (ROC) Curve at time predict.time</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Patrick J. Heagerty </p>


<h3>References</h3>

<p>Heagerty, P.J., Lumley, T., Pepe, M. S. (2000)
Time-dependent ROC Curves for Censored Survival Data and a Diagnostic
Marker <em>Biometrics</em>, <b>56</b>, 337 â€“ 344</p>


<h3>Examples</h3>

<pre><code class="language-R">data(mayo)

nobs &lt;- NROW(mayo)
cutoff &lt;- 365
Staltscore4 &lt;- NULL
Mayo.fit4 &lt;- survivalROC.C( Stime = mayo$time,  
      status = mayo$censor,      
      marker = mayo$mayoscore4,     
      predict.time = cutoff,      
      span = 0.25*nobs^(-0.20))
Staltscore4 &lt;- Mayo.fit4$Survival
plot(Mayo.fit4$FP, Mayo.fit4$TP, type = "l",
xlim = c(0,1), ylim = c(0,1),
xlab = paste( "FP \n AUC =",round(Mayo.fit4$AUC,3)),
ylab = "TP",main = "Year = 1" )
abline(0,1)
</code></pre>


</div>