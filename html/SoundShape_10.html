<div class="container">

<table style="width: 100%;"><tr>
<td>raven.list</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sample of tables containing selection boxes from Raven Pro software</h2>

<h3>Description</h3>

<p>This sample file features a list of three <code>data.frame</code> objects containing the selection boxes for the acoustic units of <code>centralis</code>, <code>cuvieri</code> and <code>kroyeri</code>. The selection was performed manually using <a href="https://www.ravensoundsoftware.com/software/raven-pro/">Raven Pro</a> software, which is commonplace in bioacoustic analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">data(raven.list)
</code></pre>


<h3>Format</h3>

<p>An object of the class <code>"list"</code> (<code>base</code> package).
</p>


<h3>Details</h3>

<p>This sample list was built to illustrate the usage of <code>raven.to.wave</code> function.
Each <code>data.frame</code> in the list represent selection boxes from <a href="https://www.ravensoundsoftware.com/software/raven-pro/">Raven Pro</a> software featuring either <code>centralis</code>, <code>cuvieri</code> or <code>kroyeri</code> samples. These, in turn, are acoustic recordings containing three stereotyped calls emitted by a male frog <em>Physalaemus cuvieri</em>, <em>P. centralis</em> or <em>P. kroyeri</em>  (Amphibia, Anura, Leptodactylidae), respectively.
</p>


<h3>Source</h3>

<p>Sample data of <code>"Wave"</code> objects:
</p>

<ul>
<li>
<p><code>centralis</code>: Advertisement call of <em>Physalaemus centralis</em>; original recording housed at Fonoteca Neotropical Jacques Vielliard (FNJV-0031188). Recorded by Adão José Cardoso.
</p>
</li>
<li>
<p><code>cuvieri</code>: Advertisement call of <em>Physalaemus cuvieri</em>; original recording housed at Coleção Bioacústica da Universidade Federal de Minas Gerais (CBUFMG-00196). Recorded by Pedro Rocha.
</p>
</li>
<li>
<p><code>kroyeri</code>: Advertisement call of <em>Physalaemus kroyeri</em>; Original recording housed at Fonoteca Neotropical Jacques Vielliard (FNJV-0032047). Recorded by Werner Bokermann.
</p>
</li>
</ul>
<h3>References</h3>

<p>Rocha, P. &amp; Romano, P. (2021) The shape of sound: A new <code>R</code> package that crosses the bridge between Bioacoustics and Geometric Morphometrics. <em>Methods in Ecology and Evolution, 12</em>(6), 1115-1121.
</p>


<h3>See Also</h3>

<p><code>raven.to.wave</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#
#  Create folders on your console  #
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#

# Create temporary folder to store original ".wav" files containing multiple units
orig.wav &lt;- file.path(base::tempdir(), "original wave")
if(!dir.exists(orig.wav)) dir.create(orig.wav)

# Create temporary folder to store sample ".wav" files from original recordings
wav.at &lt;- file.path(base::tempdir(), "wav samples")
if(!dir.exists(wav.at)) dir.create(wav.at)

# Create temporary folder to store results
store.at &lt;- file.path(base::tempdir(), "output")
if(!dir.exists(store.at)) dir.create(store.at)


#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#
#   Select acoustic units based on Raven Pro selections   #
#                                                         #
#              Using raven.to.wave function                #
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#

# Export original sample ".wav" files from SoundShape examples
tuneR::writeWave(centralis, extensible = TRUE,
                filename = file.path(orig.wav, "centralis.wav"))
tuneR::writeWave(cuvieri, extensible = TRUE,
                filename = file.path(orig.wav, "cuvieri.wav"))
tuneR::writeWave(kroyeri, extensible = TRUE,
                filename = file.path(orig.wav, "kroyeri.wav"))

# Store Raven Pro selection tables at same folder from original ".wav" files
for(i in 1:length(raven.list)){
 write.table(raven.list[i], file=file.path(orig.wav, names(raven.list)[i]),
               quote=FALSE, sep="\t", row.names = FALSE,
               col.names = colnames(raven.list[[i]]))  } # end loop


# Verify if folder has both original ".wav" files and Raven's selections
dir(orig.wav)

###
## Start here when using your own recordings

# Export a ".wav" sample for each selection made in Raven Pro
raven.to.wave(orig.wav.folder = orig.wav, wav.samples = wav.at)

# Verify samples
dir(wav.at)


#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#
#  Align acoustic units using align.wave  #
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#

# Place sounds at the beginning of a sound window
align.wave(wav.at=wav.at, wav.to="Aligned",
          time.length = 0.8, time.perc = 0.005, dBlevel = 25)

# Verify alignment using analysis.type = "twoDshape"
eigensound(analysis.type = "twoDshape", wav.at = file.path(wav.at, "Aligned"),
          dBlevel = 25, store.at=store.at, plot.exp=TRUE,
          flim=c(0, 4), tlim=c(0, 0.8), add.contour = TRUE)
# Go to folder specified by store.at and check jpeg files created
# If alignment/window dimensions are not ideal, repeat the process with new settings



</code></pre>


</div>