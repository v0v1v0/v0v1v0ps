<div class="container">

<table style="width: 100%;"><tr>
<td>request</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Perform an HTTP request
</h2>

<h3>Description</h3>

<p>A function to perform an HTTP request to <em><a href="https://sciencedata.dk">https://sciencedata.dk</a></em> or other server.
</p>


<h3>Usage</h3>

<pre><code class="language-R">request(file, URL = "https://sciencedata.dk", method = c("GET", "POST", "PUT", "DELETE"), 
        anonymous = FALSE, cred = NULL, path = "/files", subdomain = NULL, force = FALSE, 
        rm.file, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>

<p>the requested file
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>URL</code></td>
<td>

<p>protocol and domain of the url
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>

<p>the http verb for the object
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anonymous</code></td>
<td>

<p>unauthenticated user?
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cred</code></td>
<td>

<p>vector with username and password as authentication credentials
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>

<p>path to add to the url (optional)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subdomain</code></td>
<td>

<p>subdomain to add to the url (optional)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force</code></td>
<td>

<p>force remote file overwriting? (optional and logical)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rm.file</code></td>
<td>

<p>remove file in local machine? (optional and logical)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>further parameters if required
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>request</code> is an HTTP request, first aimed to interact with DEiC's (Danish e-Infrastructure Cooperation) RESTful APIs at 
<em><a href="https://sciencedata.dk">https://sciencedata.dk</a></em>; however, it is possible to specify the URL path and subdomain if necessary. 
</p>
<p>DEiC's <em><a href="https://sciencedata.dk">https://sciencedata.dk</a></em> servers have different types of folders and both <em>personal</em> and <em>shared</em> 
folders require authentication with credentials.
</p>
<p>The <em>path</em> to the shared folders where the files are located must be specified with the <code>path</code> argument. 
However, for personal folders the <code>file</code> argument that includes the path information. Many times, DEiC's <em><a href="https://sciencedata.dk">https://sciencedata.dk</a></em> places the data on a <em>subdomain</em>, and for some methods like <code>PUT</code> it is required to specify the subdomain as well.
</p>
<p>When a file already exists on the remote server, there is a prompt question for overwriting the file when the <code>PUT</code> method is invoked, and by activating argument <code>force</code> we can prevent confirmation and replace the file.
Method <code>POST</code> is not yet supported.
</p>
<p>In case that accessing the server requires basic authentication, then package "<code>tcltk</code>" is required to input the credentials with a widget prompt. 
However, there is a <code>cred</code> argument for performing a basic authentication without a prompt, and public folders 
can be accessed without credentials with the option of <code>anonymous</code> user.
</p>


<h3>Value</h3>

<p>Depends on the method, an action on the server site. 
</p>
<p>A <em>Response</em> message is returned when the method is <code>PUT</code> with the URL and items <code>Date</code>, <code>Status</code>, <code>Content-Type</code>. 
</p>


<h3>Note</h3>

<p>This function requires "<code>httr</code>", and aliases for <code>request</code> are <code>sddk()</code> and <code>SDDK()</code>.
</p>


<h3>Author(s)</h3>

<p>Antonio Rivero Ostoic
</p>


<h3>References</h3>

<p>https://sciencedata.dk/sites/developer/ (retrieved on January 2020)
</p>
<p><a href="https://sciencedata.dk">https://sciencedata.dk</a>
</p>
<p><a href="https://www.deic.dk/">https://www.deic.dk/</a>
</p>


<h3>See Also</h3>

<p><code>httr</code>, <code>tcltk</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## get a public file from remote server as anonymous user
## Not run: 
request("filename.extension", method="GET", anonymous=TRUE)
## End(Not run)

## put a file in remote server
## Not run: 
request("filename.extension", method="PUT")
## End(Not run)

## put an existing file in remote server and force overwriting
## Not run: 
request("filename.extension", method="PUT", force=TRUE)
## End(Not run)

## put an existing file in remote server and remove file from local machine
## Not run: 
request("filename.extension", method="PUT", rm.file=TRUE)
## End(Not run)


## remove a file in remote server
## Not run: 
request("filename.extension", method="DELETE")
## End(Not run)

</code></pre>


</div>