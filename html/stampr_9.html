<div class="container">

<table style="width: 100%;"><tr>
<td>stamp.direction</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform polygon directional analysis</h2>

<h3>Description</h3>

<p><code>stamp.direction</code> facilitates polygon directional analysis using a variety of methods.
</p>


<h3>Usage</h3>

<pre><code class="language-R">stamp.direction(stmp, dir.mode = "CentroidAngle", ndir = 4, group = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>stmp</code></td>
<td>
<p>a <code>sf</code> object generated from the <code>stamp</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir.mode</code></td>
<td>
<p>a character item identifying which directional relations method is to be used. See <b>Details</b>
for information on each individual method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ndir</code></td>
<td>
<p>(optional) parameter identifying the number of directions to be computed. See individual method
<b>Details</b> for appropriate usage.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>(optional) a logical value identifying whether direction should be computed on groups or individual
event polygons (only used with <code>CentroidAngle</code> method).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>stamp.direction</code> function can be used to facilitate directional analysis on output
<code>stamp.obj</code> objects from function <code>stamp</code>. Currently, four directional analysis methods
are available:  
</p>

<ul>
<li> <p><code>"CentroidAngle"</code> – The centroid angle is simply the angle between the centroids of two polygons.
The centroid angle method is computed on STAMP objects by first grouping all T1 polygons (by STAMP group)
and computing their centroid. Then, the angle from each T1 group centroid, to the centroid of each STAMP event
within the group is calculated. Centroid angles are recorded in degrees, with North having a value of 0, East
90, and so on. <code>"CentroidAngle"</code> ignores the <code>ndir</code> parameter.
</p>
</li>
<li> <p><code>"ConeModel"</code> – The cone model method calculates areas of STAMP event polygons within cones radiating from
the centroid of the origin polygon.  The cone model method first computes the centroid of all T1 polygons in a STAMP grouping. It then
computes <code>ndir</code> equally spaced cones radiating outward from the T1 centroid. The first cone is always
centered on North, but there can be any number of cones. The area of each STAMP event, in each cone (specifying direction),
is then calculated. See Peuquet and Zhang (1987) for more detailed information
</p>
</li>
<li> <p><code>"MBRModel"</code> –   The minimum bounding rectangle (MBR) method first computes the MBR for all T1 events
in a STAMP grouping. Then the lines of four edges of the MBR are extended outwards to infinity creating
sections for the eight cardinal directions around the MBR, along with the MBR itself. The area
of each stamp event within each of the nine sections is then computed. See Skiadopoulos et al. (2005) for
more detailed information. <code>"MBRModel"</code> ignores the <code>ndir</code> parameter.
</p>
</li>
<li> <p><code>"ModConeModel"</code> – The modified cone model first computes the centroid of the T1 events.
Then <code>ndir = 4 or 8</code> cones are created outward from this centroid to the minimum bounding rectangle
of the entire grouping. As described by Robertson et al. (2007) this approach is more accommodating
to polygon groups that are irregular in size or shape. The modified cone model method first computes the centroid of all T1 polygons in a STAMP grouping.
It then computes the bounding box of ALL events in a STAMP grouping. Then, <code>ndir=4</code> or <code>8</code>
cones are computed. In the case of <code>ndir=4</code>, cones radiate from the T1 centroid to the four
corners of the bounding box. The result of the modified cone model method is that the cones
are not equally spaced, but tailored to the individual STAMP groupings shape. See Robertson et al.
(2007) for more detailed information. NOTE: This function has been altered slightly as of stampr v 0.3.
</p>
</li>
</ul>
<p>As of V 0.3 all operations are conducted using sf object classes, all directional (azimuth) and area calculations use WGS84.
</p>


<h3>Value</h3>

<p>Appends the input <code>stamp</code> object with appropriate columns for the directional analysis chosen, if
<code>dir.mode</code> is:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>"CentroidAngle"</code></td>
<td>
<p>A single column with centroid angle results, in degrees (North = 0 degrees). If
<code>group=TRUE</code> then values are identical for all event polygons in the group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>"ConeModel"</code></td>
<td>
<p><code>ndir</code> new columns with the area (m2) of the STAMP event in each direction,
named appropriately (e.g., as <code>DIR45</code>, where 45 refers to the mid-point of that directional cone).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>"MBRModel"</code></td>
<td>
<p>9 new columns with the area (m2) of the STAMP event in each direction,
named appropriately as, for example, "MBR_SW","MBR_S",... etc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>"ModConeModel"</code></td>
<td>
<p><code>ndir</code> new columns  with the area (m2) of the STAMP event in each direction,
named appropriately as, for example, "MC4_N","MC8_SE", ... etc.</p>
</td>
</tr>
</table>
<p>Note: STAMP events that are singular (i.e., only 1 polygon in the group)
will have <code>NA</code>'s from directional analysis.
</p>


<h3>References</h3>

<p>Robertson, C., Nelson, T., Boots, B., and Wulder, M. (2007) STAMP: Spatial-temporal analysis of moving polygons.
<em>Journal of Geographical Systems</em>, 9:207-227. <br><br>
Peuquet, D., Zhang, C.X. (1987) An algorithm to determine the directional relationship between arbitrarily-shaped
polygons in the plane. <em>Pattern Recognition</em>, 20:65-74. <br><br>
Skiadopoulos, S. Giannoukos, C., Sarkas, N., Vassiliadis, P., Sellis, T., and Koubarakis, M. (2005) Computing and
managing directional relations. <em>IEEE Transactions on Knowledge and Data Engineering</em>, 17:1610-1623.
</p>


<h3>See Also</h3>

<p>stamp stamp.distance
</p>


</div>