<div class="container">

<table style="width: 100%;"><tr>
<td>deriveDatetag</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Derive datetag from deposition dates in simulated profiles</h2>

<h3>Description</h3>

<p>This routine derives the datetags of simulated snow profile layers from deposition dates. Datetags usually are deposition dates
for crust layers, and burial dates for other weak layers (e.g., SH, FC). If no datetags can be derived, a datetag column of NAs will
nevertheless be added to the snowprofile layers. The routine also adds a <code>bdate</code> column for burial dates that are calculated along the way.
</p>


<h3>Usage</h3>

<pre><code class="language-R">deriveDatetag(x, adjust_bdates = TRUE, ...)

## S3 method for class 'snowprofileSet'
deriveDatetag(x, adjust_bdates = TRUE, ...)

## S3 method for class 'snowprofile'
deriveDatetag(x, adjust_bdates = TRUE, ...)

## S3 method for class 'snowprofileLayers'
deriveDatetag(x, adjust_bdates = TRUE, checkMonotonicity = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a snowprofileSet, snowprofile or snowprofileLayers object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjust_bdates</code></td>
<td>
<p>boolean switch to compute bdates similar to human interpretation. see Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>passed on to subsequent methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checkMonotonicity</code></td>
<td>
<p>check ascending order of layers. This acts as a check for whether multiple layers objects are stacked, which is not allowed.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>bdate</code>s are computed by taking the <code>ddate</code> of the overlying layer. For snowpack simulations with thin layer
resolution, this approach yields very similar <code>ddate</code>s and <code>bdate</code>s for most layers, since most layers form and
instantly get buried by another layer of the same storm. To make <code>bdate</code>s more similar to human interpretation,
<code>bdate</code>s can be adjusted, so that (similar) layers with the same <code>ddate</code> (i.e., same storm) inherit the same <code>bdate</code>
(similar means: identical gtype &amp; hardness).
</p>


<h3>Value</h3>

<p>The input object will be returned with the columns <code>datetag</code> and <code>bdate</code> added to the profile layers
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>deriveDatetag(snowprofileSet)</code>: for snowprofileSets
</p>
</li>
<li> <p><code>deriveDatetag(snowprofile)</code>: for snowprofiles
</p>
</li>
<li> <p><code>deriveDatetag(snowprofileLayers)</code>: for snowprofileLayers
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>fherla
</p>


<h3>Examples</h3>

<pre><code class="language-R">## This is not the most meaningful example, but it nicely illustrates the routine:
print(SPpairs$A_manual)

(A_addedDatetags &lt;- deriveDatetag(SPpairs$A_manual))

</code></pre>


</div>