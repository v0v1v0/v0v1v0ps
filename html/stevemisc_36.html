<div class="container">

<table style="width: 100%;"><tr>
<td>ps_spells</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create "spells" by cross-sectional unit, even more generally</h2>

<h3>Description</h3>

<p><code>ps_spells()</code> allows you to create spells ("peace years" in
the international conflict context) between observations of some event. This
will allow the researcher to better model temporal dependence in binary time-series
cross-section ("BTSCS") models. The function is one of three in this package, and the contents
of this function are partly ported from the <code>add_duration()</code> function in the <span class="pkg">spduration</span>
package. That function, unlike the other two I offer here, works much better where panels are decidedly
imbalanced.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ps_spells(data, event, tvar, csunit, time_type = "year", ongoing = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>the data set with which you are working</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event</code></td>
<td>
<p>some event (0, 1) for which you want spells</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tvar</code></td>
<td>
<p>the time variable (e.g. a year)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>csunit</code></td>
<td>
<p>the cross-sectional unit (e.g. a dyad or leader)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_type</code></td>
<td>
<p>what type of time-unit are the data? Right now, this will only work with years but support for months and days are forthcoming. Don't do anything with this argument just yet.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ongoing</code></td>
<td>
<p>If <code>TRUE</code>, successive 1s are considered ongoing events
and treated as <code>NA</code> after the first 1. If <code>FALSE</code>, successive 1s
are all treated as failures. Defaults to <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is derived from <code>add_duration()</code>  in the <span class="pkg">spduration</span>
package. See documentation there for more information. I thank Andreas Beger for the blessing to port parts of
it here.
</p>


<h3>Value</h3>

<p><code>ps_spells()</code> takes a data frame and returns the data frame with a new variable
named <code>spell</code>.
</p>


<h3>Author(s)</h3>

<p>Andreas Beger, Steven V. Miller
</p>


<h3>References</h3>

<p>Beger, Andreas, Daina Chiba, Daniel W. Hill, Jr, Nils W. Metternich, Shahryar Minhas and Michael D. Ward. 2018.
“<span class="pkg">spduration</span>: Split-Population and Duration (Cure) Regression.” <em>R package version 0.17.1</em>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
One &lt;- ps_btscs(usa_mids, midongoing, year, dyad)
Two &lt;- ps_spells(usa_mids, midongoing, year, dyad)
identical(One, Two)


</code></pre>


</div>