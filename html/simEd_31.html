<div class="container">

<table style="width: 100%;"><tr>
<td>ssqvis</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Single-Server Queue Simulation Visualization</h2>

<h3>Description</h3>

<p>A modified ssq implementation that illustrates event-driven
details, including the event calendar, inversion for interarrival and service
time variate generation, the simulation clock, the status of the queueing
system, and statistics collection. The function plots step-by-step in either
an interactive mode or time-delayed automatic mode.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ssqvis(
  maxArrivals = Inf,
  seed = NA,
  interarrivalType = "M",
  serviceType = "M",
  maxTime = Inf,
  maxDepartures = Inf,
  maxEventsPerSkyline = 15,
  saveAllStats = FALSE,
  saveInterarrivalTimes = FALSE,
  saveServiceTimes = FALSE,
  saveWaitTimes = FALSE,
  saveSojournTimes = FALSE,
  saveNumInQueue = FALSE,
  saveNumInSystem = FALSE,
  saveServerStatus = FALSE,
  showOutput = TRUE,
  showSkyline = NULL,
  showSkylineQueue = TRUE,
  showSkylineSystem = TRUE,
  showSkylineServer = TRUE,
  showTitle = TRUE,
  jobImage = NA,
  plotDelay = -1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>maxArrivals</code></td>
<td>
<p>maximum number of customer arrivals allowed to enter the system</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>initial seed to the random number generator (NA uses current state of
random number generator; NULL seeds using system clock)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interarrivalType</code></td>
<td>
<p>string representation of desired interarrival process.
Options are "M" – exponential with rate 1;
"G" – uniform(0,2), having mean 1; and "D" – deterministic with
constant value 1.  Default is "M".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>serviceType</code></td>
<td>
<p>string representation of desired service process .
Options are "M" – exponential with rate 10/9;
"G" – uniform(0, 1.8), having mean 9/10; and "D" –
deterministic with constant value 9/10.  Default is "M".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxTime</code></td>
<td>
<p>maximum time to simulate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxDepartures</code></td>
<td>
<p>maximum number of customer departures to process</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxEventsPerSkyline</code></td>
<td>
<p>maximum number of events viewable at a time in the skyline plot.
A large value for this parameter may result in plotting delays.
This parameter does not impact the final plotting, which will show all
end-of-simulation results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>saveAllStats</code></td>
<td>
<p>if <code>TRUE</code>, returns all vectors of statistics (see below)
collected by the simulation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>saveInterarrivalTimes</code></td>
<td>
<p>if <code>TRUE</code>, returns a vector of all interarrival times generated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>saveServiceTimes</code></td>
<td>
<p>if <code>TRUE</code>, returns a vector of all service times generated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>saveWaitTimes</code></td>
<td>
<p>if <code>TRUE</code>, returns a vector of all wait times (in the queue) generated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>saveSojournTimes</code></td>
<td>
<p>if <code>TRUE</code>, returns a vector of all sojourn times (time spent in the system)
generated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>saveNumInQueue</code></td>
<td>
<p>if <code>TRUE</code>, returns a vector of times and a vector of counts for whenever
the number in the queue changes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>saveNumInSystem</code></td>
<td>
<p>if <code>TRUE</code>, returns a vector of times and a vector of counts for whenever
the number in the system changes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>saveServerStatus</code></td>
<td>
<p>if <code>TRUE</code>, returns a vector of times and a vector of
server status (0:idle, 1:busy) for whenever the status changes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showOutput</code></td>
<td>
<p>if <code>TRUE</code>, displays summary statistics upon completion</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showSkyline</code></td>
<td>
<p>If <code>NULL</code> (default), defers to each individual showSkyline...
parameter below; otherwise, supersedes individual showSkyline...
parameter values.
If <code>TRUE</code>, displays full skyline plot; <code>FALSE</code> suppresses
skyline plot. Can alternatively be specified using chmod-like octal
component specification: use 1, 2, 4 for system, queue, and server
respectively, summing to indicate desired combination (e.g., 7 for all).
Can also be specified as a binary vector (e.g., c(1,1,1) for all).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showSkylineQueue</code></td>
<td>
<p>logical; if <code>TRUE</code>, includes number in queue
as part of skyline plot.  Value for <code>showSkyline</code>
supersedes this parameter's value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showSkylineSystem</code></td>
<td>
<p>logical; if <code>TRUE</code>, includes number in system
as part of skyline plot.  Value for <code>showSkyline</code>
supersedes this parameter's value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showSkylineServer</code></td>
<td>
<p>logical; if <code>TRUE</code>, includes number in server
as part of skyline plot.  Value for <code>showSkyline</code>
supersedes this parameter's value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showTitle</code></td>
<td>
<p>if <code>TRUE</code>, display title at the top of the main plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jobImage</code></td>
<td>
<p>a vector of URLs/local addresses of images to use as jobs. Requires
package <code>'magick'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotDelay</code></td>
<td>
<p>a positive numeric value indicating seconds between plots.
A value of -1 enters 'interactive' mode, where the state will pause
for user input at each step.  A value of 0 will display only the final
end-of-simulation plot.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Animates the details of an event-driven implementation of a single-server
queue simulation.
</p>
<p>The event calendar, inversion for interarrival and service time variates,
and an abbreviated (current) timeline are animated in the top pane of the
window.  In this pane, blue corresponds to the arrival process, orange
corresponds to the service process, and purple corresponds to uniform
variates used in inversion.  Yellow is used to highlight recent updates.
</p>
<p>The state of the queueing system is animated in the middle pane of the
window.  In this pane, red indicates an idle server, orange indicates that
a new customer has just arrived to the server and a corresponding service
time is being generated, and green indicates a busy server.  By default,
customers are depicted as black rectangles and identified by increasing
arrival number, but this depiction can be overridden by the <code>jobImage</code>
parameter.
</p>
<p>Statistics are displayed in the bottom pane of the window.  Time-persistent
statistics are shown as "skyline functions" in the left portion of this
pane.  Both time-persistent and based-on-observation statistics are shown
in respective tables in the right portion of this pane. In the tables,
yellow is used to highlight recent updates.
</p>
<p>The <code>seed</code> parameter can take one of three valid
argument types:
</p>

<ul>
<li> <p><code>NA</code> (default), which will use the current state of the random
number generator without explicitly setting a new seed (see examples);
</p>
</li>
<li>
<p> a positive integer, which will be used as the initial seed passed in
an explicit call to <code>set.seed</code>; or
</p>
</li>
<li> <p><code>NULL</code>, which will be passed in an explicit call to to
<code>set.seed</code>, thereby setting the initial seed using the
system clock.
</p>
</li>
</ul>
<h3>Value</h3>

<p>The function returns a list containing:
</p>

<ul>
<li>
<p> the number of arrivals to the system (<code>customerArrivals</code>),
</p>
</li>
<li>
<p> the number of customers processed (<code>customerDepartures</code>),
</p>
</li>
<li>
<p> the ending time of the simulation (<code>simulationEndTime</code>),
</p>
</li>
<li>
<p> average wait time in the queue (<code>avgWait</code>),
</p>
</li>
<li>
<p> average time in the system (<code>avgSojourn</code>),
</p>
</li>
<li>
<p> average number in the system (<code>avgNumInSystem</code>),
</p>
</li>
<li>
<p> average number in the queue (<code>avgNumInQueue</code>), and
</p>
</li>
<li>
<p> server utilization (<code>utilization</code>).
</p>
</li>
</ul>
<p>of the queue as computed by the simulation.
When requested via the “save...” parameters, the list may also contain:
</p>

<ul>
<li>
<p> a vector of interarrival times (<code>interarrivalTimes</code>),
</p>
</li>
<li>
<p> a vector of wait times (<code>waitTimes</code>),
</p>
</li>
<li>
<p> a vector of service times (<code>serviceTimes</code>),
</p>
</li>
<li>
<p> a vector of sojourn times (<code>sojournTimes</code>),
</p>
</li>
<li>
<p> two vectors (time and count) noting changes to number in the system
(<code>numInSystemT</code>, <code>numInSystemN</code>),
</p>
</li>
<li>
<p> two vectors (time and count) noting changes to number in the queue
(<code>numInQueueT</code>, <code>numInQueueN</code>), and
</p>
</li>
<li>
<p> two vectors (time and status) noting changes to server status
(<code>serverStatusT</code>, <code>serverStatusN</code>).
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Barry Lawson (<a href="mailto:blawson@bates.edu">blawson@bates.edu</a>), <br>
Larry Leemis (<a href="mailto:leemis@math.wm.edu">leemis@math.wm.edu</a>), <br>
Vadim Kudlay (<a href="mailto:vkudlay@nvidia.com">vkudlay@nvidia.com</a>)
</p>


<h3>See Also</h3>

<p><code>rstream</code>, <code>set.seed</code>,
<code>stats::runif</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
 # Visualizing ssq with a set seed, infinite queue capacity, 4 arrivals,
 # and showing skyline with number in system, queue, and server.
 ssqvis(seed = 1234, maxArrivals = 4, showSkyline = 7, plotDelay = 0.01)

</code></pre>


</div>