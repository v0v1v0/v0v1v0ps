<div class="container">

<table style="width: 100%;"><tr>
<td>stabilityIntersectionMBM</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Stability Measure Adjusted Intersection MBM</h2>

<h3>Description</h3>

<p>The stability of feature selection is defined as the robustness of
the sets of selected features with respect to small variations in the data on which the
feature selection is conducted. To quantify stability, several datasets from the
same data generating process can be used. Alternatively, a single dataset can be
split into parts by resampling. Either way, all datasets used for feature selection must
contain exactly the same features. The feature selection method of interest is
applied on all of the datasets and the sets of chosen features are recorded.
The stability of the feature selection is assessed based on the sets of chosen features
using stability measures.
</p>


<h3>Usage</h3>

<pre><code class="language-R">stabilityIntersectionMBM(
  features,
  sim.mat,
  threshold = 0.9,
  correction.for.chance = "estimate",
  N = 10000,
  impute.na = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>features</code></td>
<td>
<p><code>list (length &gt;= 2)</code><br>
Chosen features per dataset. Each element of the list contains the features for one dataset.
The features must be given by their names (<code>character</code>) or indices (<code>integerish</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sim.mat</code></td>
<td>
<p><code>numeric matrix</code><br>
Similarity matrix which contains the similarity structure of all features based on
all datasets. The similarity values must be in the range of [0, 1] where 0 indicates
very low similarity and 1 indicates very high similarity. If the list elements of
<code>features</code> are integerish vectors, then the feature numbering must correspond to the
ordering of <code>sim.mat</code>. If the list elements of <code>features</code> are character
vectors, then <code>sim.mat</code> must be named and the names of <code>sim.mat</code> must correspond
to the entries in <code>features</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p><code>numeric(1)</code><br>
Threshold for indicating which features are similar and which are not. Two features
are considered as similar, if and only if the corresponding entry of <code>sim.mat</code> is greater
than or equal to <code>threshold</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correction.for.chance</code></td>
<td>
<p><code>character(1)</code><br>
How should the expected value of the stability score (see Details)
be assessed? Options are "estimate", "exact" and "none".
For "estimate", <code>N</code> random feature sets of the same sizes as the input feature
sets (<code>features</code>) are generated.
For "exact", all possible combinations of feature sets of the same
sizes as the input feature sets are used. Computation is only feasible for very
small numbers of features and numbers of considered datasets (<code>length(features)</code>).
For "none", the transformation <code class="reqn">(score - expected) / (maximum - expected)</code>
is not conducted, i.e. only <code class="reqn">score</code> is used.
This is not recommended.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p><code>numeric(1)</code><br>
Number of random feature sets to consider. Only relevant if <code>correction.for.chance</code>
is set to "estimate".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>impute.na</code></td>
<td>
<p><code>numeric(1)</code><br>
In some scenarios, the stability cannot be assessed based on all feature sets.
E.g. if some of the feature sets are empty, the respective pairwise comparisons yield NA as result.
With which value should these missing values be imputed? <code>NULL</code> means no imputation.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The stability measure is defined as (see Notation)
</p>
<p style="text-align: center;"><code class="reqn">\frac{2}{m(m-1)}\sum_{i=1}^{m-1} \sum_{j=i+1}^{m}
\frac{I(V_i, V_j) - E(I(V_i, V_j))}{\sqrt{|V_i| \cdot |V_j|} - E(I(V_i, V_j))}</code>
</p>

<p>with </p>
<p style="text-align: center;"><code class="reqn">I(V_i, V_j) = |V_i \cap V_j| + \mathop{\mathrm{MBM}}(V_i \setminus V_j, V_j \backslash V_i).</code>
</p>

<p><code class="reqn">\mathop{\mathrm{MBM}}(V_i \setminus V_j, V_j \backslash V_i)</code> denotes the size of the
maximum bipartite matching based on the graph whose vertices are the features
of <code class="reqn">V_i \setminus V_j</code> on the one side and the features of <code class="reqn">V_j \backslash V_i</code>
on the other side. Vertices x and y are connected if and only if <code class="reqn">\mathrm{Similarity}(x, y)
\geq \mathrm{threshold}.</code>
Requires the package <a href="https://CRAN.R-project.org/package=igraph"><span class="pkg">igraph</span></a>.
</p>


<h3>Value</h3>

<p><code>numeric(1)</code> Stability value.
</p>


<h3>Notation</h3>

<p>For the definition of all stability measures in this package,
the following notation is used:
Let <code class="reqn">V_1, \ldots, V_m</code> denote the sets of chosen features
for the <code class="reqn">m</code> datasets, i.e. <code>features</code> has length <code class="reqn">m</code> and
<code class="reqn">V_i</code> is a set which contains the <code class="reqn">i</code>-th entry of <code>features</code>.
Furthermore, let <code class="reqn">h_j</code> denote the number of sets that contain feature
<code class="reqn">X_j</code> so that <code class="reqn">h_j</code> is the absolute frequency with which feature <code class="reqn">X_j</code>
is chosen.
Analogously, let <code class="reqn">h_{ij}</code> denote the number of sets that include both <code class="reqn">X_i</code> and <code class="reqn">X_j</code>.
Also, let <code class="reqn">q = \sum_{j=1}^p h_j = \sum_{i=1}^m |V_i|</code> and <code class="reqn">V = \bigcup_{i=1}^m V_i</code>.
</p>


<h3>References</h3>

<p>Bommert A, Rahnenführer J (2020).
“Adjusted Measures for Feature Selection Stability for Data Sets with Similar Features.”
In <em>Machine Learning, Optimization, and Data Science</em>, 203–214.
<a href="https://doi.org/10.1007/978-3-030-64583-0_19">doi:10.1007/978-3-030-64583-0_19</a>.
</p>
<p>Bommert A (2020).
<em>Integration of Feature Selection Stability in Model Fitting</em>.
Ph.D. thesis, TU Dortmund University, Germany.
<a href="https://doi.org/10.17877/DE290R-21906">doi:10.17877/DE290R-21906</a>.
</p>


<h3>See Also</h3>

<p>listStabilityMeasures
</p>


<h3>Examples</h3>

<pre><code class="language-R">feats = list(1:3, 1:4, 1:5)
mat = 0.92 ^ abs(outer(1:10, 1:10, "-"))
stabilityIntersectionMBM(features = feats, sim.mat = mat, N = 1000)
</code></pre>


</div>