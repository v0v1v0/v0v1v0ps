<div class="container">

<table style="width: 100%;"><tr>
<td>Request</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class Request.</h2>

<h3>Description</h3>

<p>Class Request.
</p>
<p>Class Request.
</p>


<h3>Details</h3>

<p>This class represents a Request object that can be used with the Request
Scheduler.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Request-new"><code>Request$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Request-getUrl"><code>Request$getUrl()</code></a>
</p>
</li>
<li> <p><a href="#method-Request-getMethod"><code>Request$getMethod()</code></a>
</p>
</li>
<li> <p><a href="#method-Request-getEncoding"><code>Request$getEncoding()</code></a>
</p>
</li>
<li> <p><a href="#method-Request-getCurlOptions"><code>Request$getCurlOptions()</code></a>
</p>
</li>
<li> <p><a href="#method-Request-getUniqueKey"><code>Request$getUniqueKey()</code></a>
</p>
</li>
<li> <p><a href="#method-Request-getHeaderAsSingleString"><code>Request$getHeaderAsSingleString()</code></a>
</p>
</li>
<li> <p><a href="#method-Request-getBody"><code>Request$getBody()</code></a>
</p>
</li>
<li> <p><a href="#method-Request-print"><code>Request$print()</code></a>
</p>
</li>
<li> <p><a href="#method-Request-toString"><code>Request$toString()</code></a>
</p>
</li>
<li> <p><a href="#method-Request-clone"><code>Request$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-Request-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Initializer.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$new(
  url,
  method = c("get", "post"),
  header = NULL,
  body = NULL,
  encoding = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>url</code></dt>
<dd>
<p>A <code>sched::URL</code> object.</p>
</dd>
<dt><code>method</code></dt>
<dd>
<p>HTTP method. Either "get" or "post".</p>
</dd>
<dt><code>header</code></dt>
<dd>
<p>The header of the POST method as a named character vector.
The names are the fields of the header.</p>
</dd>
<dt><code>body</code></dt>
<dd>
<p>The body as a character single value.</p>
</dd>
<dt><code>encoding</code></dt>
<dd>
<p>The encoding to use. A valid integer or string as
required by RCurl.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>Nothing.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Create a GET request for the getCompleteEntity webservice of ChEBI
# database
request &lt;- sched::Request$new(
  sched::URL$new(
    'https://www.ebi.ac.uk/webservices/chebi/2.0/test/getCompleteEntity',
    params=c(chebiId=15440)))

# Create a POST Request object for the records-batch-post webservice of
# ChemSpider database
request &lt;- sched::Request$new(
  url=sched::URL$new(c('https://api.rsc.org/compounds/v1/', 'records',
                       'batch')),
  method='post', header=c('Content-Type'="", apikey='my-token'),
  body='{"recordIds": [2], "fields": ["SMILES","Formula","InChI"]}')

</pre>
</div>


<hr>
<a id="method-Request-getUrl"></a>



<h4>Method <code>getUrl()</code>
</h4>

<p>Gets the URL.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$getUrl()</pre></div>



<h5>Returns</h5>

<p>The URL of this Request object as a sched::URL object.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Create a GET request
request &lt;- sched::Request$new(sched::URL$new('https://peakforest.org/'))

# Get the stored URL object
print(request$getUrl())
</pre>
</div>


<hr>
<a id="method-Request-getMethod"></a>



<h4>Method <code>getMethod()</code>
</h4>

<p>Gets the method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$getMethod()</pre></div>



<h5>Returns</h5>

<p>The method as a character value.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Create a GET request
request &lt;- sched::Request$new(sched::URL$new('https://peakforest.org/'))

# Get the stored method
print(request$getMethod())
</pre>
</div>


<hr>
<a id="method-Request-getEncoding"></a>



<h4>Method <code>getEncoding()</code>
</h4>

<p>Gets the encoding.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$getEncoding()</pre></div>



<h5>Returns</h5>

<p>The encoding.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Create a GET request
request &lt;- sched::Request$new(sched::URL$new('https://my.site.fr/'),
                              encoding='UTF-8')

# Get the stored encoding
print(request$getEncoding())
</pre>
</div>


<hr>
<a id="method-Request-getCurlOptions"></a>



<h4>Method <code>getCurlOptions()</code>
</h4>

<p>Gets the options object to pass to cURL library.
</p>
<p>Make a RCurl::CURLOptions object by calling RCurl::curlOptions()
function. Useragent, header and body are passed as options if not NULL.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$getCurlOptions(useragent = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>useragent</code></dt>
<dd>
<p>The user agent as a character value, or NULL.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>An RCurl::CURLOptions object.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Create a POST Request object for the records-batch-post webservice of
# ChemSpider database
request &lt;- sched::Request$new(
  url=sched::URL$new(c('https://api.rsc.org/compounds/v1/', 'records',
                       'batch')),
  method='post', header=c('Content-Type'="", apikey='my-token'),
  body='{"recordIds": [2], "fields": ["SMILES","Formula","InChI"]}')

# Get the associated RCurl options object
rcurl_opts &lt;- request$getCurlOptions('myapp ; me@my.address')

</pre>
</div>


<hr>
<a id="method-Request-getUniqueKey"></a>



<h4>Method <code>getUniqueKey()</code>
</h4>

<p>Gets a unique key to identify this request.
</p>
<p>The key is an MD5 sum computed from the string representation of this
request.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$getUniqueKey()</pre></div>



<h5>Returns</h5>

<p>A unique key as an MD5 sum.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Create a GET request
request &lt;- sched::Request$new(sched::URL$new('https://peakforest.org/'))

# Get the MD5 sum of this request
print(request$getUniqueKey())

</pre>
</div>


<hr>
<a id="method-Request-getHeaderAsSingleString"></a>



<h4>Method <code>getHeaderAsSingleString()</code>
</h4>

<p>Gets the HTTP header as a string, concatenating all its information
into a single string.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$getHeaderAsSingleString()</pre></div>



<h5>Returns</h5>

<p>The header as a single character value.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Create a POST Request object for the records-batch-post webservice of
# ChemSpider database
request &lt;- sched::Request$new(
  url=sched::URL$new(c('https://api.rsc.org/compounds/v1/', 'records',
                       'batch')),
  method='post', header=c('Content-Type'="", apikey='my-token'),
  body='{"recordIds": [2], "fields": ["SMILES","Formula","InChI"]}')

# Get back the POST header as a single string
print(request$getHeaderAsSingleString())

</pre>
</div>


<hr>
<a id="method-Request-getBody"></a>



<h4>Method <code>getBody()</code>
</h4>

<p>Gets the body.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$getBody()</pre></div>



<h5>Returns</h5>

<p>The body as a single character value.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Create a POST Request object for the records-batch-post webservice of
# ChemSpider database
request &lt;- sched::Request$new(
  url=sched::URL$new(c('https://api.rsc.org/compounds/v1/', 'records',
                       'batch')),
  method='post', header=c('Content-Type'="", apikey='my-token'),
  body='{"recordIds": [2], "fields": ["SMILES","Formula","InChI"]}')

# Get back the POST body
print(request$getBody())

</pre>
</div>


<hr>
<a id="method-Request-print"></a>



<h4>Method <code>print()</code>
</h4>

<p>Displays information about this instance.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$print()</pre></div>



<h5>Returns</h5>

<p>self as invisible.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Create a GET request
request &lt;- sched::Request$new(sched::URL$new('https://peakforest.org/'))

# Print the Request object
print(request)

</pre>
</div>


<hr>
<a id="method-Request-toString"></a>



<h4>Method <code>toString()</code>
</h4>

<p>Gets a string representation of this instance.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$toString()</pre></div>



<h5>Returns</h5>

<p>A single string giving a representation of this instance.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Create a GET request
request &lt;- sched::Request$new(sched::URL$new('https://peakforest.org/'))

# Get the string representation of this request
print(request$toString())

</pre>
</div>


<hr>
<a id="method-Request-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R"># Create a GET request for the getCompleteEntity webservice of ChEBI database
request &lt;- sched::Request$new(
  sched::URL$new(
    'https://www.ebi.ac.uk/webservices/chebi/2.0/test/getCompleteEntity',
    params=c(chebiId=15440)))

# Get an MD5 key, unique to this request
key &lt;- request$getUniqueKey()

# Print the request
print(request)


## ------------------------------------------------
## Method `Request$new`
## ------------------------------------------------

# Create a GET request for the getCompleteEntity webservice of ChEBI
# database
request &lt;- sched::Request$new(
  sched::URL$new(
    'https://www.ebi.ac.uk/webservices/chebi/2.0/test/getCompleteEntity',
    params=c(chebiId=15440)))

# Create a POST Request object for the records-batch-post webservice of
# ChemSpider database
request &lt;- sched::Request$new(
  url=sched::URL$new(c('https://api.rsc.org/compounds/v1/', 'records',
                       'batch')),
  method='post', header=c('Content-Type'="", apikey='my-token'),
  body='{"recordIds": [2], "fields": ["SMILES","Formula","InChI"]}')


## ------------------------------------------------
## Method `Request$getUrl`
## ------------------------------------------------

# Create a GET request
request &lt;- sched::Request$new(sched::URL$new('https://peakforest.org/'))

# Get the stored URL object
print(request$getUrl())

## ------------------------------------------------
## Method `Request$getMethod`
## ------------------------------------------------

# Create a GET request
request &lt;- sched::Request$new(sched::URL$new('https://peakforest.org/'))

# Get the stored method
print(request$getMethod())

## ------------------------------------------------
## Method `Request$getEncoding`
## ------------------------------------------------

# Create a GET request
request &lt;- sched::Request$new(sched::URL$new('https://my.site.fr/'),
                              encoding='UTF-8')

# Get the stored encoding
print(request$getEncoding())

## ------------------------------------------------
## Method `Request$getCurlOptions`
## ------------------------------------------------

# Create a POST Request object for the records-batch-post webservice of
# ChemSpider database
request &lt;- sched::Request$new(
  url=sched::URL$new(c('https://api.rsc.org/compounds/v1/', 'records',
                       'batch')),
  method='post', header=c('Content-Type'="", apikey='my-token'),
  body='{"recordIds": [2], "fields": ["SMILES","Formula","InChI"]}')

# Get the associated RCurl options object
rcurl_opts &lt;- request$getCurlOptions('myapp ; me@my.address')


## ------------------------------------------------
## Method `Request$getUniqueKey`
## ------------------------------------------------

# Create a GET request
request &lt;- sched::Request$new(sched::URL$new('https://peakforest.org/'))

# Get the MD5 sum of this request
print(request$getUniqueKey())


## ------------------------------------------------
## Method `Request$getHeaderAsSingleString`
## ------------------------------------------------

# Create a POST Request object for the records-batch-post webservice of
# ChemSpider database
request &lt;- sched::Request$new(
  url=sched::URL$new(c('https://api.rsc.org/compounds/v1/', 'records',
                       'batch')),
  method='post', header=c('Content-Type'="", apikey='my-token'),
  body='{"recordIds": [2], "fields": ["SMILES","Formula","InChI"]}')

# Get back the POST header as a single string
print(request$getHeaderAsSingleString())


## ------------------------------------------------
## Method `Request$getBody`
## ------------------------------------------------

# Create a POST Request object for the records-batch-post webservice of
# ChemSpider database
request &lt;- sched::Request$new(
  url=sched::URL$new(c('https://api.rsc.org/compounds/v1/', 'records',
                       'batch')),
  method='post', header=c('Content-Type'="", apikey='my-token'),
  body='{"recordIds": [2], "fields": ["SMILES","Formula","InChI"]}')

# Get back the POST body
print(request$getBody())


## ------------------------------------------------
## Method `Request$print`
## ------------------------------------------------

# Create a GET request
request &lt;- sched::Request$new(sched::URL$new('https://peakforest.org/'))

# Print the Request object
print(request)


## ------------------------------------------------
## Method `Request$toString`
## ------------------------------------------------

# Create a GET request
request &lt;- sched::Request$new(sched::URL$new('https://peakforest.org/'))

# Get the string representation of this request
print(request$toString())

</code></pre>


</div>