<div class="container">

<table style="width: 100%;"><tr>
<td>withSpinner</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a spinner that shows while an output is recalculating</h2>

<h3>Description</h3>

<p>Add a spinner that automatically shows while an output is recalculating. You can also manually trigger the spinner
using <code>showSpinner()</code> and <code>hideSpinner()</code>.<br><br>
Most parameters can be set globally in order to use a default setting for all spinners in your Shiny app.
This can be done by setting an R option with the parameter's name prepended by <code>"spinner."</code>. For example, to set all spinners
to type=5 and color=#0dc5c1 by default, use <code>options(spinner.type = 5, spinner.color = "#0dc5c1")</code>. The following parameters
cannot be set globally: <code>ui_element</code>, <code>id</code>.<br><br>
Use <code>showPageSpinner()</code> to show a spinner on the entire page instead of individual outputs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">withSpinner(
  ui_element,
  type = getOption("spinner.type", default = 1),
  color = getOption("spinner.color", default = "#0275D8"),
  size = getOption("spinner.size", default = 1),
  color.background = getOption("spinner.color.background"),
  custom.css = getOption("spinner.custom.css", default = FALSE),
  proxy.height = getOption("spinner.proxy.height"),
  id = NULL,
  image = getOption("spinner.image"),
  image.width = getOption("spinner.image.width"),
  image.height = getOption("spinner.image.height"),
  hide.ui = getOption("spinner.hide.ui", default = TRUE),
  caption = getOption("spinner.caption")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ui_element</code></td>
<td>
<p>A UI element that should be wrapped with a spinner when the corresponding output is being calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The type of spinner to use. Valid values are integers between 0-8 (0 means no spinner). Check out
<a href="https://daattali.com/shiny/shinycssloaders-demo/">https://daattali.com/shiny/shinycssloaders-demo/</a> to see the different types of spinners.
You can also use your own custom image using the <code>image</code> parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>The color of the spinner in hex format. Ignored if <code>image</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>The size of the spinner, relative to its default size (default is 1, a size of 2 means twice as large).
Ignored if <code>image</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color.background</code></td>
<td>
<p>For certain spinners (type 2-3), you will need to specify the background color of the spinner.
Ignored if <code>image</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>custom.css</code></td>
<td>
<p>Set to <code>TRUE</code> if you have your own custom CSS that you defined and you don't want the automatic CSS applied to the spinner.
Ignored if <code>image</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proxy.height</code></td>
<td>
<p>If the output UI doesn't specify the output height, you can set a proxy height. It defaults to "400px"
for outputs with undefined height. Ignored if <code>hide.ui</code> is set to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>The HTML ID to use for the spinner. If you don't provide one, it will be generated automatically.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>image</code></td>
<td>
<p>The path or URL of the image to use if you want to use a custom image instead of a built-in spinner.
If <code>image</code> is provided, then <code>type</code> is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>image.width</code></td>
<td>
<p>The width for the custom image spinner, in pixels. If not provided, then the original
size of the image is used. Ignored if not using <code>image</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>image.height</code></td>
<td>
<p>The height for the custom image spinner, in pixels. If not provided, then the original
size of the image is used. Ignored if not using <code>image</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hide.ui</code></td>
<td>
<p>By default, while an output is recalculating, the output UI is hidden and the spinner is visible instead.
Setting <code>hide.ui = FALSE</code> will result in the spinner showing up on top of the previous output UI.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>caption</code></td>
<td>
<p>Caption to display below the spinner or image (text or HTML). The caption's font color is determined
by the <code>color</code> parameter. Ignored if <code>type</code> is 1.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>showSpinner()</code>, <code>hideSpinner()</code>, <code>showPageSpinner()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (interactive()) {
  library(shiny)

  shinyApp(
    ui = fluidPage(
      actionButton("go", "Go"),
      withSpinner(plotOutput("plot"))
    ),
    server = function(input, output) {
      output$plot &lt;- renderPlot({
        input$go
        Sys.sleep(1.5)
        plot(runif(10))
      })
    }
  )
}
</code></pre>


</div>