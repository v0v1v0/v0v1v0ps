<div class="container">

<table style="width: 100%;"><tr>
<td>fill_gap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add rows corresponding to gaps in some variable</h2>

<h3>Description</h3>

<p>Add rows corresponding to gaps in some variable
</p>


<h3>Usage</h3>

<pre><code class="language-R">fill_gap(
  x,
  ...,
  full = FALSE,
  roll = FALSE,
  rollends = if (roll == "nearest") c(TRUE, TRUE) else if (roll &gt;= 0) c(FALSE, TRUE) else
    c(TRUE, FALSE)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>a time variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>full</code></td>
<td>
<p>A boolean. When full = FALSE (default), the function creates rows corresponding to all missing times between the min and max of <code>...</code> within each group. When full = TRUE, the function creates rows corresponding to all missing times between the min and max of <code>...</code> in the whole dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>roll</code></td>
<td>
<p>When roll is a positive number, values are carried forward. roll=TRUE is equivalent to roll=+Inf. When roll is a negative number, values are rolled backwards; i.e., next observation carried backwards (NOCB). Use -Inf for unlimited roll back. When roll is "nearest", the nearest value is used. Default to FALSE (no rolling)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rollends</code></td>
<td>
<p>A logical vector length 2 (a single logical is recycled). When rolling forward (e.g. roll=TRUE) if a value is past the last observation within each group defined by the join columns, rollends[2]=TRUE will roll the last value forwards. rollends[1]=TRUE will roll the first value backwards if the value is before it. If rollends=FALSE the value of i must fall in a gap in x but not after the end or before the beginning of the data, for that group defined by all but the last join column. When roll is a finite number, that limit is also applied when rolling the end</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)
library(lubridate)
df &lt;- tibble(
    id    = c(1, 1, 1, 1),
    datem  = as.monthly(mdy(c("01/01/1992", "02/01/1992", "04/01/1992", "7/11/1992"))),
    value = c(4.1, 4.5, 3.3, 3.2)
)
df %&gt;% group_by(id) %&gt;% fill_gap(datem)
df %&gt;% group_by(id) %&gt;% fill_gap(datem, roll = 1)
df %&gt;% group_by(id) %&gt;% fill_gap(datem, roll = "nearest")
df %&gt;% group_by(id) %&gt;% fill_gap(datem, roll = "nearest", full = TRUE)
</code></pre>


</div>