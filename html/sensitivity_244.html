<div class="container">

<table style="width: 100%;"><tr>
<td>template.replace</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Replace Values in a Template Text</h2>

<h3>Description</h3>

<p><code>template.replace</code> replaces keys within special markups with
values in a so-called template file. Pieces of <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> code can be put into
the markups of the template file, and are evaluated during the
replacement.
</p>


<h3>Usage</h3>

<pre><code class="language-R">template.replace(text, replacement, eval = FALSE,
                 key.pattern = NULL, code.pattern = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>text</code></td>
<td>
<p>vector of character strings, the template text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replacement</code></td>
<td>
<p>the list values to replace in <code>text</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eval</code></td>
<td>
<p>boolean, <code>TRUE</code> if the code within
<code>code.pattern</code> has to be evaluated, <code>FALSE</code> otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key.pattern</code></td>
<td>
<p>custom pattern for key replacement (see below)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code.pattern</code></td>
<td>
<p>custom pattern for code replacement (see below)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In most cases, a computational code reads its inputs from a text
file. A template file is like an input file, but where some missing
values, identified with generic keys, will be replaced by specific
values.
</p>
<p>By default, the keys are enclosed into markups of the form <code>$(KEY)</code>.
</p>
<p>Code to be interpreted with <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> can be put in the template text. Pieces
of code must be enclosed into markups of the form
<code>@{CODE}</code>. This is useful for example for formating the key
values (see example). For interpreting the code, set <code>eval = TRUE</code>.
</p>
<p>Users can define custom patterns. These patterns must be
perl-compatible regular expressions (see <code>regexpr</code>.
The default ones are:
</p>
<pre>key.pattern = "\\$\\(KEY\\)"
code.pattern = "@\\{CODE\\}"</pre>
<p>Note that special characters have to
be escaped both (one for perl, one for <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>).
</p>


<h3>Author(s)</h3>

<p>Gilles Pujol
</p>


<h3>Examples</h3>

<pre><code class="language-R">txt &lt;- c("Hello $(name)!", "$(a) + $(b) = @{$(a)+$(b)}",
         "pi = @{format(pi,digits=5)}")
replacement &lt;- list(name = "world", a = 1, b = 2)
# 1. without code evaluation:
txt.rpl1 &lt;- template.replace(txt, replacement)
print(txt.rpl1)
# 2. with code evalutation:
txt.rpl2 &lt;- template.replace(txt, replacement, eval = TRUE)
print(txt.rpl2)
</code></pre>


</div>