<div class="container">

<table style="width: 100%;"><tr>
<td>angle_diff</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate the angular difference between lines and a predefined bearing</h2>

<h3>Description</h3>

<p>This function was designed to find lines that are close to parallel and perpendicular
to some pre-defined route. It can return results that are absolute (contain information
on the direction of turn, i.e. + or - values for clockwise/anticlockwise),
bidirectional (which mean values greater than +/- 90 are impossible).
</p>


<h3>Usage</h3>

<pre><code class="language-R">angle_diff(l, angle, bidirectional = FALSE, absolute = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>l</code></td>
<td>
<p>A spatial lines object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>angle</code></td>
<td>
<p>an angle in degrees relative to North, with 90 being East and -90 being West.
(direction of rotation is ignored).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bidirectional</code></td>
<td>
<p>Should the result be returned in a bidirectional format?
Default is FALSE. If TRUE, the same line in the oposite direction would have the same bearing</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>absolute</code></td>
<td>
<p>If TRUE (the default) only positive values can be returned</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Building on the convention used in in the <code>bearing()</code> function from the
<code>geosphere</code> package and in many applications,
North is definied as 0, East as 90 and West as -90.
</p>


<h3>See Also</h3>

<p>Other lines: 
<code>geo_toptail()</code>,
<code>is_linepoint()</code>,
<code>line2df()</code>,
<code>line2points()</code>,
<code>line_bearing()</code>,
<code>line_breakup()</code>,
<code>line_midpoint()</code>,
<code>line_segment()</code>,
<code>line_segment1()</code>,
<code>line_via()</code>,
<code>mats2line()</code>,
<code>n_segments()</code>,
<code>n_vertices()</code>,
<code>onewaygeo()</code>,
<code>points2line()</code>,
<code>toptail_buff()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">lib_versions &lt;- sf::sf_extSoftVersion()
lib_versions
# fails on some systems (with early versions of PROJ)
if (lib_versions[3] &gt;= "6.3.1") {
  # Find all routes going North-South
  lines_sf &lt;- od2line(od_data_sample, zones = zones_sf)
  angle_diff(lines_sf[2, ], angle = 0)
  angle_diff(lines_sf[2:3, ], angle = 0)
}
</code></pre>


</div>