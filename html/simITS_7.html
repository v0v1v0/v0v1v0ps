<div class="container">

<table style="width: 100%;"><tr>
<td>extrapolate_model</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extrapolate pre-policy data to post-policy era</h2>

<h3>Description</h3>

<p>This function takes a fitted model and uses it to make the post-policy
predictions by simulating data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">extrapolate_model(
  M0,
  outcomename,
  dat,
  t0,
  R = 400,
  summarize = FALSE,
  smooth = FALSE,
  smoother = smooth_series,
  full_output = FALSE,
  fix_parameters = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>M0</code></td>
<td>
<p>The fit model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcomename</code></td>
<td>
<p>Outcome of interest (name of column)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>Dataframe with data being analyzed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t0</code></td>
<td>
<p>Last pre-policy timepoint</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>Number of replications</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summarize</code></td>
<td>
<p>Boolean, TRUE means collapse all simulated trajectories into
single aggregate. FALSE means return all paths.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p>Boolean.  TRUE means fit a smoother to the trajectories and
look at distribution of smoothed trajectories.  FALSE means look at raw
data treajectories.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smoother</code></td>
<td>
<p>Function to do smoothing, if smoothing set to TRUE.  Default
is smooth_series()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>full_output</code></td>
<td>
<p>TRUE means smoother returns residuals as well as smoothed
series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fix_parameters</code></td>
<td>
<p>Keep the parameters in the model M0 as fixed; do not
add parameter uncertainty.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra arguments to be passed to smoother (e.g, bandwidth).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Dataframe with columns corresponding to the simulations.  If
summarize=TRUE, one row per month in original data.  If FALSE, all the
details of all the runs are returned.
</p>


<h3>See Also</h3>

<p><code>process_outcome_model</code> for wrapper function for this
method that is easier to use.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("mecklenberg" )
mecklenberg = add_lagged_covariates( mecklenberg, "pbail"  )
mecklenberg.pre = dplyr::filter( mecklenberg, month &lt;= 0 )
M0 = fit_model_default( mecklenberg.pre, "pbail" )
res = extrapolate_model( M0, "pbail", mecklenberg, 0, 1,
                         smooth=TRUE)
tail( res )
</code></pre>


</div>