<div class="container">

<table style="width: 100%;"><tr>
<td>create_BLFL</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a BLFL column</h2>

<h3>Description</h3>

<p>Utilizes the BLFL method from the SDTM spec to create a baseline flag: Equal
to "Y" for last record with non-missing –ORRES on or before first dose date
(RFSTDTC); <code>NA</code> otherwise.
</p>


<h3>Usage</h3>

<pre><code class="language-R">create_BLFL(
  tbl,
  sort_date,
  domain,
  grouping_vars = "USUBJID",
  RFSTDTC = "RFSTDTC",
  compare_date_method = "on or before"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tbl</code></td>
<td>
<p>a data frame with the variables <code>USUBJID</code>, <code style="white-space: pre;">⁠[domain]ORRES⁠</code>,
<code>RFSTDTC</code>, and to column specified in the <code>sort_date</code> argument</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort_date</code></td>
<td>
<p>a string, the column name by which to sort records within
each <code>USUBJID</code> entry before assigning the BLFL value. This is also the date
compared against <code>RFSTDTC</code> to determine the BLFL value. This column should
either already have a date class or be a character vector in the format
YYYY-MM-DD</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>domain</code></td>
<td>
<p>a string, the SDTM domain abbreviation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grouping_vars</code></td>
<td>
<p>a character vector of columns to group by when assigning
the BLFL, default is <code>"USUBJID"</code>. The order of this vector matters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RFSTDTC</code></td>
<td>
<p>a string, the column to use for <code>RFSTDTC</code>, default is
<code>"RFSTDTC"</code>; this columns should either have a date class or a characer class
in the YYYY-MM-DD format</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compare_date_method</code></td>
<td>
<p>a string, one of <code>c("on or before", "before")</code>
indicating where the baseline measurement should be evaluated on or before
the study start date or just before; default is <code>"on or before"</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a modified copy of <code>tbl</code> with the new column <code style="white-space: pre;">⁠[domain]BLFL⁠</code>
</p>


<h3>See Also</h3>

<p><code>create_EPOCH()</code>, <code>calc_DY()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">df &lt;- dplyr::tibble(
  USUBJID = c(
    rep(1, 3),
    rep(2, 3)
  ),
  XXORRES = c(
    1, 2, 2,
    1, 2, NA
  ),
  XXDTC = as.Date(c(
    "2017-02-05", "2017-02-06", "2017-02-07",
    "2017-02-05", "2017-02-06", "2017-02-07"
  )),
  RFSTDTC = as.Date(c(
    rep("2017-02-05", 3),
    rep("2017-02-07", 3)
  ))
)
create_BLFL(df, sort_date = "XXDTC", domain = "XX")

</code></pre>


</div>