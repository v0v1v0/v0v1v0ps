<div class="container">

<table style="width: 100%;"><tr>
<td>soften</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a ‘soft tree’ structure with softening parameters set
using one of the named method.</h2>

<h3>Description</h3>

<p>This is a convenience method implemented over <code>softsplits</code>
and the softening functions from this package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">soften(fit, ds, method, control = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>A classification tree - either an object <code>tree</code> which represents a classification tree,
or already a ‘soft tree’ like created by the <code>softsplits</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ds</code></td>
<td>
<p>A data frame used as training data for softening</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>A name of softening method.
One of: "DR0", "DR1", "DR2", ..., "ESD", "C4.5", "optim_d", "optim_d^2", "optim_d^4", "optim_auc"
</p>
<p>The 'method = "DR<em>x</em>"' for some number <em>x</em>: The softening parameters are set
according to ‘data ranges’ appropriate to tree nodes.
The parameters are configured such that in each node the distance of the boundary of the softened area from split value is
<code class="reqn">2^{-x}r</code>, where <code class="reqn">r</code> is the distance from the split value to the furthest data point in the tree node
projected to the direction from the split value to the boundary.
</p>
<p>The 'method = "ESD"' sets boundaries of the softening using error standard deviation.
This is how C4.5 method sets "probabilistic splits"; for that reason value <code>"C4.5"</code> is an alias for <code>"ESD"</code>.
</p>
<p>The 'method = "optim_d^<em>q</em>"' for some number <em>q</em>: The softening parameters are set
by optimization process which minimizes <code class="reqn">\code{mean}((1.0-p)^q)</code> where <code class="reqn">p</code> is for each data point in 
<code>ds</code> the predicted probability of the correct label.
</p>
<p>If 'method = "optim_auc"': The classification tree <code>fit</code> must perform prediction to two classes.
The value of the ‘area under ROC curve’ computed on the data set <code>ds</code> is maximized by optimization.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>List of additional configuration paramaters. Possible members in the list are:
<code>verbosity</code>, <code>implementation</code>, <code>iteration.count</code>, <code>sft.ini</code>,
which correspond to the paramaters of <code>softening.optimized</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The ‘soft tree’ structure representing the same tree structure
as given in the parameter <code>fit</code>,
but with softening parameters set using the given method.
</p>


<h3>See Also</h3>

<p><code>predictSoftsplits</code>.
</p>


</div>