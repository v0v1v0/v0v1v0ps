<div class="container">

<table style="width: 100%;"><tr>
<td>ExtractCBComposition</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract Cell Type Composition of UCSC Cell Browser Datasets.</h2>

<h3>Description</h3>

<p>Extract Cell Type Composition of UCSC Cell Browser Datasets.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ExtractCBComposition(
  json.folder = NULL,
  sample.df = NULL,
  all.samples.df = NULL,
  collection = NULL,
  sub.collection = NULL,
  organ = NULL,
  disease = NULL,
  organism = NULL,
  project = NULL,
  fuzzy.match = TRUE,
  cell.num = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>json.folder</code></td>
<td>
<p>Folder contains datasets json files, same as <code>json.folder</code> of <code>ShowCBDatasets</code>.
Default: NULL (current working directory).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample.df</code></td>
<td>
<p>Dataframe contains used datasets. Default: NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all.samples.df</code></td>
<td>
<p>Dataframe contains all samples metadata, obtained with <code>ShowCBDatasets</code>. Default: NULL.
<code>sample.df</code> and <code>all.samples.df</code> cannot be both NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collection</code></td>
<td>
<p>The collection of the datasets, corresponds to <code>shortLabel</code> column
of <code>all.samples.df</code>, obtain available values with <code>StatDBAttribute</code>. Default: NULL (without filtering).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub.collection</code></td>
<td>
<p>The sub-collection of the datasets, corresponds to <code>subLabel</code> column
of <code>all.samples.df</code>, obtain available values with <code>StatDBAttribute</code>. Default: NULL (without filtering).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>organ</code></td>
<td>
<p>The organ of the datasets, corresponds to <code>body_parts</code> column
of <code>all.samples.df</code>, obtain available values with <code>StatDBAttribute</code>. Default: NULL (without filtering).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>disease</code></td>
<td>
<p>The disease of the datasets, corresponds to <code>diseases</code> column
of <code>all.samples.df</code>, obtain available values with <code>StatDBAttribute</code>. Default: NULL (without filtering).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>organism</code></td>
<td>
<p>The specie of the datasets, corresponds to <code>organisms</code> column
of <code>all.samples.df</code>, obtain available values with <code>StatDBAttribute</code>. Default: NULL (without filtering).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>project</code></td>
<td>
<p>The project of the datasets, corresponds to <code>projects</code> column
of <code>all.samples.df</code>, obtain available values with <code>StatDBAttribute</code>. Default: NULL (without filtering).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fuzzy.match</code></td>
<td>
<p>Logical value, whether to perform fuzzy match with provided attribute values. Default: TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cell.num</code></td>
<td>
<p>Cell number filter. If NULL, no filter; if one value, lower filter; if two values, low and high filter. Deault: NULL.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Dataframe contains sample information and cell type composition.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# lazy mode, load datasets json files locally, need users to provide json folder
ucsc.cb.samples &lt;- ShowCBDatasets(lazy = TRUE, json.folder = NULL, update = FALSE)
# cell number is between 1000 and 2000
hbb.sample.df &lt;- ExtractCBDatasets(
  all.samples.df = ucsc.cb.samples, organ = c("brain", "blood"),
  organism = "Human (H. sapiens)", cell.num = c(1000, 2000)
)
hbb.sample.ct &lt;- ExtractCBComposition(json.folder = NULL, sample.df = hbb.sample.df)

## End(Not run)
</code></pre>


</div>