<div class="container">

<table style="width: 100%;"><tr>
<td>mscdata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Meteorological Service of Canada sample climate data</h2>

<h3>Description</h3>

<p>Sample climate data from the Meteorological Service of Canada
(<abbr><span class="acronym">MSC</span></abbr>) climate stations in western Canada.
</p>


<h3>Usage</h3>

<pre><code class="language-R">data(mscdata)</code></pre>


<h3>Format</h3>

<p>A <code>data.frame</code> with 26358 daily observations on the
following 10 variables (metric units of ‘°C’
and ‘mm’ <em>per day</em>):
</p>

<dl>
<dt>
<code>id</code>:</dt>
<dd>
<p><code>factor</code> used to distinguish multiple
stations within a single data frame</p>
</dd>
<dt>
<code>year</code>:</dt>
<dd>
<p><code>integer</code> year</p>
</dd>
<dt>
<code>yday</code>:</dt>
<dd>
<p><code>integer</code> day of year; 1–365 or
1–366</p>
</dd>
<dt>
<code>date</code>:</dt>
<dd>
<p><code>Date</code> class</p>
</dd>
<dt>
<code>t_max</code>:</dt>
<dd>
<p>daily maximum temperature</p>
</dd>
<dt>
<code>t_min</code>:</dt>
<dd>
<p>daily minimum temperature</p>
</dd>
<dt>
<code>t_mean</code>:</dt>
<dd>
<p>daily mean temperature</p>
</dd>
<dt>
<code>precip</code>:</dt>
<dd>
<p>total daily precipitation</p>
</dd>
<dt>
<code>rain</code>:</dt>
<dd>
<p>total daily liquid-phase precipitation</p>
</dd>
<dt>
<code>snow</code>:</dt>
<dd>
<p>total daily solid-phase precipitation</p>
</dd>
</dl>
<p>The climate variables have attributes (<code>attr</code> of
<code>units</code> and <code>long.name</code> to identify their units and long
names for plotting labels.
</p>
<p>There are three climate stations in this data frame from:
</p>

<table>
<tr>
<td style="text-align: left;">
    <b>ID</b> </td>
<td style="text-align: left;"> <b>Station Location</b> </td>
<td style="text-align: left;"> <b>Province</b>
</td>
</tr>
<tr>
<td style="text-align: left;">
    1096450   </td>
<td style="text-align: left;"> Prince George           </td>
<td style="text-align: left;"> <abbr><span class="acronym">BC</span></abbr>
</td>
</tr>
<tr>
<td style="text-align: left;">
    1108447   </td>
<td style="text-align: left;"> Vancouver               </td>
<td style="text-align: left;"> <abbr><span class="acronym">BC</span></abbr>
</td>
</tr>
<tr>
<td style="text-align: left;">
    2100630   </td>
<td style="text-align: left;"> Haines Junction         </td>
<td style="text-align: left;"> <abbr><span class="acronym">YT</span></abbr>
  </td>
</tr>
</table>
<p>All data spans from 1975 to 2004 for each station. Missing values are
present.
</p>


<h3>Details</h3>

<p>The field <code>id</code> is optional, but very handy when handling multiple
stations. Also, the day of year (<code>yday</code>) and <code>year</code> are
optional, since these are stored in the <code>date</code>, using <br><code>dat$date &lt;- as.Date(paste(dat$year,dat$yday),"%Y %j")</code>.
</p>
<p>The <code>units</code> and <code>long.name</code> attributes stored in the climate
variables are optional, but help annotate the graphics.
</p>


<h3>Author(s)</h3>

<p>Mike Toews</p>


<h3>Source</h3>

<p>Data provided by the Meteorological Service of Canada, with
permission. This data may only be reproduced for personal use; any
other reproduction is permitted only with the written consent of
Environment Canada.<br></p>
<p><a href="https://weather.gc.ca/">https://weather.gc.ca/</a>
<br><a href="https://weather.gc.ca/mainmenu/contact_us_e.html">https://weather.gc.ca/mainmenu/contact_us_e.html</a>
</p>


<h3>See Also</h3>

<p><code>mscstn</code> has MSC station ID codes, locations and names;
<code>mksub</code> produces subsets of data;  <code>read.msc</code>
reads MSC archive files, such as <code>A1128551.DLY</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(mscstn)
data(mscdata)
par.orig &lt;- par(no.readonly=TRUE)

# structure in R
str(mscdata)

# first few rows
head(mscdata)

# here are all the station IDs
stnids &lt;- levels(mscdata$id)

# show all data
rng.p &lt;- range(mscdata$precip, na.rm=TRUE)
rng.t &lt;- range(mscdata$t_mean, na.rm=TRUE)
par(mfcol=c(2, 3), mgp=c(2, 1, 0), mar=c(3, 3, 3, 1), bty="l")
for (n in levels(mscdata$id)) {
  dat &lt;- mscdata[mscdata$id == n,]
  plot(t_mean ~ date, dat, "l", col="red", ylim=rng.t)
  abline(h=0)
  plot(precip ~ date, dat, "l", col="blue", ylim=rng.p, main=n)
}
par(par.orig)

# show stations and station names available in this data frame
data.frame(stnids, name=getstnname(stnids))
dat &lt;- mksub(mscdata, id=1108447)
dat$month &lt;- mkseas(dat, "mon")
plot(t_mean ~ date, dat, "l")
plot(t_mean ~ date, dat, subset=(month == "Dec"))
seas.temp.plot(dat)
year.plot(dat)

# plot high-resolution statistics
dly.tmp &lt;- tapply(dat$t_mean, dat$yday,
  quantile, c(5, 25, 50, 75, 95) / 100, na.rm=TRUE)
dly &lt;- data.frame(yday=1:366,
  t(matrix(unlist(dly.tmp), nrow=5)))
names(dly) &lt;- c("yday", "d5", "d25", "median", "d75", "d95")
plot(median ~ yday, dly, "n", ylim=c(-5, 25),
  ylab="mean temperature", xlab="day of year")
polygon(c(1:366, 366:1), c(dly$d5, rev(dly$d95)),
        border=FALSE, col="grey80")
polygon(c(1:366, 366:1), c(dly$d25, rev(dly$d75)),
        border=FALSE, col="grey50")
lines(median ~ yday, dly)
abline(h=0)
</code></pre>


</div>