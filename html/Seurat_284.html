<div class="container">

<table style="width: 100%;"><tr>
<td>PrepareBridgeReference</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prepare the bridge and reference datasets</h2>

<h3>Description</h3>

<p>Preprocess the multi-omic bridge and unimodal reference datasets into
an extended reference.
This function performs the following three steps:
1. Performs within-modality harmonization between bridge and reference
2. Performs dimensional reduction on the SNN graph of bridge datasets via
Laplacian Eigendecomposition
3. Constructs a bridge dictionary representation for unimodal reference cells
</p>


<h3>Usage</h3>

<pre><code class="language-R">PrepareBridgeReference(
  reference,
  bridge,
  reference.reduction = "pca",
  reference.dims = 1:50,
  normalization.method = c("SCT", "LogNormalize"),
  reference.assay = NULL,
  bridge.ref.assay = "RNA",
  bridge.query.assay = "ATAC",
  supervised.reduction = c("slsi", "spca", NULL),
  bridge.query.reduction = NULL,
  bridge.query.features = NULL,
  laplacian.reduction.name = "lap",
  laplacian.reduction.key = "lap_",
  laplacian.reduction.dims = 1:50,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>reference</code></td>
<td>
<p>A reference Seurat object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bridge</code></td>
<td>
<p>A multi-omic bridge Seurat object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference.reduction</code></td>
<td>
<p>Name of dimensional reduction of the reference object (default is 'pca')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference.dims</code></td>
<td>
<p>Number of dimensions used for the reference.reduction (default is 50)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalization.method</code></td>
<td>
<p>Name of normalization method used: LogNormalize
or SCT</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference.assay</code></td>
<td>
<p>Assay name for reference (default is <code>DefaultAssay</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bridge.ref.assay</code></td>
<td>
<p>Assay name for bridge used for reference mapping. RNA by default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bridge.query.assay</code></td>
<td>
<p>Assay name for bridge used for query mapping. ATAC by default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>supervised.reduction</code></td>
<td>
<p>Type of supervised dimensional reduction to be performed
for integrating the bridge and query.
#' Options are:
</p>

<ul>
<li>
<p>slsi: Perform supervised LSI as the dimensional reduction for
the bridge-query integration
</p>
</li>
<li>
<p>spca: Perform supervised PCA as the dimensional reduction for
the bridge-query integration
</p>
</li>
<li>
<p>NULL: no supervised dimensional reduction will be calculated.
bridge.query.reduction is used for the bridge-query integration
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bridge.query.reduction</code></td>
<td>
<p>Name of dimensions used for the bridge-query harmonization.
'bridge.query.reduction' and 'supervised.reduction' cannot be NULL together.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bridge.query.features</code></td>
<td>
<p>Features used for bridge query dimensional reduction
(default is NULL which uses VariableFeatures from the bridge object)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>laplacian.reduction.name</code></td>
<td>
<p>Name of dimensional reduction name of graph laplacian eigenspace (default is 'lap')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>laplacian.reduction.key</code></td>
<td>
<p>Dimensional reduction key (default is 'lap_')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>laplacian.reduction.dims</code></td>
<td>
<p>Number of dimensions used for graph laplacian eigenspace (default is 50)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Print progress and message (default is TRUE)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a <code>BridgeReferenceSet</code> that can be used as input to
<code>FindBridgeTransferAnchors</code>.
The parameters used are stored in the <code>BridgeReferenceSet</code> as well
</p>


</div>