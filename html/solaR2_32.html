<div class="container">

<table style="width: 100%;"><tr>
<td>A2_calcG0</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Irradiation and irradiance on the horizontal plane.</h2>

<h3>Description</h3>

<p>This function obtains the global, diffuse and direct irradiation and
irradiance on the horizontal plane from the values of <em>daily</em> and
<em>intradaily</em> global irradiation on the horizontal plane.
It makes use of the functions <code>calcSol</code>,
<code>fCompD</code>, <code>fCompI</code>, <code>fBTd</code>
and <code>readBDd</code> (or equivalent).
</p>
<p>Besides, if information about maximum and minimum temperatures values are available it obtains a series of temperature values with <code>fTemp</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">
calcG0(lat, modeRad = 'prom', dataRad,
       sample = 'hour', keep.night = TRUE,
       sunGeometry = 'michalsky',
       corr, f, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>lat</code></td>
<td>
<p>numeric, latitude (degrees) of the point of the Earth where calculations are needed. It is positive for locations above the Equator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modeRad</code></td>
<td>
<p>A character string, describes the kind of source data of the
global irradiation and ambient temperature.
</p>
<p>It can be <code>modeRad = 'prom'</code> for monthly mean calculations. With
this option, a set of 12 values inside <code>dataRad</code> must be
provided, as defined in <code>readG0dm</code>.
</p>
<p><code>modeRad = 'aguiar'</code> uses a set of 12 monthly average values
(provided with <code>dataRad</code>) and produces a synthetic daily
irradiation time series following the procedure by Aguiar etal. (see
reference below).
</p>
<p>If <code>modeRad = 'bd'</code> the information of <em>daily</em> irradiation is read from a
file, a <code>data.table</code> defined by <code>dataRad</code>, a <code>zoo</code> or a
<code>Meteo</code> object. (See <code>readBDd</code>, <code>dt2Meteo</code>
and <code>zoo2Meteo</code> for details).
</p>
<p>If <code>modeRad = 'bdI'</code> the information of <em>intradaily</em> irradiation is read from a
file, a <code>data.table</code> defined by <code>dataRad</code>, a <code>zoo</code> or a
<code>Meteo</code> object. (See <code>readBDi</code>,
<code>dt2Meteo</code> and <code>zoo2Meteo</code> for details).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataRad</code></td>
<td>

<ul>
<li>
<p>If <code>modeRad = 'prom'</code> or <code>modeRad = 'aguiar'</code>, a
numeric with 12 values or a named list whose components will be
processed with <code>readG0dm</code>.
</p>
</li>
<li>
<p>If <code>modeRad = 'bd'</code> a character (name of the file to be
read with <code>readBDd</code>), a <code>data.table</code> (to be processed with
<code>dt2Meteo</code>), a <code>zoo</code> (to be processed with
<code>zoo2Meteo</code>), a <code>Meteo</code> object, or a <code>list</code> as
defined by <code>readBDd</code>, <code>dt2Meteo</code> or
<code>zoo2Meteo</code>. The resulting object will include a column
named <code>Ta</code>, with information about ambient temperature.
</p>
</li>
<li>
<p>If <code>modeRad = 'bdI'</code> a character (name of the file to
be read with <code>readBDi</code>), a <code>data.table</code> (to be processed
with <code>dt2Meteo</code>), a <code>zoo</code> (to be processed with
<code>zoo2Meteo</code>), a <code>Meteo</code> object, or a <code>list</code> as
defined by <code>readBDi</code>, <code>dt2Meteo</code> or
<code>zoo2Meteo</code>. The resulting object will include a column
named <code>Ta</code>, with information about ambient temperature.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample</code></td>
<td>
<p><code>character</code>, containing one of ‘"sec"’, ‘"min"’,
‘"hour"’.  This can optionally be preceded by a (positive or
negative) integer and a space, or followed by ‘"s"’ (used by
<code>seq.POSIXt</code>). It is not used when <code>modeRad = "bdI"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep.night</code></td>
<td>
<p><code>logical</code>. When it is TRUE (default) the
time series includes the night.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sunGeometry</code></td>
<td>
<p><code>character</code>, method for the sun geometry
calculations. See <code>calcSol</code>, <code>fSolD</code> and <code>fSolI</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>corr</code></td>
<td>
<p>A character, the correlation between the fraction of diffuse irradiation and the
clearness index to be used.
</p>
<p>With this version several options are available, as described in
<code>corrFdKt</code>. For example, the <code>FdKtPage</code> is
selected with <code>corr = 'Page'</code> while the <code>FdKtCPR</code> with
<code>corr = 'CPR'</code>.
</p>
<p>If <code>corr = 'user'</code> the use of a correlation
defined by a function <code>f</code> is possible.
</p>
<p>If <code>corr = 'none'</code> the object defined by <code>dataRad</code> should include
information about global, diffuse and direct daily irradiation with columns named 
<code>G0d</code>, <code>D0d</code> and <code>B0d</code>, respectively
(or <code>G0</code>, <code>D0</code> and <code>B0</code> if <code>modeRad = 'bdI'</code>).
If <code>corr</code> is missing, then it is internally set to <code>CPR</code>
when <code>modeRad = 'bd'</code>, to <code>Page</code>
when <code>modeRad = 'prom'</code> and to <code>BRL</code> when <code>modeRad = 'bdI'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>A function defininig a correlation between the fraction of
diffuse irradiation and the clearness index. It is only neccessary
when <code>corr = 'user'</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments for <code>fCompD</code> or <code>fCompI</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>G0</code> object.</p>


<h3>Author(s)</h3>

<p>Oscar Perpiñán Lamigueiro,
Francisco Delgado López.</p>


<h3>References</h3>


<ul>
<li>
<p> Perpiñán, O, Energía Solar Fotovoltaica, 2015.
(<a href="https://oscarperpinan.github.io/esf/">https://oscarperpinan.github.io/esf/</a>)
</p>
</li>
<li>
<p> Perpiñán, O. (2012), "solaR: Solar Radiation and Photovoltaic
Systems with R", Journal of Statistical Software, 50(9), 1-32,
<a href="https://doi.org/10.18637/jss.v050.i09">doi:10.18637/jss.v050.i09</a>
</p>
</li>
<li>
<p> Aguiar, Collares-Pereira and Conde, "Simple procedure for
generating sequences of daily radiation values using a library of
Markov transition matrices", Solar Energy, Volume 40, Issue 3, 1988, Pages 269–279</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>calcSol</code>,
<code>fCompD</code>,
<code>fCompI</code>,
<code>readG0dm</code>,
<code>readBDd</code>,
<code>readBDi</code>,
<code>dt2Meteo</code>,
<code>corrFdKt</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">G0dm = c(2.766, 3.491, 4.494, 5.912, 6.989, 7.742, 7.919, 7.027, 5.369, 3.562, 2.814, 2.179)*1000;
Ta = c(10, 14.1, 15.6, 17.2, 19.3, 21.2, 28.4, 29.9, 24.3, 18.2, 17.2, 
  15.2)

g0 &lt;- calcG0(lat = 37.2, modeRad = 'prom', dataRad = list(G0dm = G0dm, Ta = Ta))
print(g0)
xyplot(g0)

## Aguiar et al.

g0 &lt;- calcG0(lat = 37.2, modeRad = 'aguiar', dataRad = G0dm)
print(g0)
xyplot(g0)

##Now the G0I component of g0 is used as
##the bdI argument to calcG0 in order to
##test the intradaily correlations of fd-kt

BDi = as.data.tableI(g0)
BDi$Ta = 25 ##Information about temperature must be contained in BDi

g02 &lt;- calcG0(lat = 37.2, 
            modeRad = 'bdI', 
            dataRad = list(lat = 37.2, file = BDi), 
            corr = 'none')

print(g02)

g03 &lt;- calcG0(lat = 37.2, 
            modeRad = 'bdI', 
            dataRad = list(lat = 37.2, file = BDi), 
            corr = 'BRL')
print(g03)

xyplot(Fd ~ Kt, data = g03, pch = 19, alpha = 0.3)
</code></pre>


</div>