<div class="container">

<table style="width: 100%;"><tr>
<td>weight_mat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Building weight matrix <strong>W</strong> for Areal Interpolation</h2>

<h3>Description</h3>

<p>internal use. <code class="reqn">W_{ij} = | A_i \, cap \, B_j |</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">w_col(source_unit, target)

build_w(source, target)

est_w(W, source_dt, target)

var_w(W, var_vec, target, method = "CS", rho_mi)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>source_unit</code></td>
<td>
<p>a single <code>geometry</code> from the source dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>a <code>sf</code> object - target spatial data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source</code></td>
<td>
<p>a <code>sf</code> object - source spatial data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>W</code></td>
<td>
<p>the weight matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source_dt</code></td>
<td>
<p>a <code>data.frame</code> object representing the source dataset
but excluding the <code>geometry</code>, i.e. the spatial information,
column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_vec</code></td>
<td>
<p>a <code>numeric</code> vector with variances observed at the source
data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>a <code>character</code> representing the method to approximate the
variance of the AI estimates. Possible values are "CS"
(Cauchy-Schwartz) or "MI" (Moran's I).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho_mi</code></td>
<td>
<p><code>numeric</code> calculated Moran's I.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code class="reqn">n \times m</code> <code>numeric</code> matrix. Where <code class="reqn">n</code> is the
number of observations in the target and <code class="reqn">m</code> is the sample size in
the source dataset.
</p>


</div>