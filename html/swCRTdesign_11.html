<div class="container">

<table style="width: 100%;"><tr>
<td>swSummary</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Summary of Response/Outcome for Stepped Wedge Cluster Randomized Trial (SW CRT)
</h2>

<h3>Description</h3>

<p><code>swSummary</code> returns the mean, sum, and number of non-missing values for the response/outcome variable of interest for each cluster at each time point from a SW CRT.
</p>


<h3>Usage</h3>

<pre><code class="language-R">swSummary(response.var, tx.var, time.var, cluster.var, data, 
type="mean", digits=16, fcn.Call=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>response.var</code></td>
<td>

<p>numeric(vector): Response (Outcome) variable.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tx.var</code></td>
<td>

<p>numeric(vector): Treatment (Predictor of Interest) variable. Typically, 0=placebo, 1=intervention, and values greater than 1 correspond to other treatment levels. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.var</code></td>
<td>

<p>integer(vector): Time (points) variable, corresponding to the time points when data were collected during the SW CRT.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster.var</code></td>
<td>

<p>integer(vector): Cluster (identification) variable, corresponding to the cluster where an individual is from.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>An optional data frame containing (at least) the response, treatment (tx), time, and cluster variables.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>

<p>character (scalar): Specify which summary measure is of interest from <code>"mean"</code>, <code>"sum"</code>, and <code>"n"</code>. (Note: The default returns "mean" as the summary measure of response. Note that all summary measures may not be scientifically relevant in every situation.)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>

<p>integer (scalar): Number of places right of the decimal. The default value is 16.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fcn.Call</code></td>
<td>

<p>logical: Only <code>TRUE</code> when calling <code>swSummary</code> from within <code>swPlot</code>. The default is <code>FALSE</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Returns a list containing a matrix of dimension <code>length(unique(data$cluster))</code> by <code>length(</code> <code>unique(data$time))</code> that summarizes <code>data$response</code> for specified <code>type</code>. Either the mean, sum, or the number of non-missing <code>data$response</code> values may be requested using <code>type</code>. <code>dimnames</code> of the matrix correspond to the unique values of cluster and time. Note that the stepping pattern in the data may be obtained by specifying the treatment variable name as the response and <code>type = "mean"</code>.
</p>


<h3>Value</h3>

<p>numeric (list): <code>swSummary</code> returns a list containing the following
</p>
<table>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>

<p>One of user-specified options <code>"mean"</code>, <code>"sum"</code>, or <code>"n"</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>swDsn</code></td>
<td>

<p>The SW design.		
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>swDsn.unique.clusters</code></td>
<td>

<p>The unique clusters (i.e., rows) SW design.		
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.waves</code></td>
<td>

<p>Number of waves. Note that this is usually, but not necessarily, the same as data$n.waves. See example 2.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clusters</code></td>
<td>

<p>Clusters per wave.		
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.clusters</code></td>
<td>

<p>Total number of clusters.		
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.at.each.wave</code></td>
<td>

<p>Time at each wave.		
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>total.time</code></td>
<td>

<p>Total time points.		
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response.cluster</code></td>
<td>

<p>numeric (matrix): Response variable summarized according to <code>type</code> for all clusters, with dimension 
<code>length(data$cluster)</code> by <code>length(unique(data$time))</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response.wave</code></td>
<td>

<p>numeric (matrix): Response variable summarized according to <code>type</code>, for all waves (all clusters of a particular wave are combined), with dimension <code>length(</code> <code>unique(data$cluster))</code> by <code>length(unique(data$time))</code>.
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>James P Hughes and Navneet R Hakhu
</p>


<h3>References</h3>

<p>Hussey MA, Hughes JP. Design and analysis of stepped wedge cluster randomized trials. Contemporary Clinical Trials 2007;28:182-191.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(swCRTdesign)
# Example 1 
# Generate binary response with 5 clusters, 4 time points
data.Ex1 &lt;- swSim(swDsn(c(2,2,1)),family=binomial(link="identity"), n=120,
                     mu0=0.25, mu1=0.30,time.effect=0, tau=0.05, gamma=.01)

## Example 1 (type="mean", by cluster and by wave)
swSummary.Ex1.mean &lt;- swSummary(response.var, tx.var, time.var, cluster.var, 
data=data.Ex1, type="mean", digits=3)

swSummary.Ex1.mean$response.cluster

swSummary.Ex1.mean$response.wave

# Example 1 (type="sum", by cluster and by wave)
swSummary.Ex1.sum &lt;- swSummary(response.var, tx.var, time.var, cluster.var, 
data=data.Ex1, type="sum")

swSummary.Ex1.sum$response.cluster

swSummary.Ex1.sum$response.wave

## Example 1 (type="n", by cluster and by wave)
swSummary.Ex1.n &lt;- swSummary(response.var, tx.var, time.var, cluster.var, 
data=data.Ex1, type="n")

swSummary.Ex1.n$response.cluster

swSummary.Ex1.n$response.wave

## Example 2
design2 &lt;- swDsn(clusters=c(6,6,6,6)) 
# design2$n.waves says 4 waves
nmat2 = rbind(matrix(rep(c(120,120,120,120,120),6),6,5,byrow=TRUE),
              matrix(rep(c(120,120,120,120,120),3),3,5,byrow=TRUE),
              matrix(rep(c(0,120,120,120,120),3),3,5,byrow=TRUE),
              matrix(rep(c(0,0,120,120,120),6),6,5,byrow=TRUE),
              matrix(rep(c(0,0,0,120,120),6),6,5,byrow=TRUE))
swGenData2 &lt;- swSim( design2,family=binomial(link="logit"), n=nmat2,
                     mu0=log(0.1/0.9), mu1=log(0.9) + log(0.1/0.9),
                     time.effect=0, tau=0.2, time.lab=seq(0,12,3))
swSummary(response.var, tx.var, time.var, cluster.var, swGenData2,
          type="mean", digits=3)
# This summary create 5 waves
#
# The following is equivalent to above
design2b &lt;- swDsn(c(6,3,3,6,6),
                   swBlk=matrix(c(0,1,1,1,1,
                                  0,0,1,1,1,
                                  NA,0,1,1,1,
                                  NA,NA,0,1,1,
                                  NA,NA,NA,0,1),5,5,byrow=TRUE)) 
# design2b$n.waves says 5 waves
swGenData2b &lt;- swSim(design2b,family=binomial(link="logit"), n=120,
                      mu0=log(0.1/0.9), mu1=log(0.9) + log(0.1/0.9),
                      time.effect=0, tau=0.2, time.lab=seq(0,12,3))
swSummary(response.var, tx.var, time.var, cluster.var, swGenData2b,
          type="mean", digits=3)
# This summary create 5 waves          
</code></pre>


</div>