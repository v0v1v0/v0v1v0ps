<div class="container">

<table style="width: 100%;"><tr>
<td>utility-functions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Utility functions for package soilhypfit</h2>

<h3>Description</h3>

<p>This page documents the functions <code>convergence_message</code>,
<code>extract_error_messages</code>, <code>select_failed_fits</code> and
<code>check_param_boundf</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">convergence_message(x, sce = FALSE)

extract_error_messages(object, start = 1, stop = 80, prt = TRUE)

select_failed_fits(object)

check_param_boundf(y, compare_thetar_thetas = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an integer scalar issued by the optimisers of
<code>nloptr</code> or <code>SCEoptim</code> on<br>
(non-)convergence</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sce</code></td>
<td>
<p>a logical scalar to select the optimiser
<code>nloptr</code> (<code>FALSE</code>, default) or
<code>SCEoptim</code> (<code>TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object of class <code>fit_wrc_hcc</code>, see
<code>fit_wrc_hcc</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prt</code></td>
<td>
<p>a logical scalar controlling whether the error messages should
be printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start, stop</code></td>
<td>
<p>integer scalar with the first and last character to
print.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>a named list of numeric vectors of length 2 that define the
allowed lower and upper bounds (box constraints) for the parameters of
the models, see argument <code>param_bound</code> of
<code>control_fit_wrc_hcc</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compare_thetar_thetas</code></td>
<td>
<p>logical scalar to control cross-comparison
of valid ranges of parameters <code>thetar</code> and <code>thetas</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>convergence_message</code> prints a message that explains
the convergence codes, for <code>nloptr</code>, see
<a href="https://nlopt.readthedocs.io/en/latest/NLopt_Reference/#return-values">NLopt
return values</a>.  The function <code>extract_error_messages</code> extract the
error messages of estimations that failed and optionally prints sub-strings
of them.<br>  The function <code>select_failed_fits</code> returns the
<code>id</code>s of the soil samples for which parameter estimation failed.
The function <code>check_param_boundf</code> checks the validity and consistecy
of bounds of box constraints of model parameters.
</p>


<h3>Value</h3>

<p>The function <code>convergence_message</code> and <code>extract_error_messages</code>
return invisibly the convergence code or the error messages.
</p>


<h3>Author(s)</h3>

<p>Andreas Papritz <a href="mailto:papritz@retired.ethz.ch">papritz@retired.ethz.ch</a>.
</p>


<h3>References</h3>

<p>Duan, Q., Sorooshian, S., and Gupta, V. K. (1994) Optimal use of the
SCE-UA global optimisation method for calibrating watershed models,
<em>Journal of Hydrology</em> <b>158</b>, 265â€“284,
<a href="https://doi.org/10.1016/0022-1694%2894%2990057-4">doi:10.1016/0022-1694(94)90057-4</a>.
</p>
<p>Johnson, S.G. The NLopt nonlinear-optimisation package.
<a href="https://github.com/stevengj/nlopt">https://github.com/stevengj/nlopt</a>.
</p>


<h3>See Also</h3>

<p><code>soilhypfitIntro</code> for a description of the models and a brief
summary of the parameter estimation approach;
</p>
<p><code>fit_wrc_hcc</code> for (constrained) estimation of parameters of
models for soil water retention and hydraulic conductivity data;
</p>
<p><code>control_fit_wrc_hcc</code> for options to control
<code>fit_wrc_hcc</code>;
</p>
<p><code>soilhypfitmethods</code> for common S3 methods for class
<code>fit_wrc_hcc</code>;
</p>
<p><code>vcov</code> for computing (co-)variances of the estimated
nonlinear parameters;
</p>
<p><code>prfloglik_sample</code> for profile loglikelihood
computations;
</p>
<p><code>wc_model</code> and <code>hc_model</code> for currently
implemented models for soil water retention curves and hydraulic
conductivity functions;
</p>
<p><code>evaporative-length</code> for physically constraining parameter
estimates of soil hydraulic material functions.
</p>


<h3>Examples</h3>

<pre><code class="language-R">convergence_message(3)
convergence_message(2, sce = TRUE)
</code></pre>


</div>