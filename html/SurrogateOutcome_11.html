<div class="container">

<table style="width: 100%;"><tr>
<td>IV.event</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Calculates the incremental value of the surrogate outcome information 
</h2>

<h3>Description</h3>

<p>Calculates the incremental value of the surrogate outcome information 
</p>


<h3>Usage</h3>

<pre><code class="language-R">IV.event(xone, xzero, deltaone, deltazero, sone, szero, t, landmark, number = 40, 
transform = FALSE, extrapolate = TRUE, std = FALSE, conf.int = FALSE, 
weight.perturb = NULL, type = "np")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xone</code></td>
<td>

<p>numeric vector, observed event times for the primary outcome in the treatment group.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xzero</code></td>
<td>

<p>numeric vector, observed event times for the primary outcome in the control group.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deltaone</code></td>
<td>

<p>numeric vector, event/censoring indicators for the primary outcome in the treatment group.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deltazero</code></td>
<td>

<p>numeric vector, event/censoring indicators for the primary outcome in the control group.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sone</code></td>
<td>

<p>numeric vector, observed event times for the surrogate outcome in the treatment group.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>szero</code></td>
<td>

<p>numeric vector, observed event times for the surrogate outcome in the control group.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>

<p>time of interest for treatment effect.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>landmark</code></td>
<td>

<p>landmark time of interest, <code class="reqn">t_0</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>number</code></td>
<td>


<p>number of points for RMST calculation, default is 40.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transform</code></td>
<td>


<p>TRUE or FALSE; indicates whether a transformation should be used, default is FALSE.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extrapolate</code></td>
<td>


<p>TRUE or FALSE; indicates whether local constant extrapolation should be used, default is FALSE.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>std</code></td>
<td>

<p>TRUE or FALSE; indicates whether standard error estimates should be provided, default is FALSE. Estimates are calculated using perturbation-resampling. Two versions are provided: one that takes the standard deviation of the perturbed estimates (denoted as "sd") and one that takes the median absolute deviation (denoted as "mad"). 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int</code></td>
<td>

<p>TRUE or FALSE; indicates whether 95% confidence intervals should be provided. Confidence intervals are calculated using the percentiles of perturbed estimates, default is FALSE. If this is TRUE, standard error estimates are automatically provided.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight.perturb</code></td>
<td>

<p>weights used for perturbation resampling.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>

<p>Type of estimate that should be provided; options are "np" for the nonparametric estimate or "semi" for the semiparametric estimate, default is "np".
</p>
</td>
</tr>
</table>
<h3>Details</h3>


<p>The incremental value of the surrogate outcome information only is quantified as <code class="reqn">IV_S(t,t_0) = R_Q(t,t_0) - R_T(t,t_0)</code> where the definition and estimation procedures for <code class="reqn">R_Q(t,t_0)</code> and <code class="reqn">R_T(t,t_0)</code> are described in the documentation for R.q.event and R.t.estimate, respectively. The estimate of the incremental value is  <code class="reqn">\hat{IV}_S(t,t_0) = \hat{R}_Q(t,t_0) - \hat{R}_T(t,t_0)</code>. 
</p>


<h3>Value</h3>

<p>A list is returned:                
</p>
<table>
<tr style="vertical-align: top;">
<td><code>delta </code></td>
<td>
<p>the estimate, <code class="reqn">\hat{\Delta}(t)</code>, described in delta.estimate documentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta.q </code></td>
<td>
<p>the estimate, <code class="reqn">\hat{\Delta}_Q(t,t_0)</code>, described in R.q.event documention.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R.q </code></td>
<td>
<p>the estimate, <code class="reqn">\hat{R}_Q(t,t_0)</code>, described in R.q.event documention.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta.t </code></td>
<td>
<p>the estimate, <code class="reqn">\hat{\Delta}_T(t,t_0)</code>, described in R.t.estimate documention.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R.t </code></td>
<td>
<p>the estimate, <code class="reqn">\hat{R}_T(t,t_0)</code>, described in R.t.estimate documention.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IV</code></td>
<td>
<p>the estimated incremental value of the surrogate outcome information, described above.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta.sd </code></td>
<td>
<p>the standard error estimate of <code class="reqn">\hat{\Delta}(t)</code>; if std = TRUE or conf.int = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta.mad </code></td>
<td>
<p>the standard error estimate of <code class="reqn">\hat{\Delta}(t)</code> using the median absolute deviation; if std = TRUE or conf.int = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta.q.sd</code></td>
<td>
<p>the standard error estimate of <code class="reqn">\hat{\Delta}_Q(t,t_0)</code>; if std = TRUE or conf.int = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta.q.mad</code></td>
<td>
<p>the standard error estimate of <code class="reqn">\hat{\Delta}_Q(t,t_0)</code> using the median absolute deviation; if std = TRUE or conf.int = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R.q.sd </code></td>
<td>
<p>the standard error estimate of <code class="reqn">\hat{R}_Q(t,t_0)</code>; if std = TRUE or conf.int = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R.q.mad </code></td>
<td>
<p>the standard error estimate of <code class="reqn">\hat{R}_Q(t,t_0)</code> using the median absolute deviation; if std = TRUE or conf.int = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta.t.sd</code></td>
<td>
<p>the standard error estimate of <code class="reqn">\hat{\Delta}_T(t,t_0)</code>; if std = TRUE or conf.int = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta.t.mad</code></td>
<td>
<p>the standard error estimate of <code class="reqn">\hat{\Delta}_T(t,t_0)</code> using the median absolute deviation; if std = TRUE or conf.int = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R.t.sd </code></td>
<td>
<p>the standard error estimate of <code class="reqn">\hat{R}_T(t,t_0)</code>; if std = TRUE or conf.int = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R.t.mad </code></td>
<td>
<p>the standard error estimate of <code class="reqn">\hat{R}_T(t,t_0)</code> using the median absolute deviation; if std = TRUE or conf.int = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IV.sd </code></td>
<td>
<p>the standard error estimate of the incremental value; if std = TRUE or conf.int = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IV.mad </code></td>
<td>
<p>the standard error estimate of the incremental value using the median absolute deviation; if std = TRUE or conf.int = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int.delta</code></td>
<td>
<p>a vector of size 2; the 95% confidence interval for <code class="reqn">\hat{\Delta}(t)</code> based on sample quantiles of the perturbed values; if conf.int = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int.delta.q</code></td>
<td>
<p>a vector of size 2; the 95% confidence interval for <code class="reqn">\hat{\Delta}_Q(t,t_0)</code> based on sample quantiles of the perturbed values; if conf.int = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int.R.q</code></td>
<td>
<p>a vector of size 2; the 95% confidence interval for <code class="reqn">\hat{R}_Q(t,t_0)</code> based on sample quantiles of the perturbed values; if conf.int = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int.delta.t</code></td>
<td>
<p>a vector of size 2; the 95% confidence interval for <code class="reqn">\hat{\Delta}_T(t,t_0)</code> based on sample quantiles of the perturbed values; if conf.int = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int.R.t</code></td>
<td>
<p>a vector of size 2; the 95% confidence interval for <code class="reqn">\hat{R}_T(t,t_0)</code> based on sample quantiles of the perturbed values; if conf.int = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int.IV</code></td>
<td>
<p>a vector of size 2; the 95% confidence interval for the incremental value based on sample quantiles of the perturbed values; if conf.int = TRUE.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Layla Parast
</p>


<h3>References</h3>

<p>Parast L, Tian L, and Cai T (2020). Assessing the Value of a Censored Surrogate Outcome. Lifetime Data Analysis, 26(2):245-265.</p>


<h3>Examples</h3>

<pre><code class="language-R">data(ExampleData)
names(ExampleData)


IV.event(xone = ExampleData$x1, xzero = ExampleData$x0, deltaone = ExampleData$delta1, 
deltazero = ExampleData$delta0, sone = ExampleData$s1, szero = ExampleData$s0, t = 5,
 landmark=2, type = "np")

IV.event(xone = ExampleData$x1, xzero = ExampleData$x0, deltaone = ExampleData$delta1, 
deltazero = ExampleData$delta0, sone = ExampleData$s1, szero = ExampleData$s0, t = 5,
 landmark=2, type = "np", std = TRUE, conf.int = TRUE)

</code></pre>


</div>