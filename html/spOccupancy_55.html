<div class="container">

<table style="width: 100%;"><tr>
<td>ppcOcc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function for performing posterior predictive checks</h2>

<h3>Description</h3>

<p>Function for performing posterior predictive checks on <code>spOccupancy</code> model objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ppcOcc(object, fit.stat, group, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object of class <code>PGOcc</code>, <code>spPGOcc</code>, <code>msPGOcc</code>, 
<code>spMsPGOcc</code>, <code>intPGOcc</code>, <code>spIntPGOcc</code>, <code>lfMsPGOcc</code>, <code>sfMsPGOcc</code>, 
<code>tPGOcc</code>, <code>stPGOcc</code>, <code>svcPGOcc</code>, <code>svcMsPGOcc</code>, <code>tMsPGOcc</code>, 
<code>stMsPGOcc</code>, <code>svcTMsPGOcc</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.stat</code></td>
<td>
<p>a quoted keyword that specifies the fit statistic
to use in the posterior predictive check. Supported fit statistics are
<code>"freeman-tukey"</code> and <code>"chi-squared"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>a positive integer indicating the way to group the
detection-nondetection data for the posterior predictive check. Value 
1 will group values by row (site) and value 2 will group values by 
column (replicate).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>currently no additional arguments</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Standard GoF assessments are not valid for binary data, and posterior
predictive checks must be performed on some sort of binned data. 
</p>


<h3>Value</h3>

<p>An object of class <code>ppcOcc</code> that is a list comprised of: 
</p>
<table>
<tr style="vertical-align: top;">
<td><code>fit.y</code></td>
<td>
<p>a numeric vector of posterior samples for the 
fit statistic calculated on the observed data when <code>object</code> is 
of class <code>PGOcc</code>, <code>spPGOcc</code>, or <code>svcPGOcc</code>. When <code>object</code> is of 
class <code>msPGOcc</code>, <code>spMsPGOcc</code>, <code>lfMsPGOcc</code>, 
<code>sfMsPGOcc</code>, or <code>svcMsPGOcc</code> 
this is a numeric matrix with rows corresponding to posterior samples
and columns corresponding to species. When <code>object</code> is of class
<code>intPGOcc</code> or <code>spIntPGOcc</code>, this is a list, with each element 
of the list being a vector of posterior samples for each data set. 
When <code>object</code> is of class <code>tPGOcc</code> or <code>stPGOcc</code>, this is a
numeric matrix with rows corresponding to posterior samples and columns 
corresponding to primary sampling periods. When <code>object</code> is of class <code>tMsPGOcc</code>, 
<code>stMsPGOcc</code>, or <code>svcTMsPGOcc</code>, this is a three-dimensional array with dimensions
corresponding to MCMC sample, species, and primary time period. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.y.rep</code></td>
<td>
<p>a numeric vector of posterior samples for the 
fit statistic calculated on a replicate data set generated from the 
model when <code>object</code> is of class <code>PGOcc</code>, <code>spPGOcc</code>, or <code>svcPGOcc</code>. 
When <code>object</code> is of class <code>msPGOcc</code>, <code>spMsPGOcc</code>, 
<code>lfMsPGOcc</code>, <code>sfMsPGOcc</code>, or <code>svcMsPGOcc</code>
this is a numeric matrix with rows corresponding to posterior samples
and columns corresponding to species. When <code>object</code> is of class
<code>intPGOcc</code> or <code>spIntPGOcc</code>, this is a list, with each element 
of the list being a vector of posterior samples for each data set. 
When <code>object</code> is of class <code>tPGOcc</code> or <code>stPGOcc</code>, this is a
numeric matrix with rows corresponding to posterior samples and columns 
corresponding to primary sampling periods. When <code>object</code> is of class <code>tMsPGOcc</code>, 
<code>stMsPGOcc</code>, or <code>svcTMsPGOcc</code>, this is a three-dimensional array with dimensions
corresponding to MCMC sample, species, and primary time period. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.y.group.quants</code></td>
<td>
<p>a matrix consisting of posterior quantiles
for the fit statistic using the observed data for each unique element
the fit statistic is calculated for (i.e., sites when group = 1, 
replicates when group = 2) when <code>object</code> is of class <code>PGOcc</code>, <code>spPGOcc</code>, or <code>svcPGOcc</code>. 
When <code>object</code> is of class <code>msPGOcc</code>, <code>spMsPGOcc</code>, 
<code>lfMsPGOcc</code>, <code>sfMsPGOcc</code>, <code>svcMsPGOcc</code>, this is a three-dimensional
array with the additional dimension corresponding to species. When <code>object</code> is 
of class <code>intPGOcc</code> or <code>spIntPGOcc</code>, this is a list, with each element 
consisting of the posterior quantile matrix for each data set. When <code>object</code> 
is of class <code>tPGOcc</code> or <code>stPGOcc</code>, this is a three-dimensional array 
with the additional dimension corresponding to primary sampling periods. When <code>object</code>
is of class <code>tMsPGOcc</code>, <code>stMsPGOcc</code>, <code>svcTMsPGOcc</code>, this is a four-dimensional array
with dimensions corresponding to quantile, species, grouping element, and primary time period.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.y.rep.group.quants</code></td>
<td>
<p>a matrix consisting of posterior quantiles
for the fit statistic using the model replicated data for each unique element
the fit statistic is calculated for (i.e., sites when group = 1, 
replicates when group = 2) when <code>object</code> is of class <code>PGOcc</code>, <code>spPGOcc</code>, <code>svcPGOcc</code>. 
When <code>object</code> is of class <code>msPGOcc</code>, 
<code>spMsPGOcc</code>, <code>lfMsPGOcc</code>, <code>sfMsPGOcc</code>, or <code>svcMsPGOcc</code>, 
this is a three-dimensional
array with the additional dimension corresponding to species. When <code>object</code> is 
of class <code>intPGOcc</code> or <code>spIntPGOcc</code>, this is a list, with each element 
consisting of the posterior quantile matrix for each data set. When <code>object</code> 
is of class <code>tPGOcc</code> or <code>stPGOcc</code>, this is a three-dimensional array 
with the additional dimension corresponding to primary sampling periods. When <code>object</code>
is of class <code>tMsPGOcc</code>, <code>stMsPGOcc</code>, <code>svcTMsPGOcc</code>, this is a four-dimensional array
with dimensions corresponding to quantile, species, grouping element, and primary time period.</p>
</td>
</tr>
</table>
<p>The return object will include additional objects used for 
standard extractor functions. 
</p>


<h3>Author(s)</h3>

<p>Jeffrey W. Doser <a href="mailto:doserjef@msu.edu">doserjef@msu.edu</a>, <br></p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(400)
# Simulate Data -----------------------------------------------------------
J.x &lt;- 8
J.y &lt;- 8
J &lt;- J.x * J.y
n.rep &lt;- sample(2:4, J, replace = TRUE)
beta &lt;- c(0.5, -0.15)
p.occ &lt;- length(beta)
alpha &lt;- c(0.7, 0.4)
p.det &lt;- length(alpha)
dat &lt;- simOcc(J.x = J.x, J.y = J.y, n.rep = n.rep, beta = beta, alpha = alpha,
              sp = FALSE)
occ.covs &lt;- dat$X[, 2, drop = FALSE]
colnames(occ.covs) &lt;- c('occ.cov')
det.covs &lt;- list(det.cov = dat$X.p[, , 2])
# Data bundle
data.list &lt;- list(y = dat$y, 
                  occ.covs = occ.covs, 
                  det.covs = det.covs)

# Priors
prior.list &lt;- list(beta.normal = list(mean = 0, var = 2.72),
                   alpha.normal = list(mean = 0, var = 2.72))
# Initial values
inits.list &lt;- list(alpha = 0, beta = 0,
                   z = apply(data.list$y, 1, max, na.rm = TRUE))

n.samples &lt;- 5000
n.report &lt;- 1000

out &lt;- PGOcc(occ.formula = ~ occ.cov, 
             det.formula = ~ det.cov, 
             data = data.list, 
             inits = inits.list,
             n.samples = n.samples,
             priors = prior.list,
             n.omp.threads = 1,
             verbose = TRUE,
             n.report = n.report, 
             n.burn = 4000, 
             n.thin = 1)

# Posterior predictive check
ppc.out &lt;- ppcOcc(out, fit.stat = 'chi-squared', group = 1)
summary(ppc.out)
</code></pre>


</div>