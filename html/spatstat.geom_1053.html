<div class="container">

<table style="width: 100%;"><tr>
<td>transmat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Convert Pixel Array Between Different Conventions
</h2>

<h3>Description</h3>

<p>This function provides a simple way to convert arrays of pixel data
between different display conventions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">transmat(m, from, to)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>

<p>A matrix.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from,to</code></td>
<td>

<p>Specifications of the spatial arrangement of the pixels.
See Details.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Pixel images are handled by many different software packages.
In virtually all of these, the pixel values are stored in a matrix,
and are accessed using the row and column indices of the matrix.
However, different pieces of software use different conventions for
mapping the matrix indices <code class="reqn">[i,j]</code> to the spatial coordinates
<code class="reqn">(x,y)</code>.
</p>

<ul>
<li>
<p>In the <em>Cartesian</em> convention, the first matrix index <code class="reqn">i</code>
is associated with the first Cartesian coordinate <code class="reqn">x</code>, 
and <code class="reqn">j</code> is associated with <code class="reqn">y</code>. This convention is used in
<code>image.default</code>.
</p>
</li>
<li>
<p>In the <em>European reading order</em> convention, a matrix is displayed
in the spatial coordinate system as it would be printed in a page of text:
<code class="reqn">i</code> is effectively associated with the negative <code class="reqn">y</code> coordinate, 
and <code class="reqn">j</code> is associated with <code class="reqn">x</code>. This convention is used in some
image file formats.
</p>
</li>
<li>
<p>In the <code>spatstat</code> convention, <code class="reqn">i</code>
is associated with the increasing <code class="reqn">y</code> coordinate, 
and <code class="reqn">j</code> is associated with <code class="reqn">x</code>. This is also used in some
image file formats.
</p>
</li>
</ul>
<p>To convert between these conventions, use the function
<code>transmat</code>. If a matrix <code>m</code> contains pixel image data
that is correctly displayed by software that uses the Cartesian convention,
and we wish to convert it to the European reading convention, we can type
<code>mm &lt;- transmat(m, from="Cartesian", to="European")</code>.
The transformed matrix <code>mm</code> will then be correctly displayed by
software that uses the European convention. 
</p>
<p>Each of the arguments <code>from</code> and <code>to</code> can be one of the names
<code>"Cartesian"</code>, <code>"European"</code> or <code>"spatstat"</code> (partially matched)
or it can be a list specifying another convention. For example
<code>to=list(x="-i", y="-j")!</code> specifies that rows of the output matrix 
are expected to be displayed as vertical columns in the plot, 
starting at the right side of the plot, as in the traditional 
Chinese, Japanese and Korean writing order.
</p>


<h3>Value</h3>

<p>Another matrix obtained by rearranging the entries of <code>m</code>.
</p>


<h3>Author(s)</h3>

<p>Adrian Baddeley <a href="mailto:Adrian.Baddeley@curtin.edu.au">Adrian.Baddeley@curtin.edu.au</a>
</p>
<p>Rolf Turner <a href="mailto:rolfturner@posteo.net">rolfturner@posteo.net</a>
</p>
<p>and Ege Rubak <a href="mailto:rubak@math.aau.dk">rubak@math.aau.dk</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  opa &lt;- par(mfrow=c(1,2))
  # image in spatstat format
  Z &lt;- bei.extra$elev
  plot(Z, main="plot.im", ribbon=FALSE)
  m &lt;- as.matrix(Z)
  # convert matrix to format suitable for display by image.default
  Y &lt;- transmat(m, from="spatstat", to="Cartesian")
  image(Y, asp=0.5, main="image.default", axes=FALSE)
  par(opa)
</code></pre>


</div>