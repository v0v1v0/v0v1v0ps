<div class="container">

<table style="width: 100%;"><tr>
<td>svylogrank</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Compare survival distributions
</h2>

<h3>Description</h3>

<p>Computes a weighted version of the logrank test for comparing two or more
survival distributions.  The generalization to complex samples is based
on the characterization of the logrank test as the score test in a Cox model.
Under simple random sampling with replacement, this function with
<code>rho=0</code> and <code>gamma=0</code> is almost identical to the robust score test
in the survival package. The <code>rho=0</code> and <code>gamma=0</code> version was
proposed by Rader (2014).
</p>


<h3>Usage</h3>

<pre><code class="language-R">svylogrank(formula, design, rho=0,gamma=0,method=c("small","large","score"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>

<p>Model formula with a single predictor. The predictor must be a factor if it has more than two levels.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>

<p>A survey design object
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho,gamma</code></td>
<td>
<p>Coefficients for the Harrington/Fleming G-rho-gamma
tests. The default is the logrank test, <code>rho=1</code> gives a
generalised Wilcoxon test</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p><code>"small"</code> works faster when a matrix with dimension
number of events by number of people fits easily in memory;
<code>"large"</code> works faster for large data sets;  <code>"score"</code> works
by brute-force construction of an expanded data set, and is for debugging</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>for future expansion.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector containing the z-statistic for comparing each level of the variable to the lowest, the chisquared statistic for the logrank test, and the p-value.
</p>


<h3>References</h3>

<p>Rader, Kevin Andrew. 2014. Methods for Analyzing Survival and
Binary Data in Complex Surveys. Doctoral dissertation, Harvard
University.<a href="http://nrs.harvard.edu/urn-3:HUL.InstRepos:12274283">http://nrs.harvard.edu/urn-3:HUL.InstRepos:12274283</a>
</p>


<h3>See Also</h3>

<p><code>svykm</code>, <code>svycoxph</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library("survival")
data(nwtco)
## stratified on case status
dcchs&lt;-twophase(id=list(~seqno,~seqno), strata=list(NULL,~rel),
         subset=~I(in.subcohort | rel), data=nwtco, method="simple")
svylogrank(Surv(edrel,rel)~factor(stage),design=dcchs)

data(pbc, package="survival")
pbc$randomized &lt;- with(pbc, !is.na(trt) &amp; trt&gt;0)
biasmodel&lt;-glm(randomized~age*edema,data=pbc)
pbc$randprob&lt;-fitted(biasmodel)
dpbc&lt;-svydesign(id=~1, prob=~randprob, strata=~edema, data=subset(pbc,randomized))

svylogrank(Surv(time,status==2)~trt,design=dpbc)

svylogrank(Surv(time,status==2)~trt,design=dpbc,rho=1)

rpbc&lt;-as.svrepdesign(dpbc)
svylogrank(Surv(time,status==2)~trt,design=rpbc)

</code></pre>


</div>