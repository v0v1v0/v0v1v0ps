<div class="container">

<table style="width: 100%;"><tr>
<td>eaxis</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extended / Engineering Axis for Graphics</h2>

<h3>Description</h3>


<p>An extended <code>axis()</code> function which labels more
prettily, in particular for log-scale axes.
</p>
<p>It  makes use of plotmath or (LaTeX) <code>expression</code>s of
the form <code class="reqn">k \times 10^k</code> for labeling a
log-scaled axis and when otherwise exponential formatting would be
used (see <code>pretty10exp</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">eaxis(side, at = if(log) axTicks(side, axp=axp, log=log, nintLog=nintLog)
                 else    axTicks(side, axp=axp, log=log),
      labels = NULL, log = NULL,
      use.expr = log || format.info(as.numeric(at), digits=7)[3] &gt; 0,
      f.smalltcl = 3/5, at.small = NULL, small.mult = NULL, equidist.at.tol = 0.002,
      small.args = list(),
      draw.between.ticks = TRUE, between.max = 4,
      outer.at = TRUE, drop.1 = TRUE, sub10 = FALSE, las = 1,
      nintLog = max(12, par("lab")[2 - is.x]),
      axp = NULL, n.axp = NULL, max.at = Inf,
      lab.type = "plotmath", lab.sep = "cdot",
      ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>side</code></td>
<td>
<p>integer in 1:4, specifying side of <code>axis</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>at</code></td>
<td>
<p>numeric vector of (“normalsized”) tick locations; by
default <code>axTicks(side, ..)</code>, i.e., the same as
<code>axis()</code> would use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p><code>NULL</code> (default), <code>logical</code>,
<code>character</code> or <code>expression</code>, as in <code>axis()</code>;
in addition, if <code>NA</code>, <code>labels = TRUE</code> is passed to
<code>axis()</code>, i.e. <code>pretty10exp</code> is <em>not</em>
used.  Use <code>FALSE</code> to suppress any labeling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p>logical or <code>NULL</code> specifying if log-scale should be
used; the default depends on the current plot's axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.expr</code></td>
<td>
<p>logical specifying if <code>pretty10exp(.)</code> should
be used for constructing <code>labels</code> when they are <code>NULL</code>.  The
default is typically good enough, but you may occasionally <em>force</em>
<code>use.expr = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f.smalltcl</code></td>
<td>
<p>factor specifying the lengths of the small ticks in
proportion to the normalsized, labeled ticks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>at.small</code></td>
<td>
<p>locations of <em>small</em> ticks; the default,
<code>NULL</code>, uses <code>small.mult</code> and constructs “smart”
locations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>small.mult</code></td>
<td>
<p>positive integer (or <code>NULL</code>), used when
<code>at.small</code> is NULL to indicate which multiples of
<code>at</code> (typically <code>axTicks()</code>) should be used as
“small ticks”.  The default <code>NULL</code> will use <code>9</code> in
the log case and a number in 2:5 otherwise.</p>
</td>
</tr>
</table>
<table>
<tr style="vertical-align: top;">
<td><code>equidist.at.tol</code></td>
<td>
<p>a small positive number, a tolerance to be used
for checking equidistant <code>at</code> values.  Used to be hardwired at
<code>.001</code> which was seen to be too small; increase it when necessary.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>small.args</code></td>
<td>
<p>optional <code>list</code> of further arguments to
the (second) <code>axis()</code> call which draws the <em>small</em> ticks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw.between.ticks</code></td>
<td>
<p>(only if <code>log</code> is true): logical indicating
that possible (non-small) ticks between the labeled (via <code>at</code>)
ones should be drawn as well (and possibly also used for <code>at.small</code>
construction), see also <code>between.max</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>between.max</code></td>
<td>
<p>(only if <code>log</code> and <code>draw.between.ticks</code>
are true): integer indicating ticks should be drawn (approximately)
between the labeled ones.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer.at</code></td>
<td>
<p>logical specifying that <code>at.small</code> should also be
constructed outside the <code>at</code> range, but still inside the
corresponding <code>par("usr")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop.1</code></td>
<td>
<p>logical specifying if <code class="reqn">1 \times</code> should be dropped
from labels, passed to <code>pretty10exp()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub10</code></td>
<td>
<p>logical, integer (of length 1 or 2) or <code>"10"</code>, indicating if
some <code class="reqn">10^k</code> should be simplified to “traditional”
formats, see <code>pretty10exp</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nintLog</code></td>
<td>
<p>only used in <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> &gt; 2.13.x, when <code>log</code> is true:
approximate (lower bound on) number of intervals for log scaling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axp</code></td>
<td>
<p>to be passed to <code>axTicks()</code> if <code>at</code> is not
specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.axp</code></td>
<td>
<p>to be set to <code>axp[3]</code> when <code>axp</code> and <code>at</code>
are not specified, in order to tweak the <em>number</em> of (non-small)
tick marks produced from <code>axTicks(..)</code>, notably when
<code>log</code> is true, set <code>n.axp</code> to 1, 2, or 3:
</p>

<dl>
<dt>1:</dt>
<dd>
<p>will produce tick marks at <code class="reqn">10^j</code> for integer <code class="reqn">j</code>,</p>
</dd>
<dt>2:</dt>
<dd>
<p>gives marks  <code class="reqn">k 10^j</code> with <code class="reqn">k \in \{1, 5\}</code>,</p>
</dd>
<dt>3:</dt>
<dd>
<p>gives marks  <code class="reqn">k 10^j</code> with <code class="reqn">k \in \{1, 2, 5\}</code></p>
</dd>
</dl>
<p> see <code>'xaxp'</code> on the <code>par</code> help page.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.at</code></td>
<td>
<p>maximal number of <code>at</code> values to be used
effectively.  If you don't specify <code>at</code> yourself carefully, it
is recommended to set this to something like <code>25</code>, but this is
not the default, for back compatibility reasons.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>las, ...</code></td>
<td>
<p>arguments passed to (the first) <code>axis</code>
call.  Note that the default <code>las = 1</code> differs from
<code>axis</code>'s default <code>las = 0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lab.type</code></td>
<td>
<p>string, passed to <code>pretty10exp</code> to choose
between default <code>plotmath</code> or LaTeX label format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lab.sep</code></td>
<td>
<p>separator between mantissa and exponent for LaTeX labels,
see <code>pretty10exp</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Martin Maechler</p>


<h3>See Also</h3>

<p><code>axis</code>,
<code>axTicks</code>,
<code>axTexpr</code>,
<code>pretty10exp</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">x &lt;- lseq(1e-10, 0.1, length = 201)
plot(x, pt(x, df=3), type = "l", xaxt = "n", log = "x")
eaxis(1)
## without small ticks:
eaxis(3, at.small=FALSE, col="blue")

## If you like the ticks, but prefer traditional (non-"plotmath") labels:
plot(x,  gamma(x),   type = "l", log = "x")
eaxis(1, labels=NA)

x &lt;- lseq(.001, 0.1, length = 1000)
plot(x, sin(1/x)*x, type = "l", xaxt = "n", log = "x")
eaxis(1)
eaxis(3, n.axp = 1)# -&gt; xaxp[3] = 1:  only  10^j (main) ticks

## non- log-scale : draw small ticks, but no "10^k" if not needed:
x &lt;- seq(-100, 100, length = 1000)
plot(x, sin(x)/x, type = "l", xaxt = "n")
eaxis(1)           # default -&gt; {1, 2, 5} * 10^j  ticks
eaxis(3, n.axp = 2)# -&gt; xaxp[3] := 2 -- approximately two (main) ticks

x &lt;- seq(-1, 1, length = 1000)
plot(x, sin(x)/x, type = "l", xaxt = "n")
eaxis(1, small.args = list(col="blue"))

x &lt;- x/1000
plot(x, 1-sin(x)/x, type = "l", xaxt = "n", yaxt = "n")
eaxis(1)
eaxis(2)
## more labels than default:
op &lt;- par(lab=c(10,5,7))
plot(x, sin(x)/x, type = "l", xaxt = "n")
eaxis(1) # maybe (depending on your canvas), there are too many,
## in that case, maybe use
plot(x, sin(x)/x, type = "l", xaxt = "n")
eaxis(1, axTicks(1)[c(TRUE,FALSE)]) # drop every 2nd label
eaxis(3, labels=FALSE)

## ore use 'max.at' which thins as well:
plot(x, sin(x)/x, type = "l", xaxt = "n")
eaxis(1, max.at=6)
par(op)

### Answering R-help "How do I show real values on a log10 histogram", 26 Mar 2013
## the data:
       set.seed(1); summary(x &lt;- rlnorm(100, m = 2, sdl = 3))
## the plot (w/o  x-axis) :
       r &lt;- hist(log10(x), xaxt = "n", xlab = "x [log scale]")
## the nice axis:
       axt &lt;- axTicks(1)
       eaxis(1, at = axt, labels = pretty10exp(10^axt, drop.1=TRUE))
## Additionally demo'ing   'sub10' options:
       plot(r, xaxt="n")
       eaxis(1, at = axt, labels = pretty10exp(10^axt, drop.1=TRUE, sub10 = 2))
## or
       plot(r, xaxt="n")
       eaxis(1, at = axt, labels = pretty10exp(10^axt, drop.1=TRUE, sub10 = "10"))
## or
       plot(r, xaxt="n")
       eaxis(1, at = axt, labels = pretty10exp(10^axt, drop.1=TRUE, sub10 = c(-2, 2)))
</code></pre>


</div>