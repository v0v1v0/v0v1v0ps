<div class="container">

<table style="width: 100%;"><tr>
<td>crisk.sim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Generate a cohort in a competing risks context
</h2>

<h3>Description</h3>

<p>Simulation of cohorts in a context of competing risks survival analysis including several covariates, individual heterogeneity and periods at risk prior and after the start of follow-up. 
</p>
<p>Competing risks analysis considers time-to-first-event and the event type, possibly subject to right censoring (Beyersmann et al., 2009)
</p>


<h3>Usage</h3>

<pre><code class="language-R">crisk.sim(n, foltime, dist.ev, anc.ev, beta0.ev, dist.cens="weibull", 
anc.cens, beta0.cens, z=NULL, beta=NA, x=NA, nsit)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>

<p>integer value indicating the desired size of the cohort to be simulated.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>foltime</code></td>
<td>

<p>real number that indicates the maximum time of follow-up of the simulated cohort.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist.ev</code></td>
<td>

<p>vector of arbitrary size indicating the time to event distributions, with possible values <code>weibull</code> for the Weibull distribution, <code>lnorm</code> for the log-normal distribution and <code>llogistic</code> for the log-logistic distribution.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anc.ev</code></td>
<td>

<p>vector of arbitrary size of real components containing the ancillary parameters for the time to event distributions.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta0.ev</code></td>
<td>

<p>vector of arbitrary size of real components containing the <code class="reqn">\beta_0</code> parameters for the time to event distributions.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist.cens</code></td>
<td>

<p>string indicating the time to censoring distributions, with possible values <code>weibull</code> for the Weibull distribution, <code>lnorm</code> for the log-normal distribution, <code>llogistic</code> for the log-logistic distribution and <code>unif</code> for the uniform distribution. If no distribution is introduced, the time to censoring is assumed to follow a Weibull distribution.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anc.cens</code></td>
<td>

<p>real number containing the ancillary parameter for the time to censoring distribution or the maximum in case of uniform distributed time to censoring.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta0.cens</code></td>
<td>

<p>real number containing the <code class="reqn">\beta_0</code> parameter for the time to censoring distribution or the minimum in case of uniform distributed time to censoring.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>

<p>list of vectors with three elements containing information relative to a random effect used in order to introduce individual heterogeneity. Each vector in the list refers to a possible competing risk, so the number of vectors must be equal to <code>nsit</code> or equal to 1 if the same random effect will be used for all the causes. The first element indicates the distribution: <code>"unif"</code> states for a uniform distribution, <code>"gamma"</code> states for a gamma distribution, <code>"exp"</code> states for an exponential distribution, <code>"weibull"</code> states for a Weibull distribution and <code>"invgauss"</code> states for an inverse gaussian distribution. The second and third elements indicates the minimum and maximum in the case of a uniform distribution (both must be positive) and the parameters in the case of the rest of distributions. Note that just one parameter is needed in the case of exponential distribution. Its default value is <code>NULL</code>, indicating that no individual heterogeneity is introduced. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>

<p>list of vectors indicating the effect of the corresponding covariate. The number of vectors in <code>beta</code> must match the number of covariates, and the length of each vector must match the number of events considered. Its default value is NA, indicating that no covariates are included.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>list of vectors indicating the distribution and parameters of any covariate that the user needs to introduce in the simulated cohort. The possible distributions are <code>"normal"</code> for normal distribution, <code>"unif"</code> for uniform distribution and <code>"bern"</code> for Bernoulli distribution. Its default value is NA, indicating that no covariates are included. The number of vectors in <code>x</code> must match the number of vectors in <code>beta</code>. Each vector in <code>x</code> must contain the name of the distribution and the parameter(s), which are: the probability of success in the case of a Bernoulli distribution; the mean and the variance in the case of a <code>normal</code> distribution; and the minimum and maximum in the case of a <code>uniform</code> distribution.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsit</code></td>
<td>

<p>Number of different events that a subject can suffer. It must match the number of distributions specified in <code>dist.ev</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In order to get the function to work properly, the length of the vectors containing the parameters of the time to event and the number of distributions indicated in the parameter <code>dist.ev</code> must be the same. 
</p>


<h3>Value</h3>

<p>An object of class <code>mult.ev.data.sim</code>. It is a data frame containing the events suffered by the corresponding subjects. The columns of this data frame are detailed below
</p>
<table>
<tr style="vertical-align: top;">
<td><code>nid </code></td>
<td>
<p>an integer number that identifies the subject.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cause </code></td>
<td>
<p>cause of the event corresponding to the follow-up time of the individual.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time </code></td>
<td>
<p>time until the corresponding event happens (or time to subject drop-out).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>status </code></td>
<td>
<p>logical value indicating if the corresponding event has been suffered or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start </code></td>
<td>
<p>time at which the follow-up time begins for each event.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stop </code></td>
<td>
<p>time at which the follow-up time ends for each event.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z </code></td>
<td>
<p>Individual heterogeneity generated according to the specified distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x </code></td>
<td>
<p>value of each covariate randomly generated for each subject in the cohort.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>David Moriña, Universitat de Barcelona and Albert Navarro, Universitat Autònoma de Barcelona
</p>


<h3>References</h3>

<p>Beyersmann J, Latouche A, Buchholz A, Schumacher M. Simulating competing risks data in survival analysis. Stat Med 2009 Jan 5;<b>28</b>(1):956-971. 
</p>


<h3>See Also</h3>

<p><code>survsim-package</code>, <code>accum</code>, <code>rec.ev.sim</code>, <code>mult.ev.sim</code>, <code>simple.surv.sim</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">### A cohort with 50 subjects, with a maximum follow-up time of 100 days and two 
### covariates, following Bernoulli distributions, and a corresponding beta of 
### 0.1698695 and 0.0007010932 for each event for the first covariate and a 
### corresponding beta of 0.3735146 and 0.5591244 for each event for the 
### second covariate. Notice that the time to censorship is assumed to follow a 
### log-normal distribution.

sim.data &lt;- crisk.sim(n=50, foltime=100, dist.ev=c("lnorm","lnorm"),
anc.ev=c(1.479687, 0.5268302),beta0.ev=c(3.80342, 2.535374),dist.cens="lnorm",
anc.cens=1.242733,beta0.cens=5.421748,z=list(c("unif", 0.8,1.2), c("unif", 0.9, 1.5)), 
beta=list(c(0.1698695,0.0007010932),c(0.3735146,0.5591244)), 
x=list(c("bern", 0.381), c("bern", 0.564)), nsit=2)

summary(sim.data)
</code></pre>


</div>