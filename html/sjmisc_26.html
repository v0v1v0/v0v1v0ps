<div class="container">

<table style="width: 100%;"><tr>
<td>find_var</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find variable by name or label</h2>

<h3>Description</h3>

<p>This functions finds variables in a data frame, which variable
names or variable (and value) label attribute match a specific
pattern. Regular expression for the pattern is supported.
</p>


<h3>Usage</h3>

<pre><code class="language-R">find_var(
  data,
  pattern,
  ignore.case = TRUE,
  search = c("name_label", "name_value", "label_value", "name", "label", "value", "all"),
  out = c("table", "df", "index"),
  fuzzy = FALSE,
  regex = FALSE
)

find_in_data(
  data,
  pattern,
  ignore.case = TRUE,
  search = c("name_label", "name_value", "label_value", "name", "label", "value", "all"),
  out = c("table", "df", "index"),
  fuzzy = FALSE,
  regex = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern</code></td>
<td>
<p>Character string to be matched in <code>data</code>. May also be a
character vector of length &gt; 1 (see 'Examples'). <code>pattern</code> is
searched for in column names and variable label attributes of
<code>data</code> (see <code>get_label</code>). <code>pattern</code>
might also be a regular-expression object, as returned by <code>stringr::regex()</code>.
Alternatively, use <code>regex = TRUE</code> to treat <code>pattern</code> as a regular
expression rather than a fixed string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore.case</code></td>
<td>
<p>Logical, whether matching should be case sensitive or not.
<code>ignore.case</code> is ignored when <code>pattern</code> is no regular expression or
<code>regex = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>search</code></td>
<td>
<p>Character string, indicating where <code>pattern</code> is sought.
Use one of following options:
</p>

<dl>
<dt><code>"name_label"</code></dt>
<dd>
<p>The default, searches for <code>pattern</code> in
variable names and variable labels.</p>
</dd>
<dt><code>"name_value"</code></dt>
<dd>
<p>Searches for <code>pattern</code> in
variable names and value labels.</p>
</dd>
<dt><code>"label_value"</code></dt>
<dd>
<p>Searches for <code>pattern</code> in
variable and value labels.</p>
</dd>
<dt><code>"name"</code></dt>
<dd>
<p>Searches for <code>pattern</code> in
variable names.</p>
</dd>
<dt><code>"label"</code></dt>
<dd>
<p>Searches for <code>pattern</code> in
variable labels</p>
</dd>
<dt><code>"value"</code></dt>
<dd>
<p>Searches for <code>pattern</code> in
value labels.</p>
</dd>
<dt><code>"all"</code></dt>
<dd>
<p>Searches for <code>pattern</code> in
variable names, variable and value labels.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out</code></td>
<td>
<p>Output (return) format of the search results. May be abbreviated
and must be one of:
</p>

<dl>
<dt><code>"table"</code></dt>
<dd>
<p>A tabular overview (as data frame) with
column indices, variable names and labels of matching variables.
</p>
</dd>
<dt><code>"df"</code></dt>
<dd>
<p>A data frame with all matching variables.</p>
</dd>
<dt><code>"index"</code></dt>
<dd>
<p>A named vector with column indices of all matching variables.
</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fuzzy</code></td>
<td>
<p>Logical, if <code>TRUE</code>, "fuzzy matching" (partial and
close distance matching) will be used to find <code>pattern</code>
in <code>data</code> if no exact match was found.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>regex</code></td>
<td>
<p>Logical, if <code>TRUE</code>, <code>pattern</code> is treated as a regular
expression rather than a fixed string.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function searches for <code>pattern</code> in <code>data</code>'s column names
and - for labelled data - in all variable and value labels of <code>data</code>'s
variables (see <code>get_label</code> for details on variable labels and
labelled data). Regular expressions are supported as well, by simply using
<code>pattern = stringr::regex(...)</code> or <code>regex = TRUE</code>.
</p>


<h3>Value</h3>

<p>By default (i.e. <code>out = "table"</code>, returns a data frame with three
columns: column number, variable name and variable label. If
<code>out = "index"</code>, returns a named vector with column indices
of matching variables (variable names are used as names-attribute);
if <code>out = "df"</code>, returns the matching variables as data frame
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(efc)

# find variables with "cop" in variable name
find_var(efc, "cop")

# return data frame with matching variables
find_var(efc, "cop", out = "df")

# or return column numbers
find_var(efc, "cop", out = "index")

# find variables with "dependency" in names and variable labels
library(sjlabelled)
find_var(efc, "dependency")
get_label(efc$e42dep)

# find variables with "level" in names and value labels
res &lt;- find_var(efc, "level", search = "name_value", out = "df")
res
get_labels(res, attr.only = FALSE)

# use sjPlot::view_df() to view results
## Not run: 
library(sjPlot)
view_df(res)
## End(Not run)
</code></pre>


</div>