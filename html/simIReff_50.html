<div class="container">

<table style="width: 100%;"><tr>
<td>effcop</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fit Vine copula models to matrices of effectiveness scores</h2>

<h3>Description</h3>

<p>Fitting of and simulation from a copula model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">effcopFit(x, eff, ...)

reffcop(n, .effcop)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a matrix or data frame of effectiveness scores to estimate dependence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eff</code></td>
<td>
<p>a list of effectiveness distributions to use for the margins.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other parameters for <code>vinecop</code>, such as <code>family_set</code>,
<code>selcrit</code>, <code>trunc_lvl</code> and <code>cores</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>number of observations to simulate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.effcop</code></td>
<td>
<p>the <code>effcop</code> object representing the copula model (see <code>effcopFit</code>).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>effcopFit</code>: an object of class <code>effcop</code>, with the following components:
</p>

<table>
<tr>
<td style="text-align: right;">
    <code>data</code> </td>
<td style="text-align: left;"> the matrix of effectiveness scores used to fit the copula. </td>
</tr>
<tr>
<td style="text-align: right;">
    <code>pobs</code> </td>
<td style="text-align: left;"> the matrix of pseudo-observations computed from <code>data</code>. This is stored
      because pseudo-observations are calculated breaking ties randomly
      (see <code>pseudo_obs</code>). </td>
</tr>
<tr>
<td style="text-align: right;">
    <code>margins</code> </td>
<td style="text-align: left;"> the list of marginal effectiveness distributions. </td>
</tr>
<tr>
<td style="text-align: right;">
    <code>cop</code> </td>
<td style="text-align: left;"> the underlying copulas fitted with <code>vinecop</code>.
  </td>
</tr>
</table>
<p>These components may be altered to gain specific simulation capacity, such as
systems with the same expected value.
</p>
<p><code>reffcop</code>: a matrix of random scores.
</p>


<h3>See Also</h3>

<p><code>effCont</code> and <code>effDisc</code> for available distributions for the
margins. See package <code>rvinecopulib</code> for details on fitting
the copulas.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Automatically build a gaussian copula to many systems
d &lt;- web2010p20[,1:20] # sample P@20 data from 20 systems
effs &lt;- effDiscFitAndSelect(d, support("p20")) # fit and select margins
cop &lt;- effcopFit(d, effs, family_set = "gaussian") # fit copula
y &lt;- reffcop(1000, cop) # simulate new 1000 topics

# compare observed vs. expected mean
E &lt;- sapply(effs, function(e) e$mean)
E.hat &lt;- colMeans(y)
plot(E, E.hat)
abline(0:1)

# compare observed vs. expected variance
Var &lt;- sapply(effs, function(e) e$var)
Var.hat &lt;- apply(y, 2, var)
plot(Var, Var.hat)
abline(0:1)

</code></pre>


</div>