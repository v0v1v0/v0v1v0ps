<div class="container">

<table style="width: 100%;"><tr>
<td>Util_Invalsi_filter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Filter the Invalsi data by subject, school grade and year.</h2>

<h3>Description</h3>

<p>This function filters the database of Invalsi scores (see <code>Get_Invalsi_IS</code>) by school year, education grade and subject and returns a dataframe in wide format.
Each row corresponds to one territorial unit (either municipality or province); the numerical variables are three (the mean score, the score's standard deviation and the students coverage percentage) for each selected subject.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Util_Invalsi_filter(
  data = NULL,
  subj = c("ELI", "ERE", "ITA", "MAT"),
  grade = 8,
  level = "LAU",
  WLE = FALSE,
  Year = 2023,
  verbose = TRUE,
  autoAbort = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Object of class <code>tbl_df</code>, <code>tbl</code> and <code>data.frame</code>.
The raw Invalsi survey data that has to be filtered, obtained as output of the <code>Get_Invalsi_IS</code> function.
If <code>NULL</code>, it will be downloaded automatically, but not saved in the global environment.
<code>NULL</code> by default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subj</code></td>
<td>
<p>Character. The school subject(s) to include, among <code>"Englis_listening"</code>/<code>"ELI"</code>, <code>"English_reading"</code>/<code>"ERE"</code>, <code>"Italian"</code>/<code>"ITA"</code> and <code>"Mathematics"</code>/<code>"MAT"</code>. All four by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grade</code></td>
<td>
<p>Numeric. The school grade to chose. Either <code>2</code> (2nd year of primary school), <code>5</code> (last year of primary school), <code>8</code> (last year of middle shcool), <code>10</code> (2nd year of high school) or <code>13</code> (last year of school). <code>8</code> by default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>Character. The level of aggregation of Invalsi census data. Either <code>"NUTS-3"</code>, <code>"Province"</code>, <code>"LAU"</code>, <code>"Municipality"</code>.
If an input dataframe is provided, please select the same level of aggregation. <code>"LAU"</code> by default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>WLE</code></td>
<td>
<p>Logical. Whether the variable to choose should be the average WLE score rather that the percentage of sufficient tests, if both are available. <code>FALSE</code> by default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Year</code></td>
<td>
<p>Numeric or character value. Reference school year for the data (last available is 2022/23).
Available in the formats: <code>2022</code>, <code>"2021/2022"</code>, <code>202122</code>, <code>20212022</code>. <code>2023</code> by default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the function informs about the time needed. <code>TRUE</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>autoAbort</code></td>
<td>
<p>Logical. In case any data must be retrieved, whether to automatically abort the operation and return NULL in case of missing internet connection or server response errors. <code>FALSE</code> by default.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>tbl_df</code>, <code>tbl</code> and <code>data.frame</code>. For all subjects and school grades, the variables indicate:
</p>

<ul>
<li> <p><code>M</code> The mean score, either WLE or percentage of sufficient tests
</p>
</li>
<li> <p><code>S</code> The standard deviation of the score
</p>
</li>
<li> <p><code>C</code> The students coverage percentage (expressed in the scale 1 - 100)
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">


Util_Invalsi_filter(subj = c("Italian", "Mathematics"), grade = 5, level = "NUTS-3", Year = 2023,
                   WLE = FALSE, data = example_Invalsi23_prov)

Util_Invalsi_filter(subj = c("Italian", "Mathematics"), grade = 5, level = "NUTS-3", Year = 2023,
                    WLE = TRUE, data = example_Invalsi23_prov)

Invalsi23_high &lt;- Util_Invalsi_filter(subj = "Italian", grade = c(10,13), level = "NUTS-3",
                                      Year = 2023, data = example_Invalsi23_prov)


 summary(Invalsi23_high)

</code></pre>


</div>