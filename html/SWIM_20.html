<div class="container">

<table style="width: 100%;"><tr>
<td>quantile_stressed</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sample Quantiles of a Stressed Model</h2>

<h3>Description</h3>

<p>Provides sample quantiles for components (random variables) of a 
stochastic model, corresponding to distribution functions 
under the scenario weights.
</p>


<h3>Usage</h3>

<pre><code class="language-R">quantile_stressed(
  object,
  probs = seq(0, 1, 0.25),
  xCol = "all",
  wCol = 1,
  type = c("quantile", "(i-1)/(n-1)", "i/(n+1)", "i/n"),
  base = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A <code>SWIM</code> or <code>SWIMw</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p>Vector of probabilities with values 
in <code>[0,1]</code> (<code>default = (0, 0.25, 
0.5, 0.75, 1)</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xCol</code></td>
<td>
<p>Numeric or character vector, (names of) the columns of 
the underlying data 
of the <code>object</code> (<code>default = "all"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wCol</code></td>
<td>
<p>Numeric, the column of the scenario weights 
of the <code>object</code> (<code>default = 1</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Character, one of <code>"quantile","(i-1)/(n-1)",
"i/(n+1)","i/n"</code>, (<code>default  = "quantile"</code>). 
See details below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>Logical, if <code>TRUE</code>, statistics under the baseline 
are also returned (<code>default = "FALSE"</code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>type</code> defines the choice of algorithm used for 
calculating the estimate of the sample quantiles.  
<code>"quantile"</code> corresponds to the default interpolation used in  
<code>quantile</code>. Further options are 
<code>"(i-1)/(n-1)", "i/(n+1)", "i/n"</code> the inverse of the
empirical distribution function, using, respectively, 
<code>(wt - 1)/T, wt/(T+1), wt/T</code>, where <code>wt</code> is the 
cumulative weight and <code>T</code> the total weight (usually total 
sample size). See <code>wtd.quantile</code> 
for further details on <code>type</code>, on which
<code>quantile_stressed</code> is based. <code>type</code> is ignored for 
when evaluating quantiles for <code>SWIMw</code> objects.
</p>


<h3>Value</h3>

<p>Returns a matrix with estimates of the distribution quantiles
at the probabilities, <code>probs</code>, under the scenario weights 
<code>wCol</code>.
</p>


<h3>Author(s)</h3>

<p>Silvana M. Pesenti, Zhuomin Mao
</p>


<h3>See Also</h3>

<p>See <code>wtd.quantile</code> on which the function
<code>quantile_stressed</code> is based. <br>
See <code>cdf</code> for the empirical distribution function of 
a stressed model.
</p>


<h3>Examples</h3>

<pre><code class="language-R">     
## example with a stress on VaR
set.seed(0)
x &lt;- as.data.frame(cbind(
  "normal" = rnorm(1000), 
  "gamma" = rgamma(1000, shape = 2)))
res1 &lt;- stress(type = "VaR", x = x, 
  alpha = c(0.9, 0.95), q_ratio = 1.05)
## stressed sample quantiles  
quantile_stressed(res1, probs = seq(0.9, 0.99, 0.01), wCol = 2)    
    
</code></pre>


</div>