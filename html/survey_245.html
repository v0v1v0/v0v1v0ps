<div class="container">

<table style="width: 100%;"><tr>
<td>svyfactanal</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Factor analysis in complex surveys (experimental).
</h2>

<h3>Description</h3>

<p>This function fits a factor analysis model or SEM,  by maximum weighted likelihood.
</p>


<h3>Usage</h3>

<pre><code class="language-R">svyfactanal(formula, design, factors, 
   n = c("none", "sample", "degf","effective", "min.effective"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>

<p>Model formula specifying the variables to use
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>

<p>Survey design object
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>factors</code></td>
<td>

<p>Number of factors to estimate
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>

<p>Sample size to be used for testing: see below</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Other arguments to pass to <code>factanal</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The population covariance matrix is estimated by <code>svyvar</code>
and passed to <code>factanal</code>
</p>
<p>Although fitting these models requires only the estimated covariance
matrix, inference requires a sample size.  With <code>n="sample"</code>, the sample size is taken to be
the number of observations; with <code>n="degf"</code>, the survey degrees of
freedom as returned by <code>degf</code>.  Using <code>"sample"</code>
corresponds to standardizing weights to have mean 1, and is known to
result in anti-conservative tests.
</p>
<p>The other two methods estimate an effective sample size for each
variable as the sample size where the standard error of a variance of a
Normal distribution would match the design-based standard error
estimated by <code>svyvar</code>. With <code>n="min.effective"</code> the
minimum sample size across the variables is used; with
<code>n="effective"</code> the harmonic mean is used.  For <code>svyfactanal</code>
the test of model adequacy is optional, and the default choice,
<code>n="none"</code>, does not do the test.
</p>


<h3>Value</h3>

<p>An object of class <code>factanal</code>
</p>


<h3>References</h3>

<p>.
</p>


<h3>See Also</h3>

<p><code>factanal</code>
</p>
<p>The <code>lavaan.survey</code> package fits structural equation models to complex samples using similar techniques.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(api)
dclus1&lt;-svydesign(id=~dnum, weights=~pw, data=apiclus1, fpc=~fpc)

svyfactanal(~api99+api00+hsg+meals+ell+emer, design=dclus1, factors=2)

svyfactanal(~api99+api00+hsg+meals+ell+emer, design=dclus1, factors=2, n="effective")

##Population dat for comparison
factanal(~api99+api00+hsg+meals+ell+emer, data=apipop, factors=2)

</code></pre>


</div>