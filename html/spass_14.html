<div class="container">

<table style="width: 100%;"><tr>
<td>r.1subgroup</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate dataset of normal distributed observations in a one subgroup design</h2>

<h3>Description</h3>

<p><code>r.1subgroup</code> generates data for a design with one subgroup within a full population. Each observation is normal distributed with mean 0 in the placebo group and a potential effect in the treatment group. Whether the effect is solely in the subgroup or additionally a certain amount outside of the subgroup can be specified as well as potentially different variances within the subgroup and outside of the subgroup.
</p>


<h3>Usage</h3>

<pre><code class="language-R">r.1subgroup(n, delta, sigma, tau, fix.tau = c("YES", "NO"), k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>number of observations. If length(n) &gt; 1, the length is taken to be the number required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta</code></td>
<td>
<p>vector of treatment effects in the treatment group, c(outside subgroup, within subgroup).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma</code></td>
<td>
<p>vector of standard deviations, c(outside subgroup, inside subgroup).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau</code></td>
<td>
<p>subgroup prevalence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fix.tau</code></td>
<td>
<p>subgroup prevalence fix or simulated according to tau, see 'Details'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>sample size allocation factor between groups: see 'Details'.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For <code>delta</code><code class="reqn">=(\Delta_F\S, \Delta_S)'</code> and <code>sigma</code><code class="reqn">=(\sigma_F\S, \sigma_S)'</code>
this function <code>r.1subgroup</code> generates data as follows:
</p>
<p>Placebo group outside of subgroup <code class="reqn">~N(0,\sigma^2_F\S)</code>,
Placebo group within subgroup <code class="reqn">~N(0,\sigma^2_S)</code>,
Treatment group outside of subgroup <code class="reqn">~N(\Delta_F\S,\sigma^2_F\S)</code>,
Treatment group within subgroup <code class="reqn">~N(\Delta_S,\sigma^2_S)</code>.
</p>
<p>If <code>fix.tau=YES</code> the subgroup size is generated according to the prevalence <code>tau</code>, i.e. <code class="reqn">n_S=\tau*n</code>.
If <code>fix.tau=YES</code>, then each new generated observations probability to belong to the subgroup is <code class="reqn">Ber(\code{tau})</code>
distributed and therefore only <code class="reqn">E(n_s)=\tau*n</code> holds.
</p>
<p>The argument <code>k</code> is the
sample size allocation factor, i.e. let <code class="reqn">n_C</code> and <code class="reqn">n_T</code> denote the sample sizes of of the control and
treatment group, respectively, then <code class="reqn">k = n_T/n_C</code>.
</p>


<h3>Value</h3>

<p><code>r.1subgroup</code> returns a data matrix of dimension <code>n</code> x <code>3</code>. The first column <code>TrPl</code> defines whether
the observation belongs to the treatment group (<code>TrPl=0</code>) or to the placebo group (<code>TrPl=1</code>). Second column
contains the grouping variable <code>FS</code>. For <code>FS=1</code> the observation stems from the subgroup, for <code>FS=0</code> from
the full population without the subgroup. In the last column <code>value</code> the observation can be found.
between time points.
</p>


<h3>Source</h3>

<p><code>r.1subgroup</code> uses code contributed by Marius Placzek.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
set.seed(142)
random&lt;-r.1subgroup(n=50, delta=c(0,1), sigma=c(1,1), tau=0.4, fix.tau="YES", k=2)
random 
</code></pre>


</div>