<div class="container">

<table style="width: 100%;"><tr>
<td>strat_poly</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Stratify using polygons</h2>

<h3>Description</h3>

<p>Stratify based on polygon coverage attributes and features.
</p>


<h3>Usage</h3>

<pre><code class="language-R">strat_poly(
  poly,
  attribute,
  features,
  raster,
  filename = NULL,
  overwrite = FALSE,
  plot = FALSE,
  details = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>poly</code></td>
<td>
<p>sf. Input polygon coverage. e.g. - forest resources inventory coverage.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attribute</code></td>
<td>
<p>Character. Name of attribute within <code>poly</code> that will be stratified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>features</code></td>
<td>
<p>Vector / list of vectors. Features within <code>attribute</code>
to guide stratification.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raster</code></td>
<td>
<p>spatRaster. Raster template to enable polygon to raster conversion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>Character. Path to write stratified raster to disc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Logical. Specify whether <code>filename</code> should be overwritten on disc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>Logical. Plots output spatRaster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>details</code></td>
<td>
<p>Logical. If <code>FALSE</code> (default) output is spatRaster object of
stratified polygon attributes. If <code>TRUE</code> return a list
where <code>$outRaster</code> is the stratified attributes, <code>$lookUp</code> is the lookup table
for the stratification, and <code>poly</code> is the defined polygon <code>attribute</code> with corresponding
<code>features / strata</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A spatRaster object.
</p>


<h3>Author(s)</h3>

<p>Tristan R.H. Goodbody
</p>


<h3>See Also</h3>

<p>Other stratify functions: 
<code>strat_breaks()</code>,
<code>strat_kmeans()</code>,
<code>strat_map()</code>,
<code>strat_quantiles()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#--- load input metrics raster ---#
raster &lt;- system.file("extdata", "sraster.tif", package = "sgsR")
sraster &lt;- terra::rast(raster)

#--- read polygon coverage ---#
poly &lt;- system.file("extdata", "inventory_polygons.shp", package = "sgsR")
fri &lt;- sf::st_read(poly)

#--- stratify polygon coverage ---#
#--- specify polygon attribute to stratify ---#

attribute &lt;- "NUTRIENTS"

#--- specify features within attribute &amp; how they should be grouped ---#
#--- as a single vector ---#

features &lt;- c("poor", "rich", "medium")

srasterpoly &lt;- strat_poly(
  poly = fri,
  attribute = attribute,
  features = features,
  raster = sraster
)

#--- or as multiple lists ---#

g1 &lt;- "poor"
g2 &lt;- c("rich", "medium")

features &lt;- list(g1, g2)

srasterpoly &lt;- strat_poly(
  poly = fri,
  attribute = attribute,
  features = features,
  raster = sraster,
  details = TRUE
)
</code></pre>


</div>