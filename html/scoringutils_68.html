<div class="container">

<table style="width: 100%;"><tr>
<td>quantile_score</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Quantile Score</h2>

<h3>Description</h3>

<p>Proper Scoring Rule to score quantile predictions. Smaller values are better.
The quantile score is
closely related to the Interval score (see <code>interval_score()</code>) and is
the quantile equivalent that works with single quantiles instead of
central prediction intervals.
</p>


<h3>Usage</h3>

<pre><code class="language-R">quantile_score(true_values, predictions, quantiles, weigh = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>true_values</code></td>
<td>
<p>A vector with the true observed values of size n</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictions</code></td>
<td>
<p>nxN matrix of predictive samples, n (number of rows) being
the number of data points and N (number of columns) the number of Monte
Carlo samples. Alternatively, predictions can just be a vector of size n.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantiles</code></td>
<td>
<p>vector of size n with the quantile values of the
corresponding predictions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weigh</code></td>
<td>
<p>if TRUE, weigh the score by alpha / 2, so it can be averaged
into an interval score that, in the limit, corresponds to CRPS. Alpha is the
value that corresponds to the (alpha/2) or (1 - alpha/2) quantiles provided
and will be computed from the quantile. Alpha is the decimal value that
represents how much is outside a central prediction interval (E.g. for a
90 percent central prediction interval, alpha is 0.1). Default: <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>vector with the scoring values
</p>


<h3>References</h3>

<p>Strictly Proper Scoring Rules, Prediction,and Estimation,
Tilmann Gneiting and Adrian E. Raftery, 2007, Journal of the American
Statistical Association, Volume 102, 2007 - Issue 477
</p>
<p>Evaluating epidemic forecasts in an interval format,
Johannes Bracher, Evan L. Ray, Tilmann Gneiting and Nicholas G. Reich,
<a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1008618">https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1008618</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">true_values &lt;- rnorm(10, mean = 1:10)
alpha &lt;- 0.5

lower &lt;- qnorm(alpha / 2, rnorm(10, mean = 1:10))
upper &lt;- qnorm((1 - alpha / 2), rnorm(10, mean = 1:10))

qs_lower &lt;- quantile_score(true_values,
  predictions = lower,
  quantiles = alpha / 2
)
qs_upper &lt;- quantile_score(true_values,
  predictions = upper,
  quantiles = 1 - alpha / 2
)
interval_score &lt;- (qs_lower + qs_upper) / 2
</code></pre>


</div>