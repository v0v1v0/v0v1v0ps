<div class="container">

<table style="width: 100%;"><tr>
<td>dsr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>The (non-central) Sharpe ratio.</h2>

<h3>Description</h3>

<p>Density, distribution function, quantile function and random
generation for the Sharpe ratio distribution with <code>df</code> degrees of freedom
(and optional signal-noise-ratio <code>zeta</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">dsr(x, df, zeta, ope, ...)

psr(q, df, zeta, ope, ...)

qsr(p, df, zeta, ope, ...)

rsr(n, df, zeta, ope)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x, q</code></td>
<td>
<p>vector of quantiles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>the number of observations the statistic is based on. This 
is one more than the number of degrees of freedom in the
corresponding t-statistic, although the effect will be small
when <code>df</code> is large.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zeta</code></td>
<td>
<p>the 'signal-to-noise' parameter, <code class="reqn">\zeta</code> defined as the population
mean divided by the population standard deviation, 'annualized'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ope</code></td>
<td>
<p>the number of observations per 'epoch'. For convenience of
interpretation, The Sharpe ratio is typically quoted in 'annualized' 
units for some epoch, that is, 'per square root epoch', though returns 
are observed at a frequency of <code>ope</code> per epoch. 
The default value is 1, meaning the code will not attempt to guess
what the observation frequency is, and no annualization adjustments
will be made.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed on to the respective t-distribution functions, namely
<code>lower.tail</code> with default <code>TRUE</code>, <code>log</code> with default <code>FALSE</code>, 
and <code>log.p</code> with default <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>vector of probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>number of observations.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Suppose <code class="reqn">x_i</code> are <code class="reqn">n</code> independent draws of a normal random
variable with mean <code class="reqn">\mu</code> and variance <code class="reqn">\sigma^2</code>.
Let <code class="reqn">\bar{x}</code> be the sample mean, and <code class="reqn">s</code> be
the sample standard deviation (using Bessel's correction). Let <code class="reqn">c_0</code>
be the 'risk free rate'.  Then
</p>
<p style="text-align: center;"><code class="reqn">z = \frac{\bar{x} - c_0}{s}</code>
</p>
 
<p>is the (sample) Sharpe ratio.
</p>
<p>The units of <code class="reqn">z</code> is <code class="reqn">\mbox{time}^{-1/2}</code>.
Typically the Sharpe ratio is <em>annualized</em> by multiplying by
<code class="reqn">\sqrt{d}</code>, where <code class="reqn">d</code> is the number of observations
per epoch (typically a year).
</p>
<p>Letting <code class="reqn">z = \sqrt{d}\frac{\bar{x}-c_0}{s}</code>,
where the sample estimates are based on <code class="reqn">n</code> observations, 
then <code class="reqn">z</code> takes a (non-central) Sharpe ratio distribution
parametrized by <code class="reqn">n</code> 'degrees of freedom', non-centrality parameter
<code class="reqn">\zeta = \frac{\mu - c_0}{\sigma}</code>, and 
annualization parameter <code class="reqn">d</code>. 
</p>
<p>The parameters are encoded as follows:
</p>

<ul>
<li> <p><code class="reqn">n</code> is denoted by <code>df</code>.
</p>
</li>
<li> <p><code class="reqn">\zeta</code> is denoted by <code>zeta</code>.
</p>
</li>
<li> <p><code class="reqn">d</code> is denoted by <code>ope</code>. ('Observations Per Year')
</p>
</li>
</ul>
<p>If the returns violate the assumptions of normality, independence, etc
(<em>as they always should in the real world</em>), the sample Sharpe Ratio
will not follow this distribution. It does provide, however, a reasonable
approximation in many cases.
</p>
<p>See ‘The Sharpe Ratio: Statistics and Applications’,
section 2.2.
</p>


<h3>Value</h3>

<p><code>dsr</code> gives the density, <code>psr</code> gives the distribution function,
<code>qsr</code> gives the quantile function, and <code>rsr</code> generates random deviates.
</p>
<p>Invalid arguments will result in return value <code>NaN</code> with a warning.
</p>


<h3>Note</h3>

<p>This is a thin wrapper on the t distribution. 
The functions <code>dt, pt, qt</code> can accept ncp from
limited range (<code class="reqn">|\delta|\le 37.62</code>). Some corrections
may have to be made here for large <code>zeta</code>.
</p>


<h3>Author(s)</h3>

<p>Steven E. Pav <a href="mailto:shabbychef@gmail.com">shabbychef@gmail.com</a>
</p>


<h3>References</h3>

<p>Sharpe, William F. "Mutual fund performance." Journal of business (1966): 119-138.
<a href="https://ideas.repec.org/a/ucp/jnlbus/v39y1965p119.html">https://ideas.repec.org/a/ucp/jnlbus/v39y1965p119.html</a>
</p>
<p>Pav, S. E. "The Sharpe Ratio: Statistics and Applications." CRC Press, 2021.
</p>


<h3>See Also</h3>

<p><code>reannualize</code>
</p>
<p>t-distribution functions, <code>dt, pt, qt, rt</code>
</p>
<p>Other sr: 
<code>as.sr()</code>,
<code>confint.sr()</code>,
<code>is.sr()</code>,
<code>plambdap()</code>,
<code>power.sr_test()</code>,
<code>predint()</code>,
<code>print.sr()</code>,
<code>reannualize()</code>,
<code>se()</code>,
<code>sr_equality_test()</code>,
<code>sr_test()</code>,
<code>sr_unpaired_test()</code>,
<code>sr_vcov()</code>,
<code>sr</code>,
<code>summary.sr</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">rvs &lt;- rsr(128, 253*6, 0, 253)
dvs &lt;- dsr(rvs, 253*6, 0, 253)
pvs.H0 &lt;- psr(rvs, 253*6, 0, 253)
pvs.HA &lt;- psr(rvs, 253*6, 1, 253)

plot(ecdf(pvs.H0))
plot(ecdf(pvs.HA))


</code></pre>


</div>