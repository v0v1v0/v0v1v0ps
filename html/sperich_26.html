<div class="container">

<table style="width: 100%;"><tr>
<td>species.richness.main</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Main Function for species richness estimation</h2>

<h3>Description</h3>

<p>The main function to estimate or cross-validate the species richness based on given species occurrences.</p>


<h3>Usage</h3>

<pre><code class="language-R">species.richness.main(dataset.all.species, dataset.landwater, 
	dataset.height, distances=1:10, weight=0.5, resolution=1,
	narrow.endemic=FALSE, narrow.endemic.limit=5, upperbound=5, 
	cross.validation=FALSE, fold=5, loocv.limit=10, 
	create.image=FALSE, image.title="Interpolated Species Richness", 
	directory=getwd(), filename="species.richness.png", 
	evaluation=FALSE, eval.title="Histogramm", adjust=FALSE, 
	clusterlimit=100, predefinedClusterlist=NULL, all.species=-1, 
	export=FALSE, exportname="species.richness.tif", 
	noninterpolatedgrid=NULL, silent=TRUE, do.parallel=FALSE)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataset.all.species</code></td>
<td>
<p>A dataset containing all observed species with their ID 
(named: speciesID) and the longitude (named: long) and 
latitude (named: lat) of their occurrence location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataset.landwater</code></td>
<td>
<p>A dataset containing the percentage of land on 
a cell of a grid. The coordinates
of the cell should be given as longitude (named: long) and 
lattude (named: lat) and the percentage of land shoud be named landsum. 
If the value of 'dataset.landwater' is 'NULL', the land-water-information 
has no effect on the species richness estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataset.height</code></td>
<td>
<p>A dataset containing the longitude and lattitude of the grid cell location 
as 'long' and 'lat' and the height of the cell as 'height'. If the value of 
'dataset.height' is 'NULL', the height-information has no effect on the 
species richness estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distances</code></td>
<td>
<p>The distances used for species range estimation or cross validation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>The tuning parameter of the weighting procedure (details in Raedig et al. 2010).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resolution</code></td>
<td>
<p>The resolution of the grid in (geographical) degree.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>narrow.endemic</code></td>
<td>
<p>A boolean flag that determines if only narrow endemic species 
should be considered in species richness estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>narrow.endemic.limit</code></td>
<td>
<p>This value determines the limit of points and the maximum distance of these points up to 
which a species is considered as narrow endemic species.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upperbound</code></td>
<td>
<p>This value determines the height which is considered to be a barrier for species distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cross.validation</code></td>
<td>
<p>A logical value determining wether a cross-validation is performed. If the value is true, 
the parameters narrow.endemic and narrow.endemic.limit will be ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fold</code></td>
<td>
<p>The number of groups which should be created if the number of occurrences is greater than loocv.limit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loocv.limit</code></td>
<td>
<p>The limit below which the subsamples are created for a leave-one-out-cross-validation instead of a k-fold-cross-validation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>create.image</code></td>
<td>
<p>A boolean flag that determines if an image (PNG-File) is created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>image.title</code></td>
<td>
<p>The heading of the created image.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>directory</code></td>
<td>
<p>The directory in which the created files should be stored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>The filename of the created PNG-Files.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>evaluation</code></td>
<td>
<p>A boolean value determining wether the routine 'evaluate' is used or not. If the value is true, a PNG-File with a histogramm of the result grid will be created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eval.title</code></td>
<td>
<p>The heading of the created histogramm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjust</code></td>
<td>
<p>A boolean value determining wether an adjustment of the result grid should be done or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clusterlimit</code></td>
<td>
<p>The limit below values of 'species.richness' should not be used to build clusters. 
Each cluster will be adjusted with an own centre of species richness.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predefinedClusterlist</code></td>
<td>
<p>A list of vectors of pixelpositions (created by 'searchClusters') which are spatial related. 
The default value is NULL because the list will be created if 'adjust' is 'TRUE', 
but it may be useful for robustness estimation, because the cross-validation result should be 
adjusted with the same clusterlist as the related species richness estimation 
(and without a pre-defined clusterlist, other clusters will be build).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all.species</code></td>
<td>
<p>A vector with the identification numbers of the considered species. If the first value is -1, 
all species in the database will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>export</code></td>
<td>
<p>A boolean value that determines if the routine should export the results as GeoTiff.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exportname</code></td>
<td>
<p>The name of the created GeoTiff-file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noninterpolatedgrid</code></td>
<td>
<p>A grid containing the species occurrences (could be created via function 'createNonInterpolatedGrid').
If the value of this parameter is 'NULL', it will be created if an adjustment should be done. 
The parameter may be usefull to save time while processing more than one 'species.richness.main'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>A boolean flag that determines wether the report of status messages should be suppressed or not. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>do.parallel</code></td>
<td>
<p>A boolean flag determining wether the function uses the 'foreach'-package to process in parallel.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This routine is the main function of this package. It either estimates or 
cross-validates the species richness based on given species occurrences using 
a geometric interpolation model (details in Raedig et al. 2010).
</p>


<h3>Value</h3>

<p>This function returns a grid which contains either the weighted or the 
cross-validated species richness information. Additionally, an 
image (PNG-File) of that grid can be created.
</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>References</h3>

<p>Raedig, C., Dorman, C.F., Hildebrandt, A. and Lautenbach, S. (2010). 
Reassessing Neotropical angiosperm distribution patterns based on 
monographic data: a geometric interpolation approach. Biodivers Conserv, 19, 1523-1546.
</p>


<h3>Examples</h3>

<pre><code class="language-R">##load data
data(dataset.all.species)
data(dataset.landwater)
data(dataset.height)

##estimate species richness
species.richness.weighted &lt;- species.richness.main(dataset.all.species, 	
	    dataset.landwater, dataset.height, distances=1:5, weight=0.5, 
	    resolution=1, narrow.endemic=FALSE, narrow.endemic.limit=5, 
	    upperbound=5, cross.validation=FALSE, fold=5, loocv.limit=10, 
	    create.image=FALSE, directory=getwd(), filename="species.richness.png", 
	    all.species=1:2, export=FALSE)
</code></pre>


</div>