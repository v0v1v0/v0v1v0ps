<div class="container">

<table style="width: 100%;"><tr>
<td>symba</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Symbol analysis of a numeric (time) series</h2>

<h3>Description</h3>

<p>This function analyses one or two sequences of symbols from numeric (time) series.</p>


<h3>Usage</h3>

<pre><code class="language-R">symba(x, y = NULL, symb = 5, collapse = TRUE, entropy = "abs",
plot = FALSE, type = "l", lty1 = 1, lty2 = 2, col1 = 2, col2 = 4,
cex1 = 0.75, cex2= 0.75, xlab = "index", ylab = "Amplitude", legend=TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a first R object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>a second R object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symb</code></td>
<td>
<p>the number of symbols used for the discretisation, can be set to 3 or 5 only.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collapse</code></td>
<td>
<p>logical, if <code>TRUE</code>, the symbols are pasted in a character string of length 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>entropy</code></td>
<td>
<p>either "abs" for an absolute value or "rel" for a relative value, i. e. between 0 and 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>logical, if <code>TRUE</code> plots the series <code>x</code> (and <code>y</code>) and the respective symbols.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>if <code>plot</code> is <code>TRUE</code>, type of plot that should be drawn.
See <code>plot</code> for details (by default "l" for lines).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty1</code></td>
<td>
<p>line type of the object <code>x</code> if <code>type</code>="l".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty2</code></td>
<td>
<p>line type of the object <code>y</code> if <code>type</code>="l".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col1</code></td>
<td>
<p>colour of the object <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col2</code></td>
<td>
<p>colour of the object <code>y</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex1</code></td>
<td>
<p>character size of <code>x</code> symbols.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex2</code></td>
<td>
<p>character size of <code>y</code> symbols.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>title of the x axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>title of the y axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>logical, if <code>TRUE</code> and if <code>y</code> is not <code>NULL</code> adds a legend to the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other <code>plot</code> graphical parameters.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The analysis consists in transforming the series into a sequence of symbols (see the function
<code>discrets</code>) and in computing the absolute frequency of each symbol within the sequence.<br>
The entropy (<em>H</em>) is then calculated using the symbol frequencies.
Using the argument <code>entropy</code>, the entropy can be expressed along an absolute scale or as a relative
value varying between 0 and 1.<br>
If two numeric (time) series are provided (<code>x</code> and <code>y</code>) the absolute symbol
frequencies and entropy of each series is returned. Besides the mutual information (<em>I</em>)
is estimated according to:<br></p>
<p style="text-align: center;"><code class="reqn">I = H_{x} + H_{y} - H{xy}</code>
</p>

<p>with <em>Hx</em> the entropy of <code>x</code> symbol series,
<em>Hy</em> the entropy of <code>y</code> symbol series, and <em>Hxy</em>$ the joint entropy
of <code>x</code> and <code>y</code> symbol series.
</p>


<h3>Value</h3>

<p>If <code>y</code> is <code>NULL</code> a list of three items is returned (s1, freq1, h1).<br>
If <code>y</code> is not <code>NULL</code>, a list of 6 items is returned (s1, freq1, h1, s2, freq2, h2, I):
</p>
<table>
<tr style="vertical-align: top;">
<td><code>s1</code></td>
<td>
<p>the sequence of symbols of <code>x</code>,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq1</code></td>
<td>
<p>the relative frequency of each <code>x</code> symbol,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h1</code></td>
<td>
<p>the entropy of <code>x</code> symbol sequence,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s2</code></td>
<td>
<p>the sequence of symbols of <code>y</code>,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq2</code></td>
<td>
<p>the relative frequency of each <code>y</code> symbol,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h2</code></td>
<td>
<p>the entropy of <code>y</code> symbol sequence,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>I</code></td>
<td>
<p>the mutual information between <code>x</code> and <code>y</code>.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>It might be useful to round the values of the input series (see examples).<br>
The mutual information (<em>I</em>) should increase with the similarity
between the series to compare (<code>x</code> and <code>y</code>).
</p>


<h3>Author(s)</h3>

<p>Jerome Sueur <a href="mailto:sueur@mnhn.fr">sueur@mnhn.fr</a></p>


<h3>References</h3>

<p>Cazelles, B. 2004
Symbolic dynamics for identifying similarity between rhythms of ecological time series.
<em>Ecology Letters</em>, 7: 755-763.</p>


<h3>See Also</h3>

<p><code>discrets</code>, <code>SAX</code></p>


<h3>Examples</h3>

<pre><code class="language-R"># analysis of a frequency spectrum
data(tico)
spec1&lt;-spec(tico,f=22050,at=0.2,plot=FALSE)
symba(spec1[,2],plot=TRUE)
# it might be better to round the values
symba(round(spec1[,2],2),plot=TRUE)
# in that case the symbol entropy is close to the spectral entropy
symba(round(spec1[,2],2),entrop="rel")$h1
sh(spec1)
# to compare two frequency spectra
spec2&lt;-spec(tico,f=22050,wl=512,at=1.1,plot=FALSE)
symba(round(spec1[,2],2),round(spec2[,2],2),plot=TRUE)
</code></pre>


</div>