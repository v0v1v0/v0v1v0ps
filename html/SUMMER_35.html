<div class="container">

<table style="width: 100%;"><tr>
<td>hatchPlot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot maps with uncertainty hatching.</h2>

<h3>Description</h3>

<p>This function visualizes the map with different variables. The input data frame can be either the long or wide format.
</p>


<h3>Usage</h3>

<pre><code class="language-R">hatchPlot(
  data,
  variables,
  values = NULL,
  labels = NULL,
  geo,
  by.data,
  by.geo,
  is.long = FALSE,
  lower,
  upper,
  lim = NULL,
  lim.CI = NULL,
  breaks.CI = NULL,
  ncol = 4,
  hatch = NULL,
  border = NULL,
  size = 1,
  legend.label = NULL,
  per1000 = FALSE,
  direction = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame with variables to be plotted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variables</code></td>
<td>
<p>vector of variables to be plotted. If long format of data is used, only one variable can be selected</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values</code></td>
<td>
<p>the column corresponding to the values to be plotted, only used when long format of data is used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>vector of labels to use for each variable, only used when wide format of data is used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geo</code></td>
<td>
<p>SpatialPolygonsDataFrame object for the map</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by.data</code></td>
<td>
<p>column name specifying region names in the data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by.geo</code></td>
<td>
<p>variable name specifying region names in the data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>is.long</code></td>
<td>
<p>logical indicator of whether the data is in the long format, default to FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower</code></td>
<td>
<p>column name of the lower bound of the CI</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper</code></td>
<td>
<p>column name of the upper bound of the CI</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lim</code></td>
<td>
<p>fixed range of values for the variables to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lim.CI</code></td>
<td>
<p>fixed range of the CI widths to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks.CI</code></td>
<td>
<p>a vector of numerical values that decides the breaks in the CI widths to be shown</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncol</code></td>
<td>
<p>number of columns for the output tabs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hatch</code></td>
<td>
<p>color of the hatching lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border</code></td>
<td>
<p>color of the polygon borders.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>line width of the polygon borders.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.label</code></td>
<td>
<p>Label for the color legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>per1000</code></td>
<td>
<p>logical indicator to plot mortality rates as rates per 1,000 live births. Note that the added comparison data should always be in the probability scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>direction</code></td>
<td>
<p>Direction of the color scheme. It can be either 1 (smaller values are darker) or -1 (higher values are darker). Default is set to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>unused.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Zehang Richard Li, Katie Wilson
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
years &lt;- levels(DemoData[[1]]$time)

# obtain direct estimates
data &lt;- getDirectList(births = DemoData, 
years = years,  
regionVar = "region", timeVar = "time", 
clusterVar = "~clustid+id", 
ageVar = "age", weightsVar = "weights", 
geo.recode = NULL)
# obtain direct estimates
data_multi &lt;- getDirectList(births = DemoData, years = years,
  regionVar = "region",  timeVar = "time", clusterVar = "~clustid+id",
  ageVar = "age", weightsVar = "weights", geo.recode = NULL)
data &lt;- aggregateSurvey(data_multi)

fit2 &lt;- smoothDirect(data = data, geo = geo, Amat = mat, 
  year_label = years.all, year_range = c(1985, 2019), 
  rw = 2, is.yearly=TRUE, m = 5, type.st = 4)
out2 &lt;- getSmoothed(fit2)

plot(out2, is.yearly=TRUE, is.subnational=TRUE)

hatchPlot(data = subset(out2, is.yearly==FALSE), geo = geo,
variables=c("years"), values = c("median"), 
by.data = "region", by.geo = "REGNAME", 
lower = "lower", upper = "upper", is.long=TRUE)


## End(Not run)
</code></pre>


</div>