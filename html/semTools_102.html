<div class="container">

<table style="width: 100%;"><tr>
<td>probe3WayMC</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Probing three-way interaction on the no-centered or mean-centered latent
interaction</h2>

<h3>Description</h3>

<p>Probing interaction for simple intercept and simple slope for the
no-centered or mean-centered latent two-way interaction
</p>


<h3>Usage</h3>

<pre><code class="language-R">probe3WayMC(fit, nameX, nameY, modVar, valProbe1, valProbe2, group = 1L,
  omit.imps = c("no.conv", "no.se"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>A fitted <code>lavaan</code> or
<code>lavaan.mi</code> object with a latent 2-way interaction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nameX</code></td>
<td>
<p><code>character</code> vector of all 7 factor names used as the
predictors. The 3 lower-order factors must be listed first, followed by
the 3 second-order factors (specifically, the 4th element must be the
interaction between the factors listed first and second, the 5th element
must be the interaction between the factors listed first and third, and
the 6th element must be the interaction between the factors listed second
and third). The final name will be the factor representing the 3-way
interaction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nameY</code></td>
<td>
<p>The name of factor that is used as the dependent variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modVar</code></td>
<td>
<p>The name of two factors that are used as the moderators. The
effect of the independent factor on each combination of the moderator
variable values will be probed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>valProbe1</code></td>
<td>
<p>The values of the first moderator that will be used to
probe the effect of the independent factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>valProbe2</code></td>
<td>
<p>The values of the second moderator that will be used to
probe the effect of the independent factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>In multigroup models, the label of the group for which the
results will be returned. Must correspond to one of
<code>lavInspect(fit, "group.label")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>omit.imps</code></td>
<td>
<p><code>character</code> vector specifying criteria for omitting
imputations from pooled results. Ignored unless <code>fit</code> is of
class <code>lavaan.mi</code>. Can include any of
<code>c("no.conv", "no.se", "no.npd")</code>, the first 2 of which are the
default setting, which excludes any imputations that did not
converge or for which standard errors could not be computed.  The
last option (<code>"no.npd"</code>) would exclude any imputations which
yielded a nonpositive definite covariance matrix for observed or
latent variables, which would include any "improper solutions" such
as Heywood cases.  NPD solutions are not excluded by default because
they are likely to occur due to sampling error, especially in small
samples.  However, gross model misspecification could also cause
NPD solutions, users can compare pooled results with and without
this setting as a sensitivity analysis to see whether some
imputations warrant further investigation.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Before using this function, researchers need to make the products of the
indicators between the first-order factors using mean centering (Marsh, Wen,
&amp; Hau, 2004). Note that the double-mean centering may not be appropriate for
probing interaction if researchers are interested in simple intercepts. The
mean or double-mean centering can be done by the <code>indProd</code>
function. The indicator products can be made for all possible combination or
matched-pair approach (Marsh et al., 2004). Next, the hypothesized model
with the regression with latent interaction will be used to fit all original
indicators and the product terms. See the example for how to fit the product
term below. Once the lavaan result is obtained, this function will be used
to probe the interaction.
</p>
<p>Let that the latent interaction model regressing the dependent variable
(<code class="reqn">Y</code>) on the independent varaible (<code class="reqn">X</code>) and two moderators (<code class="reqn">Z</code>
and <code class="reqn">W</code>) be </p>
<p style="text-align: center;"><code class="reqn"> Y = b_0 + b_1X + b_2Z + b_3W + b_4XZ + b_5XW + b_6ZW
+ b_7XZW + r, </code>
</p>
<p> where <code class="reqn">b_0</code> is the estimated intercept or the expected
value of <code class="reqn">Y</code> when <code class="reqn">X</code>, <code class="reqn">Z</code>, and <code class="reqn">W</code> are 0, <code class="reqn">b_1</code> is the
effect of <code class="reqn">X</code> when <code class="reqn">Z</code> and <code class="reqn">W</code> are 0, <code class="reqn">b_2</code> is the effect of
<code class="reqn">Z</code> when <code class="reqn">X</code> and <code class="reqn">W</code> is 0, <code class="reqn">b_3</code> is the effect of <code class="reqn">W</code>
when <code class="reqn">X</code> and <code class="reqn">Z</code> are 0, <code class="reqn">b_4</code> is the interaction effect between
<code class="reqn">X</code> and <code class="reqn">Z</code> when <code class="reqn">W</code> is 0, <code class="reqn">b_5</code> is the interaction effect
between <code class="reqn">X</code> and <code class="reqn">W</code> when <code class="reqn">Z</code> is 0, <code class="reqn">b_6</code> is the interaction
effect between <code class="reqn">Z</code> and <code class="reqn">W</code> when <code class="reqn">X</code> is 0, <code class="reqn">b_7</code> is the
three-way interaction effect between <code class="reqn">X</code>, <code class="reqn">Z</code>, and <code class="reqn">W</code>, and
<code class="reqn">r</code> is the residual term.
</p>
<p>For probing three-way interaction, the simple intercept of the independent
variable at the specific values of the moderators (Aiken &amp; West, 1991) can
be obtained by </p>
<p style="text-align: center;"><code class="reqn"> b_{0|X = 0, Z, W} = b_0 + b_2Z + b_3W + b_6ZW. </code>
</p>

<p>The simple slope of the independent varaible at the specific values of the
moderators can be obtained by </p>
<p style="text-align: center;"><code class="reqn"> b_{X|Z, W} = b_1 + b_3Z + b_4W + b_7ZW.
</code>
</p>

<p>The variance of the simple intercept formula is </p>
<p style="text-align: center;"><code class="reqn"> Var\left(b_{0|X = 0,
Z, W}\right) = Var\left(b_0\right) + Z^2Var\left(b_2\right) +
W^2Var\left(b_3\right) + Z^2W^2Var\left(b_6\right) + 2ZCov\left(b_0,
b_2\right) + 2WCov\left(b_0, b_3\right) + 2ZWCov\left(b_0, b_6\right) +
2ZWCov\left(b_2, b_3\right) + 2Z^2WCov\left(b_2, b_6\right) +
2ZW^2Cov\left(b_3, b_6\right) </code>
</p>
<p> where <code class="reqn">Var</code> denotes the variance of a
parameter estimate and <code class="reqn">Cov</code> denotes the covariance of two parameter
estimates.
</p>
<p>The variance of the simple slope formula is </p>
<p style="text-align: center;"><code class="reqn"> Var\left(b_{X|Z,
W}\right) = Var\left(b_1\right) + Z^2Var\left(b_4\right) +
W^2Var\left(b_5\right) + Z^2W^2Var\left(b_7\right) + 2ZCov\left(b_1,
b_4\right) + 2WCov\left(b_1, b_5\right) + 2ZWCov\left(b_1, b_7\right) +
2ZWCov\left(b_4, b_5\right) + 2Z^2WCov\left(b_4, b_7\right) +
2ZW^2Cov\left(b_5, b_7\right) </code>
</p>

<p>Wald <em>z</em> statistic is used for test statistic (even for objects of
class <code>lavaan.mi</code>).
</p>


<h3>Value</h3>

<p>A list with two elements:
</p>

<ol>
<li> <p><code>SimpleIntercept</code>: The intercepts given each combination of
moderator values. This element will be shown only if the factor intercept
is estimated (e.g., not fixed at 0).
</p>
</li>
<li> <p><code>SimpleSlope</code>: The slopes given each combination of moderator
values.
</p>
</li>
</ol>
<p>In each element, the first column represents values of the first moderator
specified in the <code>valProbe1</code> argument. The second column represents
values of the second moderator specified in the <code>valProbe2</code> argument.
The third column is the simple intercept or simple slope. The fourth column
is the standard error of the simple intercept or simple slope. The fifth
column is the Wald (<em>z</em>) statistic. The sixth column is the <em>p</em>
value testing whether the simple intercepts or slopes are different from 0.
</p>


<h3>Author(s)</h3>

<p>Sunthud Pornprasertmanit (<a href="mailto:psunthud@gmail.com">psunthud@gmail.com</a>)
</p>
<p>Terrence D. Jorgensen (University of Amsterdam; <a href="mailto:TJorgensen314@gmail.com">TJorgensen314@gmail.com</a>)
</p>


<h3>References</h3>

<p>Tutorial:
</p>
<p>Schoemann, A. M., &amp; Jorgensen, T. D. (2021). Testing and interpreting
latent variable interactions using the <code>semTools</code> package.
<em>Psych, 3</em>(3), 322–335. <a href="https://doi.org/10.3390/psych3030024">doi:10.3390/psych3030024</a>
</p>
<p>Background literature:
</p>
<p>Aiken, L. S., &amp; West, S. G. (1991). <em>Multiple regression: Testing
and interpreting interactions</em>. Newbury Park, CA: Sage.
</p>
<p>Marsh, H. W., Wen, Z., &amp; Hau, K. T. (2004). Structural equation models of
latent interactions: Evaluation of alternative estimation strategies and
indicator construction. <em>Psychological Methods, 9</em>(3), 275–300.
<a href="https://doi.org/10.1037/1082-989X.9.3.275">doi:10.1037/1082-989X.9.3.275</a>
</p>


<h3>See Also</h3>


<ul>
<li> <p><code>indProd</code> For creating the indicator products with no
centering, mean centering, double-mean centering, or residual centering.
</p>
</li>
<li> <p><code>probe2WayMC</code> For probing the two-way latent interaction
when the results are obtained from mean-centering, or double-mean centering
</p>
</li>
<li> <p><code>probe2WayRC</code> For probing the two-way latent interaction
when the results are obtained from residual-centering approach.
</p>
</li>
<li> <p><code>probe3WayRC</code> For probing the two-way latent interaction
when the results are obtained from residual-centering approach.
</p>
</li>
<li> <p><code>plotProbe</code> Plot the simple intercepts and slopes of the
latent interaction.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
dat3wayMC &lt;- indProd(dat3way, 1:3, 4:6, 7:9)

model3 &lt;- " ## define latent variables
f1 =~ x1 + x2 + x3
f2 =~ x4 + x5 + x6
f3 =~ x7 + x8 + x9
## 2-way interactions
f12 =~ x1.x4 + x2.x5 + x3.x6
f13 =~ x1.x7 + x2.x8 + x3.x9
f23 =~ x4.x7 + x5.x8 + x6.x9
## 3-way interaction
f123 =~ x1.x4.x7 + x2.x5.x8 + x3.x6.x9
## outcome variable
f4 =~ x10 + x11 + x12

## latent regression model
f4 ~ b1*f1 + b2*f2 + b3*f3 + b12*f12 + b13*f13 + b23*f23 + b123*f123

## orthogonal terms among predictors
f1 ~~ 0*f12 + 0*f13 + 0*f123
f2 ~~ 0*f12 + 0*f23 + 0*f123
f3 ~~ 0*f13 + 0*f23 + 0*f123
f12 + f13 + f23 ~~ 0*f123

## identify latent means
x1 + x4 + x7 + x1.x4 + x1.x7 + x4.x7 + x1.x4.x7 + x10 ~ 0*1
f1 + f2 + f3 + f12 + f13 + f23 + f123 + f4 ~ NA*1
"

fitMC3way &lt;- sem(model3, data = dat3wayMC, meanstructure = TRUE)
summary(fitMC3way)

probe3WayMC(fitMC3way, nameX = c("f1" ,"f2" ,"f3",
                                 "f12","f13","f23", # the order matters!
                                 "f123"),           # 3-way interaction
            nameY = "f4", modVar = c("f1", "f2"),
            valProbe1 = c(-1, 0, 1), valProbe2 = c(-1, 0, 1))

</code></pre>


</div>