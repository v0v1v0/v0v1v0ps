<div class="container">

<table style="width: 100%;"><tr>
<td>expvar</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Expected precision for the estimates of totals</h2>

<h3>Description</h3>

<p>The function computes expected precision as variance, standard error, and coefficient of variation for the estimates.
</p>


<h3>Usage</h3>

<pre><code class="language-R">expvar(
  Yh,
  Zh = NULL,
  H,
  s2h,
  nh,
  poph,
  Rh = NULL,
  deffh = NULL,
  Dom = NULL,
  dataset = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Yh</code></td>
<td>
<p>The expected totals for variables of interest in each stratum. Object convertible to <code>data.table</code>, variable names as character vector, or column numbers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Zh</code></td>
<td>
<p>Optional variables of denominator for the expected ratio estimation in each stratum. Object convertible to <code>data.table</code>, variable names as character vector, or column numbers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>H</code></td>
<td>
<p>The stratum variable. One dimensional object convertible to one-column <code>data.table</code>, variable name as character, or column number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s2h</code></td>
<td>
<p>The expected population variance <code class="reqn">S^2</code> for variables of interest in each stratum. Variables is defined the same arrangement as <code>Yh</code>. Object convertible to <code>data.table</code>, variable name as character vector, or column numbers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nh</code></td>
<td>
<p>Sample size in each stratum. One dimensional object convertible to one-column <code>data.table</code>, variable name as character, or column number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>poph</code></td>
<td>
<p>Population size in each stratum. One dimensional object convertible to one-column <code>data.table</code>, variable name as character, or column number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rh</code></td>
<td>
<p>The expected response rate in each stratum (optional). If not defined, it is assumed to be 1 in each stratum (full-response). Object convertible to one-column <code>data.table</code>, variable name as character, or column number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deffh</code></td>
<td>
<p>The expected design effect for the estimates of totals (optional). If not defined, it is assumed to be 1 for each variable in each stratum. If is defined, then variables is defined the same arrangement as <code>Yh</code>. Object convertible to <code>data.table</code>, variable name as character vector, or column numbers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Dom</code></td>
<td>
<p>Optional variables used to define population domains. Only domains as unions of strata can be defined. If supplied, estimated precision is calculated for each domain. An object convertible to <code>data.table</code>, variable names as character vector, or column numbers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataset</code></td>
<td>
<p>Optional survey data object convertible to <code>data.table</code> with one row for each stratum.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with three data objects:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>resultH</code></td>
<td>
<p>An object as <code>data.table</code>, with variables: <br><code>H</code> - stratum, <br><code>variableY</code> - the name of variable of interest, <br><code>variableZ</code> - the name of optional variable of denominator for the expected ratio estimation, <br><code>estim</code> - total value, <br><code>deffh</code> - the expected design effect, <br><code>s2h</code> - population variance <code class="reqn">S^2</code>, <br><code>nh</code> - sample size, <br><code>Rh</code> - the expected response rate, <br><code>poph</code> - population size, <br><code>nrh</code> - expected number of respondents, <br><code>var</code> - expected variance, <br><code>se</code> - expected standard error, <br><code>cv</code> - expected coeficient of variance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resultDom</code></td>
<td>
<p>An object as <code>data.table</code>, with variables: <br><code>Dom</code> - domain, <br><code>variableY</code> - the name of variable of interest, <br><code>variableZ</code> - the name of optional variable of denominator for the expected ratio estimation, <br><code>poph</code> - the population size, <br><code>nh</code> - sample size, <br><code>nrh</code> - expected number of respondents, <br><code>estim</code> - total value, <br><code>var</code> - the expected variance, <br><code>se</code> - the expected standart error, <br><code>cv</code> - the expected coeficient of variance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>result</code></td>
<td>
<p>An object as <code>data.table</code>, with variables: <br><code>variableY</code> - the name of variable of interest, <br><code>variableZ</code> - the name of optional variable of denominator for the expected ratio estimation, <br><code>poph</code> - the population size, <br><code>nh</code> - sample size, <br><code>nrh</code> - expected number of respondents, <br><code>estim</code> - total value, <br><code>var</code> - the expected variance, <br><code>se</code> - the expected standart error, <br><code>cv</code> - the expected coeficient of variance.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>expvar</code>, <code>optsize</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library("data.table")
data &lt;- data.table(H = 1:3, Yh = 10 * 1:3,
                   Yh1 = 10 * 4:6, s2h = 10 * runif(3),
                   s2h2 = 10 * runif(3), nh = rep(4 * 1:3),
                   poph = 8 * 1:3, Rh = rep(1, 3),
                   deffh = rep(2, 3), deffh2 = rep(3, 3))

vars &lt;- expvar(Yh = c("Yh", "Yh1"), H = "H",
               s2h = c("s2h", "s2h2"),
               nh = "nh", poph = "poph",
               Rh = "Rh", deffh = c("deffh", "deffh2"),
               dataset = data)
vars

</code></pre>


</div>