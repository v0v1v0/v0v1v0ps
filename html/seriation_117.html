<div class="container">

<table style="width: 100%;"><tr>
<td>registry_for_criterion_methods</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Registry for Criterion Methods</h2>

<h3>Description</h3>

<p>A registry to manage methods used by <code>criterion()</code> to calculate a criterion value given data and a
permutation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">registry_criterion

list_criterion_methods(kind, names_only = TRUE)

get_criterion_method(kind, name)

set_criterion_method(
  kind,
  name,
  fun,
  description = NULL,
  merit = NA,
  control = list(),
  verbose = FALSE,
  ...
)

## S3 method for class 'criterion_method'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>kind</code></td>
<td>
<p>the data type the method works on. For example, <code>"dist"</code>,
<code>"matrix"</code> or <code>"array"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names_only</code></td>
<td>
<p>logical; return only the method name. <code>FALSE</code> returns
also the method descriptions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>the name for the method used to refer to the method in the
function <code>criterion()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>a function containing the method's code.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>description</code></td>
<td>
<p>a description of the method. For example, a long name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>merit</code></td>
<td>
<p>logical; indicating if the criterion measure is a merit
(<code>TRUE</code>) or a loss (<code>FALSE</code>) measure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>a list with control arguments and default values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical; print a message when a new method is registered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further information that is stored for the method in the
registry.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class "criterion_method" to be printed.</p>
</td>
</tr>
</table>
<h3>Format</h3>

<p>An object of class <code>criterion_registry</code> (inherits from <code>registry</code>) of length 21.
</p>


<h3>Details</h3>

<p>All methods below are convenience methods for the registry named
<code>registry_criterion</code>.
</p>
<p><code>list_criterion_method()</code> lists all available methods for a given data
type (<code>kind</code>). The result is a vector of character strings with the
short names of the methods. If <code>kind</code> is missing, then a list of
methods is returned.
</p>
<p><code>get_criterion_method()</code> returns information (including the
implementing function) about a given method in form of an object of class
<code>"criterion_method"</code>.
</p>
<p>With <code>set_criterion_method()</code> new criterion methods can be added by the
user. The implementing function (<code>fun</code>) needs to have the formal
arguments <code style="white-space: pre;">⁠x, order, ...⁠</code>, where <code>x</code> is the data object, order is
an object of class ser_permutation_vector and <code>...</code> can contain
additional information for the method passed on from <code>criterion()</code>. The
implementation has to return the criterion value as a scalar.
</p>


<h3>Value</h3>


<ul>
<li> <p><code>list_criterion_method()</code> results is a vector of character strings with the
names of the methods used for <code>criterion()</code>.
</p>
</li>
<li> <p><code>get_criterion_method()</code> returns a given method in form of an object of class
<code>"criterion_method"</code>.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Michael Hahsler
</p>


<h3>See Also</h3>

<p>This registry uses registry::registry.
</p>
<p>Other criterion: 
<code>criterion()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## the registry
registry_criterion

# List all criterion calculation methods by type
list_criterion_methods()

# List methods for matrix
list_criterion_methods("matrix")

# get more description
list_criterion_methods("matrix", names_only = FALSE)

# get a specific method
get_criterion_method(kind = "dist", name = "AR_d")

# Define a new method (sum of the diagonal elements)

## 1. implement a function to calculate the measure
criterion_method_matrix_foo &lt;- function(x, order, ...) {
if(!is.null(order)) x &lt;- permute(x,order)
    sum(diag(x))
}

## 2. Register new method
set_criterion_method("matrix", "DiagSum", criterion_method_matrix_foo,
    description = "Calculated the sum of all diagonal entries", merit = FALSE)

list_criterion_methods("matrix")
get_criterion_method("matrix", "DiagSum")

## 3. use all criterion methods (including the new one)
criterion(matrix(1:9, ncol = 3))
</code></pre>


</div>