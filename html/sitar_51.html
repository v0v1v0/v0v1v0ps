<div class="container">

<table style="width: 100%;"><tr>
<td>subsample</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sample from SITAR dataset</h2>

<h3>Description</h3>

<p>A function to sample from a SITAR dataset for experimental design purposes.
Two different sampling schemes are offered, based on the values of <code>id</code>
and <code>x</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">subsample(x, id, data, prob = 1, xlim = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>vector of age.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>factor of subject identifiers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>dataframe containing <code>x</code> and <code>id</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>scalar defining sampling probability. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>length 2 vector defining range of <code>x</code> to be selected. See
Details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>With the first sampling scheme <code>xlim</code> is set to <code>NULL</code> (default),
and rows of <code>data</code> are sampled with probability <code>prob</code> without
replacement.  With the second sampling scheme <code>xlim</code> is set to a range
within <code>range(x)</code>.  Subjects <code>id</code> are then sampled with
probability <code>prob</code> without replacement, and all their rows where
<code>x</code> is within <code>xlim</code> are selected.  The second scheme is useful
for testing the power of the model to predict later growth when data only up
to a certain age are available. Setting <code>xlim</code> to <code>range(x)</code>
allows data to be sampled by subject. The returned value can be used as the
<code>subset</code> argument in <code>sitar</code> or <code>update.sitar</code>.
</p>


<h3>Value</h3>

<p>Returns a logical the length of <code>x</code> where <code>TRUE</code> indicates
a sampled value.
</p>


<h3>Author(s)</h3>

<p>Tim Cole <a href="mailto:tim.cole@ucl.ac.uk">tim.cole@ucl.ac.uk</a>
</p>


<h3>See Also</h3>

<p><code>sitar</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## draw 50% random sample
s50 &lt;- subsample(age, id, heights, prob=0.5)

## truncate age range to 7-12 for 50% of subjects
t50 &lt;- subsample(age, id, heights, prob=0.5, xlim=c(7, 12))

</code></pre>


</div>