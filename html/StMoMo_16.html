<div class="container">

<table style="width: 100%;"><tr>
<td>extractCohort</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract cohort from an age-period array</h2>

<h3>Description</h3>

<p>Extract cohorts from an age-period array. This is useful to
construct a life table or to perform actuarial/demographic 
calculations on a cohort basis using the output of several functions
in <code>StMoMo</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">extractCohort(A, age = as.numeric(dimnames(A)[[1]][1]),
  period = as.numeric(dimnames(A)[[2]][1]), cohort = period - age)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>A</code></td>
<td>
<p>an age-period array with a demographic quantity. This array 
can have two or more dimensions, with the first dimension being the age and 
the second dimension being the period (calendar year). Note that the names 
of these two dimension are taken to represent the possible ages and periods
in the array.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age</code></td>
<td>
<p>optional age for defining the cohort to be extracted. If 
argument <code>age</code> is provided (and argument <code>cohort</code> is not) then the 
extracted cohort corresponds to those born in the year <code>period-age</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>period</code></td>
<td>
<p>optional period (calendar year) for defining the cohort to be 
extracted. If argument <code>period</code> is provided (and argument <code>cohort</code> 
is not) then the extracted cohort corresponds to those born in the year 
<code>period-age</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cohort</code></td>
<td>
<p>optional cohort to be extracted. If this argument is provided
then arguments <code>age</code> and <code>period</code> are ignored.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If the the input array is two dimensional the the output is a 
a vector with the quantity along the cohort. Otherwise if <code>A</code> is an 
N-dimensional  array the output is an (N-1)-dimensional array with the first 
dimension representing the cohort.
</p>


<h3>See Also</h3>

<p><code>fitted.fitStMoMo</code>, <code>forecast.fitStMoMo</code>,
<code>simulate.fitStMoMo</code>, <code>simulate.bootStMoMo</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">LCfit &lt;- fit(lc(), data = EWMaleData, ages.fit = 55:89)
#Plot forecast mortality rates for the 1950 cohort
LCfor &lt;- forecast(LCfit)
plot(55:61, extractCohort(fitted(LCfit, type = "rates"), cohort = 1950), 
     type = "l", log = "y", xlab = "age", ylab = "Mortality rate", 
     main = "Mortality rates for the 1950 cohort", 
     xlim = c(55,89), ylim = c(0.005, 0.12))
lines(62:89, extractCohort(LCfor$rates, cohort = 1950), lty = 2, col = "blue")


#Plot 10 simulated sets of mortality rates for the cohort 
# aged 60 in year 2010 (i.e., the 1950 cohort)
LCsim &lt;- simulate(LCfit, nsim = 10)
mSim &lt;- extractCohort(LCsim$rates, age = 60, period = 2010)
plot(55:61, extractCohort(fitted(LCfit, type = "rates"), cohort = 1950), 
     type = "l", log = "y", xlab = "age", ylab = "Mortality rate", 
     main = "Mortality rates for the 1950 cohort", 
     xlim = c(55,89), ylim = c(0.005, 0.12))
matlines(62:89, mSim, lty = 2)

</code></pre>


</div>