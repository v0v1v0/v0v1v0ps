<div class="container">

<table style="width: 100%;"><tr>
<td>ocheck</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>functions to evaluate low order projection properties of (O)SOAs</h2>

<h3>Description</h3>

<p><code>ocheck</code> and <code>ocheck3</code> evaluate pairwise or 3-orthogonality of columns,
<code>count_npairs</code> evaluates the number of level pairs in 2D projections,
<code>count_nallpairs</code> calculates corresponding total numbers of pairs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ocheck(D, verbose = FALSE)

ocheck3(D, verbose = FALSE)

count_npairs(D, minn = 1)

count_nallpairs(ns)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>D</code></td>
<td>
<p>a matrix with factor levels or an object of class <code>SOA</code>;<br>
factor levels can start with 0 or with 1, and need to be consecutively numbered</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical; if <code>TRUE</code>, additional information is printed
(table of correlations)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minn</code></td>
<td>
<p>small integer number; the function counts pairs that are covered at least <code>minn</code> times</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ns</code></td>
<td>
<p>vector of numbers of levels for each column</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Functions <code>ocheck</code> and <code>ocheck3</code> return a logical.
</p>
<p>Functions <code>count_npairs</code> returns a vector of
counts for level combinations covered in factor pairs (in the order of the columns of
<code>DoE.base:::nchoosek(ncol(D),2)</code>) for the array in <code>D</code>,<br>
function <code>count_nallpairs</code> provides the total number of level combinations for
designs with numbers of levels given in <code>ns</code> (and thus can be used to obtain
a denominator for <code>count_npairs</code>).
</p>


<h3>Author(s)</h3>

<p>Ulrike Groemping
</p>


<h3>Examples</h3>

<pre><code class="language-R">#' ## Shi and Tang strength 3+ construction in 7 8-level factors for 32 runs
D &lt;- SOAs_8level(32, optimize=FALSE)
## is an OSOA
ocheck(D)

## an OSOA of strength 3 with 3-orthogonality
## 4 columns in 27 levels each
## second order model matrix

D_o &lt;- OSOAs_LiuLiu(DoE.base::L81.3.10, optimize=FALSE)
ocheck3(D_o)

## benefit of 3-orthogonality for second order linear models
colnames(D_o) &lt;- paste0("X", 1:4)
y &lt;- stats::rnorm(81)
mylm &lt;- stats::lm(y~(X1+X2+X3+X4)^2 + I(X1^2)+I(X2^2)+I(X3^2)+I(X4^2),
                   data=as.data.frame(scale(D_o, scale=FALSE)))
crossprod(stats::model.matrix(mylm))
</code></pre>


</div>