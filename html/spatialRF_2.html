<div class="container">

<table style="width: 100%;"><tr>
<td>auto_cor</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Multicollinearity reduction via Pearson correlation</h2>

<h3>Description</h3>

<p>Computes the correlation matrix among a set of predictors, orders the correlation matrix according to a user-defined preference order, and removes variables one by one, taking into account the preference order, until the remaining ones are below a given Pearson correlation threshold. <strong>Warning</strong>: variables in <code>preference.order</code> not in <code>colnames(x)</code>, and non-numeric columns are removed silently from <code>x</code> and <code>preference.order</code>. The same happens with rows having NA values (<code>na.omit()</code> is applied). The function issues a warning if zero-variance columns are found.
</p>


<h3>Usage</h3>

<pre><code class="language-R">auto_cor(
  x = NULL,
  preference.order = NULL,
  cor.threshold = 0.5,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A data frame with predictors, or the result of <code>auto_vif()</code> Default: <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preference.order</code></td>
<td>
<p>Character vector indicating the user's order of preference to keep variables. Doesn't need to contain If not provided, variables in <code>x</code> are prioritised by their column order. Default: <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cor.threshold</code></td>
<td>
<p>Numeric between 0 and 1, with recommended values between 0.5 and 0.9. Maximum Pearson correlation between any pair of the selected variables. Default: <code>0.50</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical. if <code>TRUE</code>, describes the function operations to the user. Default:: <code>TRUE</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Can be chained together with <code>auto_vif()</code> through pipes, see the examples below.
</p>


<h3>Value</h3>

<p>List with three slots:
</p>

<ul>
<li> <p><code>cor</code>: correlation matrix of the selected variables.
</p>
</li>
<li> <p><code>selected.variables</code>: character vector with the names of the selected variables.
</p>
</li>
<li> <p><code>selected.variables.df</code>: data frame with the selected variables.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>auto_vif()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(interactive()){

 #load data
 data(plant_richness_df)

 #on a data frame
 out &lt;- auto_cor(x = plant_richness_df[, 5:21])

 #getting the correlation matrix
 out$cor

 #getting the names of the selected variables
 out$selected.variables

 #getting the data frame of selected variables
 out$selected.variables.df

 #on the result of auto_vif
 out &lt;- auto_vif(x = plant_richness_df[, 5:21])
 out &lt;- auto_cor(x = out)

 #with pipes
 out &lt;- plant_richness_df[, 5:21] %&gt;%
 auto_vif() %&gt;%
 auto_cor()

}
</code></pre>


</div>