<div class="container">

<table style="width: 100%;"><tr>
<td>svyweight</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>svyweight: Quick and Flexible Rake Weighting</h2>

<h3>Description</h3>

<p>svyweight is a package for quickly and flexibly calculating
rake weights (also know as rim weights). It is
designed to interact with <code>survey.design</code> objects generated via
<code>survey::svydesign()</code>, and other to otherwise build on functionalities
from Thomas Lumley's 'survey' package.
</p>


<h3>Rake weighting concepts</h3>

<p>Post-stratification weights are commonly used in survey research to ensure
that sample is representative of the population it is drawn from, in cases
where some people selected for inclusion in a sample might decline to
participate. To calculate post-stratification weights, observed categorical
variables in a survey dataset (usually demographic variables) must be
matched with "targets" (typically known population demographics from census
data). Survey respondents from underrepresented categories are upweighted,
while respondents from overrepresented categories are downweighted.
</p>
<p>svyweight implements "rake" or "rim" weighting (sometimes
known as iterative proportional fitting). This is a
widely-used method for simultaneously calculating weights on multiple
variables, when no join distribution for these variables is known. For
example, population data on past vote (from election results) and age (from
the census) are generally known. However, as the joint distribution of past
vote and age is <em>not</em> generally known, a technique such as rake
weighting must be used to apply weights on both variables simultaneously.
</p>


<h3>Package features</h3>

<p>The core function in svyweight is <code>rakesvy()</code>
(and the related <code>rakew8()</code>. This takes calculates post-stratification weights
given A)  data frame or a <code>survey.design</code> object generated by <code>svydesign()</code>,
and B) a set of weighting targets The command is designed to make weighting as simple as
possible, with the following features:
</p>

<ul>
<li>
<p> Weighting to either counts or percentage targets
</p>
</li>
<li>
<p> Allowing specification of targets as vectors, matrices, or data frames
</p>
</li>
<li>
<p> Accepting targets of 0 (equivalent to dropping cases from analysis)
</p>
</li>
<li>
<p> Allowing targets to be quickly rebased a specified sample size
</p>
</li>
<li>
<p> Flexibly matching targets to the correct variables in a dataset
</p>
</li>
<li>
<p> Dynamically specifying weight targets based on recodes of variables in observed data
</p>
</li>
</ul>
<p>The package does this in part by introducing the <code>w8margin</code>
object class. A w8margin is a desired raw <em>count</em> of categories for a
variable, in the format required for actually computing weights.
However, this format is somewhat cumbersome to specify manually. The package includes methods
for converting named vectors, matrices, and data frames to w8margin object;
<code>[rakesvy()]</code> and <code>rakew8()</code> call these methods automatically.
</p>
<p>At present, the core weighting calculations are actually performed via the
'survey' package's <code>survey::rake()</code> function. This might change
with future releases, although the basic approach to iterative
weighting is not expected to change.
</p>
<p>The package is under development. Contributions to the package,
or suggestions for additional features, are gratefully accepted via email
or GitHub.
</p>


<h3>Author(s)</h3>

<p>Ben Mainwaring (<a href="mailto:mainwaringb@gmail.com">mainwaringb@gmail.com</a>, <a href="https://www.linkedin.com/in/mainwaringb">https://www.linkedin.com/in/mainwaringb</a>)
</p>


<h3>References</h3>

<p>Lumley, Thomas. 2011. <em>Complex Surveys: A Guide to Analysis Using R</em>. New York: Wiley.
</p>


<h3>See Also</h3>

<p>Package GitHub repository: <a href="https://github.com/mainwaringb/svyweight">https://github.com/mainwaringb/svyweight</a>
</p>


</div>