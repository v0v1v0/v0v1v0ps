<div class="container">

<table style="width: 100%;"><tr>
<td>scqe</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Stability controlled quasi-experiment (scqe)</h2>

<h3>Description</h3>

<p>Main scqe function. Computes scqe estimates and corresponding confidence
intervals.
</p>


<h3>Usage</h3>

<pre><code class="language-R">scqe(
  post,
  treatment,
  outcome,
  min_outcome,
  max_outcome,
  delta,
  min_delta,
  max_delta,
  cohort,
  untr_pre,
  untr_post,
  tr_post,
  tr_pre,
  Y_tr_post,
  Y_untr_post,
  Y_tr_pre,
  Y_untr_pre,
  untr,
  tr,
  Y_tr,
  Y_untr,
  alpha = 0.05,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>post</code></td>
<td>
<p>Binary vector corresponding to T = 0, 1 for each observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatment</code></td>
<td>
<p>Binary or continuous vector corresponding (usually) to [0,1]
(no treatment or treatment) for each observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome</code></td>
<td>
<p>Continuous vector representing the outcome for each
observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_outcome</code></td>
<td>
<p>Minimum value for the outcome.
Optional, not used if <code>outcome</code> is supplied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_outcome</code></td>
<td>
<p>Maximum value for the outcome.
Optional, not used if <code>outcome</code> is supplied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta</code></td>
<td>
<p>Single value or vector of possible values for change in
average non-treatment outcome between cohorts (if applicable).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_delta</code></td>
<td>
<p>Minimum delta. Optional, not used if <code>delta</code> is supplied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_delta</code></td>
<td>
<p>Maximum delta. Optional, not used if <code>delta</code> is supplied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cohort</code></td>
<td>
<p>Numeric, 1 or 2 depending on cohort membership.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>untr_pre</code></td>
<td>
<p>Integer number of untreated patients in the first cohort if
applicable (summary statistics input) (T=0).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>untr_post</code></td>
<td>
<p>Integer number of untreated patients in the second cohort
if applicable (summary statistics input) (T=1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tr_post</code></td>
<td>
<p>Integer number of treated patients in the second cohort if
applicable (summary statistics input) (T=1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tr_pre</code></td>
<td>
<p>Integer number of treated patients in the first cohort if
applicable (summary statistics input) (T=0).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y_tr_post</code></td>
<td>
<p>Outcome for patients who received treatment at time T=1
(summary statistics input).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y_untr_post</code></td>
<td>
<p>Outcome for patients who did not receive treatment at
time T=1 (summary statistics input).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y_tr_pre</code></td>
<td>
<p>Outcome for patients who did receive treatment at time T=0
(summary statistics input).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y_untr_pre</code></td>
<td>
<p>Outcome for patients who did not receive treatment at time
T=0 (summary statistics input).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>untr</code></td>
<td>
<p>Integer number of untreated patients (summary statistics input).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tr</code></td>
<td>
<p>Integer number of treated patients (summary statistics input).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y_tr</code></td>
<td>
<p>Outcome for treated patients (summary statistics input).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y_untr</code></td>
<td>
<p>Outcome for untreated patients (summary statistics input).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Numeric alpha for confidence interval (default is alpha = 0.05).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra optional arguments.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>scqe object, results table
</p>


<h3>References</h3>

<p>Hazlett, C. (2019), 'Estimating causal effects of new treatments
despite self-selection: The case of experimental medical treatments.'
Journal of Causal Inference.
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(1234)
post = c(rep(0,100), rep(1,100))
tx = c(rep(0, 100), rbinom(n = 100, prob = 0.27, size = 1))
y = rbinom(n = 200, prob = 0.1 + .02 * post - 0.05 * tx, size = 1)

# Two cohorts, full data
scqe.2cohort.full = scqe(post = post, treatment = tx, outcome = y,
                        delta = seq(from = -0.1, to = 0.1, by = 0.05))
plot(scqe.2cohort.full)
summary(scqe.2cohort.full)

# One cohort, full data
scqe.1cohort.full = scqe(treatment = tx, outcome = y,
                        delta=seq(from = -0.1, to = 0.1, by = 0.05))
plot(scqe.1cohort.full)
summary(scqe.1cohort.full)

# Two cohorts, summary data only
scqe.2cohort.sum = scqe(untr_pre = 200,untr_post = 150, tr_post = 50,
                       tr_pre = 0, Y_tr_post = 20, Y_untr_post = 1,
                       Y_tr_pre = 0, Y_untr_pre = 5, min_delta = 0.1,
                       max_delta = 1)
plot(scqe.2cohort.sum)
summary(scqe.2cohort.sum)

# One cohort, summary data only
scqe.1cohort.sum = scqe(untr = 100, tr = 200, Y_untr = 5, Y_tr = 50,
                        min_delta= 0.1, max_delta = 1)
plot(scqe.1cohort.sum)
summary(scqe.1cohort.sum)

</code></pre>


</div>