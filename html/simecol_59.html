<div class="container">

<table style="width: 100%;"><tr>
<td>initialize-methods</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Methods for Function ‘initialize’ in Package ‘simecol’</h2>

<h3>Description</h3>

<p>This function is used to initialize objects derived from the
<code>simObj</code> superclass, it is by default automatically called during
object creation and by <code>sim</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'simObj'
initialize(.Object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.Object</code></td>
<td>
<p><code>simObj</code> instance which is to be
re-initialized.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>provided for compatibility with the default method of
<code>initialize</code>, or slots of the object which is to be created (in
case of <code>new</code>).
</p>
</td>
</tr>
</table>
<h3>Methods</h3>


<dl>
<dt>.Object = "ANY"</dt>
<dd>
<p>Generic function: see <code>new</code>.</p>
</dd>
<dt>.Object = "simObj"</dt>
<dd>
<p>The <code>initialize</code> function is normally called implicitly by
<code>new</code> to create new objects. It may also be called explicitly
to return a cloned and re-initialized object.
</p>
<p>The <span class="pkg">simecol</span> version of <code>initialize</code> provides an
additonal mechanism to call a user specified function provided in
the <code>initfun</code> slot of a <code>simObj</code> instance that can
perform computations during the object creation process. The
<code>initfunc</code> must have <code>obj</code> as its only argument and must
return the modified version of this <code>obj</code>, see examples
below. As a side effect end to ensure consistency,
<code>initialize</code> clears outputs stored in slot <code>out</code> from
former simulations.
</p>
</dd>
</dl>
<h3>See Also</h3>

<p><code>simObj</code>, <code>new</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Note: new calls initialize and initialize calls initfunc(obj)
lv_efr &lt;- new("odeModel",
  main = function (time, init, parms, ...) {
    x &lt;- init
    p &lt;- parms
    S &lt;- approxTime1(inputs, time, rule=2)["s.in"]
    dx1 &lt;-   S * p["k1"] * x[1] - p["k2"] * x[1] * x[2]
    dx2 &lt;-     - p["k3"] * x[2] + p["k2"] * x[1] * x[2]
    list(c(dx1, dx2))
  },
  parms  = c(k1=0.2, k2=0.2, k3=0.2),
  times  = c(from=0, to=100, by=0.5),
  init   = c(prey=0.5, predator=1),
  solver = "lsoda",
  initfunc = function(obj) {
    tt &lt;- fromtoby(times(obj))
    inputs(obj) &lt;- as.matrix(data.frame(
            time = tt,
            s.in = pmax(rnorm(tt, mean=1, sd=0.5), 0)
          ))
    obj
  }
)
plot(sim(lv_efr))                     # initialize called automatically
plot(sim(lv_efr))                     # automatic initialization, different figure

lv_efr&lt;- initialize(lv_efr)           # re-initialize manually
plot(sim(lv_efr, initialize = FALSE)) # simulation with that configuration
    

</code></pre>


</div>