<div class="container">

<table style="width: 100%;"><tr>
<td>dynTextGrob</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Create Text with Changing Size
</h2>

<h3>Description</h3>

<p>This function creates a text object.  When drawn, its size changes
automatically according to the space available.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dynTextGrob(label, x = 0.5, y = 0.5, width = 1, height = 1,
            default.units = "npc", just = c(0.5, 0.5),
            hjust = NULL, vjust = NULL, rot = 0, rotJust = TRUE,
            rotHjust = NULL, rotVjust = NULL, resize = TRUE,
            sizingWidth = NULL, sizingHeight = NULL,
            adjustJust = TRUE, takeMeasurements = FALSE,
            name = NULL, gp = gpar(), vp = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p> a <code>character</code> or <code>expression</code> vector, or a
<code>list</code> containing both character strings and
mathematical expressions.  These are the text
items to be drawn. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> a <code>numeric</code> vector or <code>unit</code> of x locations for
the labels. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p> a <code>numeric</code> vector or <code>unit</code> of y locations for
the labels. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p> the space available for the labels in the width
direction of the viewport.  Used for computing the fontsize. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p> the space available for the labels in the height
direction of the viewport.  Used for computing the fontsize. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default.units</code></td>
<td>
<p> default unit to use when dimensions or locations
are unitless numbers.  See <code>unit</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>just</code></td>
<td>
<p> a <code>numeric</code> or <code>character</code> vector with one or
two elements for setting the same justification for all labels.  See
<code>textGrob</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hjust</code></td>
<td>
<p> a <code>numeric</code> vector for setting horizontal
justification of individual labels.  If given, overrides
<code>just</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vjust</code></td>
<td>
<p> a <code>numeric</code> vector for setting vertical
justification of individual labels.  If given, overrides
<code>just</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rot</code></td>
<td>
<p> a <code>numeric</code> vector for setting the rotation angle of
individual labels in degrees. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rotJust</code></td>
<td>
<p> a <code>logical</code> vector which affects the
justification of individual labels.  If an element is <code>FALSE</code>,
the corresponding label is first justified according to <code>hjust</code>
(reading direction) and <code>vjust</code> (the perpendicular direction),
then rotated.  This is the way a <code>textGrob</code> works.  If
an element is <code>TRUE</code>, the concept is: align the label with the
other labels according to <code>rotHjust</code> (reading direction) and
<code>rotVjust</code> (the perpendicular direction), then rotate, and
finally justify in the width and height directions of the viewport
with <code>hjust</code> and <code>vjust</code>, respectively. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rotHjust</code></td>
<td>
<p> a <code>numeric</code> vector or <code>NULL</code>.  When the
corresponding element of <code>rotJust</code> is <code>TRUE</code>,
<code>rotHjust</code> sets the justification of a label in the reading
direction.  If <code>NULL</code> or an <code>NA</code> element is encountered,
an automatic value will be computed based on rotation angle
(<code>rot</code>) and justification along the viewport axes (<code>just</code>,
<code>hjust</code> and <code>vjust</code>).  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rotVjust</code></td>
<td>
<p> a <code>numeric</code> vector or <code>NULL</code>.  Set the
justification of labels perpendicular to the reading direction when
<code>rotJust</code> is <code>TRUE</code>.  See <code>rotHjust</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resize</code></td>
<td>
<p> a <code>logical</code> flag.  If <code>TRUE</code> (the default),
the fontsize of the labels will be adjusted according to the space
available.  If <code>FALSE</code>, the size will remain constant, even if
the graphical object is drawn in a viewport with a different setting
for the <code>"cex"</code> graphical parameter. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sizingWidth</code></td>
<td>
<p> If <code>resize</code> is <code>TRUE</code>, a <code>numeric</code>
value given here sets the width of the grob used when calculating
fontsize at drawing time.  If <code>NULL</code> (the default), the size is
computed from the actual dimensions of the labels.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sizingHeight</code></td>
<td>
<p> See <code>sizingWidth</code>, only height instead of
width.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjustJust</code></td>
<td>
<p> A <code>logical</code> flag.  If <code>TRUE</code> (the
default), adjustments are made to the justification of the labels
instead of passing the justification settings straight to the
underlying <code>textGrob</code>(s).  The justification of labels
given in <code>expression</code> form will be unified with the
justification of <code>character</code> labels, meaning that a setting of
<code>vjust = 0</code> will align the baselines of the labels and
<code>vjust = 1</code> will align the labels at lineheight, or at a
multiple of lineheight in case of multiline <code>character</code> labels.
The labels will also be shifted so that there is room for
descenders. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>takeMeasurements</code></td>
<td>
<p> A <code>logical</code> flag.  If <code>TRUE</code>, only
measurements of labels will be returned instead of a graphical
object.  An example of where this might be useful is when several
labels should have the same fontsize but different graphical
parameters such as color, or when the labels should be drawn in
different viewports.  See the source of <code>sisalTable</code>,
particularly <code>makeContent.sisalTable</code>, for an example.  If
<code>FALSE</code> (the default) a graphical object will be returned. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p> a <code>character</code> string identifier for the graphical
object returned by the function.  If <code>NULL</code> (the default), a
name will be assigned automatically.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gp</code></td>
<td>
<p> graphical parameters.  See <code>gpar</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vp</code></td>
<td>
<p> a <code>"viewport"</code> object, the name of a viewport object,
a <code>vpPath</code> object pointing to a viewport or <code>NULL</code>
(the default).  If not <code>NULL</code>, this graphical object will be
drawn in the given viewport.  The name or the path must point to a
descendant of the viewport that is current at drawing time.  See
<code>current.vpPath</code>, <code>current.vpTree</code>,
<code>downViewport</code> and <code>grid.draw</code>. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The number of labels created is the maximum of the lengths of <code>x</code>
and <code>y</code>.  Variables are recycled to that length if necessary.
</p>
<p>All labels of one <code>"dynText"</code> grob have the same fontsize.
</p>


<h3>Value</h3>

<p>If <code>takeMeasurements</code> is <code>FALSE</code> (the default), returns a
<code>grob</code> of <code>class</code> <code>"dynText"</code>.  It can be drawn
with <code>grid.draw</code>.
</p>
<p>If <code>takeMeasurements</code> is <code>TRUE</code>, returns a <code>list</code>
containing measurements of the labels.
</p>


<h3>Author(s)</h3>

<p>Mikko Korpela
</p>


<h3>See Also</h3>

<p>See function <code>textGrob</code> in package
grid.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(grid)
grid.newpage()
grid.draw(dynTextGrob("Hello", vjust = 0, y = 0))
grid.draw(dynTextGrob(list(expression(y==x^2),
                           "Hello,\ntry resizing me!"),
                      x = rep(1, 2), y = 1, rot = -45,
                      hjust = 1, vjust = 1,
                      rotHjust = c(0, 1), rotVjust = 1))
</code></pre>


</div>