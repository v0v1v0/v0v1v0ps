<div class="container">

<table style="width: 100%;"><tr>
<td>B2i</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Balances to isometric log-ratio
</h2>

<h3>Description</h3>

<p>Coefficients of log of parts in a balance matrix,  
(+1) for numerator  and (-1) for denominator, are transformed
into the corresponding isometric log-ratio (ilr) coefficients
</p>


<h3>Usage</h3>

<pre><code class="language-R">B2i(bal, balnames=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>bal</code></td>
<td>
<p> a (<code class="reqn">D-1</code> x <code class="reqn">D</code>) balance matrix with cells +1, 0 or -1.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>balnames</code></td>
<td>
<p> logical, if TRUE, balance names are attributed to ilr transforms; if FALSE (default) ilr transforms are numbered <code class="reqn">ilr1</code> to <code class="reqn">ilrD1</code>, where <code class="reqn">D1=D-1</code> and <code class="reqn">D</code> is the number of parts.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Two scalars multiplying positive and negative cells respectively are defined for each row of the matrix <code class="reqn">bal</code> in such a way that the resulting matrix defines the ilr transformation to apply to the log of a compositional vector. The output transformation matrix is transposed for application to a compositional dataset where the compositions are the rows.
</p>


<h3>Value</h3>

<p> a  <code class="reqn">D \times (D-1)</code> matrix giving the coefficients of the ilr transforms 
</p>


<h3>References</h3>

<p>Pawlowsky-Glahn, V., J. J. Egozcue, and R. Tolosana-Delgado (2007). Lecture Notes on Compositional Data Analysis.
</p>


<h3>Examples</h3>

<pre><code class="language-R">bal &lt;- matrix(c(1,-1,0,1,1,-1),nrow=2, byrow=TRUE)
colnames(bal) &lt;- paste("l.P",1:3,sep="") 
bal
B2i(bal)

rownames(bal) &lt;- paste("B",1:2,sep="") 
bal
B2i(bal,balnames=TRUE)
B2i(bal)

</code></pre>


</div>