<div class="container">

<table style="width: 100%;"><tr>
<td>MICA.ContCont</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Assess surrogacy in the causal-inference multiple-trial setting (Meta-analytic Individual Causal Association; MICA) in the continuous-continuous case</h2>

<h3>Description</h3>

<p>The function <code>MICA.ContCont</code> quantifies surrogacy in the multiple-trial causal-inference framework. See <b>Details</b> below.</p>


<h3>Usage</h3>

<pre><code class="language-R">MICA.ContCont(Trial.R, D.aa, D.bb, T0S0, T1S1, T0T0=1, T1T1=1, S0S0=1, S1S1=1,
T0T1=seq(-1, 1, by=.1), T0S1=seq(-1, 1, by=.1), T1S0=seq(-1, 1, by=.1),
S0S1=seq(-1, 1, by=.1))</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Trial.R</code></td>
<td>
<p>A scalar that specifies the trial-level correlation coefficient (i.e., <code class="reqn">R_{trial}</code>) that should be used in the computation of <code class="reqn">\rho_{M}</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>D.aa</code></td>
<td>
<p>A scalar that specifies the between-trial variance of the treatment effects on the surrogate endpoint (i.e., <code class="reqn">d_{aa}</code>) that should be used in the computation of <code class="reqn">\rho_{M}</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>D.bb</code></td>
<td>
<p>A scalar that specifies the between-trial variance of the treatment effects on the true endpoint (i.e., <code class="reqn">d_{bb}</code>) that should be used in the computation of <code class="reqn">\rho_{M}</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T0S0</code></td>
<td>
<p>A scalar or vector that specifies the correlation(s) between the surrogate and the true endpoint in the control treatment condition that should be considered in the computation of <code class="reqn">\rho_{M}</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T1S1</code></td>
<td>
<p>A scalar or vector that specifies the correlation(s) between the surrogate and the true endpoint in the experimental treatment condition that should be considered in the computation of <code class="reqn">\rho_{M}</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T0T0</code></td>
<td>
<p>A scalar that specifies the variance of the true endpoint in the control treatment condition that should be considered in the computation of <code class="reqn">\rho_{M}</code>. Default 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T1T1</code></td>
<td>
<p>A scalar that specifies the variance of the true endpoint in the experimental treatment condition that should be considered in the computation of <code class="reqn">\rho_{M}</code>. Default 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S0S0</code></td>
<td>
<p>A scalar that specifies the variance of the surrogate endpoint in the control treatment condition that should be considered in the computation of <code class="reqn">\rho_{M}</code>. Default 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S1S1</code></td>
<td>
<p>A scalar that specifies the variance of the surrogate endpoint in the experimental treatment condition that should be considered in the computation of <code class="reqn">\rho_{M}</code>. Default 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T0T1</code></td>
<td>
<p>A scalar or vector that contains the correlation(s) between the counterfactuals T0 and T1 that should be considered in the computation of <code class="reqn">\rho_{M}</code>. Default <code>seq(-1, 1, by=.1)</code>, i.e., the values <code class="reqn">-1</code>, <code class="reqn">-0.9</code>, <code class="reqn">-0.8</code>, ..., <code class="reqn">1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T0S1</code></td>
<td>
<p>A scalar or vector that contains the correlation(s) between the counterfactuals T0 and S1 that should be considered in the computation of <code class="reqn">\rho_{M}</code>. Default <code>seq(-1, 1, by=.1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T1S0</code></td>
<td>
<p>A scalar or vector that contains the correlation(s) between the counterfactuals T1 and S0 that should be considered in the computation of <code class="reqn">\rho_{M}</code>. Default <code>seq(-1, 1, by=.1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S0S1</code></td>
<td>
<p>A scalar or vector that contains the correlation(s) between the counterfactuals S0 and S1 that should be considered in the computation of <code class="reqn">\rho_{M}</code>. Default <code>seq(-1, 1, by=.1)</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Based on the causal-inference framework, it is assumed that each subject <em>j</em> in trial <em>i</em> has four counterfactuals (or potential outcomes), i.e., <code class="reqn">T_{0ij}</code>, <code class="reqn">T_{1ij}</code>, <code class="reqn">S_{0ij}</code>, and <code class="reqn">S_{1ij}</code>. Let <code class="reqn">T_{0ij}</code> and <code class="reqn">T_{1ij}</code> denote the counterfactuals for the true endpoint (<code class="reqn">T</code>) under the control (<code class="reqn">Z=0</code>) and the experimental (<code class="reqn">Z=1</code>) treatments of subject <em>j</em> in trial <em>i</em>, respectively. Similarly, <code class="reqn">S_{0ij}</code> and <code class="reqn">S_{1ij}</code> denote the corresponding counterfactuals for the surrogate endpoint (<code class="reqn">S</code>) under the control and experimental treatments of subject <em>j</em> in trial <em>i</em>, respectively. The individual causal effects of <code class="reqn">Z</code> on <code class="reqn">T</code> and <code class="reqn">S</code> for a given subject <em>j</em> in trial <em>i</em> are then defined as <code class="reqn">\Delta_{T_{ij}}=T_{1ij}-T_{0ij}</code> and <code class="reqn">\Delta_{S_{ij}}=S_{1ij}-S_{0ij}</code>, respectively.
</p>
<p>In the multiple-trial causal-inference framework, surrogacy can be quantified as the correlation between the individual causal effects of <code class="reqn">Z</code> on <code class="reqn">S</code> and <code class="reqn">T</code> (for details, see Alonso et al., submitted):
</p>
<p style="text-align: center;"><code class="reqn">\rho_{M}=\rho(\Delta_{Tij},\:\Delta_{Sij})=\frac{\sqrt{d_{bb}d_{aa}}R_{trial}+\sqrt{V(\varepsilon_{\Delta Tij})V(\varepsilon_{\Delta Sij})}\rho_{\Delta}}{\sqrt{V(\Delta_{Tij})V(\Delta_{Sij})}},</code>
</p>

<p>where
</p>
<p style="text-align: center;"><code class="reqn">V(\varepsilon_{\Delta Tij})=\sigma_{T_{0}T_{0}}+\sigma_{T_{1}T_{1}}-2\sqrt{\sigma_{T_{0}T_{0}}\sigma_{T_{1}T_{1}}}\rho_{T_{0}T_{1}},</code>
</p>

<p style="text-align: center;"><code class="reqn">V(\varepsilon_{\Delta Sij})=\sigma_{S_{0}S_{0}}+\sigma_{S_{1}S_{1}}-2\sqrt{\sigma_{S_{0}S_{0}}\sigma_{S_{1}S_{1}}}\rho_{S_{0}S_{1}},</code>
</p>

<p style="text-align: center;"><code class="reqn">V(\Delta_{Tij})=d_{bb}+\sigma_{T_{0}T_{0}}+\sigma_{T_{1}T_{1}}-2\sqrt{\sigma_{T_{0}T_{0}}\sigma_{T_{1}T_{1}}}\rho_{T_{0}T_{1}},</code>
</p>

<p style="text-align: center;"><code class="reqn">V(\Delta_{Sij})=d_{aa}+\sigma_{S_{0}S_{0}}+\sigma_{S_{1}S_{1}}-2\sqrt{\sigma_{S_{0}S_{0}}\sigma_{S_{1}S_{1}}}\rho_{S_{0}S_{1}}.</code>
</p>

<p>The correlations between the counterfactuals (i.e., <code class="reqn">\rho_{S_{0}T_{1}}</code>, <code class="reqn">\rho_{S_{1}T_{0}}</code>, <code class="reqn">\rho_{T_{0}T_{1}}</code>, and <code class="reqn">\rho_{S_{0}S_{1}}</code>) are not identifiable from the data. It is thus warranted to conduct a sensitivity analysis (by considering vectors of possible values for the correlations between the counterfactuals â€“ rather than point estimates).
</p>
<p>When the user specifies a vector of values that should be considered for one or more of the correlations that are involved in the computation of <code class="reqn">\rho_{M}</code>, the function <code>MICA.ContCont</code> constructs all possible matrices that can be formed as based on the specified values, identifies the matrices that are positive definite (i.e., valid correlation matrices), and computes <code class="reqn">\rho_{M}</code> for each of these matrices. An examination of the vector of the obtained <code class="reqn">\rho_{M}</code> values allows for a straightforward examination of the impact of different assumptions regarding the correlations between the counterfactuals on the results (see also <code>plot Causal-Inference ContCont</code>), and the extent to which proponents of the causal-inference and meta-analytic frameworks will reach the same conclusion with respect to the appropriateness of the candidate surrogate at hand.
</p>
<p><b>Notes</b>
A single <code class="reqn">\rho_{M}</code> value is obtained when all correlations in the function call are scalars.
</p>


<h3>Value</h3>

<p>An object of class <code>MICA.ContCont</code> with components,
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Total.Num.Matrices</code></td>
<td>
<p>An object of class <code>numeric</code> which contains the total number of matrices that can be formed as based on the user-specified correlations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Pos.Def</code></td>
<td>
<p>A <code>data.frame</code> that contains the positive definite matrices that can be formed based on the user-specified correlations. These matrices are used to compute the vector of the <code class="reqn">\rho_{M}</code> values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ICA</code></td>
<td>
<p>A scalar or vector of the <code class="reqn">\rho_{\Delta}</code> values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MICA</code></td>
<td>
<p>A scalar or vector of the <code class="reqn">\rho_{M}</code> values.</p>
</td>
</tr>
</table>
<h3>Warning</h3>

<p>The theory that relates the causal-inference and the meta-analytic frameworks in the multiple-trial setting (as developped in Alonso et al., submitted) assumes that a reduced or semi-reduced modelling approach is used in the meta-analytic framework. Thus <code class="reqn">R_{trial}</code>,  <code class="reqn">d_{aa}</code> and <code class="reqn">d_{bb}</code> should be estimated based on a reduced model (i.e., using the <code>Model=c("Reduced")</code> argument in the functions <code>UnifixedContCont</code>, <code>UnimixedContCont</code>, <code>BifixedContCont</code>, or <code>BimixedContCont</code>) or based on a semi-reduced model (i.e., using the <code>Model=c("SemiReduced")</code> argument in the functions <code>UnifixedContCont</code>, <code>UnimixedContCont</code>, or <code>BifixedContCont</code>). </p>


<h3>Author(s)</h3>

<p>Wim Van der Elst, Ariel Alonso, &amp; Geert Molenberghs
</p>


<h3>References</h3>

<p>Alonso, A., Van der Elst, W., Molenberghs, G., Buyse, M., &amp; Burzykowski, T. (submitted). On the relationship between the causal-inference and meta-analytic paradigms for the validation of surrogate markers.
</p>


<h3>See Also</h3>

<p><code>ICA.ContCont</code>,  <code>MICA.Sample.ContCont</code>, <code>plot Causal-Inference ContCont</code>, <code>UnifixedContCont</code>, <code>UnimixedContCont</code>, <code>BifixedContCont</code>, <code>BimixedContCont</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run:  #time-consuming code parts
# Generate the vector of MICA values when R_trial=.8, rho_T0S0=rho_T1S1=.8,
# sigma_T0T0=90, sigma_T1T1=100,sigma_ S0S0=10, sigma_S1S1=15, D.aa=5, D.bb=10,
# and when the grid of values {0, .2, ..., 1} is considered for the
# correlations between the counterfactuals:
SurMICA &lt;- MICA.ContCont(Trial.R=.80, D.aa=5, D.bb=10, T0S0=.8, T1S1=.8,
T0T0=90, T1T1=100, S0S0=10, S1S1=15, T0T1=seq(0, 1, by=.2),
T0S1=seq(0, 1, by=.2), T1S0=seq(0, 1, by=.2), S0S1=seq(0, 1, by=.2))

# Examine and plot the vector of the generated MICA values:
summary(SurMICA)
plot(SurMICA)


# Same analysis, but now assume that D.aa=.5 and D.bb=.1:
SurMICA &lt;- MICA.ContCont(Trial.R=.80, D.aa=.5, D.bb=.1, T0S0=.8, T1S1=.8,
T0T0=90, T1T1=100, S0S0=10, S1S1=15, T0T1=seq(0, 1, by=.2),
T0S1=seq(0, 1, by=.2), T1S0=seq(0, 1, by=.2), S0S1=seq(0, 1, by=.2))

# Examine and plot the vector of the generated MICA values:
summary(SurMICA)
plot(SurMICA)


# Same as first analysis, but specify vectors for rho_T0S0 and rho_T1S1:
# Sample from normal with mean .8 and SD=.1 (to account for uncertainty
# in estimation)
SurMICA &lt;- MICA.ContCont(Trial.R=.80, D.aa=5, D.bb=10,
T0S0=rnorm(n=10000000, mean=.8, sd=.1),
T1S1=rnorm(n=10000000, mean=.8, sd=.1),
T0T0=90, T1T1=100, S0S0=10, S1S1=15, T0T1=seq(0, 1, by=.2),
T0S1=seq(0, 1, by=.2), T1S0=seq(0, 1, by=.2), S0S1=seq(0, 1, by=.2))

## End(Not run)
</code></pre>


</div>