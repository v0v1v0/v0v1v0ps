<div class="container">

<table style="width: 100%;"><tr>
<td>restart</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Restarts R</h2>

<h3>Description</h3>

<p>Restarts <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> by quitting the current <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> session and launching a new one.
</p>


<h3>Usage</h3>

<pre><code class="language-R">restart(
  status = 0L,
  workdir = NULL,
  rcmd = NULL,
  args = NULL,
  envvars = NULL,
  as = c("current", "specified", "R CMD build", "R CMD check", "R CMD INSTALL"),
  quiet = FALSE,
  debug = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>status</code></td>
<td>
<p>An integer specifying the exit code of the current
<span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> session.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>workdir</code></td>
<td>
<p>The working directory where the new <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> session should
be launched from.  If <code>NULL</code>, then the working directory that was in
place when the <span class="pkg">startup</span> package was first loaded.  If using
<code>startup::startup()</code> in an ‘<span class="file">.Rprofile</span>’ startup file, then this
is likely to record the directory from which <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> itself was launched from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rcmd</code></td>
<td>
<p>A character string specifying the command for launching <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>.
The default is the same as used to launch the current <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> session, i.e.
<code>commandArgs()[1]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>args</code></td>
<td>
<p>A character vector specifying zero or more command-line
arguments to be appended to the system call of <code>rcmd</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envvars</code></td>
<td>
<p>A named character vector of environment variables to
be set when calling <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as</code></td>
<td>
<p>A character string specifying a predefined setups of <code>rcmd</code>,
<code>args</code>, and <code>envvars</code>.  For details, see below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>Should the restart be quiet or not?
If <code>NA</code> and <code>as == "current"</code>, then <code>quiet</code> is <code>TRUE</code> if the current
<span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> session was started quietly, otherwise <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>debug</code></td>
<td>
<p>If <code>TRUE</code>, debug messages are outputted, otherwise not.</p>
</td>
</tr>
</table>
<h3>Predefined setups</h3>

<p>Argument <code>as</code> may take the following values:
</p>

<dl>
<dt>
<code>"current"</code>:</dt>
<dd>
<p>(Default) A setup that emulates the setup of the
current <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> session as far as possible by relaunching <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> with the same
command-line call (= <code>base::commandArgs()</code>).
</p>
</dd>
<dt>
<code>"specified"</code>:</dt>
<dd>
<p>According to <code>rcmd</code>, <code>args</code>, and <code>envvars</code>.</p>
</dd>
<dt>
<code>"R CMD build"</code>:</dt>
<dd>
<p>A setup that emulates
<a href="https://github.com/wch/r-source/blob/R-3-4-branch/src/scripts/build"><code style="white-space: pre;">⁠R CMD build⁠</code></a>
as far as possible.
</p>
</dd>
<dt>
<code>"R CMD check"</code>:</dt>
<dd>
<p>A setup that emulates
<a href="https://github.com/wch/r-source/blob/R-3-4-branch/src/scripts/check"><code style="white-space: pre;">⁠R CMD check⁠</code></a>
as far as possible, which happens to be identical to the
<code>"R CMD build"</code> setup.
</p>
</dd>
<dt>
<code>"R CMD INSTALL"</code>:</dt>
<dd>
<p>A setup that emulates
<a href="https://github.com/wch/r-source/blob/R-3-4-branch/src/scripts/INSTALL"><code style="white-space: pre;">⁠R CMD INSTALL⁠</code></a>
as far as possible.
</p>
</dd>
</dl>
<p>If specified, command-line arguments in <code>args</code> and environment variables
in <code>envvars</code> are <em>appended</em> accordingly.
</p>


<h3>Known limitations</h3>

<p>It is <em>not</em> possible to restart an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> session running in <em>RGui</em> on
Microsoft Windows using this function.
</p>
<p>It is <em>not</em> possible to restart an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> session in the RStudio <em>Console</em>
using this function.  However, it does work when running <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> in the
RStudio <em>Terminal</em>.
</p>
<p>RStudio provides <code>rstudioapi::restartSession()</code> which will indeed restart
the RStudio Console.  However, it does not let you control how <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> is
restarted, e.g. with what command-line options and what environment
variables.  Importantly, the new <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> session will have the same set of
packages loaded as before, the same variables in the global environment,
and so on.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
  ## Relaunch R with debugging of startup::startup() enabled
  startup::restart(envvars = c(R_STARTUP_DEBUG = TRUE))

  ## Relaunch R without loading user Rprofile files
  startup::restart(args = "--no-init-file")

  ## Mimic 'R CMD build' and 'R CMD check'
  startup::restart(as = "R CMD build")
  startup::restart(as = "R CMD check")
  ## ... which are both short for
  startup::restart(args = c("--no-restore"),
                   envvars = c(R_DEFAULT_PACKAGES="", LC_COLLATE="C"))

## End(Not run)

</code></pre>


</div>