<div class="container">

<table style="width: 100%;"><tr>
<td>set_na_if</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Replace specific values in vector with NA</h2>

<h3>Description</h3>

<p><code>set_na_if()</code> is a scoped variant of
<code>set_na</code>, where values will be replaced only
with NA's for those variables that match the logical condition of
<code>predicate</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">set_na_if(x, predicate, na, drop.levels = TRUE, as.tag = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector or data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predicate</code></td>
<td>
<p>A predicate function to be applied to the columns. The
variables for which <code>predicate</code> returns <code>TRUE</code> are selected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na</code></td>
<td>
<p>Numeric vector with values that should be replaced with NA values,
or a character vector if values of factors or character vectors should be
replaced. For labelled vectors, may also be the name of a value label. In
this case, the associated values for the value labels in each vector
will be replaced with <code>NA</code>. <code>na</code> can also be a named vector.
If <code>as.tag = FALSE</code>, values will be replaced only in those variables
that are indicated by the value names (see 'Examples').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop.levels</code></td>
<td>
<p>Logical, if <code>TRUE</code>, factor levels of values that have
been replaced with <code>NA</code> are dropped. See 'Examples'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.tag</code></td>
<td>
<p>Logical, if <code>TRUE</code>, values in <code>x</code> will be replaced
by <code>tagged_na</code>, else by usual <code>NA</code> values. Use a named
vector to assign the value label to the tagged NA value (see 'Examples').</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>x</code>, with all values in <code>na</code> being replaced by <code>NA</code>.
If <code>x</code> is a data frame, the complete data frame <code>x</code> will
be returned, with NA's set for variables specified in <code>...</code>;
if <code>...</code> is not specified, applies to all variables in the
data frame.
</p>


<h3>See Also</h3>

<p><code>replace_na</code> to replace <code>NA</code>'s with specific
values, <code>rec</code> for general recoding of variables and
<code>recode_to</code> for re-shifting value ranges. See
<code>get_na</code> to get values of missing values in
labelled vectors.
</p>


<h3>Examples</h3>

<pre><code class="language-R">dummy &lt;- data.frame(var1 = sample(1:8, 100, replace = TRUE),
                    var2 = sample(1:10, 100, replace = TRUE),
                    var3 = sample(1:6, 100, replace = TRUE))

p &lt;- function(x) max(x, na.rm = TRUE) &gt; 7
tmp &lt;- set_na_if(dummy, predicate = p, na = 8:9)
head(tmp)
</code></pre>


</div>