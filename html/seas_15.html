<div class="container">

<table style="width: 100%;"><tr>
<td>mkann</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Make annum from a date</h2>

<h3>Description</h3>

<p>Discretizes a date into an annum, using a starting day to specify the
start of a season, and ends in the next year.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mkann(x, start.day, calendar)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>data.frame</code> with a <code>date</code> column
(of <code>Date</code> or <code>POSIXct</code> class)
</p>
<p>It may also be a vector of <code>Date</code> or
<code>POSIXct</code> class</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start.day</code></td>
<td>
<p>This is the starting day of the annum, and can be
specified as either a <code>Date</code>, where year is ignored (e.g.,
<code>as.Date("2000-08-01")</code> for August 1st of any year); or it can
be a day of the year, from 1â€“365</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calendar</code></td>
<td>
<p>if unspecified, it will be attempted to be read from
<code>attr(x$date)</code>; otherwise it is assumed to be a normal
proleptic Gregorian calendar; see <code>year.length</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This date function finds the annual-breaks between seasons, using a
<code>start.day</code>. Often, the <code>start.day</code> is 1, or January 1st,
in which case simply the year is returned, since the season starts on
January 1 and ends on December 31st. Otherwise, each annual break is
set using <code>start.day</code>, and the annum is identified by the range
of years, for example <code>1991_1992</code>, identifying a season starting on
<code>start.day</code> in 1991, and ending in the day before
<code>start.day</code> in 1992.
</p>
<p>The length of each year depends on the calendar; see
<code>year.length</code> for details.
</p>
<p>A choice of <code>start.day</code> can influence annual totals using
<code>seas.sum</code>, such as annual precipitation. For instance, if
a particular winter in the Northern hemisphere has snow before and
after the new year, these would be divided counting annual sums based
on the year, whereas if <code>start.day</code> were before the winter
season, the annual sum would be calculated throughout the winter
season.
</p>


<h3>Value</h3>

<p>Returns <code>factor</code>s for each date given in <code>x</code>, grouped
by each annum.
</p>


<h3>Author(s)</h3>

<p>Mike Toews</p>


<h3>References</h3>

<p><a href="https://en.wikipedia.org/wiki/Gregorian_calendar">https://en.wikipedia.org/wiki/Gregorian_calendar</a></p>


<h3>See Also</h3>

<p><code>mkseas</code>, <code>seas.sum</code></p>


<h3>Examples</h3>

<pre><code class="language-R">data(mscdata)
dat &lt;- mksub(mscdata, id=1108447)
dat$ann1 &lt;- mkann(dat, start.day=1)
dat$ann2 &lt;- mkann(dat, start.day=as.Date("2000-02-01"))
dat$ann3 &lt;- mkann(dat, start.day=as.Date("2000-08-01"))
table(dat$ann1)
table(dat$ann2)
table(dat$ann3)
dat[26:36, c("date", paste("ann", 1:3, sep=""))]
</code></pre>


</div>