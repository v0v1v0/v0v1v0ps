<div class="container">

<table style="width: 100%;"><tr>
<td>get_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Download data from SUNGEO server</h2>

<h3>Description</h3>

<p>Function to download data files through the SUNGEO API. Function produces a data.table object, corresponding to the user's choice of countries, topics, sources, and spatial and temporal units.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_data(
  country_names = NULL,
  country_iso3 = NULL,
  geoset = "GADM",
  geoset_yr = 2018,
  space_unit = "adm1",
  time_unit = "year",
  topics = NULL,
  year_min = 1990,
  year_max = 2017,
  print_url = TRUE,
  print_time = TRUE,
  error_stop = FALSE,
  by_topic = TRUE,
  skip_missing = TRUE,
  cache_param = FALSE,
  short_message = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>country_names</code></td>
<td>
<p>Country name(s). Character string (single country) or vector of character strings (multiple countries).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>country_iso3</code></td>
<td>
<p>Country code (ISO 3166-1 alpha-3). Character string (single country) or vector of character strings (multiple countries).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geoset</code></td>
<td>
<p>Name of geographic boundary set. Can be one of <code>"GADM"</code> (Database of Global Administrative Areas), <code>"GAUL"</code> (Global Administrative Unit Layers), <code>"geoBoundaries"</code>, <code>"GRED"</code> (GeoReferenced Electoral Districts Datasets), <code>"HEXGRID"</code> (SUNGEO Hexagonal Grid), <code>"MPIDR"</code> (Max Planck Institute for Demographic Research Population History GIS Collection), <code>"NHGIS"</code> (National Historical Geographic Information System), <code>"PRIOGRID"</code> (PRIO-GRID 2.0), <code>"SHGIS"</code> (SUNGEO Historical GIS). Default is <code>"GADM"</code>. Character string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geoset_yr</code></td>
<td>
<p>Year of geographic boundaries. See <code>get_info()['geosets']</code> for availability. Default is <code>2018</code>. Integer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>space_unit</code></td>
<td>
<p>Geographic level of analysis. Can be one of <code>"adm0"</code> (country), <code>"adm1"</code> (province), <code>"adm2"</code> (district), <code>"cst"</code> (GRED electoral constituency), <code>"hex05"</code> (SUNGEO Hexagonal Grid cell), <code>"prio"</code> (PRIO-GRID cell). See <code>get_info()['geosets']</code> for availability by geoset, country and topic. Default is <code>"adm1"</code>. Character string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_unit</code></td>
<td>
<p>Temporal level of analysis. Can be one of <code>"year"</code>, <code>"month"</code>, <code>"week"</code>. See <code>get_info()['topics']</code> for availability by topic. Default is <code>"year"</code>. Character string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>topics</code></td>
<td>
<p>Data topics. See <code>get_info()['summary']</code> for full list. Character string (single topic) or vector of character strings (multiple topics).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year_min</code></td>
<td>
<p>Time range of requested data: start year. See <code>get_info()['topics']</code> for availability by topic. Default is <code>1990</code>. Integer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year_max</code></td>
<td>
<p>Time range of requested data: end year. See <code>get_info()['topics']</code> for availability by topic. Default is <code>2017</code>. Integer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print_url</code></td>
<td>
<p>Print url string of requested data to console? Default is <code>TRUE</code>. Logical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print_time</code></td>
<td>
<p>Print processing time for API query to console? Default is <code>TRUE</code>. Logical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error_stop</code></td>
<td>
<p>Error handling. If <code>TRUE</code>, function terminates request if an error is encountered. If <code>FALSE</code>, error is skipped and error message is recorded in a new <code>message</code> column. Default is <code>FALSE</code>. Logical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by_topic</code></td>
<td>
<p>Break query down by topic and country? If <code>TRUE</code>, a separate request is sent to the API for each country and topic, and the results are combined on the client side. This ensures that data that are available for some, but not all countries are returned, rather than resulting in a failed request. If <code>FALSE</code>, a single request is sent to the API for all countries and topics, and the results are combined on the server side. Only data that are available for all countries are returned. Default is <code>TRUE</code>. Logical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip_missing</code></td>
<td>
<p>Skip missing data topics? If <code>TRUE</code>, missing data topics are skipped, columns are populated with NAs, and corresponding error message is recorded in a new <code>message</code> column. If <code>FALSE</code>, returns NULL results for missing topics. Default is <code>TRUE</code>. Logical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cache_param</code></td>
<td>
<p>Store cached query on server? This can speed up processing for repeated queries. Default is <code>FALSE</code>. Logical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>short_message</code></td>
<td>
<p>Shorten error messages? If <code>TRUE</code>, a short, informative error message is recorded in the <code>message</code> column. If <code>FALSE</code>, full error message is recorded. Default is <code>TRUE</code>. Logical.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>data.table object, with requested data from SUNGEO API.
</p>


<h3>See Also</h3>

<p><code>get_info</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Single country, single topic
## Not run: 
out_1 &lt;- get_data(country_name="Afghanistan",topics="Demographics:Population:GHS")
out_1

## End(Not run)

## Not run: 
out_2 &lt;- get_data(
	country_name=c("Afghanistan","Moldova"),
	topics=c("Demographics:Ethnicity:EPR","Demographics:Population:GHS"))
out_2

## End(Not run)

# Other boundary sets, spatial and time units
## Not run: 
out_3 &lt;- get_data(
	country_name="Albania",
	topics="Weather:AirTemperatureAndPrecipitation:NOAA",
	geoset="GAUL",geoset_yr=1990,space_unit="adm2",time_unit="month",
	year_min=1990,year_max=1991)
out_3

## End(Not run)
</code></pre>


</div>