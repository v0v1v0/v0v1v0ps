<div class="container">

<table style="width: 100%;"><tr>
<td>installation_help</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Installation help</h2>

<h3>Description</h3>

<p>Trouble shooting guide for the installation of the sjSDM package
</p>
<p>We provide a function <code>install_sjSDM</code> to install automatically
all necessary python dependencies but it can fail sometimes because of
individual system settings or if other python/conda installations get into
the way.
</p>


<h3>'PyTorch' Installation - Before you start</h3>

<p>A few notes before you start with the installation (skip this point if you
do not know 'conda'):
</p>

<ul>
<li>
<p> existing 'conda' installations:
make sure you have the latest conda3/miniconda3 version and
remove unnecessary 'conda' installations.
</p>
</li>
<li>
<p> existing 'conda'/'virtualenv' environments (skip this point if you do not know 'conda'):
we currently enforce the usage of a specific environment called 'r-sjsdm',
so if you want use a custom environment it should be named 'r-sjsdm'
</p>
</li>
</ul>
<h3>Windows - automatic installation</h3>

<p>Sometimes the automatic 'miniconda' installation
(via <code>install_sjSDM</code>) doesn't work because of white
spaces in the user's name. But you can easily download and install 'conda' on
your own:
</p>
<p>Download and install the latest
<a href="https://www.anaconda.com/download/">'conda' version</a>
</p>
<p>Afterwards run:<br><code>install_sjSDM(version = c("gpu")) # or "cpu" if you do not have a proper gpu device </code>
</p>
<p>Reload the package and run the example , if this doesn't work:
</p>

<ul>
<li>
<p> Restart RStudio
</p>
</li>
<li>
<p> Install manually 'pytorch', see the following section
</p>
</li>
</ul>
<h3>Windows - manual installation</h3>

<p>Download and install the latest 'conda' version:
</p>

<ul>
<li>
<p> Install the latest
<a href="https://www.anaconda.com/download/">'conda' version</a>
</p>
</li>
<li>
<p> Open the command window (cmd.exe - hit windows key + r and write cmd)
</p>
</li>
</ul>
<p>Run in cmd.exe:<br></p>
<pre>
$ conda create --name r-sjsdm python=3.7
$ conda activate r-sjsdm
$ conda install pytorch torchvision cpuonly -c pytorch # cpu
$ conda install pytorch torchvision cudatoolkit=11.3 -c pytorch #gpu
$ python -m pip install pyro-ppl torch_optimizer madgrad
</pre>
<p>Restart R, try to run the example, and if this doesn't work:
</p>

<ul>
<li>
<p> Restart RStudio
</p>
</li>
<li>
<p> See the 'Help and bugs' section
</p>
</li>
</ul>
<h3>Linux - automatic installation</h3>

<p>Run in R:<br><code>install_sjSDM(version = c("gpu")) # or "cpu" if 
you do not have a proper 'gpu' device </code>
</p>
<p>Restart R try to run the example, if this doesn't work:
</p>

<ul>
<li>
<p> Restart RStudio
</p>
</li>
<li>
<p> Install manually 'PyTorch', see the following section
</p>
</li>
</ul>
<h3>Linux - manual installation</h3>

<p>We strongly advise to use a 'conda' environment but a virtual env should also
work. The only requirement is that it is named 'r-sjsdm'
</p>
<p>Download and install the latest 'conda' version:
</p>

<ul>
<li>
<p> Install the latest
<a href="https://www.anaconda.com/download/">'conda' version</a>
</p>
</li>
<li>
<p> Open your terminal
</p>
</li>
</ul>
<p>Run in your terminal:<br></p>
<pre>
$ conda create --name r-sjsdm python=3.7
$ conda activate r-sjsdm
$ conda install pytorch torchvision cpuonly -c pytorch # cpu
$ conda install pytorch torchvision cudatoolkit=11.3 -c pytorch #gpu
$ python -m pip install pyro-ppl torch_optimizer madgrad
</pre>
<p>Restart R try to run the example, if this doesn't work:
</p>

<ul>
<li>
<p> Restart RStudio
</p>
</li>
<li>
<p> See the 'Help and bugs' section
</p>
</li>
</ul>
<h3>MacOS - automatic installation</h3>

<p>Run in R:<br><code>install_sjSDM(version = c("cpu"))</code>
</p>
<p>Restart R try to run the example, if this doesn't work:
</p>

<ul>
<li>
<p> Restart RStudio
</p>
</li>
<li>
<p> Install manually 'PyTorch', see the following section
</p>
</li>
</ul>
<h3>MacOS - manual installation</h3>

<p>Download and install the latest 'conda' version:
</p>

<ul>
<li>
<p> Install the latest
<a href="https://www.anaconda.com/download/">'conda' version</a>
</p>
</li>
<li>
<p> Open your terminal
</p>
</li>
</ul>
<p>Run in your terminal:<br></p>
<pre>
$ conda create --name r-sjsdm python=3.7
$ conda activate r-sjsdm
$ python -m pip install torch torchvision torchaudio 
$ python -m pip install pyro-ppl torch_optimizer madgrad
</pre>
<p>Restart R try to run the example from, if this doesn't work:
</p>

<ul>
<li>
<p> Restart RStudio
</p>
</li>
<li>
<p> See the 'Help and bugs' section
</p>
</li>
</ul>
<h3>Help and bugs</h3>

<p>To report bugs or ask for help, post a
<a href="https://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example/">reproducible example</a>
via the sjSDM <a href="https://github.com/TheoreticalEcology/s-jSDM/issues/">issue tracker</a>
with a copy of the <code>install_diagnostic</code> output as a quote.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Maximilian Pichler <a href="mailto:maximilian.pichler@biologie.uni-regensburg.de">maximilian.pichler@biologie.uni-regensburg.de</a> (<a href="https://orcid.org/0000-0003-2252-8327">ORCID</a>)
</p>
<p>Authors:
</p>

<ul><li>
<p> Florian Hartig <a href="mailto:florian.hartig@biologie.uni-regensburg.de">florian.hartig@biologie.uni-regensburg.de</a> (<a href="https://orcid.org/0000-0002-6255-9059">ORCID</a>)
</p>
</li></ul>
<p>Other contributors:
</p>

<ul><li>
<p> Wang Cai <a href="mailto:caiwang0503@163.com">caiwang0503@163.com</a> [contributor]
</p>
</li></ul>
<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/TheoreticalEcology/s-jSDM/">https://github.com/TheoreticalEcology/s-jSDM/</a>
</p>
</li>
<li>
<p> Report bugs at <a href="https://github.com/TheoreticalEcology/s-jSDM/issues">https://github.com/TheoreticalEcology/s-jSDM/issues</a>
</p>
</li>
</ul>
</div>