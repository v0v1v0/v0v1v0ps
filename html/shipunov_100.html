<div class="container">

<table style="width: 100%;"><tr>
<td>Pleiad</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Correlation circles (correlation pleiads)</h2>

<h3>Description</h3>

<p>Plot correlation circles (correlation pleiads, correlograms)</p>


<h3>Usage</h3>

<pre><code class="language-R">Pleiad(tbl, abs=FALSE, corr=FALSE, dist=FALSE, treshold=FALSE,
 circ=list(1, 1, 1), breaks=5, auto=TRUE, gr=6, lwd=NULL, lty=NULL,
 lcol=NULL,  abbr=-1, lbltext="internal", lblcex=1, off=1.09, hofft=0.07,
 hoff=1.02, legend=TRUE,  legtext=1, legpos="topright", leghoriz=FALSE,
 show.int=FALSE, dig.lab=1, neg.col=NULL, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tbl</code></td>
<td>
<p>Data: square, numeric, symmetric matrix with same row and column names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abs</code></td>
<td>
<p>If TRUE, uses absolute values instead of real</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>corr</code></td>
<td>
<p>If TRUE, uses absolute values instead of real and cuts from 0 to 1, this is good for correlation matrices</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>
<p>If TRUE, converts distance matrix to the data frame â€“ good for "dist" objects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treshold</code></td>
<td>
<p>If this is (saying) =.5, selects for plotting (with lty=1) only those values which are &gt;.5</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>circ</code></td>
<td>
<p>Line type, width and color for the cirle; if first or third =0, no cicrle</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>How to cut() values, if "cramer", then =c(0, .1, .3, .5, 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auto</code></td>
<td>
<p>If FALSE, specify 'lwd', 'lty' and 'lcol'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gr</code></td>
<td>
<p>Grayscale scheme starts from 6 breaks</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>If auto=FALSE, specify here the vector concerted with breaks</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>If auto=FALSE, specify here the vector concerted with breaks</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lcol</code></td>
<td>
<p>If auto=FALSE, specify here the vector concerted with breaks; if length(lcol) == 1, all lines are of particular color</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abbr</code></td>
<td>
<p>If =-1, no abbreviation; if =0, no labels; other values run abbreviate(..., abbr)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lbltext</code></td>
<td>
<p>If this is a vector starting from something else, will replace dimnames</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lblcex</code></td>
<td>
<p>Magnification of labels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>off</code></td>
<td>
<p>Radial offset of labels, be careful!</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hofft</code></td>
<td>
<p>Treshold determining which labels are rigtmost/leftmost, 'hofft=0' put all labels into this group</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hoff</code></td>
<td>
<p>Horizontal offset for rightmost/leftmost labels; 'hoff=1' removes offset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>If FALSE, no legend</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legtext</code></td>
<td>
<p>If =1 then "weaker ... stronger"; if =2, shows cutting intervals; if =3, then 1:5; if &gt;3, issues error</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legpos</code></td>
<td>
<p>Position of the legend, see help(legend)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leghoriz</code></td>
<td>
<p>Make the legend horizontal?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.int</code></td>
<td>
<p>Show intervals in (...] form</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dig.lab</code></td>
<td>
<p>dig.lab for cut(), use to change notation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>neg.col</code></td>
<td>
<p>If not NULL and 'abs' or 'corr' are TRUE, colorize negative correlations using specified color</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments to points()</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Correlation circles (correlation pleiads, correlograms) based on the
works of Petr Terentjev's (Saint-Petersburg) school.
</p>
<p>Please be sure to use 'corr=TRUE' or 'dist=TRUE' when working with
correlation matrices or 'dist' objects, respectively.
</p>
<p>It is probably a good idea to order data entries with hierarchical
clustering to optimize the resulted graph (see examples).
</p>
<p>Note that: (1) 'lty', 'lwd' and 'lcol' are not recycling; (2) plot has no
margins so consider second 'legend()' to add any text to the plot (see
examples); (3) it works best when number of items is relatively low (&lt;
30); (4) it can visualize (colorize) negative correlations (see examples)
but this works bes with default (black) color; (5) 'dist=TRUE' will
convert dissimilarities into similarities by substracting from maximum.
</p>
<p>Alternatives: those graph plotting packages which are able to plot
"correlogram".
</p>


<h3>Value</h3>

<p>Data frame (invisibly) with position of points, might help in plot
enchancing.
</p>


<h3>Author(s)</h3>

<p>Alexey Shipunov</p>


<h3>Examples</h3>

<pre><code class="language-R">
l.c &lt;- cor(datasets::longley, method="spearman", use="pairwise")
Pleiad(l.c, corr=TRUE, legtext=2, pch=21, cex=2, bg="white", breaks=3,
 gr=3, hoff=1, show.int=TRUE)
legend("topleft", legend="Macroeconomic correlations", text.font=2,
bty="n")

## colorize negative correlations and use hclust() to re-order
reorder &lt;- hclust(dist(t(longley)))$order
Pleiad(l.c[reorder, reorder], corr=TRUE, neg.col="red")

dr.c &lt;- cor(drosera[, -1], method="spearman", use="pairwise")
## simple example with most defaults
Pleiad(dr.c, corr=TRUE)
## complex example with user-specified colors etc.
Pleiad(dr.c, corr=TRUE, legtext=2, pch=19, cex=1.2, hoff=1.06,
 auto=FALSE, lwd=c(1, 1, 1, 2.5, 4), lty=rep(1, 5),
 lcol=colorRampPalette(c("grey", "#D8284F"))(5),
 circ=c(2, 1, 1))

## visualize distances
Pleiad(dist(t(atmospheres)), dist=TRUE, breaks=3, legtext=2, dig.lab=3)

</code></pre>


</div>