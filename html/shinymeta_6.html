<div class="container">

<table style="width: 100%;"><tr>
<td>dotdot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>The dot-dot operator</h2>

<h3>Description</h3>

<p>In shinymeta, <code>..()</code> is designed for <em>annotating</em> portions of code
inside a <code>metaExpr</code> (or its higher-level friends <code>metaReactive</code>,
<code>metaObserve</code>, and <code>metaRender</code>). At run time, these <code style="white-space: pre;">⁠meta-⁠</code> functions search for
<code>..()</code> calls and replace them with something else (see Details). Outside
of these <code style="white-space: pre;">⁠meta-⁠</code> functions, <code>..()</code> is not defined, so one must take extra care when
interrogating any code within a <code style="white-space: pre;">⁠meta-⁠</code> function that contains <code>..()</code> (see Debugging).
</p>


<h3>Usage</h3>

<pre><code class="language-R">..(expr)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>A single code expression. Required.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>As discussed in the <a href="https://rstudio.github.io/shinymeta/articles/code-generation.html">Code Generation</a>
vignette, <code>..()</code> is used to mark reactive reads and unquote expressions inside
<code>metaExpr</code> (or its higher-level friends <code>metaReactive</code>, <code>metaObserve</code>, and <code>metaRender</code>).
The actual behavior of <code>..()</code> depends on the current
<a href="https://rstudio.github.io/shinymeta/articles/code-generation.html#execution">mode of execution</a>:
</p>

<ul>
<li> <p><strong>Normal execution</strong>: the <code>..()</code> call is stripped from the expression before evaluation.
For example, <code>..(dataset())</code> becomes <code>dataset()</code>, and <code>..(format(Sys.Date()))</code> becomes
<code>format(Sys.Date())</code>.
</p>
</li>
<li> <p><strong>Meta execution</strong> (as in <code>expandChain()</code>): reactive reads are replaced with a suitable
name or value (i.e. <code>..(dataset())</code> becomes <code>dataset</code> or similar) and other code is
replaced with its result (<code>..(format(Sys.Date()))</code> becomes e.g. <code>"2019-08-06"</code>).
</p>
</li>
</ul>
<h3>Value</h3>

<p><code>expr</code>, but annotated.
</p>


<h3>Debugging</h3>

<p>If <code>..()</code> is called in a context where it isn't defined (that is, outside of a meta-expression),
you'll see an error like: "..() is only defined inside shinymeta meta-expressions".
In practice, this problem can manifest itself in at least 3 different ways:
</p>

<ol>
<li>
<p> Execution is halted, perhaps by inserting <code>browser()</code>, and from inside the <code style="white-space: pre;">⁠Browse&gt;⁠</code> prompt,
<code>..()</code> is called directly. This is also not allowed, because the purpose of <code>..()</code> is to be
searched-and-replaced away <em>before</em> <code>metaExpr</code> begins executing the code. As a result,
if you want to interrogate code that contains <code>..()</code> at the <code style="white-space: pre;">⁠Browse&gt;⁠</code> prompt,
make sure it's wrapped in <code>metaExpr</code> before evaluating it. Also, note that when
stepping through a <code>metaExpr</code> at the <code style="white-space: pre;">⁠Browse&gt;⁠</code> prompt with <code>n</code>, the debugger
will echo the actual code that's evaluated during normal execution (i.e., <code>..()</code> is stripped),
so that's another option for interrogating what happens during normal execution.
On the other hand, if you are wanting to interrogate what happens during meta-execution,
you can wrap a <code>metaExpr</code> with <code>expandChain()</code>.
</p>
</li>
<li> <p><code>..()</code> is used in a non-<code>metaExpr</code> portions of <code>metaReactive2</code>, <code>metaObserve2</code>, and
<code>metaRender2</code>. As discussed in <a href="https://rstudio.github.io/shinymeta/articles/code-generation.html#execution">The execution model</a>,
non-<code>metaExpr</code> portions of <code>-2</code> variants always use normal execution and are completely
ignored at code generation time, so <code>..()</code> isn't needed in this context.
</p>
</li>
<li>
<p> Crafted a bit of code that uses <code>..()</code> in a way that was too clever for
shinymeta to understand. For example, <code>lapply(1:5, ..)</code> is syntactically valid R code,
but it's nonsense from a shinymeta perspective.
</p>
</li>
</ol>
<h3>See Also</h3>

<p><code>metaExpr()</code>, <code>metaReactive()</code>, <code>metaObserve()</code>, <code>metaRender()</code>
</p>


</div>