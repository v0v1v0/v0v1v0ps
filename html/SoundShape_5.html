<div class="container">

<table style="width: 100%;"><tr>
<td>eig.sample</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sample of 3D point coordinates (semilandmarks) acquired with <code>eigensound</code> function</h2>

<h3>Description</h3>

<p>This sample file was acquired using <code>eigensound(analysis.type = "threeDshape")</code> and features 3D point coordinates (i.e. semilandmarks) from the calls of three frog species: <em>Physalaemus centralis</em>, <em>P. cuvieri</em> and <em>P. kroyeri</em> (Amphibia, Anura, Leptodactylidae).
</p>


<h3>Usage</h3>

<pre><code class="language-R">data(eig.sample)
</code></pre>


<h3>Format</h3>

<p>An object of the class <code>"array"</code> (<code>base</code> package).
</p>
<p><code>"array"</code> is a special type of <code>"list"</code> that can be thought as a filing cabinet, in which the <code>array</code> is the cabinet and each element is an arquive. This special <code>list</code> can be used in the subsequent steps of the eigensound protocol (MacLeod et al., 2013; Rocha &amp; Romano <em>in prep</em>).
</p>


<h3>Details</h3>

<p>Each species is represented by three stereotyped acoustic units (i.e. notes from their advertisement calls), which are available as sample data from <code>SoundShape</code> (<code>"Wave"</code> objects: <code>centralis</code>, <code>cuvieri</code> and <code>kroyeri</code>). See Rocha &amp; Romano (<em>in prep</em>) for details.
</p>
<p>Prior to <code>eigensound</code> analysis, each of the sample calls had the acoustic units selected, stored as separate <code>".wav"</code> files, and aligned at beggining of sound window using <code>align.wave</code> (see <code>Examples</code> section).
</p>
<p><code>eig.sample</code> is composed of 9 elements (i.e. three species, each represented by three acoustic units). Each element is a matrix with 3200 rows and 3 columns (i.e. X, Y and Z coordinates of 3200 semilandmarks). The number of semilandmarks acquired will depend on the number of cells per side on the sound window (i.e. <code>x.length</code> and <code>y.length</code> arguments from <code>eigensound</code> function).
</p>
<p>The analysis itself (<code>eigensound</code> function) featured relative amplitude backgroud at 25 dB (<code>dBlevel = 25</code>), sampling grid of 70 cells on the time (X-axis) and 47 cells on the frequency (Y-axis) (<code>x.length = 70</code>, <code>y.length = 47</code>, respectively). Sound window ranged from 0 to 0.8 s (X-axis), and from 0 to 4 kHz (Y-axis) (<code>tlim = c(0, 0.8)</code>, <code>flim = c(0, 4)</code>, respectively).
</p>
<p>Spectrogram parameters were the same as <code>eigensound</code> default: <code>f = 44100</code>, <code>wl = 512</code>, <code>ovlp = 70</code>.
</p>


<h3>Source</h3>

<p>Sample data of <code>"Wave"</code> objects employed on <code>eigensound</code> analysis:
</p>

<ul>
<li>
<p><code>centralis</code>: Advertisement call of <em>Physalaemus centralis</em>; original recording housed at Fonoteca Neotropical Jacques Vielliard (FNJV-0031188). Recorded by Adão José Cardoso.
</p>
</li>
<li>
<p><code>cuvieri</code>: Advertisement call of <em>Physalaemus cuvieri</em>; original recording housed at Coleção Bioacústica da Universidade Federal de Minas Gerais (CBUFMG-00196). Recorded by Pedro Rocha.
</p>
</li>
<li>
<p><code>kroyeri</code>: Advertisement call of <em>Physalaemus kroyeri</em>; Original recording housed at Fonoteca Neotropical Jacques Vielliard (FNJV-0032047). Recorded by Werner Bokermann.
</p>
</li>
</ul>
<h3>References</h3>

<p>MacLeod, N., Krieger, J. &amp; Jones, K. E. (2013). Geometric morphometric approaches to acoustic signal analysis in mammalian biology. <em>Hystrix, the Italian Journal of Mammalogy, 24</em>(1), 110-125.
</p>
<p>Rocha, P. &amp; Romano, P. (2021) The shape of sound: A new <code>R</code> package that crosses the bridge between Bioacoustics and Geometric Morphometrics. <em>Methods in Ecology and Evolution, 12</em>(6), 1115-1121.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(eig.sample)

# PCA using 3D semilandmark coordinates
pca.eig.sample &lt;- stats::prcomp(geomorph::two.d.array(eig.sample))

# Verify names for each acoustic unit and the order in which they appear
dimnames(eig.sample)[[3]]

# Create factor to use as groups in subsequent ordination plot
sample.gr &lt;- factor(c(rep("centralis", 3), rep("cuvieri", 3), rep("kroyeri", 3)))

# Plot result of Principal Components Analysis
pca.plot(PCA.out = pca.eig.sample, groups = sample.gr, conv.hulls = sample.gr,
         main="PCA of 3D coordinates", leg=TRUE, leg.pos = "top")

# Verify hypothetical sound surfaces for each Principal Component
hypo.surf(threeD.out=eig.sample, PC=1, flim=c(0, 4), tlim=c(0, 0.8),
          x.length=70, y.length=47, plot.exp = FALSE)


#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#
#                      Recreate eig.sample object                        #
#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#


library(seewave)
library(tuneR)

# Create temporary folder to store ".wav" files
wav.at &lt;- file.path(base::tempdir(), "eig.sample")
if(!dir.exists(wav.at)) dir.create(wav.at)

# Create temporary folder to store results
store.at &lt;- file.path(base::tempdir(), "eig.sample-output")
if(!dir.exists(store.at)) dir.create(store.at)

# Select three acoustic units within each sound data
data(cuvieri)
spectro(cuvieri, flim = c(0,4))
cut.cuvieri1 &lt;- cutw(cuvieri, f=44100, from=0, to=0.5, output = "Wave")
cut.cuvieri2 &lt;- cutw(cuvieri, f=44100, from=0.7, to=1.2, output = "Wave")
cut.cuvieri3 &lt;- cutw(cuvieri, f=44100, from=1.4, to=1.9, output = "Wave")

data("centralis")
spectro(centralis, flim = c(0,4))
cut.centralis1 &lt;- cutw(centralis, f=44100, from=0.1, to=0.8, output = "Wave")
cut.centralis2 &lt;- cutw(centralis, f=44100, from=1.05, to=1.75, output = "Wave")
cut.centralis3 &lt;- cutw(centralis, f=44100, from=2.1, to=2.8, output = "Wave")

data("kroyeri")
spectro(kroyeri, flim = c(0,4))
cut.kroyeri1 &lt;- cutw(kroyeri, f=44100, from=0.1, to=1, output = "Wave")
cut.kroyeri2 &lt;- cutw(kroyeri, f=44100, from=1.5, to=2.3, output = "Wave")
cut.kroyeri3 &lt;- cutw(kroyeri, f=44100, from=2.9, to=3.8, output = "Wave")

# Export new wave files containing acoustic units and store on previosly created folder
writeWave(cut.cuvieri1, filename = file.path(wav.at, "cut.cuvieri1.wav"), extensible = FALSE)
writeWave(cut.cuvieri2, filename = file.path(wav.at, "cut.cuvieri2.wav"), extensible = FALSE)
writeWave(cut.cuvieri3, filename = file.path(wav.at, "cut.cuvieri3.wav"), extensible = FALSE)
writeWave(cut.centralis1, filename = file.path(wav.at, "cut.centralis1.wav"), extensible = FALSE)
writeWave(cut.centralis2, filename = file.path(wav.at, "cut.centralis2.wav"), extensible = FALSE)
writeWave(cut.centralis3, filename = file.path(wav.at, "cut.centralis3.wav"), extensible = FALSE)
writeWave(cut.kroyeri1, filename = file.path(wav.at, "cut.kroyeri1.wav"), extensible = FALSE)
writeWave(cut.kroyeri2, filename = file.path(wav.at, "cut.kroyeri2.wav"), extensible = FALSE)
writeWave(cut.kroyeri3, filename = file.path(wav.at, "cut.kroyeri3.wav"), extensible = FALSE)

# Place sounds at beggining of sound window before analysis
align.wave(wav.at = wav.at, wav.to = "Aligned",
           time.length = 0.8, time.perc = 0.005, dBlevel = 25)

# Verify alignment using analysis.type = "twoDshape"
eigensound(analysis.type = "twoDshape", wav.at = file.path(wav.at, "Aligned"),
           store.at = store.at, flim=c(0, 4), tlim=c(0, 0.8),
           plot.exp = TRUE, plot.as = "jpeg", dBlevel = 25)
# Go to folder specified by store.at and check jpeg files created

# Run eigensound function using analysis.type = "threeDshape" on aligned wave files
# Store results as R object
eig.sample &lt;- eigensound(analysis.type="threeDshape", wav.at = file.path(wav.at, "Aligned"),
                         flim=c(0, 4), tlim=c(0, 0.8), dBlevel=25, plot.exp = FALSE,
                         x.length=70, y.length = 47, log.scale = TRUE)




</code></pre>


</div>