<div class="container">

<table style="width: 100%;"><tr>
<td>with_progress_cnd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Conditional <code>with_progress</code>.</h2>

<h3>Description</h3>

<p>Internal function. Use instead of
<code>with_progress</code> within custom functions with progress
bars.
</p>


<h3>Usage</h3>

<pre><code class="language-R">with_progress_cnd(ex, progress = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ex</code></td>
<td>
<p>expression</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress</code></td>
<td>
<p>logical, Default: TRUE</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This wrapper adds a progress parameter to <code>with_progress</code>
so that we can control the progress bar in the user facing functions. The progressbar
only shows in interactive mode.
</p>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>See Also</h3>

<p><code>with_progress</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (interactive()) {

 with_progress_cnd(
   purrr_bar(rep(0.25, 5), .purrr = purrr::map, .f = Sys.sleep, .steps = 5),
   progress = TRUE
 )

 with_progress_cnd(
   purrr_bar(rep(0.25, 5), .purrr = purrr::map, .f = Sys.sleep, .steps = 5),
   progress = FALSE
 )

# wrap a function with progress bar with another call with progress bar

f1 &lt;- function(x, progress = TRUE) {
  with_progress_cnd(
    purrr_bar(x, .purrr = purrr::walk, .f = Sys.sleep, .steps = length(x), .progress = progress),
    progress = progress
  )
}

# inner progress bar blocks outer progress bar
progressr::with_progress(
  purrr_bar(
    rep(rep(1, 3),3), .purrr = purrr::walk, .f = f1, .steps = 3,
    .f_args = list(progress = TRUE)
  )
)

# inner progress bar turned off
progressr::with_progress(
  purrr_bar(
    rep(list(rep(0.25, 3)), 5), .purrr = purrr::walk, .f = f1, .steps = 5,
    .f_args = list(progress = FALSE)
  )
)
}
</code></pre>


</div>