<div class="container">

<table style="width: 100%;"><tr>
<td>cv.spls</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute and plot cross-validated mean squared prediction error for SPLS regression</h2>

<h3>Description</h3>

<p>Draw heatmap of
v-fold cross-validated mean squared prediction error
and return optimal eta (thresholding parameter)
and K (number of hidden components).
</p>


<h3>Usage</h3>

<pre><code class="language-R">cv.spls( x, y, fold=10, K, eta, kappa=0.5,
        select="pls2", fit="simpls",
        scale.x=TRUE, scale.y=FALSE, plot.it=TRUE )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> Matrix of predictors. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p> Vector or matrix of responses. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fold</code></td>
<td>
<p> Number of cross-validation folds. Default is 10-folds. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p> Number of hidden components. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eta</code></td>
<td>
<p> Thresholding parameter. <code>eta</code> should be between 0 and 1. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kappa</code></td>
<td>
<p> Parameter to control the effect of
the concavity of the objective function
and the closeness of original and surrogate direction vectors.
<code>kappa</code> is relevant only when responses are multivariate.
<code>kappa</code> should be between 0 and 0.5. Default is 0.5. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select</code></td>
<td>
<p> PLS algorithm for variable selection.
Alternatives are <code>"pls2"</code> or <code>"simpls"</code>.
Default is <code>"pls2"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p> PLS algorithm for model fitting. Alternatives are
<code>"kernelpls"</code>, <code>"widekernelpls"</code>,
<code>"simpls"</code>, or <code>"oscorespls"</code>.
Default is <code>"simpls"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale.x</code></td>
<td>
<p> Scale predictors by dividing each predictor variable
by its sample standard deviation? </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale.y</code></td>
<td>
<p> Scale responses by dividing each response variable
by its sample standard deviation? </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.it</code></td>
<td>
<p> Draw heatmap of cross-validated mean squared prediction error? </p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Invisibly returns a list with components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>mspemat</code></td>
<td>
<p> Matrix of cross-validated mean squared prediction error.
Rows correspond to <code>eta</code> and
columns correspond to the number of components (<code>K</code>). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eta.opt</code></td>
<td>
<p> Optimal <code>eta</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K.opt</code></td>
<td>
<p> Optimal <code>K</code>. </p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p> Dongjun Chung, Hyonho Chun, and Sunduz Keles. </p>


<h3>References</h3>

<p>Chun H and Keles S (2010), "Sparse partial least squares
for simultaneous dimension reduction and variable selection",
<em>Journal of the Royal Statistical Society - Series B</em>, Vol. 72, pp. 3â€“25.
</p>


<h3>See Also</h3>

 <p><code>print.spls</code>, <code>plot.spls</code>, <code>predict.spls</code>,
and <code>coef.spls</code>. </p>


<h3>Examples</h3>

<pre><code class="language-R">    data(yeast)
    set.seed(1)

    # MSPE plot. eta is searched between 0.1 and 0.9 and
    # number of hidden components is searched between 1 and 10

    ## Not run: 
        cv &lt;- cv.spls(yeast$x, yeast$y, K = c(1:10), eta = seq(0.1,0.9,0.1))
        
        # Optimal eta and K
        cv$eta.opt
        cv$K.opt
        (spls(yeast$x, yeast$y, eta=cv$eta.opt, K=cv$K.opt))
    
## End(Not run)
</code></pre>


</div>