<div class="container">

<table style="width: 100%;"><tr>
<td>caitalloc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Sequential Allocation for CAIT Method
</h2>

<h3>Description</h3>

<p>Performs the sequential allocation for the covariate-adjusted-imbalance-tolerance (CAIT) method of allocating observations in a randomized experiment.
</p>


<h3>Usage</h3>

<pre><code class="language-R">caitalloc(carwt_x1, p, tol)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>carwt_x1</code></td>
<td>

<p>matrix of dimension n x n, where n is the number of units to be randomly assigned to treatments. The (i,j) element of the matrix is the weighted match score of unit i and unit j. The matrix should be symmetric with diagonal elements of 1.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>

<p>probability the next unit should be allocated to the experiment arm that currently has fewer observations. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>

<p>imbalance tolerance for deviation from equal allocation. 
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Vector with the allocation to treatment (denoted by 1) and control (denoted by 0)
</p>


<h3>Note</h3>

<p>This function works for categorical as well as binary covariates. The matrix carwt_x1 can be created from an X matrix by using the function weight_x in this package.
</p>


<h3>Author(s)</h3>

<p>Xiaoshu Zhu <a href="mailto:xiaoshuzhu@westat.com">xiaoshuzhu@westat.com</a> and Sharon Lohr
</p>


<h3>References</h3>

<p>Pocock, S.J. and R. Simon (1975). Sequential Treatment Assignment with Balancing for Prognostic Factors in a Controlled Clinical Trial. Biometrics 31, 103-115.
</p>
<p>Lohr, S. and X. Zhu (2015). Randomized Sequential Individual Assignment in Social Experiments: Evaluating the Design Options Prospectively. Sociological Methods and Research. [Advance online publication: December 27, 2015] doi: 10.1177/0049124115621332.
</p>


<h3>See Also</h3>

<p><code>weight_x</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">wtmat &lt;- matrix(runif(10000), ncol=100) 
wtmat &lt;- (wtmat * lower.tri(wtmat)) + t(wtmat * lower.tri(wtmat)) 
diag(wtmat) &lt;- 1 

caitalloc(wtmat,1,3)
</code></pre>


</div>