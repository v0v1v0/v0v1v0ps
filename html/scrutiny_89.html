<div class="container">

<table style="width: 100%;"><tr>
<td>fractional-rounding</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generalized rounding to the nearest fraction of a specified denominator</h2>

<h3>Description</h3>

<p>Two functions that round numbers to specific fractions, not just
to the next higher decimal level. They are inspired by
<code>janitor::round_to_fraction()</code> but feature all the options of
<code>reround()</code>:
</p>

<ul>
<li> <p><code>reround_to_fraction()</code> closely follows <code>janitor::round_to_fraction()</code>
by first rounding to fractions of a whole number, then optionally rounding
the result to a specific number of digits in the usual way.
</p>
</li>
<li> <p><code>reround_to_fraction_level()</code> rounds to the nearest fraction of a number
at the specific decimal level (i.e., number of digits), without subsequent
rounding. This is closer to conventional rounding functions.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">reround_to_fraction(
  x = NULL,
  denominator = 1,
  digits = Inf,
  rounding = "up_or_down",
  threshold = 5,
  symmetric = FALSE
)

reround_to_fraction_level(
  x = NULL,
  denominator = 1,
  digits = 0L,
  rounding = "up_or_down",
  threshold = 5,
  symmetric = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Numeric. Vector of numbers to be rounded.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>denominator</code></td>
<td>
<p>Numeric (&gt;= 1) . <code>x</code> will be rounded to the nearest
fraction of <code>denominator</code>. Default is <code>1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Numeric (whole numbers).
</p>

<ul>
<li>
<p> In <code>reround_to_fraction()</code>: If <code>digits</code> is specified, the values
resulting from fractional rounding will subsequently be rounded to that
many decimal places. If set to <code>"auto"</code>, it internally becomes
<code>ceiling(log10(denominator)) + 1</code>, as in <code>janitor::round_to_fraction()</code>.
Default is <code>Inf</code>, in which case there is no subsequent rounding.
</p>
</li>
<li>
<p> In <code>reround_to_fraction_level()</code>: This function will round to a fraction
of the number at the decimal level specified by <code>digits</code>. Default is <code>0</code>.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rounding, threshold, symmetric</code></td>
<td>
<p>More arguments passed down to
<code>reround()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Numeric vector of the same length as <code>x</code> unless <code>rounding</code> is either
of <code>"up_or_down"</code>, <code>"up_from_or_down_from"</code>, and <code>"ceiling_or_floor"</code>. In
these cases, it will always have length 2.
</p>


<h3>See Also</h3>

<p><code>reround()</code>, which the functions wrap, and
<code>janitor::round_to_fraction()</code>, part of which they copy.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#`reround_to_fraction()` rounds `0.4`
# to `0` if `denominator` is `1`, which
# is the usual integer rounding...
reround_to_fraction(0.4, denominator = 1, rounding = "even")

# ...but if `denominator` is `2`, it rounds to the nearest
# fraction of 2, which is `0.5`:
reround_to_fraction(0.4, denominator = 2, rounding = "even")

# Likewise with fractions of 3:
reround_to_fraction(0.25, denominator = 3, rounding = "even")

# The default for `rounding` is to round
# both up and down, as in `reround()`:
reround_to_fraction(0.4, denominator = 2)

# These two rounding procedures differ
# at the tie points:
reround_to_fraction(0.25, denominator = 2)

# `reround_to_fraction_level()`, in contrast,
# uses `digits` to determine some decimal level,
# and then rounds to the closest fraction at
# that level:
reround_to_fraction_level(0.12345, denominator = 2, digits = 0)
reround_to_fraction_level(0.12345, denominator = 2, digits = 1)
reround_to_fraction_level(0.12345, denominator = 2, digits = 2)
</code></pre>


</div>