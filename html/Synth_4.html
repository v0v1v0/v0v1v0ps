<div class="container">

<table style="width: 100%;"><tr>
<td>fn.V</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Loss Function for nested optimization of W and V weights
</h2>

<h3>Description</h3>

<p>Loss function for the nested optimization of W and V weights used for constructing synthetic control groups according to the methods outlined in Abadie and Gardeazabal (2003) and Abadie, Diamond, Hainmueller (2010, 2011, 2014) (see references). This function is called by <code>synth</code> internally, and should not be called manually by a normal user.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fn.V(variables.v = stop("variables.v missing"),
X0.scaled = stop("X0.scaled missing"), 
X1.scaled = stop("X1.scaled missing"), 
Z0 = stop("Z0 missing"), 
Z1 = stop("Z1 missing"), 
margin.ipop = 5e-04, 
sigf.ipop = 5, 
bound.ipop = 10, 
quadopt = "ipop")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>variables.v</code></td>
<td>

<p>1 by k a vector of v weights.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X0.scaled</code></td>
<td>

<p>matrix of controls' predictor data. nrows = number of predictors and (possibly) special predictors. ncols = number of control units.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X1.scaled</code></td>
<td>
<p>matrix of treated predictor data. nrows = number of predictors and (possibly) special predictors. ncols = one.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z0</code></td>
<td>
<p>matrix of controls' outcome data for the pre-treatment periods over which MSPE is to be minimized. nrows = number of pre-treatment periods. ncols = number of control units.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z1</code></td>
<td>

<p>matrix of treated outcome data for the pre-treatment periods over which MSPE is to be minimized. nrows = number of pre-treatment periods. ncols = one.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin.ipop</code></td>
<td>

<p>setting for ipop optimization routine: how close we get to the constrains (see <code>ipop</code> for details)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigf.ipop</code></td>
<td>

<p>setting for ipop optimization routine: Precision (default: 7 significant figures (see <code>ipop</code> for details)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bound.ipop</code></td>
<td>

<p>setting for ipop optimization routine: Clipping bound for the variables (see <code>ipop</code> for details)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quadopt</code></td>
<td>

<p>string vector that specifies the routine for quadratic optimization over w weights. 
possible values are "ipop"   (see <code>ipop</code> for details)
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A scalar that contains the function value.
</p>


<h3>Author(s)</h3>

<p>Jens Hainmueller and Alexis Diamond
</p>


<h3>References</h3>

<p>Abadie, A., Diamond, A., Hainmueller, J. (2014). Comparative Politics and the Synthetic Control Method. <em>American Journal of Political Science</em> Forthcoming 2014.
</p>
<p>Synthetic : An R Package for Synthetic Control Methods in Comparative Case Studies. <em>Journal of Statistical Software</em> 42 (13) 1–17.
</p>
<p>Abadie, A., Diamond, A., Hainmueller, J. (2011). Synth: An R Package for Synthetic Control Methods in Comparative Case Studies. <em>Journal of Statistical Software</em> 42 (13) 1–17.
</p>
<p>Abadie A, Diamond A, Hainmueller J (2010). Synthetic Control Methods for Comparative Case Studies: Estimating the Effect of California's Tobacco Control Program. <em>Journal of the American Statistical Association</em> 105 (490) 493–505.
</p>
<p>Abadie, A. and Gardeazabal, J. (2003) Economic Costs of Conflict: A Case Study of the Basque Country <em>American Economic Review</em> 93 (1) 113–132.
</p>


<h3>See Also</h3>

 <p><code>synth</code>, <code>dataprep</code>, <code>gaps.plot</code>, <code>path.plot</code>,
<code>synth.tab</code>
</p>


</div>