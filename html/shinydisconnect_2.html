<div class="container">

<table style="width: 100%;"><tr>
<td>disconnectMessage</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Show a nice message when a shiny app disconnects or errors</h2>

<h3>Description</h3>

<p>A shiny app can disconnect for a variety of reasons: an unrecoverable error occurred in
the app, the server went down, the user lost internet connection, or any other reason
that might cause the shiny app to lose connection to its server.<br><br>
Call <code>disonnectMessage()</code>
anywhere in a Shiny app's UI to add a nice message when this happens. Works
locally (running Shiny apps within RStudio) and on Shiny servers (such as shinyapps.io,
RStudio Connect, Shiny Server Open Source, Shiny Server Pro).<br><br>
See the <a href="https://daattali.com/shiny/shinydisconnect-demo/">demo Shiny app</a> online for examples.<br><br>
Note that it's not possible to distinguish between errors and timeouts - they will both
show the same message.
</p>


<h3>Usage</h3>

<pre><code class="language-R">disconnectMessage(
  text = "An error occurred. Please refresh the page and try again.",
  refresh = "Refresh",
  width = 450,
  top = 50,
  size = 22,
  background = "white",
  colour = "#444444",
  overlayColour = "black",
  overlayOpacity = 0.6,
  refreshColour = "#337ab7",
  css = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>text</code></td>
<td>
<p>The text to show in the message.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refresh</code></td>
<td>
<p>The text to show in a link that allows the user to refresh the page.
Use <code>refresh = ""</code> if you don't want to show a refresh link.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>The width of the message box. Must be either an integer, or the string
<code>"full"</code> to make the message take up the entire page width.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>top</code></td>
<td>
<p>The distance from the message to the top of the page. Must be either
an integer, or the string <code>"center"</code> to make the box vertically centered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>The font size of the text. (integer).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>background</code></td>
<td>
<p>The background colour of the message box.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colour</code></td>
<td>
<p>The colour of the text of the message box.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overlayColour</code></td>
<td>
<p>The colour of the overlay to draw on the page behind the message box.
An overlay is used to "grey out" the application and draw attention to the message. Use
<code>overlayOpacity = 0</code> to disable the overlay.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overlayOpacity</code></td>
<td>
<p>The opacity of the overlay, from 0 (fully transparent/not visible) to 1
(fully opaque). Use <code>overlayOpacity = 0</code> to disable the overlay.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refreshColour</code></td>
<td>
<p>The colour of the refresh text link</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>css</code></td>
<td>
<p>Any additional CSS rules to apply to the message box. For example,
<code>css = "padding: 0 !important; border: 3px solid red;"</code> will remove padding and add a border.
Note that you may need to use the <code>!important</code> rule to override default styles.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>You can also use <code>disconnectMessage2()</code> to use a pre-set combination of parameters
that produces a large centered message.
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (interactive()) {
  library(shiny)
  shinyApp(
    ui = fluidPage(
      disconnectMessage(),
      actionButton("disconnect", "Disconnect the app")
    ),
    server = function(input, output, session) {
      observeEvent(input$disconnect, {
        session$close()
      })
    }
  )
}
</code></pre>


</div>