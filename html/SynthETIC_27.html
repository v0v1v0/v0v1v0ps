<div class="container">

<table style="width: 100%;"><tr>
<td>relativity_template</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Template to input Covariate Relativities</h2>

<h3>Description</h3>

<p>Constructs a template for the covariate relativities based on the
inputed covariates. Note that only non-zero relativities and one cross-factor
relativity is needed for each factor pair.
</p>


<h3>Usage</h3>

<pre><code class="language-R">relativity_template(factors)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>factors</code></td>
<td>
<p>named list of vectors, containing the name of the covariates
and associated factors in vector form.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>Suppose that there are <code class="reqn">m</code> covariates labelled <code class="reqn">c_i</code>, <code class="reqn">i=1,...,m</code>,
and that covariate <code class="reqn">c_i</code> can assume one and only one of <code class="reqn">n_i</code> values,
<code class="reqn">x_{ik}</code>, <code class="reqn">k=1,...,n_i</code>. The total number of available covariate
values is <code class="reqn">n = \sum_{i=1}^m n_o</code>.
</p>
<p>Now set up an <code class="reqn">n \times n</code> matrix <code class="reqn">F</code>, consisting of sub-matrices
<code class="reqn">F_{ij}</code>, <code class="reqn">i,j = 1, ... ,m</code> of dimension <code class="reqn">n_i \times n_j</code>. The
diagonal blocks <code class="reqn">F_{ii}</code> will quantify first-order relativities on claims
attributes, and the off-diagonal blocks <code class="reqn">F_{ij}</code>, <code class="reqn">j \neq i</code> will quantify
second-order effects. Let <code class="reqn">f_{ij,kl}</code> denote the <code class="reqn">(k, l)</code> element of
<code class="reqn">F_{ij}</code>. This element operates as a multiplier of the claim attribute
when covariates <code class="reqn">c_i</code> and <code class="reqn">c_j</code> take values <code class="reqn">x_{ik}</code> and <code class="reqn">x_jl</code>
respectively. Since <code class="reqn">c_i</code> can assume only one of the values <code class="reqn">x_ik</code>,
<code class="reqn">f_{ii, kl} = 0</code> for <code class="reqn">k \neq l</code>, and so <code class="reqn">F_{ii}</code> is diagonal for
all <code class="reqn">i=1, ..., m</code>. Moreover, <code class="reqn">f_{ij,kl} = f_{ji,lk}</code>, so that
<code class="reqn">F</code> is symmetric and <code class="reqn">f_{ij,kl} &gt; 0</code>.
</p>


<h3>Value</h3>

<p>Returns a dataframe object, with five columns:
</p>

<table>
<tr>
<td style="text-align: left;">
<code>factor_i</code> </td>
<td style="text-align: left;"> Factor i. </td>
</tr>
<tr>
<td style="text-align: left;">
<code>factor_j</code> </td>
<td style="text-align: left;"> Factor j. </td>
</tr>
<tr>
<td style="text-align: left;">
<code>level_ik</code> </td>
<td style="text-align: left;"> Level within Factor i. </td>
</tr>
<tr>
<td style="text-align: left;">
<code>level_jl</code> </td>
<td style="text-align: left;"> Level within Factor j. </td>
</tr>
<tr>
<td style="text-align: left;">
<code>relativity</code> </td>
<td style="text-align: left;"> Relativity between <code>level_ik</code> and <code>level_jl</code>, defaults to <code>NA</code>.
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">factors &lt;- list(
    "Legal Representation" = c("Y", "N"),
    "Injury Severity" = as.character(1:6),
    "Age of Claimant" = c("0-15", "15-30", "30-50", "50-65", "over 65")
)

relativity_freq &lt;- relativity_template(factors)
relativity_sev &lt;- relativity_template(factors)

# Default Values
relativity_freq$relativity &lt;- c(
    1, 1,
    0.95, 1, 1, 1, 1, 1,
    0.05, 0, 0, 0, 0, 0,
    1, 1, 1, 1, 1,
    1, 1, 1, 1, 1,
    0.53, 0.3, 0.1, 0.05, 0.01, 0.01,
    1, 1, 1, 1, 1,
    1, 1, 1, 1, 1,
    1, 1, 1, 1, 1,
    1, 1, 1, 1, 1,
    1, 1, 1, 1, 1,
    1, 1, 1, 1, 1,
    0.183, 0.192, 0.274, 0.18, 0.171
)

relativity_sev$relativity &lt;- c(
    2, 1,
    1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1, 1,
    1, 1, 1, 1, 1,
    1, 1, 1, 1, 1,
    0.6, 1.2, 2.5, 5, 8, 0.4,
    1, 1, 1, 1, 1,
    1, 1, 1, 1, 1,
    1, 1, 1, 1, 1,
    1, 1, 1, 0.97, 0.95,
    1, 1, 1, 0.95, 0.9,
    1, 1, 1, 1, 1,
    1.25, 1.15, 1, 0.85, 0.7
)

head(relativity_freq)
head(relativity_sev)

test_covariates_obj &lt;- covariates(factors)
test_covariates_obj &lt;- set.covariates_relativity(
    covariates = test_covariates_obj,
    relativity = relativity_freq,
    freq_sev = "freq"
)
test_covariates_obj &lt;- set.covariates_relativity(
    covariates = test_covariates_obj,
    relativity = relativity_sev,
    freq_sev = "sev"
)

</code></pre>


</div>