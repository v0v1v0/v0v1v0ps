<div class="container">

<table style="width: 100%;"><tr>
<td>a2d</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>(3D+) Array to Data-Frame</h2>

<h3>Description</h3>

<p><code>a2d</code> converts a (3D+ array) to a data.frame. It allows you to specify a
dimension of the array to be the columns. All other dimensions are variables
in the data.frame. This is different than <code>as.data.frame.array</code> which
converts the (3D+) array to a matrix first; although it is very similar to
<code>as.data.frame.table</code> when <code>col</code> = 0.
</p>


<h3>Usage</h3>

<pre><code class="language-R">a2d(a, col = 0, stringsAsFactors = FALSE, check = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>3D+ array.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>integer vector or character vector of length 1 specifing the dimension
of <code>a</code> to have as columns in the return object. If an integer vector,
<code>col</code> refers to the dimension number. If a character vector, <code>col</code>
refers to the name of the dimension (i.e., dimlabel). The columns are in order
of the dimnames for that dimension (not alphabetical order like <code>reshape::cast</code>).
If 0 (default), then no dimension of the array are columns and the function becomes
similar to <code>as.data.frame.table</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stringsAsFactors</code></td>
<td>
<p>logical vector of length 1 specifying whether the variable
dimensions should be factors of chracter vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>logical vector of length 1 specifying whether to check the structure
of the input arguments. For example, check whether <code>a</code> is a (3D+) array.
This argument is available to allow flexibility in whether the user values
informative error messages (TRUE) vs. computational efficiency (FALSE).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>a2d</code> is mostly a wrapper for <code>reshape::melt.array</code> (+ <code>reshape::cast</code>)
that allows for the variable dimensions to be character vectors rather than factors.
</p>


<h3>Value</h3>

<p>data.frame of <code>a</code>'s elements. The colnames of the variable dimensions
are the dimlabels in <code>a</code>. If there were no dimlabels in <code>a</code>, then each
dimension is named after its number with an X in front. If <code>col</code> is not 0,
then the rest of the colnames are the dimnames of
that dimension from <code>a</code>. If <code>col</code> is 0, then the names of the single
column with <code>a</code>'s elements is "element".
</p>


<h3>Examples</h3>

<pre><code class="language-R">
a2d(HairEyeColor)
a2d(HairEyeColor, col = 1)
a2d(HairEyeColor, col = "Hair", stringsAsFactors = TRUE)
a2d(HairEyeColor, col = 2)
a2d(HairEyeColor, col = "Sex", stringsAsFactors = TRUE)
try_expr(a2d(as.matrix(attitude))) # error due to inputting a matrix. Instead use `m2d`.

# correlation array example from psych::corr.test(attitude[1:3])
# corr_test &lt;- psych::corr.test(attitude[1:3])
# a &lt;- lm2a(corr_test[c("r","se","t","p")])
r &lt;- matrix(c(1.0000000, 0.8254176, 0.4261169, 0.8254176, 1.0000000, 0.5582882,
   0.4261169, 0.5582882, 1.0000000), nrow = 3, ncol = 3, byrow = FALSE)
se &lt;- matrix(c(0.0000000, 0.1066848, 0.1709662, 0.1066848, 0.0000000, 0.1567886,
   0.1709662, 0.1567886, 0.0000000), nrow = 3, ncol = 3, byrow = FALSE)
t &lt;- matrix(c(Inf, 7.736978, 2.492404, 7.736978, Inf, 3.560771,
   2.492404, 3.560771, Inf), nrow = 3, ncol = 3, byrow = FALSE)
p &lt;- matrix(c(0.000000e+00, 1.987682e-08, 1.887702e-02, 5.963047e-08, 0.000000e+00,
   1.345519e-03, 0.018877022, 0.002691039, 0.000000000), nrow = 3, ncol = 3, byrow = FALSE)
a &lt;- abind::abind(r, se, t, p, along = 3L)
dimnames(a) &lt;- list(names(attitude[1:3]), names(attitude[1:3]), c("r","se","t","p"))
d &lt;- a2d(a = a, col = 3)

</code></pre>


</div>