<div class="container">

<table style="width: 100%;"><tr>
<td>make_approx_functions_from_dataframe</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>make_approx_functions_from_dataframe</h2>

<h3>Description</h3>

<p>make_approx_functions_from_dataframe
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_approx_functions_from_dataframe(
  dataframe,
  group_vars,
  x_var,
  y_var,
  approx_func
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataframe</code></td>
<td>
<p>A data.frame with your data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_vars</code></td>
<td>
<p>The variable names in the dataframe that subset the data into the various groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_var</code></td>
<td>
<p>The name of the x variable in the dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_var</code></td>
<td>
<p>The name of the y variable in the dataframe.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>approx_func</code></td>
<td>
<p>A function that takes in two arguments, an x vector and a y vector. Make sure it can handle vectors of length 0 (if that can happen in your data).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A function of the form function(groupvar1, groupvar2, ..., x).
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Generating example data.
# Consider we have equity prices for several days and times.
RICs = c("BARC.L", "VOD.L", "IBM.L")
Dates = as.Date(c("11-11-2019", "12-11-2019", "13-11-2019",
           "14-11-2019", "15-11-2019"), format="%d-%m-%Y")
times = seq(0,28800, length.out = 10) # The number of seconds into the trading day.
dd = expand.grid(TIME = times, Date = Dates, RIC = RICs)
dd = merge(dd, data.frame(RIC = RICs, PRICE = c(160.00, 162.24, 137.24)))
randomness = rlnorm(dim(dd)[1])
dd$PRICE = dd$PRICE * cumprod(randomness)

approx_func = function(x,y){approxfun(x, y)}
dispatched_approxfun = make_approx_functions_from_dataframe(dd,
                                group_vars = c("RIC", "Date"),
                                 x_var = "TIME", y_var = "PRICE",
                                                      approx_func)
dispatched_approxfun("BARC.L", Dates[2], c(100, 156, 6045))
</code></pre>


</div>