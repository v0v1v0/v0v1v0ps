<div class="container">

<table style="width: 100%;"><tr>
<td>isopoly</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create Spatial Polygons Contours from a Raster</h2>

<h3>Description</h3>

<p>This function creates spatial polygons of contours from a raster.
</p>


<h3>Usage</h3>

<pre><code class="language-R">isopoly(
  x,
  nclass = 8,
  breaks,
  mask,
  xcoords = "COORDX",
  ycoords = "COORDY",
  var = "OUTPUT",
  returnclass = "sp"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>sf POINT data.frame; must contain X, Y and OUTPUT fields.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nclass</code></td>
<td>
<p>numeric; a number of class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>numeric; a vector of break values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mask</code></td>
<td>
<p>sf POLYGON data.frame; mask used to 
clip contour shapes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xcoords</code></td>
<td>
<p>character; name of the X coordinates field in x.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ycoords</code></td>
<td>
<p>character; name of the Y coordinates field in x.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>character; name of the OUTPUT field in x.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>returnclass</code></td>
<td>
<p>"sp" or "sf"; class of the returned object.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The output is an sf POLYGON data.frame.
The data frame contains four fields: 
id (id of each polygon), min and max (minimum and maximum breaks of the polygon), 
center (central values of classes).
</p>


<h3>See Also</h3>

<p>stewart.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(hospital)
# Compute Stewart potentials
mystewart &lt;- stewart(knownpts = hospital, varname = "capacity",
                     typefct = "exponential", span = 1000, beta = 3,
                     mask = paris, returnclass = "sf")
# Create contour
contourpoly &lt;- isopoly(x = mystewart,
                       nclass = 6,
                       mask = paris, returnclass = "sf")
library(sf)
plot(st_geometry(contourpoly))
if(require(cartography)){
  # Created breaks
  bks &lt;- sort(unique(c(contourpoly$min, contourpoly$max)))
  opar &lt;- par(mar = c(0,0,1.2,0))
  # Display the map
  choroLayer(x = contourpoly,
             var = "center", legend.pos = "topleft",
             breaks = bks, border = "grey90",
             lwd = 0.2,
             legend.title.txt = "Potential number\nof beds in the\nneighbourhood",
             legend.values.rnd = 0)
  plot(st_geometry(paris), add = TRUE)
  propSymbolsLayer(x = hospital, var = "capacity",
                   legend.pos = "right",
                   legend.title.txt = "Number of beds",
                   col = "#ff000020")
  layoutLayer(title = "Global Accessibility to Public Hospitals",
              sources = "", author = "")
  par(opar)
}
</code></pre>


</div>