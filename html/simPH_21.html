<div class="container">

<table style="width: 100%;"><tr>
<td>tvc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a time interaction variable</h2>

<h3>Description</h3>

<p><code>tvc</code> creates a time interaction variable that can be used in a coxph
model (or any other model with time interactions)
</p>


<h3>Usage</h3>

<pre><code class="language-R">tvc(data, b, tvar, tfun = "linear", pow = NULL, vector = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>the non-time interacted variable's name. Either a single value or a
vector of variable names can be entered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tvar</code></td>
<td>
<p>the time variable's name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tfun</code></td>
<td>
<p>function of time that btvc was multiplied by. Default is
<code>tfun = "linear"</code>. Can also be <code>tfun = 'log'</code> (natural log) and
<code>tfun = 'power'</code>. If <code>tfun = 'power'</code> then the pow argument needs
to be specified also.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pow</code></td>
<td>
<p>if <code>tfun = 'power'</code>, then use pow to specify what power to
raise the time interaction to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vector</code></td>
<td>
<p>logical. Whether or not to return one vector a or a data frame.
Can only be used if only one <code>b</code> is included.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Interacts a variable with a specified function of time. Possible
functions of time include <code>'linear'</code>, natural <code>'log'</code>, and
exponentiated (<code>'power'</code>).
</p>


<h3>Value</h3>

<p>a data frame or vector. If a data frame is returned it will include
all of the original variables as well as the interactions denoted by a
variable name '<code>bn</code>_<code>tfun</code>', where <code>bn</code> is one variable name
from <code>b</code> and <code>tfun</code> as entered into the function.
</p>


<h3>See Also</h3>

<p><code>SurvExpand</code>, <code>simGG.simtvc</code>,
<code>coxsimtvc</code>, <code>survival</code>, and <code>coxph</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load Golub &amp; Steunenberg (2007) Data
data('GolubEUPData')

# Subset PURELY TO SPEED UP THE EXAMPLE
GolubEUPData &lt;- GolubEUPData[1:500, ]

# Expand data into equally spaced time intervals
GolubEUPData &lt;- SurvExpand(GolubEUPData, GroupVar = 'caseno',
                  Time = 'begin', Time2 = 'end', event = 'event')

# Create natural log time interaction with the qmv variable
GolubEUPData$Lqmv &lt;- tvc(GolubEUPData, b = 'qmv', tvar = 'end', tfun = 'log',
                         vector = TRUE)

# Create interactions for a vector of variables
BaseVars &lt;- c('qmv', 'backlog', 'coop', 'codec', 'qmvpostsea', 'thatcher')

Test &lt;- tvc(GolubEUPData, b = BaseVars, tvar = 'end', tfun = 'log')

</code></pre>


</div>