<div class="container">

<table style="width: 100%;"><tr>
<td>sfcr_validate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Validate a transactions-flow or balance-sheet matrix</h2>

<h3>Description</h3>

<p>This function validates a transactions-flow or balance-sheet
matrix with the simulated data obtained with <code>sfcr_baseline()</code>
function
</p>


<h3>Usage</h3>

<pre><code class="language-R">sfcr_validate(matrix, baseline, which, tol = 1, rtol = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>matrix</code></td>
<td>
<p>A transactions-flow or balance sheet matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>baseline</code></td>
<td>
<p>A baseline model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>Either "bs" (balance-sheet matrix) or "tfm" (transactions-flow matrix).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>A numerical value indicating the absolute accepted discrepancy accepted
to validate whether the rows and columns are equal to their expected values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rtol</code></td>
<td>
<p>A logical value indicating whether relative discrepancies should be
evaluated. It defaults to <code>FALSE</code>. Stationary models should pass the test using
a absolute level while growth models might need a relative validation since computational
discrepancies tend to get larger with the model. See details for further information.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The relative discrepancy is calculated differently if we are dealing with a
transactions-flow matrix or with a balance-sheet matrix. If <code>which</code> is set to <code>tfm</code>,
the sum of the row/column is evaluated against the sum of the positive entries of that row/column.
</p>
<p>For example, in a transactions-flow matrix with three entries in the "change in the stock of bills"
row (-Delta (Bhd), + Delta (Bs), and + Delta (Bbd)), the discrepancy d = Delta Bs - Delta Bhd - Delta Bbd
is evaluated against Delta Bs, i.e., the row is validated if d/Delta Bs &lt; tol.
</p>
<p>In a balance-sheet matrix, all the rows/columns that sum to zero are validated exactly as
in a transactions-flow matrix. The exception to this rule is when there is a expected value. In this case,
the discrepancy is evaluated as a proportion of the expected. value
</p>
<p>To prevent unnecessary calculations, a absolute check with tolerance defined as 1e-3 is executed
prior to this evaluation.
</p>
<p>The absolute discrepancy set with <code>tol</code> should be enough to validate
a stationary SFC Model.
</p>


<h3>Author(s)</h3>

<p>João Macalós
</p>


</div>