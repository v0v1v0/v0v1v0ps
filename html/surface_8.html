<div class="container">

<table style="width: 100%;"><tr>
<td>convertTreeData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Utilities for Formatting Objects for SURFACE Analysis
</h2>

<h3>Description</h3>

<p><code>convertTreeData</code> converts a <code>phylo</code>-formatted tree and a data frame into formats ready to be analyzed with the <code>ouch</code> functions called by <code>surface</code>. <code>convertBack</code> converts an <code>ouchtree</code> to a data frame including regime information, and is called internally by <code>surfaceTreePlot</code>. <code>nameNodes</code> adds unique node labels to a <code>phylo</code> tree to ensure reliable conversion between formats 
</p>


<h3>Usage</h3>

<pre><code class="language-R">convertTreeData(tree, dat)
convertBack(tree, otree, regshifts)
nameNodes(tree)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tree</code></td>
<td>

<p>Phylogenetic tree in <code>phylo</code> format: to ensure reliable conversion, should have node labels (e.g. using <code>nameNodes</code>)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>

<p>Data frame with row names corresponding to the taxa in <code>tree</code> and columns consisting of one or more trait measurements
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>otree</code></td>
<td>

<p>Phylogenetic tree in <code>ouchtree</code> format
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>regshifts</code></td>
<td>

<p>Named character vector of regime shifts indicating branches containing shifts (numbered corresponding to <code>otree@nodes</code>) and regime identities (usually lower-case letters)
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>convertTreeData</code> returns a list with components <code>otree</code> (a phylogenetic tree in <code>ouchtree</code> format) and <code>odata</code> (a data frame containing trait data, with rownames corresponding to <code>otree@labels</code>). <code>convertBack</code> returns a data frame containing original phenotypic data as well as regime assignments of tip taxa. <code>nameNodes</code> returns the input tree, with arbitrary node names added (<code>zzz1</code>, <code>zzz2</code>, etc) to ensure reliable conversion between formats
</p>


<h3>Author(s)</h3>

<p>Travis Ingram
</p>


<h3>References</h3>

<p>Ingram, T. &amp; Mahler, D.L. (2013) SURFACE: detecting convergent evolution from comparative data by fitting Ornstein-Uhlenbeck models with stepwise AIC. Methods in Ecology and Evolution 4: 416-425. 
</p>


<h3>See Also</h3>

<p><code>surfaceBackward</code>, <code>surfaceForward</code>, <code>surfaceTreePlot</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(surfaceDemo)
tree&lt;-surfaceDemo$tree
dat&lt;-surfaceDemo$sim$dat
olist&lt;-convertTreeData(tree,dat)
</code></pre>


</div>