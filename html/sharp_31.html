<div class="container">

<table style="width: 100%;"><tr>
<td>EnsemblePredictions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Predictions from ensemble model</h2>

<h3>Description</h3>

<p>Makes predictions using an ensemble model created from
<code>VariableSelection</code> outputs. For each observation in
<code>xdata</code>, the predictions are calculated as the average predicted values
obtained for that observation over the <code>K</code> models fitted in calibrated
stability selection.
</p>


<h3>Usage</h3>

<pre><code class="language-R">EnsemblePredictions(ensemble, xdata, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ensemble</code></td>
<td>
<p>output of <code>Ensemble</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xdata</code></td>
<td>
<p>matrix of predictors with observations as rows and variables as
columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional parameters passed to <code>predict</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A matrix of predictions computed from the observations in
<code>xdata</code>.
</p>


<h3>See Also</h3>

<p><code>predict.variable_selection</code>
</p>
<p>Other ensemble model functions: 
<code>Ensemble()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Data simulation
set.seed(1)
simul &lt;- SimulateRegression(n = 1000, pk = 50, family = "gaussian")

# Training/test split
ids &lt;- Split(data = simul$ydata, tau = c(0.8, 0.2))
stab &lt;- VariableSelection(
  xdata = simul$xdata[ids[[1]], ],
  ydata = simul$ydata[ids[[1]], ]
)

# Constructing the ensemble model
ensemble &lt;- Ensemble(
  stability = stab,
  xdata = simul$xdata[ids[[1]], ],
  ydata = simul$ydata[ids[[1]], ]
)

# Making predictions
yhat &lt;- EnsemblePredictions(
  ensemble = ensemble,
  xdata = simul$xdata[ids[[2]], ]
)

# Calculating Q-squared
cor(simul$ydata[ids[[2]], ], yhat)^2

</code></pre>


</div>