<div class="container">

<table style="width: 100%;"><tr>
<td>getFeatureFlux</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get flux from features</h2>

<h3>Description</h3>

<p>Internal soundgen function
</p>


<h3>Usage</h3>

<pre><code class="language-R">getFeatureFlux(an, thres = 0.1, smoothing_ww = 1, plot = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>an</code></td>
<td>
<p>dataframe of results from analyze()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thres</code></td>
<td>
<p>threshold used for epoch detection (0 - 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smoothing_ww</code></td>
<td>
<p>if &gt; 1, <code>medianSmoother</code> is called on input dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>if TRUE, plots the normalized feature matrix and epochs</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Calculates the change in acoustic features returned by analyze() from one
STFT frame to the next. Since the features are on different scales, they are
normalized depending on their units (but not scaled). Flux is calculated as
mean absolute change across all normalized features. Whenever flux exceeds
<code>thres</code>, a new epoch begins.
</p>


<h3>Value</h3>

<p>Returns a data frame with flux per frame and epoch numbers.
</p>


<h3>Examples</h3>

<pre><code class="language-R">an = analyze(soundgen(), 16000)
fl = soundgen:::getFeatureFlux(an$detailed, plot = TRUE)
## Not run: 
# or simply:
an = analyze(soundgen(sylLen = 500), 16000, plot = TRUE, ylim = c(0, 8),
             extraContour = 'flux', flux = list(smoothWin = 100, thres = .15))

## End(Not run)
</code></pre>


</div>