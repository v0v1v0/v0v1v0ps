<div class="container">

<table style="width: 100%;"><tr>
<td>ssrmst</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sample Size Calculation using Restricted Mean Survival Time</h2>

<h3>Description</h3>

<p>The package calculates the study sample size and power in designing clinical trials using the difference in restricted mean survival time (RMST).
Two types of one-sided tests, non-inferiority and superiority tests, are prepared.
Under certain conditions, 2,000 sets of realizations in default are generated for calculating confidence intervals of RMST differences.
Then the power is calculated, i.e., the chance that the lower bound of 2,000 confidence intervals of RMST differences falls above a margin.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ssrmst(ac_rate=NULL, ac_period=NULL, ac_number=NULL, tot_time, tau,
       shape0=1, scale0, shape1=1, scale1, margin=0, allocation1=0.5,
       one_sided_alpha=0.025, seed=NULL, ntest=2000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ac_rate</code></td>
<td>
<p>Accrual rate: the number of patients per unit time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ac_period</code></td>
<td>
<p>Accrual period: the time point at last accrual.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ac_number</code></td>
<td>
<p>Accrual number: the total number of accrual patients.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tot_time</code></td>
<td>
<p>Total study time: the time point at last follow-up.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau</code></td>
<td>
<p>Truncation time point to calculate RMSTs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape0, shape1</code></td>
<td>
<p>Shape parameters for the Weibull distribution in both the control (arm0) and the treatment (arm1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale0, scale1</code></td>
<td>
<p>Scale parameters for the Weibull distribution in both the control (arm0) and the treatment (arm1). Note that when the PH assumption is assumed, the value of the scale parameter in the treatment (arm1) needs to be larger than or equal to that in the control (arm0), because the difference of the RMSTs (arm1 minus arm0) is of interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin</code></td>
<td>
<p>Non-inferiority margin: a clinically acceptable difference in RMST. A value of minus <code>margin</code> is used to evaluate the power. When default (<code>margin = 0</code>), a superiority test is selected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allocation1</code></td>
<td>
<p>Proportion of patients allocated to the treatment (arm1). Default value is 0.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>one_sided_alpha</code></td>
<td>
<p>Nominal type I error level as one-sided. When default (<code>one_sided_alpha = 0.025</code>), 0.95 confidence intervals of the difference in RMST are estimated to calculate the power.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Random seed used for the sampling. Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ntest</code></td>
<td>
<p>Number of iterations. When default (<code>ntest = 2000</code>), 2,000 sets of realizations are generated for calculating confidence intervals of RMST differences.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For more details, please refer to the vignette: <code>browseVignettes(package = "SSRMST")</code>
</p>


<h3>Value</h3>

<p>A list with components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>result</code></td>
<td>
<p>Total study population and expected number of events.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power1</code></td>
<td>
<p>The power based on separate variance, i.e., the chance that the lower bound of 2,000 confidence intervals of difference in RMST falls above a value of minus margin in a non-inferiority test (or above 0 in a superiority test).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power2</code></td>
<td>
<p>The power based on pooled variance, i.e., the chance that the lower bound of 2,000 confidence intervals of difference in RMST falls above a value of minus margin in a non-inferiority test (or above 0 in a superiority test).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ac_rate</code></td>
<td>
<p>Accrual rate used in the analyses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ac_period</code></td>
<td>
<p>Accrual period used in the analyses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ac_number</code></td>
<td>
<p>Accrual number used in the analyses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ac_type</code></td>
<td>
<p>Accrual type: 1; the number of patients per unit time is automatically calculated by specifying the parameters (ac_rate and ac_period),
2; the accrual rate is automatically calculated by specifying the parameters (ac_period and ac_number), 3; the accrual period is automatically calculated by specifying the parameters (ac_rate and ac_number).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tot_time</code></td>
<td>
<p>Total study time used in the analyses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin</code></td>
<td>
<p>Margin used in the analyses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau</code></td>
<td>
<p>Truncation time point used in the analyses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>one_sided_alpha</code></td>
<td>
<p>Nominal type I error level as one-sided used in the analyses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>note</code></td>
<td>
<p>Note regarding the truncation time, tau.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Uno H, Wittes J, Fu H, Solomon SD, Claggett B, Tian L, Cai T, Pfeffer MA, Evans SR, Wei LJ.
Alternatives to Hazard Ratios for Comparing the Efficacy or Safety of Therapies in non-inferiority Studies.
Annals of Internal Medicine 2015, 163, 127-134.
</p>


<h3>See Also</h3>

<p>survival
survRM2
</p>


<h3>Examples</h3>

<pre><code class="language-R"> #---Example data

 #--Non-inferiority test
 ac_rate   = 15
 ac_period = 35
 tot_time  = 510
 tau       = 500
 scale0    = 8500
 scale1    = 8500
 margin    = 18

 a = ssrmst(ac_rate=ac_rate, ac_period=ac_period, tot_time=tot_time,
            tau=tau, scale0=scale0, scale1=scale1, margin=margin, ntest=20)
 print(a)


 #--Superiority test
 ac_rate   = 15
 ac_period = 35
 tot_time  = 510
 tau       = 500
 scale0    = 4000
 scale1    = 8500
 b = ssrmst(ac_rate=ac_rate, ac_period=ac_period, tot_time=tot_time,
            tau=tau, scale0=scale0, scale1=scale1, ntest=20)
 print(b)
</code></pre>


</div>