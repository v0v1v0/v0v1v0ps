<div class="container">

<table style="width: 100%;"><tr>
<td>get_featured_themes</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find the most frequently occurring themes in a collection</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#maturing"><img src="../help/figures/lifecycle-maturing.svg" alt="[Maturing]"></a>
</p>
<p><code>get_featured_themes()</code> calculates the top <code>m</code> most frequently occurring
themes in a collection.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_featured_themes(
  collection = NULL,
  top_m = 10,
  weights = list(choice = 3, major = 2, minor = 1),
  explicit = TRUE,
  min_freq = 1,
  blacklist = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>collection</code></td>
<td>
<p>A <code>Collection()</code> class object.
</p>
<p>If <code>NULL</code>, the collection of all stories in the actively loaded
<abbr><span class="acronym">LTO</span></abbr> version is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>top_m</code></td>
<td>
<p>Maximum number of themes to report. The default is <code>top_m=10</code>.
</p>
<p>If <code>Inf</code>, all themes occurring at least <code>min_occurrence</code> times in the
collection are reported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>A list assigning nonnegative weights to choice, major, and
minor theme levels. The default weighting
<code>list(choice = 3, major = 2, minor = 1)</code> counts each <em>choice</em> usage
three times, each <em>major</em> theme usage twice, and each <em>minor</em>
theme usage once. Use the uniform weighting
<code>list(choice = 1, major = 1, minor = 1)</code> weights theme usages equally
regardless of level. At least one weight must be positive.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>explicit</code></td>
<td>
<p>Set to <code>FALSE</code> to include ancestor themes of the explicit
thematic annotations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_freq</code></td>
<td>
<p>Drop themes occurring less than this number of times from
the analysis. The default <code>min_freq=1</code> results in no themes are discarded.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blacklist</code></td>
<td>
<p>A <code>Themeset()</code> class object. A themeset containing themes
to be dropped from the analysis.
</p>
<p>If <code>NULL</code>, no themes are filtered.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The input collection of <code>n</code> stories, <code class="reqn">S[1], \ldots, S[n]</code>, is
represented as a weighted bag-of-words, where each <em>choice</em> theme in
story <code class="reqn">S[j] (j=1, \ldots, n)</code> is counted <code>weights$choice</code> times,
each <em>major</em> theme <code>weights$major</code> times, and each <em>minor</em>
theme <code>weights$choice</code> times.
</p>


<h3>Value</h3>

<p>Returns a <code>tibble</code> with <code>top_m</code> rows (themes)
and 6 columns:
</p>

<table>
<tr>
<td style="text-align: left;">
<code>theme_name</code>: </td>
<td style="text-align: left;"> <code>m</code>-th most frequently occurring theme in the
collection</td>
</tr>
<tr>
<td style="text-align: left;">
<code>k</code>: </td>
<td style="text-align: left;"> Number of collection stories featuring the theme</td>
</tr>
<tr>
<td style="text-align: left;">
<code>k_bar</code>: </td>
<td style="text-align: left;"> Weighted counts of the theme summed over the collection
stories</td>
</tr>
<tr>
<td style="text-align: left;">
<code>n</code>: </td>
<td style="text-align: left;"> Number of stories in the collection</td>
</tr>
<tr>
<td style="text-align: left;">
<code>n_bar</code>: </td>
<td style="text-align: left;"> Sum of all weighted counts of collection themes</td>
</tr>
<tr>
<td style="text-align: left;">
<code>tp</code>: </td>
<td style="text-align: left;"> Theme weighted term proportion (i.e. <code>k_bar</code>/<code>n_bar</code>)</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Retrieve the top 10 most featured themes in "The Twilight Zone" franchise
# stories:
set_lto("demo")
result_tbl &lt;- get_featured_themes()
result_tbl

# Retrieve the top 10 most featured themes in "The Twilight Zone" franchise
# stories not including any minor level themes:
set_lto("demo")
result_tbl &lt;- get_featured_themes(weights = list(choice = 1, major = 1, minor = 0))
result_tbl

# Retrieve the top 10 most featured themes in "The Twilight Zone" (1959)
# television series episodes:
collection &lt;- Collection$new(collection_id = "Collection: tvseries: The Twilight Zone (1959)")
result_tbl &lt;- get_featured_themes(collection)
result_tbl

## End(Not run)
</code></pre>


</div>