<div class="container">

<table style="width: 100%;"><tr>
<td>urban_agglomerations</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Major urban areas worldwide</h2>

<h3>Description</h3>

<p>Dataset in a 'long' form from the United Nations
population division with projections up to 2050.
Includes only the top 30 largest areas by population at 5 year intervals.
</p>


<h3>Usage</h3>

<pre><code class="language-R">urban_agglomerations
</code></pre>


<h3>Format</h3>

<p>Selected variables:
</p>

<ul>
<li>
<p>year: Year of population estimate
</p>
</li>
<li>
<p>country_code: Code of country
</p>
</li>
<li>
<p>urban_agglomeration: Name of the urban agglomeration
</p>
</li>
<li>
<p>population_millions: Estimated human population
</p>
</li>
<li>
<p>geometry: sfc_POINT
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">if (requireNamespace("sf", quietly = TRUE)) {
  library(sf)
  plot(urban_agglomerations)
}
# Code used to download the data:
## Not run: 
f = "WUP2018-F11b-30_Largest_Cities_in_2018_by_time.xls"
download.file(
  destfile = f,
  url = paste0("https://population.un.org/wup/Download/Files/", f)
 )
library(dplyr)
library(sf)
urban_agglomerations = readxl::read_excel(f, skip = 16) %&gt;%
    st_as_sf(coords = c("Longitude", "Latitude"), crs = 4326)
names(urban_agglomerations)
names(urban_agglomerations) &lt;- gsub(" |\\n", "_", tolower(names(urban_agglomerations)) ) %&gt;% 
        gsub("\\(|\\)", "", .)
names(urban_agglomerations)
urban_agglomerations
usethis::use_data(urban_agglomerations, overwrite = TRUE)
file.remove("WUP2018-F11b-30_Largest_Cities_in_2018_by_time.xls")

## End(Not run)
</code></pre>


</div>