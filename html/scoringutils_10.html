<div class="container">

<table style="width: 100%;"><tr>
<td>bias_sample</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Determines bias of forecasts</h2>

<h3>Description</h3>

<p>Determines bias from predictive Monte-Carlo samples. The function
automatically recognises, whether forecasts are continuous or
integer valued and adapts the Bias function accordingly.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bias_sample(true_values, predictions)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>true_values</code></td>
<td>
<p>A vector with the true observed values of size n</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictions</code></td>
<td>
<p>nxN matrix of predictive samples, n (number of rows) being
the number of data points and N (number of columns) the number of Monte
Carlo samples. Alternatively, predictions can just be a vector of size n.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For continuous forecasts, Bias is measured as
</p>
<p style="text-align: center;"><code class="reqn">
B_t (P_t, x_t) = 1 - 2 * (P_t (x_t))
</code>
</p>

<p>where <code class="reqn">P_t</code> is the empirical cumulative distribution function of the
prediction for the true value <code class="reqn">x_t</code>. Computationally, <code class="reqn">P_t (x_t)</code> is
just calculated as the fraction of predictive samples for <code class="reqn">x_t</code>
that are smaller than <code class="reqn">x_t</code>.
</p>
<p>For integer valued forecasts, Bias is measured as
</p>
<p style="text-align: center;"><code class="reqn">
B_t (P_t, x_t) = 1 - (P_t (x_t) + P_t (x_t + 1))
</code>
</p>

<p>to adjust for the integer nature of the forecasts.
</p>
<p>In both cases, Bias can assume values between
-1 and 1 and is 0 ideally.
</p>


<h3>Value</h3>

<p>vector of length n with the biases of the predictive samples with
respect to the true values.
</p>


<h3>Author(s)</h3>

<p>Nikos Bosse <a href="mailto:nikosbosse@gmail.com">nikosbosse@gmail.com</a>
</p>


<h3>References</h3>

<p>The integer valued Bias function is discussed in
Assessing the performance of real-time epidemic forecasts: A case study of
Ebola in the Western Area region of Sierra Leone, 2014-15 Funk S, Camacho A,
Kucharski AJ, Lowe R, Eggo RM, et al. (2019) Assessing the performance of
real-time epidemic forecasts: A case study of Ebola in the Western Area
region of Sierra Leone, 2014-15. PLOS Computational Biology 15(2): e1006785.
<a href="https://doi.org/10.1371/journal.pcbi.1006785">doi:10.1371/journal.pcbi.1006785</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## integer valued forecasts
true_values &lt;- rpois(30, lambda = 1:30)
predictions &lt;- replicate(200, rpois(n = 30, lambda = 1:30))
bias_sample(true_values, predictions)

## continuous forecasts
true_values &lt;- rnorm(30, mean = 1:30)
predictions &lt;- replicate(200, rnorm(30, mean = 1:30))
bias_sample(true_values, predictions)
</code></pre>


</div>