<div class="container">

<table style="width: 100%;"><tr>
<td>SampleControl-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class "SampleControl"</h2>

<h3>Description</h3>

<p>Class for controlling the setup of samples.</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>new("SampleControl", ...)</code>
or <code>SampleControl(...)</code>.
</p>


<h3>Slots</h3>


<dl>
<dt>
<code>design</code>:</dt>
<dd>
<p>Object of class <code>"BasicVector"</code> specifying
variables (columns) to be used for stratified sampling.</p>
</dd>
<dt>
<code>grouping</code>:</dt>
<dd>
<p>Object of class <code>"BasicVector"</code> specifying a
grouping variable (column) to be used for sampling whole groups rather
than individual observations.</p>
</dd>
<dt>
<code>collect</code>:</dt>
<dd>
<p>Object of class <code>"logical"</code>; if  a grouping
variable is specified and this is <code>FALSE</code> (which is the default
value), groups are sampled directly.  If grouping variable is specified
and this is <code>TRUE</code>, individuals are sampled in a first step.  In a
second step, all individuals that belong to the same group as any of the
sampled individuals are collected and added to the sample.  If no
grouping variable is specified, this is ignored.</p>
</dd>
<dt>
<code>fun</code>:</dt>
<dd>
<p>Object of class <code>"function"</code> to be used for
sampling (defaults to <code>srs</code>).  It should return a vector
containing the indices of the sampled items (observations or groups).</p>
</dd>
<dt>
<code>size</code>:</dt>
<dd>
<p>Object of class <code>"OptNumeric"</code>; an optional
non-negative integer giving the number of items (observations or groups)
to sample.  In case of stratified sampling, a vector of non-negative
integers, each giving the number of items to sample from the
corresponding stratum, may be supplied.</p>
</dd>
<dt>
<code>prob</code>:</dt>
<dd>
<p>Object of class <code>"OptBasicVector"</code>; an optional
numeric vector giving the probability weights, or a character string or
logical vector specifying a variable (column) that contains the
probability weights.</p>
</dd>
<dt>
<code>dots</code>:</dt>
<dd>
<p>Object of class <code>"list"</code> containing additional
arguments to be passed to <code>fun</code>.</p>
</dd>
<dt>
<code>k</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code>; a single positive
integer giving the number of samples to be set up.</p>
</dd>
</dl>
<h3>Details</h3>

<p>There are some restrictions on the argument names of the function
supplied to <code>fun</code>.  If it needs population data as input,
the corresponding argument should be called <code>x</code> and should expect
a <code>data.frame</code>.  If the sampling method only needs the population size
as input, the argument should be called <code>N</code>.  Note that <code>fun</code> is
not expected to have both <code>x</code> and <code>N</code> as arguments, and that the
latter is much faster for stratified sampling or group sampling.
Furthermore, if the function has arguments for sample size and probability
weights, they should be called <code>size</code> and <code>prob</code>, respectively.
Note that a function with <code>prob</code> as its only argument is perfectly valid
(for probability proportional to size sampling).  Further arguments of
<code>fun</code> may be supplied as a list via the slot <code>dots</code>.
</p>


<h3>Extends</h3>

<p>Class <code>"VirtualSampleControl"</code>, directly.
Class <code>"OptSampleControl"</code>, by class "VirtualSampleControl", distance 2.
</p>


<h3>Accessor and mutator methods</h3>

<p>In addition to the accessor and mutator methods for the slots inherited from
<code>"VirtualSampleControl"</code>, the following are available:
</p>

<dl>
<dt><code>getDesign</code></dt>
<dd>
<p><code>signature(x = "SampleControl")</code>: get slot
<code>design</code>.</p>
</dd>
<dt><code>setDesign</code></dt>
<dd>
<p><code>signature(x = "SampleControl")</code>: set slot
<code>design</code>.</p>
</dd>
<dt><code>getGrouping</code></dt>
<dd>
<p><code>signature(x = "SampleControl")</code>: get slot
<code>grouping</code>.</p>
</dd>
<dt><code>setGrouping</code></dt>
<dd>
<p><code>signature(x = "SampleControl")</code>: set slot
<code>grouping</code>.</p>
</dd>
<dt><code>getCollect</code></dt>
<dd>
<p><code>signature(x = "SampleControl")</code>: get slot
<code>collect</code>.</p>
</dd>
<dt><code>setCollect</code></dt>
<dd>
<p><code>signature(x = "SampleControl")</code>: set slot
<code>collect</code>.</p>
</dd>
<dt><code>getFun</code></dt>
<dd>
<p><code>signature(x = "SampleControl")</code>: get slot
<code>fun</code>.</p>
</dd>
<dt><code>setFun</code></dt>
<dd>
<p><code>signature(x = "SampleControl")</code>: set slot
<code>fun</code>.</p>
</dd>
<dt><code>getSize</code></dt>
<dd>
<p><code>signature(x = "SampleControl")</code>: get slot
<code>size</code>.</p>
</dd>
<dt><code>setSize</code></dt>
<dd>
<p><code>signature(x = "SampleControl")</code>: set slot
<code>size</code>.</p>
</dd>
<dt><code>getProb</code></dt>
<dd>
<p><code>signature(x = "SampleControl")</code>: get slot
<code>prob</code>.</p>
</dd>
<dt><code>setProb</code></dt>
<dd>
<p><code>signature(x = "SampleControl")</code>: set slot
<code>prob</code>.</p>
</dd>
<dt><code>getDots</code></dt>
<dd>
<p><code>signature(x = "SampleControl")</code>: get slot
<code>dots</code>.</p>
</dd>
<dt><code>setDots</code></dt>
<dd>
<p><code>signature(x = "SampleControl")</code>: set slot
<code>dots</code>.</p>
</dd>
</dl>
<h3>Methods</h3>

<p>In addition to the methods inherited from
<code>"VirtualSampleControl"</code>, the following are available:
</p>

<dl>
<dt><code>clusterSetup</code></dt>
<dd>
<p><code>signature(cl = "ANY", x = "data.frame",
      control = "SampleControl")</code>: set up multiple samples on a cluster.</p>
</dd>
<dt><code>setup</code></dt>
<dd>
<p><code>signature(x = "data.frame",
      control = "SampleControl")</code>: set up multiple samples.</p>
</dd>
<dt><code>show</code></dt>
<dd>
<p><code>signature(object = "SampleControl")</code>: print the
object on the <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> console.</p>
</dd>
</dl>
<h3>UML class diagram</h3>

<p>A slightly simplified UML class diagram of the framework can be found in
Figure 1 of the package vignette <em>An Object-Oriented Framework for
Statistical Simulation: The <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> Package <code>simFrame</code></em>.  Use
<code>vignette("simFrame-intro")</code> to view this vignette.
</p>


<h3>Note</h3>

<p>The slots <code>grouping</code> and <code>fun</code> were named <code>group</code> and
<code>method</code>, respectively, prior to version 0.2.  Renaming the slots was
necessary since accessor and mutator functions were introduced in this
version and functions named <code>getGroup</code>, <code>getMethod</code> and
<code>setMethod</code> already exist.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons</p>


<h3>References</h3>

<p>Alfons, A., Templ, M. and Filzmoser, P. (2010) An Object-Oriented Framework for
Statistical Simulation: The <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> Package <span class="pkg">simFrame</span>. <em>Journal of
Statistical Software</em>, <b>37</b>(3), 1â€“36. doi: <a href="https://doi.org/10.18637/jss.v037.i03">10.18637/jss.v037.i03</a>.
</p>


<h3>See Also</h3>

<p><code>"VirtualSampleControl"</code>,
<code>"TwoStageControl"</code>, <code>"SampleSetup"</code>,
<code>setup</code>, <code>draw</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(eusilcP)

## simple random sampling
srsc &lt;- SampleControl(size = 20)
draw(eusilcP[, c("id", "eqIncome")], srsc)

## group sampling
gsc &lt;- SampleControl(grouping = "hid", size = 10)
draw(eusilcP[, c("hid", "hid", "eqIncome")], gsc)

## stratified simple random sampling
ssrsc &lt;- SampleControl(design = "region",
    size = c(2, 5, 5, 3, 4, 5, 3, 5, 2))
draw(eusilcP[, c("id", "region", "eqIncome")], ssrsc)

## stratified group sampling
sgsc &lt;- SampleControl(design = "region", grouping = "hid",
    size = c(2, 5, 5, 3, 4, 5, 3, 5, 2))
draw(eusilcP[, c("hid", "id", "region", "eqIncome")], sgsc)
</code></pre>


</div>