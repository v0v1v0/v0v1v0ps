<div class="container">

<table style="width: 100%;"><tr>
<td>asof_future_left_join</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Temporal future left join</h2>

<h3>Description</h3>

<p>Perform left-outer join on 2 'TimeSeriesRDD's based on inexact timestamp
matches, where each record from 'left' with timestamp 't' matches the
record from 'right' having the most recent timestamp at or after 't' if
'strict_lookahead' is FALSE (default) or having the most recent timestamp
strictly after 't' if 'strict_lookahead' is TRUE.
Notice this is equivalent to 'asof_join()' with 'direction' = "&gt;=" if
'strict_lookahead' is FALSE (default) or direction '&gt;' if
'strict_lookahead' is TRUE.
See <code>asof_join</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">asof_future_left_join(
  left,
  right,
  tol = "0ms",
  key_columns = list(),
  left_prefix = NULL,
  right_prefix = NULL,
  strict_lookahead = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>left</code></td>
<td>
<p>The left 'TimeSeriesRDD'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>right</code></td>
<td>
<p>The right 'TimeSeriesRDD'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>A character vector specifying a time duration (e.g., "0ns", "5ms",
"5s", "1d", etc) as the tolerance for absolute difference in timestamp values
between each record from 'left' and its matching record from 'right'.
By default, 'tol' is "0ns", which means a record from 'left' will only be
matched with a record from 'right' if both contain the exact same timestamps.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key_columns</code></td>
<td>
<p>Columns to be used as the matching key among records from
'left' and 'right': if non-empty, then in addition to matching criteria
imposed by timestamps, a record from 'left' will only match one from the
'right' only if they also have equal values in all key columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>left_prefix</code></td>
<td>
<p>A string to prepend to all columns from 'left' after the
join (usually for disambiguation purposes if 'left' and 'right' contain
overlapping column names).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>right_prefix</code></td>
<td>
<p>A string to prepend to all columns from 'right' after the
join (usually for disambiguation purposes if 'left' and 'right' contain
overlapping column names).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict_lookahead</code></td>
<td>
<p>Whether each record from 'left' with timestamp 't'
should match record from 'right' with the smallest timestamp strictly
greater than 't' (default: FALSE)</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>Other Temporal join functions: 
<code>asof_join()</code>,
<code>asof_left_join()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(sparklyr)
library(sparklyr.flint)

sc &lt;- try_spark_connect(master = "local")
if (!is.null(sc)) {
  ts_1 &lt;- copy_to(sc, tibble::tibble(t = seq(10), u = seq(10))) %&gt;%
    from_sdf(is_sorted = TRUE, time_unit = "SECONDS", time_column = "t")
  ts_2 &lt;- copy_to(sc, tibble::tibble(t = seq(10) + 1, v = seq(10) + 1L)) %&gt;%
    from_sdf(is_sorted = TRUE, time_unit = "SECONDS", time_column = "t")
  future_left_join_ts &lt;- asof_future_left_join(ts_1, ts_2, tol = "1s")
} else {
  message("Unable to establish a Spark connection!")
}

</code></pre>


</div>