<div class="container">

<table style="width: 100%;"><tr>
<td>GetHighResolutionImage</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get image limited to an area of interest</h2>

<h3>Description</h3>

<p>Provides you with a high resolution image for the area within the acquisition boundaries,
if you're not interested in downloading the whole image.
</p>


<h3>Usage</h3>

<pre><code class="language-R">GetHighResolutionImage(
  aoi,
  id,
  bands,
  width,
  height,
  file = "image.jpg",
  api_key = Sys.getenv("spectator_earth_api_key")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>aoi</code></td>
<td>
<p>'<code>sf</code>' (or '<code>Spatial*</code>') object defining the area of interest.
Can be of any geometry as only the bounding box is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>integer, <code>id</code> of the image from the <code>SearchImages</code> result</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bands</code></td>
<td>
<p>integer vector of length 1 or 3 indicating the spectral bands to use for creating the image
(typically the bands corresponding to Red, Green and Blue)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>integer indicating the width of the image (in pixels)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>integer indicating the height of the image (in pixels)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>character indicating the name of the image file to create. Default: 'image.jpg'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>api_key</code></td>
<td>
<p>character containing your API key. Default: <code>Sys.getenv("spectator_earth_api_key")</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>As a side effect, the image file is written to the provided path.
</p>


<h3>Value</h3>

<p>The name of the image file is returned invisibly.
</p>


<h3>Source</h3>

<p><a href="https://api.spectator.earth/#high-resolution-image">https://api.spectator.earth/#high-resolution-image</a>
</p>


<h3>See Also</h3>

<p><code>SearchImages</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(interactive()){
 library(sf)
 my_key &lt;- Sys.getenv("spectator_earth_api_key")
 # get the New York City Central Park shape as area of interest
 dsn &lt;- system.file("extdata", "centralpark.geojson", package = "spectator")
 boundary &lt;- sf::read_sf(dsn, as_tibble = FALSE)
 # search for May 2021 Sentinel 2 images 
 catalog &lt;- SearchImages(aoi = boundary, satellites = "S2", 
     date_from = "2021-05-01", date_to = "2021-05-30", 
     footprint = FALSE, api_key = my_key)
 # get the id of the image with minimal cloud coverage
 best_id &lt;- catalog[order(catalog$cloud_cover_percentage), ][1, "id"]
 # get the high resolution image of the Central Park
 img &lt;- GetHighResolutionImage(aoi = boundary, id = best_id, bands = c(4, 3, 2), 
     width = 1024, height = 1024,
     file = tempfile(pattern = "img", fileext = ".jpg"), 
     api_key = my_key)
 }
</code></pre>


</div>