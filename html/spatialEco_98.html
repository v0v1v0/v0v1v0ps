<div class="container">

<table style="width: 100%;"><tr>
<td>raster.vol</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Raster Percent Volume</h2>

<h3>Description</h3>

<p>Calculates a percent volume on a raster or based on a 
systematic sample
</p>


<h3>Usage</h3>

<pre><code class="language-R">raster.vol(
  x,
  p = 0.75,
  sample = FALSE,
  spct = 0.05,
  type = c("random", "regular")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A terra SpatRaster class object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>percent raster-value volume</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample</code></td>
<td>
<p>(FALSE/TRUE) base volume on systematic point sample</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spct</code></td>
<td>
<p>sample percent, if sample (TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>If sample=TRUE type of sample, options are "random" or "regular"</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>if sample (FALSE) binary raster object with 1 representing designated 
percent volume else, if sample (TRUE) n sf POINT object with points 
that represent the percent volume of the sub-sample
</p>


<h3>Note</h3>

<p>Since this model needs to operate on all of the raster values, it is not memory safe
</p>


<h3>Author(s)</h3>

<p>Jeffrey S. Evans  &lt;jeffrey_evans@tnc.org&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(terra)
  r &lt;- rast(ncols=100, nrows=100)
    r[] &lt;- runif(ncell(r), 0, 1)
    r &lt;- focal(r, w=focalMat(r, 6, "Gauss"))
  #r[sample(1:ncell(r)),10] &lt;- NA
  
  # full raster percent volume 
  p30 &lt;- raster.vol(r, p=0.30)
  p50 &lt;- raster.vol(r, p=0.50)
  p80 &lt;- raster.vol(r, p=0.80)

opar &lt;- par(no.readonly=TRUE)
    par(mfrow=c(2,2))
    plot(r, col=cm.colors(10), main="original raster")
    plot(p30, breaks=c(0,0.1,1), col=c("cyan","red"), legend=FALSE,
      main="30% volume")
    plot(p50, breaks=c(0,0.1,1), col=c("cyan","red"), legend=FALSE,
      main="50% volume")
    plot(p80, breaks=c(0,0.1,1), col=c("cyan","red"), legend=FALSE,
      main="80% volume")
par(opar)  


</code></pre>


</div>