<div class="container">

<table style="width: 100%;"><tr>
<td>db_explain</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Explain API</h2>

<h3>Description</h3>

<p>Explain API
</p>


<h3>Usage</h3>

<pre><code class="language-R">db_explain(
  cushion,
  dbname,
  query = NULL,
  selector = NULL,
  limit = NULL,
  skip = NULL,
  sort = NULL,
  fields = NULL,
  use_index = NULL,
  as = "list",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cushion</code></td>
<td>
<p>A <code>Cushion</code> object. Required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbname</code></td>
<td>
<p>Database name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>(character) instead of using the other parameters, you can
compose one R list or json blob here</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>selector</code></td>
<td>
<p>(json) - JSON object describing criteria used to select
documents. More information provided in the section on selector syntax.
See the <code>query_tutorial</code> in this package, and the selectors docs
<a href="http://docs.couchdb.org/en/2.0.0/api/database/find.html#find-selectors">http://docs.couchdb.org/en/2.0.0/api/database/find.html#find-selectors</a></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limit</code></td>
<td>
<p>(number) - Maximum number of results returned. Default: 25
Optional</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip</code></td>
<td>
<p>(number) - Skip the first 'n' results, where 'n' is the value
specified. Optional</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>(json) - JSON array following sort syntax. Optional.
See <a href="http://docs.couchdb.org/en/2.0.0/api/database/find.html#find-sort">http://docs.couchdb.org/en/2.0.0/api/database/find.html#find-sort</a>
For some reason, sort doesn't work often, not sure why.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fields</code></td>
<td>
<p>(json) - JSON array specifying which fields of each object
should be returned. If it is omitted, the entire object is returned. More
information provided in the section on filtering fields. Optional
See <a href="http://docs.couchdb.org/en/2.0.0/api/database/find.html#find-filter">http://docs.couchdb.org/en/2.0.0/api/database/find.html#find-filter</a></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_index</code></td>
<td>
<p>(json) - Instruct a query to use a specific index.
Specified either as <code style="white-space: pre;">⁠&lt;design_document&gt;⁠</code> or <code style="white-space: pre;">⁠["&lt;design_document&gt;", "&lt;index_name&gt;"]⁠</code>. Optional</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as</code></td>
<td>
<p>(character) One of list (default) or json</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Curl args passed on to <code>HttpClient</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>JSON as a character string or a list (determined by the
<code>as</code> parameter)
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
## create a connection
user &lt;- Sys.getenv("COUCHDB_TEST_USER")
pwd &lt;- Sys.getenv("COUCHDB_TEST_PWD")
(x &lt;- Cushion$new(user=user, pwd=pwd))

file &lt;- system.file("examples/omdb.json", package = "sofa")
strs &lt;- readLines(file)

## create a database
if ("omdb" %in% db_list(x)) {
  invisible(db_delete(x, dbname="omdb"))
}
db_create(x, dbname='omdb')

## add some documents
invisible(db_bulk_create(x, "omdb", strs))

## query all in one json blob
db_explain(x, dbname = "omdb", query = '{
  "selector": {
    "_id": {
      "$gt": null
    }
  }
}')

## End(Not run)
</code></pre>


</div>