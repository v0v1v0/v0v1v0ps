<div class="container">

<table style="width: 100%;"><tr>
<td>compose_rules</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Combine shinyvalidate rule functions</h2>

<h3>Description</h3>

<p>Takes multiple shinyvalidate rule functions, and returns a shinyvalidate rule
function. When this resulting rule function is invoked, it will try each of
its constituent rule functions in order; the first validation error that is
detected will be returned immediately and the remaining rules will not be
tried.
</p>
<p>This function is not intended to be used by Shiny app authors (i.e. not for
<code>InputValidator$add_rule("x", compose_rules(...))</code>), but for developers of
reusable shinyvalidate rule functions. See examples.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compose_rules(...)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Any number of shinyvalidate rule functions; earlier rules will be
attempted before later rules. Argument names are ignored. Single-sided
formulas are also accepted instead of a function, using <code>.</code> as the variable
name for the input value.</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A function suitable for use as an
<code>InputValidator$add_rule()</code> rule.
</p>


<h3>See Also</h3>

<p>Other rule functions: 
<code>sv_between()</code>,
<code>sv_email()</code>,
<code>sv_equal()</code>,
<code>sv_gte()</code>,
<code>sv_gt()</code>,
<code>sv_in_set()</code>,
<code>sv_integer()</code>,
<code>sv_lte()</code>,
<code>sv_lt()</code>,
<code>sv_not_equal()</code>,
<code>sv_numeric()</code>,
<code>sv_optional()</code>,
<code>sv_regex()</code>,
<code>sv_required()</code>,
<code>sv_url()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Create a new shinyvalidate rule that is composed
# of two `sv_*()` rule functions (`sv_integer()` and
# `sv_gt()`, and a custom function for ensuring
# a number is even)
positive_even_integer &lt;- function() {
  compose_rules(
    sv_integer(),
    sv_gt(0),
    ~ if (. %% 2 == 1) "Must be an even number"
  )
}

# Use the `positive_even_integer()` rule function
# to check that a supplied value is an integer, greater
# than zero, and even (in that order)

## Only run examples in interactive R sessions
if (interactive()) {

library(shiny)
library(shinyvalidate)

ui &lt;- fluidPage(
  textInput("value", "Value")
)

server &lt;- function(input, output, session) {
  
  # Validation rules are set in the server, start by
  # making a new instance of an `InputValidator()`
  iv &lt;- InputValidator$new()

  # Add two `add_rule()` statements: one that
  # combines `sv_required()` and `sv_numeric()` in
  # single rule, and another that is defined
  # through the use of `compose_rules()`
  iv$add_rule("value", compose_rules(sv_required(), sv_numeric()))
  iv$add_rule("value", positive_even_integer())

  # Finally, `enable()` the validation rules
  iv$enable()
}

shinyApp(ui, server)

}

</code></pre>


</div>