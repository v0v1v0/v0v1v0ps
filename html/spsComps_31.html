<div class="container">

<table style="width: 100%;"><tr>
<td>spsCodeBtn</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Display your code in a bootstrap modal or collapse</h2>

<h3>Description</h3>

<p>Developers often wants to show their code in a shiny app.
This function creates a button that when clicked, a modal or collapse
hidden element will show up to display your code.
</p>


<h3>Usage</h3>

<pre><code class="language-R">spsCodeBtn(
  id,
  code,
  language = "r",
  label = "",
  title = "Code to Reproduce",
  show_span = FALSE,
  tool_tip = "Show Code",
  placement = "bottom",
  btn_icon = icon("code"),
  display = c("modal", "collapse"),
  size = c("large", "medium", "small"),
  color = "black",
  shape = c("rect", "circular"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>element ID</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code</code></td>
<td>
<p>code you want to display, in a character string or vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>language</code></td>
<td>
<p>string, what programming language is the code, use <code>shinyAce::getAceModes()</code>
to see options</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>string, label to display on the button</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>string, title of the modal or collapse</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_span</code></td>
<td>
<p>bool, use the <code style="white-space: pre;">⁠&lt;span&gt;⁠</code> tag to show a little label of the
left of the button? The span text will use text from <code>tool_tip</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tool_tip</code></td>
<td>
<p>string, what tooltip to display when hover on the button</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>placement</code></td>
<td>
<p>string, where to display the tooltip</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>btn_icon</code></td>
<td>
<p>icon, <code>shiny::icon()</code>, icon of the button</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>display</code></td>
<td>
<p>string, one of "modal", "collapse"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>string, one of "large", "medium", "small", only works for modal</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>string, color of the button</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>
<p>string, shape of the button, one of "rect", "circular",</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other args pass to the shiny::actionButton</p>
</td>
</tr>
</table>
<h3>Details</h3>


<ol>
<li>
<p> The modal or collapse has an ID, the ID is your button ID + "-modal" or "-collapse",
like "my_button-modal"
</p>
</li>
<li>
<p> You could update the code inside the collapse use shinyAce::updateAceEditor
on server, the code block ID is button ID + "-ace", like "my_button-ace" . See
examples.
</p>
</li>
</ol>
<h3>Value</h3>

<p>a shiny tagList
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(interactive()){
  library(shiny)
  my_code &lt;-
    '
    # load package and data
    library(ggplot2)
    data(mpg, package="ggplot2")
    # mpg &lt;- read.csv("http://goo.gl/uEeRGu")

    # Scatterplot
    theme_set(theme_bw())  # pre-set the bw theme.
    g &lt;- ggplot(mpg, aes(cty, hwy))
    g + geom_jitter(width = .5, size=1) +
      labs(subtitle="mpg: city vs highway mileage",
           y="hwy",
           x="cty",
           title="Jittered Points")
    '
  html_code &lt;-
    '
    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
    &lt;body&gt;

    &lt;h2&gt;ABC&lt;/h2&gt;

    &lt;p id="demo"&gt;Some HTML&lt;/p&gt;

    &lt;/body&gt;
    &lt;/html&gt;
    '
  ui &lt;- fluidPage(
    fluidRow(
      column(
        6,
        h3("Display by modal"),
        column(
          6, h4("default"),
          spsCodeBtn(id = "a", my_code)
        ),
        column(
          6, h4("change color and shape"),
          spsCodeBtn(
            id = "b", c(my_code, my_code),
            color = "red", shape = "circular")
        )
      ),
      column(
        6,
        h3("Display by collapse"),
        column(
          6, h4("collapse"),
          spsCodeBtn(id = "c", my_code, display = "collapse")
        ),
        column(
          6, h4("different programming language"),
          spsCodeBtn(
            id = "d", html_code,
            language = "html", display = "collapse")
        )
      )
    ),
    fluidRow(
      column(
        6,
        h3("Update code"),
        spsCodeBtn(
          "update-code",
          "# No code here",
          display = "collapse"
        ),
        actionButton("update", "change code in the left `spsCodeBtn`"),
        actionButton("changeback", "change it back")
      )
    )
  )

  server &lt;- function(input, output, session) {
    observeEvent(input$update, {
      shinyAce::updateAceEditor(
        session, editorId = "update-code-ace",
        value = "# code has changed!\n 1+1"
      )
    })
    observeEvent(input$changeback, {
      shinyAce::updateAceEditor(
        session, editorId = "update-code-ace",
        value = "# No code here"
      )
    })
  }

  shinyApp(ui, server)
}
</code></pre>


</div>