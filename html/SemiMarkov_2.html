<div class="container">

<table style="width: 100%;"><tr>
<td>hazard</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Computes hazard rates using an object of class <code>semiMarkov</code> or <code>param.init</code>
</h2>

<h3>Description</h3>

<p>For a given vector of times, the function computes the hazard rates values of an object of class <code>semiMarkov</code> or <code>param.init</code> (which provided the hazard rates). Both, values of hazard rate of waiting time of semi-Markov process can be obtained.
</p>


<h3>Usage</h3>

<pre><code class="language-R">hazard(object, type = "alpha", time = NULL,
      cov = NULL, s = 0, t = "last", Length = 1000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>

<p>Object of class <code>semiMarkov</code> or <code>param.init</code>. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>

<p>Type of hazard to be computed: <code>"alpha"</code> for the hazard rates of waiting times of the embedded Markov chain and
<code>"lambda"</code> for the hazard rates of the semi-Markov process. Default is <code>"alpha"</code>. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>

<p>A vector containing the time values for which the hazard rate is computed.
Default value is a vector <code>seq(0, last, length = Length)</code> where <code>last</code> is the largest duration observed in the data set and <code>Length</code> is the length of the vector.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cov</code></td>
<td>

<p>A list with one component for each covariate. Each component gives values of covariates that are to be used for the hazard rates computation. For a time-fixed covariate a single value can be given whereas a whole vector of values is required for time dependent covariates. Default is <code>NULL</code> which corresponds to time-independent covariates all equal to 0. Note that the same covariates values are used for all transitions.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>

<p>Starting value of the time interval <code class="reqn">[s, t]</code> which is used to compute the hazard rate. This argument is not considered when the vector <code>time</code> is defined. Default value is 0.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>

<p>Ending value of the time interval <code class="reqn">[s, t]</code> which is used to compute the hazard rate. This argument is not considered when the vector <code>time</code> is defined. Default value is <code>last</code> which is the the largest duration observed in the data set.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Length</code></td>
<td>

<p>The number of points of the time interval <code class="reqn">[s, t]</code> for which the hazard rate is computed. These points are equally distributed in the time interval <code class="reqn">[s, t]</code>. This argument is not considered when the vector <code>time</code> is defined. Default value is 1000.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function computes the hazard rates of waiting (or sojourn) times and the hazard rates of semi-Markov process defined in the parametric multi-state semi-Markov model described in Listwon and Saint-Pierre (2013). Additional details about the methodology behind the <code>SemiMarkov</code> package can be found in Limnios and Oprisan (2001), Foucher <em>et al.</em> (2006) and Perez-Ocon and Ruiz-Castro (1999).
</p>




<p>The hazard rate of waiting time at time <code class="reqn">t</code> represents the conditional probability that a transition from state <code class="reqn">h</code> to state <code class="reqn">j</code> is observed given that no event occurs until time <code class="reqn">t</code>. In a parametric framework, the expression of the hazard rates can easily be obtained as the distributions of waiting time belong to a parametric family. The hazard rate values are calculated using the chosen distribution and the given values of the parameters. The effects of both constant and time-varying covariates on the hazard of waiting time can be studied using a proportional intensities model. The effects of covariates can then be interpreted in terms of relative risk.
</p>



<p>The hazard rate of the semi-Markov process at time <code class="reqn">t</code> represents the conditional probability that a transition into state <code class="reqn">j</code> is observed given that the subject is in state <code class="reqn">h</code> and that no event occurs until time <code class="reqn">t</code>. The hazard rate of the semi-Markov process can be interpreted as the subject's risk of passing from state <code class="reqn">h</code> to state <code class="reqn">j</code>. This quantity can be deduced from the transition probabilities of the embedded Markov chain and from the distributions of waiting times.
</p>


<p>This function can be used to compute the hazard rates for different values of the covariates or different values of the parameters. These hazard rates can then be plotted using plot.hazard.
</p>
<p>Objects of classes <code>semiMarkov</code> and <code>param.init</code> can be used in the function <code>hazard</code>. These objects contain informations on the model and the values of the parameters for the waiting time distribution, the transition probability of Markov chain and the regression coefficients.
</p>












<h3>Value</h3>



<p>Returns an object of class <code>hazard</code>.

</p>
<table>
<tr style="vertical-align: top;">
<td><code>Type</code></td>
<td>

<p>The type of hazard computed by the function <code>hazard</code>: the hazard of waiting time (<code>alpha</code>) or the hazard of the semi-Markov process (<code>lambda</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vector</code></td>
<td>

<p>A data frame containing one vector for each possible transition. A vector contains values of the hazard rate associated to the vector of times.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Time</code></td>
<td>

<p>The vector of times used to compute the hazard rate.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Covariates</code></td>
<td>

<p>A list containing the values of the covariates (fixed or time-dependent).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Summary</code></td>
<td>

<p>A list of data frames (one for each possible transition). A dataframe contains quantiles, means, minimums and maximums of the hazard rate values.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Transition_matrix</code></td>
<td>

<p>A matrix containing informations on the model: the possible transitions and the distribution of waiting times for each transition (Exponential, Weibull or Exponentiated Weibull).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>

<p>Recall the name of the model.
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Agnieszka Listwon-Krol
</p>


<h3>References</h3>

<p>Krol, A., Saint-Pierre P. (2015). <em>SemiMarkov : An R Package for Parametric Estimation in Multi-State Semi-Markov Models</em>. 66(6), 1-16.
</p>
<p>Limnios, N., Oprisan, G. (2001). <em>Semi-Markov processes and reliability</em>. Statistics for Industry and Technology. Birkhauser Boston.
</p>
<p>Foucher, Y., Mathieu, E., Saint-Pierre, P., Durand, J.F., Daures, J.P. (2006). A semi-Markov
model based on Generalized Weibull distribution with an illustration for HIV disease.
<em>Biometrical Journal</em>, 47(6), 825-833.
</p>
<p>Perez-Ocon, R., Ruiz-Castro, J. E. (1999). Semi-markov models and applications,
chapter 14, pages 229-238. <em>Kluwer Academic Publishers</em>.
</p>








<h3>See Also</h3>

<p>plot.hazard, semiMarkov, param.init, summary.hazard, print.hazard
</p>


<h3>Examples</h3>

<pre><code class="language-R">


## Asthma control data
data(asthma)

## Definition of the model:  states, names, 
# possible transtions and waiting times distributions
states_1 &lt;- c("1","2","3")
mtrans_1 &lt;- matrix(FALSE, nrow = 3, ncol = 3)
mtrans_1[1, 2:3] &lt;- c("E","E")
mtrans_1[2, c(1,3)] &lt;- c("E","E")
mtrans_1[3, c(1,2)] &lt;- c("W","E")

## semi-Markov model without covariates
fit1 &lt;- semiMarkov(data = asthma, states = states_1, mtrans = mtrans_1)

## Hazard rates of waiting time
alpha1 &lt;- hazard(fit1)
plot(alpha1)

## Hazard rates of the semi-Markov process
lambda1 &lt;- hazard(fit1, type = "lambda")
plot(lambda1)

## Defining a vector of equally distributed times 
alpha2 &lt;- hazard(fit1, s=0, t=3, Length=300)
plot(alpha2)

## Considering times observed in the data set
alpha3 &lt;- hazard(fit1, time=sort(unique(asthma$time)))
plot(alpha3)

## semi-Markov model with a covariate "BMI"
fit2 &lt;- semiMarkov(data = asthma, cov = as.data.frame(asthma$BMI), 
        states = states_1, mtrans = mtrans_1)

## Time fixed covariate
## Covariate equal to 0 and 1 for each transition
alpha4 &lt;- hazard(fit2)
alpha5 &lt;- hazard(fit2, cov=1)
plot(alpha4,alpha5)

## Time dependent covariate 
## Suppose that the covariate value is known for all times values
Time&lt;-sort(unique(asthma$time))             # observed times in ascending order
Cov1&lt;-sort(rbinom(length(Time), 1, 0.3))    # simulation of binary covariate
Cov2&lt;-sort(rexp(length(Time), 5))           # simulation of numeric covariate
alpha6 &lt;- hazard(fit2, time=Time, cov=Cov1)
plot(alpha6)
alpha7 &lt;- hazard(fit2, time=Time, cov=Cov2)
plot(alpha7)

## semi-Markov model with two covariates 
## "BMI" affects transitions "1-&gt;3" and "3-&gt;1"
## "Sex" affects transition "3-&gt;1"
SEX &lt;- as.data.frame(asthma$Sex)
BMI &lt;- as.data.frame(asthma$BMI)
fit3 &lt;- semiMarkov(data = asthma, cov = as.data.frame(cbind(BMI,SEX)),
                   states = states_1, mtrans = mtrans_1,
                   cov_tra = list(c("13","31"),c("31")))
alpha8 &lt;- hazard(fit3, cov=c(0,0))
alpha9 &lt;- hazard(fit3, cov=c(1,1))
plot(alpha8,alpha9)


</code></pre>


</div>