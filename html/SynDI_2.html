<div class="container">

<table style="width: 100%;"><tr>
<td>Create.Synthetic</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create the synthetic data</h2>

<h3>Description</h3>

<p>Creates a synthetic data set from internal data and external models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Create.Synthetic(
  datan,
  nrep,
  Y,
  XB,
  Ytype = "binary",
  parametric,
  betaHatExt_list,
  sigmaHatExt_list = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>datan</code></td>
<td>
<p>internal data only</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrep</code></td>
<td>
<p>number of replication when creating the synthetic data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>outcome name, e.g. Y='Y'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>XB</code></td>
<td>
<p>all covariate names for both X and B in the target model, e.g. XB=c('X1','X2','X3','X4','B1','B2')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ytype</code></td>
<td>
<p>the type of outcome Y, either 'binary' or 'continuous'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parametric</code></td>
<td>
<p>choice of "Yes" or "No" for each external model. Specify whether the external model is paramtric or not, e.g. parametric=c('Yes','No')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>betaHatExt_list</code></td>
<td>
<p>a list of parameter estimates of the external models. The order needs to be the same as listed in XB, and variable name is required. See example for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigmaHatExt_list</code></td>
<td>
<p>a list of sigma^2 for continuous outcome fitted from linear regression. If not available or the outcome type is binary, set sigmaHatExt_list=NULL</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>data.frame</code>. The combined dataset of the internal data (of size n) and the synthetic
data for the given external model (of size  n <code>*</code> nrep). This combined dataset
contains a total of n*(1+nrep) rows, one intercept column (Int), one outcome
column (Y), one indicator column (S), and all the predictors in the internal
data. S is the indicator variable, where the internal data is indicated as S=0,
and the synthetic data is indicated as S=1. The internal data part is a complete
dataset without any missingness. The synthetic data part may contain missingness
for certain predictors that were not used in the external model.
</p>


<h3>References</h3>

<p>Reference: Gu, T., Taylor, J.M.G. and Mukherjee, B. (2021) Regression
inference for multiple populations by integrating summary-level data using stacked
imputations <a href="https://arxiv.org/abs/2106.06835">https://arxiv.org/abs/2106.06835</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(create_synthetic_example)

nrep = create_synthetic_example$nrep
datan = create_synthetic_example$datan
betaHatExt_list = create_synthetic_example$betaHatExt_list

data.combined = Create.Synthetic(nrep = nrep, datan = datan, Y = 'Y', 
    XB = c('X1', 'X2', 'X3', 'X4', 'B1', 'B2'), Ytype = 'binary', 
    parametric = c('Yes', 'No'), betaHatExt_list = betaHatExt_list, 
    sigmaHatExt_list = NULL)

</code></pre>


</div>