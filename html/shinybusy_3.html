<div class="container">

<table style="width: 100%;"><tr>
<td>add_busy_spinner</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Automatic busy indicator (spinner)</h2>

<h3>Description</h3>

<p>Add a spinner in an application each time the server take more 100 milliseconds to respond.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_busy_spinner(
  spin = "double-bounce",
  color = "#112446",
  timeout = 100,
  position = c("top-right", "top-left", "bottom-right", "bottom-left", "full-page"),
  onstart = TRUE,
  margins = c(10, 10),
  height = "50px",
  width = "50px"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>spin</code></td>
<td>
<p>Style of the spinner, see <code>spin_epic</code> or <code>spin_kit</code>
for possible choices. Note that for <code>spin_epic</code>, height and width are ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>Color for the spinner, in a valid CSS format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeout</code></td>
<td>
<p>Number of milliseconds after the server is busy to display the spinner.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>position</code></td>
<td>
<p>Where to display the spinner: <code>'top-right'</code>, <code>'top-left'</code>, <code>'bottom-right'</code>,
<code>'bottom-left'</code>, <code>'full-page'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>onstart</code></td>
<td>
<p>Logical, display the spinner when the application starts ?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margins</code></td>
<td>
<p>Distance from margins, a vector of length two, where first element is distance from top/bottom,
second element distance from right/left.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height, width</code></td>
<td>
<p>Height and width of the spinner, default to <code>'50px'</code> for both, must be specified.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">if (interactive()) {
  library(shiny)
  library(shinybusy)

  ui &lt;- fluidPage(

    # Use this function somewhere in UI
    add_busy_spinner(spin = "cube-grid"),
    # or use a different spinner
    # add_busy_spinner(spin = "radar", margins = c(10, 20)),

    headerPanel('Iris k-means clustering'),

    sidebarLayout(
      sidebarPanel(
        selectInput('xcol', 'X Variable', names(iris)),
        selectInput('ycol', 'Y Variable', names(iris),
                    selected=names(iris)[[2]]),
        numericInput('clusters', 'Cluster count', 3,
                     min = 1, max = 9),
        actionButton("sleep", "Long calculation")
      ),
      mainPanel(
        plotOutput('plot1')
      )
    )
  )

  server &lt;- function(input, output, session) {

    selectedData &lt;- reactive({
      iris[, c(input$xcol, input$ycol)]
    })

    clusters &lt;- reactive({
      kmeans(selectedData(), input$clusters)
    })

    output$plot1 &lt;- renderPlot({
      palette(c("#E41A1C", "#377EB8", "#4DAF4A", "#984EA3",
                "#FF7F00", "#FFFF33", "#A65628", "#F781BF",
                "#999999"))

      par(mar = c(5.1, 4.1, 0, 1))
      plot(selectedData(),
           col = clusters()$cluster,
           pch = 20, cex = 3)
      points(clusters()$centers, pch = 4, cex = 4, lwd = 4)
    })

    observeEvent(input$sleep, {
      Sys.sleep(5)
    })

  }

  shinyApp(ui, server)
}
</code></pre>


</div>